(self.webpackChunkliveVideoAndProject=self.webpackChunkliveVideoAndProject||[]).push([[1],{69990:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".catalog-root{max-width:960px;margin:0 auto;padding:0 15px;position:relative}.catalog-root .catalog-message-container{padding-top:50px}.catalog-root>.loading-results-container{margin-top:50px}@media screen and (max-width: 675px){.catalog-root .catalog-message-container{padding-top:30px}}.catalog-root .catalog-sort-root,.catalog-root .catalog-filter-root{position:absolute;right:-29px;top:24px;transform:translateX(100%);max-width:160px;display:block}@media(max-width: 676px){.catalog-root .catalog-sort-root,.catalog-root .catalog-filter-root{padding-top:15px;max-width:unset}}@media(max-width: 1390px){.catalog-root .catalog-sort-root,.catalog-root .catalog-filter-root{transform:none;top:56px;left:15px;right:15px;z-index:1;background:#fff;padding-top:10px;max-width:unset}}@media screen and (max-width: 1490px){.catalog-root .catalog-sort-root,.catalog-root .catalog-filter-root{min-width:160px}}.catalog-root .side-menu-root>ul{max-height:340px;overflow-y:auto;margin-top:0}.catalog-root .side-menu-root>ul>li:first-child{margin-top:10px}",""]);const a=s},56874:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".artifact-feedback-root{background:#407fbf;margin:0 -15px -15px -15px;border-radius:0 0 6px 6px}.artifact-feedback-root.livebook-viewer-feedback{margin:.5em 0;border-top:1px solid #000}.artifact-feedback-root .artifact-feedback-header{display:flex;align-items:center;justify-content:space-between}.artifact-feedback-root .artifact-feedback-header .artifact-feedback-title-container{margin-left:15px;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.artifact-feedback-root .artifact-feedback-header .artifact-feedback-icon-container{display:flex;flex:0;padding:.25em .5em}.artifact-feedback-root .artifact-feedback-header .artifact-feedback-icon{padding:.5em;cursor:pointer;color:#fff;user-select:none}.artifact-feedback-root .artifact-feedback-header .artifact-feedback-icon svg .inside{fill:rgba(0,0,0,0)}.artifact-feedback-root .artifact-feedback-header .artifact-feedback-icon svg .outline{fill:#fff}.artifact-feedback-root .artifact-feedback-header .thumbs-up-icon.selected .inside{fill:#00b300}.artifact-feedback-root .artifact-feedback-header .thumbs-down-icon.selected .inside{fill:#f33}.artifact-feedback-root .artifact-feedback-header .thumbs-down-icon{margin-right:1em}.artifact-feedback-root .artifact-feedback-form-container{padding:0 15px 15px 15px}.artifact-feedback-root .artifact-feedback-form-container textarea.no-markdown-feedback-textarea{display:block;width:100%;margin:10px 0;box-sizing:border-box;padding:.5em;border-radius:0;background-color:#fff;font-family:inherit;border-style:solid;border-width:1px;border-color:#ccc;box-shadow:inset 0 1px 2px rgba(0,0,0,.1);color:rgba(0,0,0,.75);font-size:1em}.artifact-feedback-root .artifact-feedback-form-container label{color:#fff}.artifact-feedback-root .artifact-feedback-form-container .artifact-feedback-form-footer{text-align:right}.artifact-feedback-root button{background:#fff;color:#407fbf;border-radius:3px;height:35px;line-height:1;margin:0;padding:.5em 2em;font-size:12px;border:none}",""]);const a=s},34916:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".course-feedback-root{background-color:#407fbf;color:#fff;border-radius:5px;border:1px solid #369;margin-top:1em;margin-bottom:1em;padding:10px 20px}.course-feedback-root .course-feedback-loading-row{text-align:center;padding:.5em;color:#fff}.course-feedback-root .course-feedback-stars-container{padding:.25em .5em;margin-right:-1em}.course-feedback-root .course-feedback-header-container{display:flex;align-items:center;justify-content:space-between}.course-feedback-root .question-answer-index-container{display:inline-block;width:20px}.course-feedback-root textarea{display:block;width:100%;margin:10px 0 25px 0;box-sizing:border-box;padding:.5em;border-radius:0;background-color:#fff;font-family:inherit;border-style:solid;border-width:1px;border-color:#ccc;box-shadow:inset 0 1px 2px rgba(0,0,0,.1);color:rgba(0,0,0,.75);font-size:1em}.course-feedback-root .first-question.question-answer-row{margin-top:10px}.course-feedback-root .last-question textarea{margin-bottom:10px}.course-feedback-root .question-answer-row.has-error textarea{border-color:red}.course-feedback-root .question-answer-row.has-error .question-answer-header{color:#ff4c4c}.course-feedback-root button{background:#fff;color:#407fbf;border-radius:3px;height:35px;line-height:1;margin:0;padding:.5em 2em;font-size:12px;border:none}.course-feedback-root .course-feedback-footer-row{display:flex;align-items:center;justify-content:space-between}.course-feedback-root .course-feedback-footer-row label{user-select:none;cursor:pointer;display:flex;align-items:center;white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis}.course-feedback-root .course-feedback-footer-row label input{margin-bottom:0}.course-feedback-root .error-message{color:#ff4c4c}",""]);const a=s},22750:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".artifact-feedback-root .text-edit-controls-root,.module-feedback-root .text-edit-controls-root,.course-feedback-root .text-edit-controls-root{max-height:none !important;color:#000;font-size:14px}.artifact-feedback-root textarea,.module-feedback-root textarea,.course-feedback-root textarea{padding:0}.artifact-feedback-root .artifact-feedback-form-footer,.module-feedback-root .artifact-feedback-form-footer,.course-feedback-root .artifact-feedback-form-footer{margin-top:15px}.artifact-feedback-root .text-edit-controls-commands-container,.module-feedback-root .text-edit-controls-commands-container,.course-feedback-root .text-edit-controls-commands-container{display:flex;align-items:center}.artifact-feedback-root .text-edit-controls-commands-container .text-edit-controls-preview-link,.module-feedback-root .text-edit-controls-commands-container .text-edit-controls-preview-link,.course-feedback-root .text-edit-controls-commands-container .text-edit-controls-preview-link{margin-left:auto;color:#407fbf}.artifact-feedback-root .text-edit-controls-commands-container i,.module-feedback-root .text-edit-controls-commands-container i,.course-feedback-root .text-edit-controls-commands-container i{margin:10px !important}.artifact-feedback-root .question-answer-body,.module-feedback-root .question-answer-body,.course-feedback-root .question-answer-body{margin:15px 0;color:#000}",""]);const a=s},20858:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".module-feedback-root{background-color:#407fbf;color:#fff;border-radius:5px;border:1px solid #369;margin-top:1em;margin-bottom:1em;padding:10px 20px}.module-feedback-root .module-feedback-loading-row{text-align:center;padding:.5em;color:#fff}.module-feedback-root .module-feedback-header-container{display:flex;align-items:center;justify-content:space-between}.module-feedback-root .module-feedback-icon-container{padding:.25em .5em;display:flex;margin-right:-1em}.module-feedback-root .question-answer-index-container{display:inline-block;width:20px}.module-feedback-root .question-answer-row.has-error textarea{border-color:red}.module-feedback-root .question-answer-row.has-error .question-answer-header{color:#ff4c4c}.module-feedback-root .module-feedback-icon{padding:0 .5em;cursor:pointer;user-select:none}.module-feedback-root .module-feedback-icon svg .inside{fill:rgba(0,0,0,0)}.module-feedback-root .module-feedback-icon svg .outline{fill:#fff}.module-feedback-root .thumbs-up-icon.selected .inside{fill:#00b300}.module-feedback-root .thumbs-down-icon.selected .inside{fill:#f33}.module-feedback-root .thumbs-down-icon{margin-right:1em}.module-feedback-root textarea{display:block;width:100%;margin:10px 0 25px 0;box-sizing:border-box;padding:.5em;border-radius:0;background-color:#fff;font-family:inherit;border-style:solid;border-width:1px;border-color:#ccc;box-shadow:inset 0 1px 2px rgba(0,0,0,.1);color:rgba(0,0,0,.75);font-size:1em}.module-feedback-root .first-question.question-answer-row{margin-top:10px}.module-feedback-root .last-question textarea{margin-bottom:10px}.module-feedback-root button{background:#fff;color:#407fbf;border-radius:3px;height:35px;line-height:1;margin:0;padding:.5em 2em;font-size:12px;border:none}.module-feedback-root .module-feedback-footer-row{display:flex;align-items:center;justify-content:space-between}.module-feedback-root .error-message{color:#ff4c4c}",""]);const a=s},6401:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".question-creator-root{padding:10px 20px;border:1px solid #ccc}.question-creator-root label{display:block}.question-creator-root textarea{display:block;width:100%;margin:10px 0;box-sizing:border-box;padding:.5em;border-radius:0;background-color:#fff;font-family:inherit;border-style:solid;border-width:1px;border-color:#ccc;box-shadow:inset 0 1px 2px rgba(0,0,0,.1);color:rgba(0,0,0,.75)}.question-creator-root button{background-color:#efefef;color:#222;border-radius:2px;height:35px;line-height:1;margin:10px 0 0 0;padding:.5em 2em;font-size:12px;border-width:0;cursor:pointer}.question-creator-root .question-creator-footer-row{text-align:right}",""]);const a=s},67650:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".question-row-item-root td:first-of-type{text-align:center}.question-row-item-root td{padding:.25em .5em}.question-row-item-root td:last-of-type{text-align:center}.question-row-item-root td:last-of-type span{text-decoration:underline;cursor:pointer}.question-row-item-root td:last-of-type span+span{margin-left:.5em}",""]);const a=s},76405:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".question-selector-root{padding:20px;border:1px solid #ccc;margin:10px 0}.question-selector-root .question-selector-questions-container{display:flex}.question-selector-root .question-selector-source-container{flex:1 0 50%;padding-right:5px;box-sizing:border-box}.question-selector-root .question-selector-target-container{flex:1 0 50%;padding-left:5px;box-sizing:border-box}.question-selector-root .draggable-container{border:1px solid #000;padding:.5em;min-height:250px}.question-selector-root .question-item-container{color:#222;display:block;padding:.5em .25em}.question-selector-root .question-item-container.selected{color:#000;background-color:#d3d3d3}.question-selector-root .question-selector-footer{padding-top:5px;display:flex;align-items:center;justify-content:space-between}.question-selector-root button:last-of-type{margin-left:.5em}.question-selector-root button:first-of-type{margin-right:.25em}.question-selector-root button:disabled{opacity:.75}.question-selector-root .source-draggable-container{max-height:65vh;overflow-y:auto}",""]);const a=s},27421:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".question-table-root{border:1px solid #222;width:100%;border-collapse:collapse;margin:10px 0}.question-table-root th,.question-table-root td{border:1px solid #222;padding:.25em}.question-table-root th:last-of-type,.question-table-root th:first-of-type{text-align:center}.question-table-root .question-table-loading-row{text-align:center;padding:1em;font-size:2em}",""]);const a=s},73912:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'.CodeMirror{font-family:monospace;height:auto;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0 !important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor-mark{background-color:rgba(20,255,20,.5);-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-moz-keyframes blink{50%{background-color:rgba(0,0,0,0)}}@-webkit-keyframes blink{50%{background-color:rgba(0,0,0,0)}}@keyframes blink{50%{background-color:rgba(0,0,0,0)}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:bold}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:blue}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta{color:#555}.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error{color:red}.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll !important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative;min-height:150px}.CodeMirror-sizer{position:relative;border-right:30px solid rgba(0,0,0,0)}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none !important;border:none !important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:rgba(0,0,0,0)}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:rgba(0,0,0,0)}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:rgba(0,0,0,0);font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}',""]);const a=s},80756:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'.exercise-group-container{margin-left:auto;margin-right:auto;background:#3c3c3c;max-width:900px;padding:3.2px 80px;color:#fff}.exercise-group-container{color:#fff}.exercise-group-container .import-exercises-label{display:block;margin-top:5px}.exercise-group-container .import-exercises-label input[type=file]{color:#fff !important;margin-left:5px}.exercise-group-container,.exercise-editor-container{font-family:Lato,Arial,"Helvetica Neue",Helvetica,Roboto,Arial,sans-serif !important;font-size:16px}.exercise-group-container .code-text-area{font-family:monospace}.exercise-group-container input{color:#000 !important}.exercise-group-container .row{margin:16px 0;min-height:32px}.right{float:right}.left{float:left}.exercise-group-container .inline-block{display:inline-block}.exercise-group-container .invisible{opacity:0;cursor:default}.exercise-group-container .accordion-panel{margin:3.2px 0}.exercise-group-container .accordion-panel-container{padding:16px;position:relative;border-radius:3.2px;background-color:gray}.exercise-group-container .accordion-panel-close-icon{position:absolute;cursor:pointer;top:3.2px;right:3.2px}.exercise-group-container .interactive-icon{cursor:pointer}.exercise-group-container .icon-button,.exercise-editor-container .icon-button{padding:6px 9px;position:relative;margin:2px;background-color:#f5f5f5;color:#333;border-radius:3px;font-size:14px;font-weight:400;box-shadow:0 2px 0 0 #999;border:1px solid #ccc;display:inline-block;text-decoration:none;-webkit-appearance:none;user-select:none;cursor:pointer}.exercise-group-container .correctness-message-container{margin-top:2px;display:inline-block;min-height:24px}.exercise-group-container .icon-button.reset-button,.exercise-editor-container .icon-button.reset-button{box-shadow:none;position:relative;background-color:initial;border:none;color:#fff;font-size:16px}.exercise-group-container .icon-button.reset-button .icon-button-label{position:relative}.exercise-group-container .icon-button.reset-button.emphasized-reset{font-weight:bolder}@keyframes reset-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(-359deg);transform:rotate(-359deg)}100%{-webkit-transform:rotate(-359deg);transform:rotate(-359deg)}}.exercise-group-container .icon-button.reset-button:active,.exercise-editor-container .icon-button.reset-button:active{box-shadow:none;background:initial}.exercise-group-container .icon-button span,.exercise-editor-container .icon-button span{display:inline-block;margin-left:6px;cursor:pointer}.exercise-group-container .icon-button .right-label,.exercise-editor-container .icon-button .right-label{margin-right:6px}.exercise-group-container .special-icon-button,.exercise-editor-container .special-icon-button{text-align:center;background:#3bad47;color:#fff;box-shadow:0 2px 0 0 #25812e;border:1px solid #25812e;padding:6px 9px;position:relative;margin:2px;border-radius:3px;font-size:14px;font-weight:400;display:inline-block;text-decoration:none;-webkit-appearance:none;user-select:none;cursor:pointer}.special-icon-button,.show-answer-button{min-width:108px}.exercise-group-container .icon-button:active,.exercise-editor-container .icon-button:active{box-shadow:0 1px 0 0 #999;background:#b5b2b2}.exercise-group-container .special-icon-button:active,.exercise-editor-container .special-icon-button:active{box-shadow:0 1px 0 0 #25812e;background:#33944b}.exercise-group-container textarea,.exercise-group-container input[type=text],.exercise-editor-container textarea,.exercise-editor-container input[type=text]{display:block;-webkit-appearance:none;border-radius:0;background-color:#fff;font-family:inherit;border-style:solid;border-width:1px;border-color:#ccc;box-shadow:inset 0 1px 2px rgba(0,0,0,.1);color:rgba(0,0,0,.75);display:block;font-size:14px;margin:0 0 16px 0;padding:8px;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.exercise-group-container select,.exercise-editor-container select{background-color:#fafafa;border-style:solid;border-width:1px;border-color:#ccc;color:#444;font-family:inherit;font-size:13px;line-height:normal;padding:7px;border-radius:0;height:32px}.exercise-group-container .exercise-container{position:relative;margin:80px 0}.exercise-group-container .exercise-container:first-of-type{margin-top:40px}.exercise-group-container .exercise-container:not(:last-of-type):after{position:absolute;content:"";bottom:-40px;left:-110px;right:-110px;height:1px;width:auto;background:rgba(255,255,255,.2)}.exercise-group-container .exercise-top-toolbar-container{position:absolute;top:0;right:0}.exercise-group-container .exercise-container.edit-mode .exercise-top-toolbar-container{top:-40px}.exercise-group-container .choose-multiple-items-container{background-color:#d3d3d3;min-height:320px}.exercise-group-container .choose-multiple-answers-item{cursor:pointer;position:relative;display:inline-block;color:#fff}.exercise-group-container .match-item-description-row{position:relative}.exercise-group-container .draggable-container{background-color:#d3d3d3}.exercise-group-container .draggable-item,.preview-mode-draggable-items{border:solid 1px;margin:4px;cursor:move;padding:1px 4px;border-radius:2px;background:#d8d8d8;color:#000;min-height:20px;display:inline-block;position:relative}.preview-mode-draggable-items{cursor:not-allowed}.exercise-group-container .correctness-icon{font-size:30px;position:absolute;top:-15px;right:-15px;z-index:2}.exercise-group-container .inline-draggable-container{background-color:#d3d3d3;margin-top:1.6px;display:inline-block;vertical-align:middle;position:relative}.exercise-group-container .arrange-code-line{margin-bottom:1.6px}.exercise-group-container .arrange-code-selection-container{position:relative}.exercise-group-container .exercise-index{font-size:50px;position:absolute;left:-65px;color:#fff !important;font-weight:bold;line-height:1}.exercise-group-container .exercise-heading{color:#fff !important;font-size:20px;font-weight:bold;line-height:1;margin:1.6px;margin-right:48px}.exercise-group-container .exercise-instructions{color:#d3d3d3;margin-bottom:8px;display:block;position:relative}.exercise-group-container .exercise-instructions i{font-family:inherit;font-style:italic}.exercise-group-container .exercise-instructions-emphasized{position:relative;font-weight:bolder;color:#fff}.exercise-group-container .icon-button.reset-button .icon-button-label:before{content:"";position:absolute;width:100%;height:2px;bottom:0;left:0;background-color:#fff;visibility:hidden;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:all .3s ease-in-out 0s;transition:all .3s ease-in-out 0s}.exercise-group-container .icon-button.reset-button .icon-button-label:before{-webkit-transition:all .3s ease-in-out 0s;transition:all .3s ease-in-out 0s}.exercise-group-container .icon-button.reset-button.emphasized-reset .icon-button-label:before{visibility:visible;-webkit-transform:scaleX(1);transform:scaleX(1);-webkit-transition-delay:1s;transition-delay:1s}.exercise-group-container .icon-button.reset-button.emphasized-reset .icon-button-label:before{-webkit-transition-delay:.5s;transition-delay:.5s}.exercise-group-container .exercise-options-label{display:block;margin:16px 0;color:#fff;font-size:16px}.exercise-group-container .origin-draggable-container{border:none;margin:10px 0;background-color:#595959;border-radius:3px}.exercise-group-container .origin-draggable-container .correctness-icon-incorrect{display:none}.exercise-group-container .choose-multiple-answers-item input[type=checkbox]:not(:checked)~.correctness-icon.correctness-icon-incorrect{display:none}.exercise-group-container .origin-draggable-container .draggable-item:first-child{margin-top:8px}.exercise-group-container .destination-draggable-container{border:dashed 1px gray;min-height:38px !important;background-color:rgba(0,0,0,0)}.exercise-group-container .exercise-answer-input-container{position:relative}.exercise-group-container .exercise-bottom-toolbar-container{margin:10px 0;position:relative;clear:both;min-height:30px;user-select:none}.exercise-group-container .exercise-bottom-toolbar-right-container{float:right;clear:both;margin-top:5px}.exercise-group-container .exercise-container-correctness-icon{font-size:24px;margin-right:5px;display:inline-block}.exercise-group-container .exercise-container-correctness-icon.incorrect{color:red}.exercise-group-container .exercise-container-correctness-icon.almost-correct{color:#ff0;font-size:16px;margin-right:-2px !important}.exercise-group-container .exercise-container-correctness-icon.correct{color:#3bad53}.exercise-group-container .exercise-bottom-toolbar-container .try-again-button{background:red;box-shadow:0 2px 0 0 #c00;border:1px solid #c00}.exercise-group-container .exercise-bottom-toolbar-container .try-again-button:active{box-shadow:0 1px 0 0 #c00;background:#900}.exercise-group-container .choose-one-answer-item{cursor:pointer;position:relative;display:inline-block;color:#fff;user-select:none}.exercise-group-container .choose-one-answer-item input{margin-right:8px}.exercise-group-container .choose-one-answer-item p{margin:4px 0px}.exercise-group-container .draggable-item p{margin:0px;padding:0px}.exercise-group-container .draggable-title p{margin:4px 0px}.exercise-group-container .choose-one-answer-item .correctness-icon{right:-30px;top:0;font-size:20px}.exercise-group-container .arrange-code-lines{border:none;margin:10px 0;background-color:#000;border-radius:3px;padding:8px 3px;overflow-x:auto;font-size:13px}.exercise-group-container .exercise-code-container{border:none;margin:10px 0;background-color:#000;border-radius:3px;padding:3.2px;color:#fff;overflow-x:auto;font-size:13px}.exercise-group-container .exercise-image,.exercise-editor-container .exercise-image{max-width:100%;height:auto}.exercise-group-container .image-upload-container,.exercise-editor-container .image-upload-container{padding:16px;border:1px dashed;outline:none}.exercise-group-container .exercise-image-container,.exercise-editor-container .exercise-image-container{text-align:center;position:relative}.exercise-editor-container .remove-image-button{position:absolute;top:0;right:0}.exercise-editor-container .exercise-editor-content-container{max-height:76vh;overflow:auto;overscroll-behavior-y:none;-webkit-overflow-scrolling:touch}.custom-exerciseEditor-modal .exercise-editor-content-container{overflow:visible}.exercise-editor-content-container .has-error{color:red}.exercise-editor-container .exercise-editor-content-container .row{min-height:55px;margin:16px 0}.exercise-editor-container .exercise-editor-toolbar-container{height:40px}.exercise-editor-container .exercise-editor-smaller-input-container{width:30%;float:left;padding-right:16px;clear:left}.exercise-editor-container .exercise-editor-larger-input-container{width:50%;float:left;padding-right:16px;margin:2px}.exercise-editor-container .exercise-editor-checkbox-radio-container{max-width:10%;margin:1.6px;float:left;clear:left}.exercise-editor-container .exercise-editor-button-container{max-width:20%;float:left;clear:right}.exercise-editor-container .react-tagsinput-tag{background:#3bad47;border-radius:2px;border:1px solid #25812e;color:#fff;display:inline-block;margin-bottom:5px;margin-right:5px;padding:5px}.exercise-editor-container .react-tagsinput-remove{cursor:pointer;font-weight:bold}.exercise-editor-container .react-tagsinput-tag a::before{content:" ×"}.exercise-editor-container input.react-tagsinput-input{display:inline-block;width:200px}.exercise-group-container .close-icon,.exercise-editor-container .close-icon{position:absolute;top:3.2px;right:3.2px;cursor:pointer}.exercise-group-container .tooltip-link,.exercise-editor-container .tooltip-link{display:inline-block;margin:0 5px;color:#fff;cursor:pointer;text-decoration:underline}.exercise-editor-container .close-icon{position:absolute;top:.1em;right:.5em;font-size:150%}.exercise-group-container .icon-button-label{text-decoration:inherit}.exercise-group-container.small-exercise-group .icon-button .icon-button-label{display:none}.exercise-group-container.small-exercise-group{padding-right:30px}.exercise-group-container.small-exercise-group .special-icon-button,.exercise-group-container.small-exercise-group .show-answer-button{min-width:auto}.exercise-group-container.small-exercise-group{padding-left:30px}.exercise-group-container.small-exercise-group .exercise-index{font-size:25px;left:-25px}@media(max-width: 580px){.exercise-group-container .icon-button .icon-button-label{display:none}.exercise-group-container{padding-right:30px}.exercise-group-container .special-icon-button,.exercise-group-container .show-answer-button{min-width:auto}.exercise-group-container{padding-left:30px}.exercise-group-container .exercise-index{font-size:25px;left:-35px}}@media(max-width: 380px){.exercise-group-container .exercise-index{font-size:25px;left:-25px}}.ReactModal__Content{position:relative;bottom:initial !important}.custom-exerciseEditor-modal{width:90%}.custom-exerciseEditor-modal .modal-content{padding:40px}.tooltipExerciseCustom .__react_component_tooltip{position:relative !important;top:20px !important;left:0px !important;transition:all .5s !important;width:100% !important}.tooltipExerciseCustom .__react_component_tooltip.place-bottom{margin-top:0px !important}.tooltipExerciseCustom{transition:all 1.5s}.exercise-container .__react_component_tooltip{max-width:300px}.exercise-container .__react_component_tooltip.show{opacity:1 !important;border:1px solid gray}.exercise-container .arrange-code-line pre{background:0;background-attachment:scroll;background-clip:border-box;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;quotes:"“" "”" "‘" "’";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;widows:0;width:auto;word-spacing:normal;z-index:auto;all:initial;all:unset;color:#fff;background-color:#000;line-height:16px;font-family:monospace;white-space:pre}.exercise-container .closable-tooltip-content{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.info-tip-cross-fade-leave{opacity:1}.info-tip-cross-fade-leave.info-tip-cross-fade-leave-active{opacity:0;transition:opacity 1s ease-in}.info-tip-cross-fade-enter{opacity:0}.info-tip-cross-fade-enter.info-tip-cross-fade-enter-active{opacity:1;transition:opacity 1s ease-in}.info-tip-cross-fade-height{transition:height .5s ease-in-out}.exercise-description-container pre{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.exercise-description-container table{width:100%;background-color:#fff;color:#000}.exercise-description-container table,.exercise-description-container th,.exercise-description-container td{border:1px solid #000}.exercise-description-container th,.exercise-description-container td{padding:3px}.entryDescLink{font-size:10px;color:gray;position:relative;top:-1px}.entryDescLink:hover{color:#000}.exercise-description-container blockquote{background-color:rgba(255,255,255,.94);color:#000;padding:3px 15px;border:1px solid #000;border-radius:10px;font-size:14px;margin:0 0 1.25rem}.exercise-description-container img{width:100% !important}.try-it-container i:not(.loading-button-spinner){font-family:inherit;font-style:italic}.try-it-container .react-tabs i{font-family:FontAwesome !important;font-style:normal !important}.react-numeric-input input{margin:0px !important}.faBlack{color:#d3d3d3}.faBlack:hover{color:#000}.exercise-info-tip-main-container{padding:10px;position:relative}.exercise-info-tip-main-style{transition:all 1s;transition-delay:all 1s;overflow:hidden;color:#000;font-family:Lato;font-size:14px;padding:15px 10px 0 10px;border:1px solid #000;text-align:left}.exercise-info-tip-title-type{position:absolute;top:2px;left:50px;color:#000;font-size:14px;padding-left:10px;padding-right:10px;z-index:99}.exercise-info-tip-close-infotip{float:right;color:rgba(0,0,0,.4);z-index:99;position:relative;right:-8px;top:-11px}.exercise-detect-and-parse-container{font-size:14px}.cert-test-results-heading{font-family:LatoLight;font-size:60px;font-weight:100;padding:40px 5px;display:block}.cert-test-results-main{border-left:1px solid #fff;padding-left:20px;display:flex;flex-direction:column;min-width:250px}.cert-test-results-main-container{display:grid;grid-template-columns:auto 1fr}.small-width-exercise-group .cert-test-results-main-container{display:flex;flex-wrap:wrap}.small-width-exercise-group .cert-test-results-main-container .cert-test-retake-button-container{margin:20px 0}.cert-test-results-main-text{line-height:40px;font-family:LatoBlack;font-size:40px;margin-top:0;margin-bottom:5px}.cert-test-results-main-percentage{font-family:LatoBlack;font-size:24px}.cert-test-results-lower-content{display:flex;align-items:center}.cert-test-results-lower-content-2{margin-top:20px;font-family:LatoLight;font-size:24px}.cert-test-results-lower-content-2-failed{font-size:18px}.cert-test-results-info{font-family:LatoLight;font-size:24px}.cert-test-retake-button-container{display:flex;justify-content:center;align-items:center;margin-left:auto;margin-right:50px}.cert-test-retake-button{width:220px;height:60px;background-color:#dadada;border-radius:5px;display:flex;color:#3c3c2c;font-family:LatoBlack;align-items:center;justify-content:center;font-size:20px;cursor:pointer}.cert-test-mentor-notes-container{margin-top:60px}.cert-test-mentor-notes-title{font-family:LatoLight;width:100%;font-size:22px;border-bottom:1px solid #fff}.cert-test-mentor-notes-text{font-size:12px;width:100%;margin-top:10px}.cert-test-modal--question{color:#4788d9;font-family:LatoBlack;font-size:34px}.cert-test-modal--info{font-family:LatoLight;margin-top:10px;font-size:16px}.cert-test-modal--button{width:150px;height:45px;font-family:LatoBlack;font-size:16px;color:#4788d9;border:1px solid #4788d9;border-radius:3px;display:flex;justify-content:center;align-items:center;cursor:pointer}.cert-test-modal--button-container{display:grid;max-width:350px;grid-template-columns:1fr 1fr;margin-top:20px;margin-left:auto;margin-right:auto}.cert-test-modal--button__confirm{background-color:#4788d9;color:#fff}.submit-cert-test-exam{background-color:#dadada;display:flex;justify-content:center;align-items:center;width:250px;height:40px;color:#3c3c3c;border-radius:3px;font-size:14px;cursor:pointer}.submit-cert-test-exam-disabled{background-color:gray;cursor:not-allowed}.certification-test-heading-container--heading{font-family:LatoLight;font-size:60px;font-weight:100}.cert-test-retake-button-container-passed{display:flex;flex-direction:column;align-items:center;justify-content:center}.cert-test-retake-button-container-passed-span{max-width:250px;text-align:center;font-family:LatoLight;margin-bottom:20px}.cert-test-retake-button-container.cert-test-retake-button-container-passed a{text-decoration:none !important;color:#3c3c2c !important}',""]);const a=s},90828:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,"/*!\n * Ladda including the default theme.\n *//*!\n * Ladda\n * http://lab.hakim.se/ladda\n * MIT licensed\n *\n * Copyright (C) 2016 Hakim El Hattab, http://hakim.se\n */.ladda-button{position:relative}.ladda-button .ladda-spinner{position:absolute;z-index:2;display:inline-block;width:32px;height:0px;top:50%;margin-top:0;opacity:0;pointer-events:none}.ladda-button .ladda-label{position:relative;z-index:3}.ladda-button .ladda-progress{position:absolute;width:0;height:100%;left:0;top:0;background:rgba(0,0,0,.2);visibility:hidden;opacity:0;-webkit-transition:.1s linear all !important;-moz-transition:.1s linear all !important;-ms-transition:.1s linear all !important;-o-transition:.1s linear all !important;transition:.1s linear all !important}.ladda-button[data-loading] .ladda-progress{opacity:1;visibility:visible}.ladda-button,.ladda-button .ladda-spinner,.ladda-button .ladda-label{-webkit-transition:.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) all !important;-moz-transition:.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) all !important;-ms-transition:.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) all !important;-o-transition:.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) all !important;transition:.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) all !important}.ladda-button[data-style=zoom-in],.ladda-button[data-style=zoom-in] .ladda-spinner,.ladda-button[data-style=zoom-in] .ladda-label,.ladda-button[data-style=zoom-out],.ladda-button[data-style=zoom-out] .ladda-spinner,.ladda-button[data-style=zoom-out] .ladda-label{-webkit-transition:.3s ease all !important;-moz-transition:.3s ease all !important;-ms-transition:.3s ease all !important;-o-transition:.3s ease all !important;transition:.3s ease all !important}.ladda-button[data-style=expand-right] .ladda-spinner{right:-6px}.ladda-button[data-style=expand-right][data-size=s] .ladda-spinner,.ladda-button[data-style=expand-right][data-size=xs] .ladda-spinner{right:-12px}.ladda-button[data-style=expand-right][data-loading]{padding-right:56px}.ladda-button[data-style=expand-right][data-loading] .ladda-spinner{opacity:1}.ladda-button[data-style=expand-right][data-loading][data-size=s],.ladda-button[data-style=expand-right][data-loading][data-size=xs]{padding-right:40px}.ladda-button[data-style=expand-left] .ladda-spinner{left:26px}.ladda-button[data-style=expand-left][data-size=s] .ladda-spinner,.ladda-button[data-style=expand-left][data-size=xs] .ladda-spinner{left:12px}.ladda-button[data-style=expand-left][data-loading]{padding-left:56px}.ladda-button[data-style=expand-left][data-loading] .ladda-spinner{opacity:1}.ladda-button[data-style=expand-left][data-loading][data-size=s],.ladda-button[data-style=expand-left][data-loading][data-size=xs]{padding-left:25px}.ladda-button[data-style=expand-up]{overflow:hidden}.ladda-button[data-style=expand-up] .ladda-spinner{top:-32px;left:50%;margin-left:0}.ladda-button[data-style=expand-up][data-loading]{padding-top:54px}.ladda-button[data-style=expand-up][data-loading] .ladda-spinner{opacity:1;top:26px;margin-top:0}.ladda-button[data-style=expand-up][data-loading][data-size=s],.ladda-button[data-style=expand-up][data-loading][data-size=xs]{padding-top:32px}.ladda-button[data-style=expand-up][data-loading][data-size=s] .ladda-spinner,.ladda-button[data-style=expand-up][data-loading][data-size=xs] .ladda-spinner{top:4px}.ladda-button[data-style=expand-down]{overflow:hidden}.ladda-button[data-style=expand-down] .ladda-spinner{top:62px;left:50%;margin-left:0}.ladda-button[data-style=expand-down][data-size=s] .ladda-spinner,.ladda-button[data-style=expand-down][data-size=xs] .ladda-spinner{top:40px}.ladda-button[data-style=expand-down][data-loading]{padding-bottom:54px}.ladda-button[data-style=expand-down][data-loading] .ladda-spinner{opacity:1}.ladda-button[data-style=expand-down][data-loading][data-size=s],.ladda-button[data-style=expand-down][data-loading][data-size=xs]{padding-bottom:32px}.ladda-button[data-style=slide-left]{overflow:hidden}.ladda-button[data-style=slide-left] .ladda-label{position:relative}.ladda-button[data-style=slide-left] .ladda-spinner{left:100%;margin-left:0}.ladda-button[data-style=slide-left][data-loading] .ladda-label{opacity:0;left:-100%}.ladda-button[data-style=slide-left][data-loading] .ladda-spinner{opacity:1;left:50%}.ladda-button[data-style=slide-right]{overflow:hidden}.ladda-button[data-style=slide-right] .ladda-label{position:relative}.ladda-button[data-style=slide-right] .ladda-spinner{right:100%;margin-left:0;left:16px}.ladda-button[data-style=slide-right][data-loading] .ladda-label{opacity:0;left:100%}.ladda-button[data-style=slide-right][data-loading] .ladda-spinner{opacity:1;left:50%}.ladda-button[data-style=slide-up]{overflow:hidden}.ladda-button[data-style=slide-up] .ladda-label{position:relative}.ladda-button[data-style=slide-up] .ladda-spinner{left:50%;margin-left:0;margin-top:1em}.ladda-button[data-style=slide-up][data-loading] .ladda-label{opacity:0;top:-1em}.ladda-button[data-style=slide-up][data-loading] .ladda-spinner{opacity:1;margin-top:0}.ladda-button[data-style=slide-down]{overflow:hidden}.ladda-button[data-style=slide-down] .ladda-label{position:relative}.ladda-button[data-style=slide-down] .ladda-spinner{left:50%;margin-left:0;margin-top:-2em}.ladda-button[data-style=slide-down][data-loading] .ladda-label{opacity:0;top:1em}.ladda-button[data-style=slide-down][data-loading] .ladda-spinner{opacity:1;margin-top:0}.ladda-button[data-style=zoom-out]{overflow:hidden}.ladda-button[data-style=zoom-out] .ladda-spinner{left:50%;margin-left:32px;-webkit-transform:scale(2.5);-moz-transform:scale(2.5);-ms-transform:scale(2.5);-o-transform:scale(2.5);transform:scale(2.5)}.ladda-button[data-style=zoom-out] .ladda-label{position:relative;display:inline-block}.ladda-button[data-style=zoom-out][data-loading] .ladda-label{opacity:0;-webkit-transform:scale(0.5);-moz-transform:scale(0.5);-ms-transform:scale(0.5);-o-transform:scale(0.5);transform:scale(0.5)}.ladda-button[data-style=zoom-out][data-loading] .ladda-spinner{opacity:1;margin-left:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}.ladda-button[data-style=zoom-in]{overflow:hidden}.ladda-button[data-style=zoom-in] .ladda-spinner{left:50%;margin-left:-16px;-webkit-transform:scale(0.2);-moz-transform:scale(0.2);-ms-transform:scale(0.2);-o-transform:scale(0.2);transform:scale(0.2)}.ladda-button[data-style=zoom-in] .ladda-label{position:relative;display:inline-block}.ladda-button[data-style=zoom-in][data-loading] .ladda-label{opacity:0;-webkit-transform:scale(2.2);-moz-transform:scale(2.2);-ms-transform:scale(2.2);-o-transform:scale(2.2);transform:scale(2.2)}.ladda-button[data-style=zoom-in][data-loading] .ladda-spinner{opacity:1;margin-left:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}.ladda-button[data-style=contract]{overflow:hidden;width:100px}.ladda-button[data-style=contract] .ladda-spinner{left:50%;margin-left:0}.ladda-button[data-style=contract][data-loading]{border-radius:50%;width:52px}.ladda-button[data-style=contract][data-loading] .ladda-label{opacity:0}.ladda-button[data-style=contract][data-loading] .ladda-spinner{opacity:1}.ladda-button[data-style=contract-overlay]{overflow:hidden;width:100px;box-shadow:0px 0px 0px 2000px rgba(0,0,0,0)}.ladda-button[data-style=contract-overlay] .ladda-spinner{left:50%;margin-left:0}.ladda-button[data-style=contract-overlay][data-loading]{border-radius:50%;width:52px;box-shadow:0px 0px 0px 2000px rgba(0,0,0,.8)}.ladda-button[data-style=contract-overlay][data-loading] .ladda-label{opacity:0}.ladda-button[data-style=contract-overlay][data-loading] .ladda-spinner{opacity:1}.ladda-button{background:#666;border:0;padding:14px 18px;font-size:18px;cursor:pointer;color:#fff;border-radius:2px;border:1px solid rgba(0,0,0,0);-webkit-appearance:none;-webkit-font-smoothing:antialiased;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ladda-button:hover{border-color:rgba(0,0,0,.07);background-color:#888}.ladda-button[data-color=green]{background:#2aca76}.ladda-button[data-color=green]:hover{background-color:#38d683}.ladda-button[data-color=blue]{background:#0e5ba9}.ladda-button[data-color=blue]:hover{background-color:#1777d9}.ladda-button[data-color=red]{background:#ea8557}.ladda-button[data-color=red]:hover{background-color:#ed956e}.ladda-button[data-color=purple]{background:#9973c2}.ladda-button[data-color=purple]:hover{background-color:#a685ca}.ladda-button[data-color=mint]{background:#16a085}.ladda-button[data-color=mint]:hover{background-color:#19b698}.ladda-button[disabled],.ladda-button[data-loading]{border-color:rgba(0,0,0,.07)}.ladda-button[disabled],.ladda-button[disabled]:hover,.ladda-button[data-loading],.ladda-button[data-loading]:hover{cursor:default;background-color:#0e5ba9}.ladda-button[data-size=xs]{padding:0px 6px}.ladda-button[data-size=xs] .ladda-label{font-size:.7em}.ladda-button[data-size=s]{padding:6px 10px}.ladda-button[data-size=s] .ladda-label{font-size:.9em}.ladda-button[data-size=l] .ladda-label{font-size:1.2em}.ladda-button[data-size=xl] .ladda-label{font-size:1.5em}",""]);const a=s},74292:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".cm-s-motheb-day.CodeMirror{background:#f6f6f6;color:#6b6b6b;border:solid 1px #d7d7d7;font-size:13px}.cm-s-motheb-day div.CodeMirror-selected{background:#d6d5d4}.cm-s-motheb-day .CodeMirror-line::selection,.cm-s-motheb-day .CodeMirror-line>span::selection,.cm-s-motheb-day .CodeMirror-line>span>span::selection{background:#d6d5d4}.cm-s-motheb-day .CodeMirror-line::-moz-selection,.cm-s-motheb-day .CodeMirror-line>span::-moz-selection,.cm-s-motheb-day .CodeMirror-line>span>span::selection{background:#d9d9d9}.cm-s-motheb-day .CodeMirror-gutters{background:#f7f7f7;border-right:0px}.cm-s-motheb-day .CodeMirror-guttermarker{color:#db2d20}.cm-s-motheb-day .CodeMirror-guttermarker-subtle{color:#807d7c}.cm-s-motheb-day .CodeMirror-linenumber{color:#807d7c}.cm-s-motheb-day .CodeMirror-cursor{border-left:1px solid #5c5855}.cm-s-motheb-day span.cm-comment{color:#cdab53}.cm-s-motheb-day span.cm-atom{color:#a16a94}.cm-s-motheb-day span.cm-number{color:#a16a94}.cm-s-motheb-day span.cm-property,.cm-s-motheb-day span.cm-attribute{color:#01a252}.cm-s-motheb-day span.cm-keyword{color:#db2d20}.cm-s-motheb-day span.cm-string{color:#ff5151}.cm-s-motheb-day span.cm-variable{color:#7ac0ff}.cm-s-motheb-day span.cm-variable-2{color:#01a0e4}.cm-s-motheb-day span.cm-def{color:#7ac0ff}.cm-s-motheb-day span.cm-bracket{color:#3a3432}.cm-s-motheb-day span.cm-tag{color:#db2d20}.cm-s-motheb-day span.cm-link{color:#a16a94}.cm-s-motheb-day span.cm-error{background:#db2d20;color:#5c5855}.cm-s-motheb-day .CodeMirror-activeline-background{background:#e8f2ff}.cm-s-motheb-day .CodeMirror-matchingbracket{text-decoration:underline;color:#a16a94 !important}",""]);const a=s},52481:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'.react-tabs__tab-list{border-bottom:1px solid #aaa;margin:0px;padding:0}.react-tabs__tab{display:inline-block;border:1px solid rgba(0,0,0,0);border-bottom:none;bottom:-1px;position:relative;list-style:none;padding:6px 12px;cursor:pointer;color:#337ab7}.react-tabs__tab--selected{background:#fff;border-color:#aaa;color:#000;border-radius:5px 5px 0 0}.react-tabs__tab-panel{display:none}.react-tabs__tab-panel--selected{display:block}.react-tabs__tab--disabled{color:GrayText;cursor:default}.react-tabs__tab:focus{box-shadow:0 0 5px #0188fe;border-color:#0188fe;outline:none}.react-tabs__tab:focus:after{content:"";position:absolute;height:5px;left:-4px;right:-4px;bottom:-5px;background:#fff}',""]);const a=s},46152:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,"html:not(.livevideo-html) .CodeMirror{height:200px !important}.tryItFieldset{border:none !important}.tryItCreatorContainer{overflow:hidden;transition:all .5s ease-in-out;background-color:#eee}html:not(.livevideo-html) .tryItCreatorContainer{margin:25px}html:not(.livevideo-html) .ladda-label{font-family:Lato !important;font-size:14px !important;line-height:17px !important;font-weight:normal !important;font-style:normal !important;font-stretch:normal !important;position:relative !important;bottom:2px !important}html:not(.livevideo-html) .ladda-button{background-color:#3c67a2 !important;border-radius:6px !important;color:#fff !important;text-align:center !important;transition:background-color 1s !important;text-decoration:none !important;padding:3px 10px !important}html:not(.livevideo-html) .ladda-button:hover{background-color:#507bb6 !important;border-radius:6px !important;color:#fff !important;text-align:center !important;text-decoration:none !important}html:not(.livevideo-html) .ladda-button#reset{background-color:#fff !important;border-radius:6px !important;border-color:rgba(0,0,0,.2);color:#3c3c3c !important;text-align:center !important;transition:background-color 1s !important;text-decoration:none !important}html:not(.livevideo-html) .ladda-button#reset:hover{background-color:#e6e6e6 !important;border-radius:6px !important;border-color:rgba(0,0,0,.2);color:#3c3c3c !important;text-align:center !important;text-decoration:none !important}.CodeMirror-gutters{z-index:0 !important}.CodeMirror-gutter-wrapper{z-index:0 !important}.CodeMirror-line{z-index:0 !important}c.CodeMirror-lines>div>div{z-index:0 !important}.disabledTryItClass{display:none !important}.pinTabCustom{padding:3px;display:inline-block;font-size:13px;transition:all .5s;color:#ddd;cursor:pointer}.pinTabCustomDefault,.pinTabCustomForceRemoveStyle{color:#337ab7 !important}.code-tabs-wrapper{font-size:12px}.try-it-description-container{width:100%;font-style:italic}",""]);const a=s},22836:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'.dnd-validation-result{font-size:1.5rem;font-weight:bold}.dnd-solution-validation{min-height:2.5rem;display:flex;align-items:center;width:95%;justify-content:flex-end}.dnd-task-description-input{margin-bottom:.5rem}.dnd-task-description-input input{padding:.3rem}.dnd-task-description-input span{font-weight:bold;font-size:80%;margin-right:1rem}button.dnd-button{min-width:5rem;background:#ecf9ff;color:#000;font-weight:bold;border:none;margin:.1rem 1rem .1rem 1rem;padding:.5rem 1rem .5rem 1rem}button.dnd-button:hover{background:#b2e8ff}button.dnd-button:focus{outline:none}textarea.dnd-diagram-export-data{width:100%;background:#ecf9ff;font-family:"Courier New",Courier,monospace}div.dnd-error-message{font-size:1.2rem;color:red;margin:.5rem}.dnd-hidden{display:none !important}',""]);const a=s},62813:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'.livebook-viewer-root{max-width:900px;flex:1}.livebook-viewer-frame{width:100%;border:none;height:calc(100vh - 80px)}.livebook-viewer-excerpt-container{display:flex;align-items:center;margin-top:1em}.livebook-viewer-excerpt-container .livebook-viewer-excerpt-container-info{font-size:18px;text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.livebook-viewer-excerpt-container .livebook-viewer-excerpt-container-icon{display:inline-block;background:#4788d9;border-radius:2px;padding:2px 4px;margin-right:.75em}.livebook-viewer-excerpt-container .livebook-viewer-excerpt-container-icon img{width:18px;vertical-align:middle}.livebook-viewer-excerpt-container .livebook-viewer-excerpt-link{display:inline-block;padding:5px 13px;margin-left:.75em;background:#4788d9;border-radius:5px;color:#fff;text-decoration:none;font-size:14px;white-space:nowrap}.livebook-viewer-excerpt-container .livebook-viewer-excerpt-link:hover{background:#327ad5}.livebook-viewer-excerpt-container .livebook-viewer-excerpt-link:active{background:#296ec4}@keyframes opacityPulse{from{opacity:1}50%{opacity:0}to{opacity:1}}body.night-mode .livebook-loader-root{color:#b9b9ad}body.night-mode .livebook-viewer-root .annotation-label,body.night-mode .livebook-viewer-root .annotation-description{color:#222}.search-root .livebook-viewer-root h1,.search-root .livebook-loader-root h1{margin-top:-8px;line-height:40px}@media screen and (max-width: 650px){.search-root .livebook-viewer-root h1,.search-root .livebook-loader-root h1{line-height:30px;margin-top:0px}}@media screen and (max-width: 650px){.search-root .livebook-loader-root{font-size:80%}}body.night-mode .book-markup-container.livebook-viewer-content{color:#b9b9ad}body.night-mode .book-markup-container.livebook-viewer-content h1,body.night-mode .book-markup-container.livebook-viewer-content h2,body.night-mode .book-markup-container.livebook-viewer-content h3,body.night-mode .book-markup-container.livebook-viewer-content h4,body.night-mode .book-markup-container.livebook-viewer-content h5{color:inherit}body.night-mode .book-markup-container.livebook-viewer-content .search-query-word{color:#fff}body.night-mode .book-markup-container.livebook-viewer-content .introduction-summary{background-color:#515556;border-color:rgba(0,0,0,0);color:#b9b9ad}body.night-mode .book-markup-container.livebook-viewer-content .introduction-summary ul{color:#b9b9ad}body.night-mode .book-markup-container.livebook-viewer-content .unlocking p,body.night-mode .book-markup-container.livebook-viewer-content li.unlocking{background-color:#565656}body.night-mode .book-markup-container.livebook-viewer-content .callout-container,body.night-mode .book-markup-container.livebook-viewer-content .browsable-container{background-color:#515556;color:#b9b9ad}body.night-mode .book-markup-container.livebook-viewer-content .hljs,body.night-mode .book-markup-container.livebook-viewer-content .hljs-subst{color:#b9b9ad}body.night-mode .book-markup-container.livebook-viewer-content a{color:#4392e0}body.night-mode .book-markup-container.livebook-viewer-content .hljs-built_in,body.night-mode .book-markup-container.livebook-viewer-content .hljs-bullet,body.night-mode .book-markup-container.livebook-viewer-content .hljs-code,body.night-mode .book-markup-container.livebook-viewer-content .hljs-addition{color:#7eff00}body.night-mode .book-markup-container.livebook-viewer-content .hljs-type,body.night-mode .book-markup-container.livebook-viewer-content .hljs-string,body.night-mode .book-markup-container.livebook-viewer-content .hljs-number,body.night-mode .book-markup-container.livebook-viewer-content .hljs-selector-id,body.night-mode .book-markup-container.livebook-viewer-content .hljs-selector-class,body.night-mode .book-markup-container.livebook-viewer-content .hljs-quote,body.night-mode .book-markup-container.livebook-viewer-content .hljs-template-tag,body.night-mode .book-markup-container.livebook-viewer-content .hljs-deletion,body.night-mode .book-markup-container.livebook-viewer-content .hljs-title,body.night-mode .book-markup-container.livebook-viewer-content .hljs-section{color:red}.book-markup-container.livebook-viewer-content{font-family:Merriweather,"serif";color:#3c3c3c;line-height:30px}@media screen and (max-width: 650px){.book-markup-container.livebook-viewer-content{line-height:20px;font-size:80%}.book-markup-container.livebook-viewer-content h1,.book-markup-container.livebook-viewer-content h2,.book-markup-container.livebook-viewer-content h3,.book-markup-container.livebook-viewer-content h4,.book-markup-container.livebook-viewer-content h5{line-height:28px}}.book-markup-container.livebook-viewer-content h1,.book-markup-container.livebook-viewer-content h2,.book-markup-container.livebook-viewer-content h3,.book-markup-container.livebook-viewer-content h4,.book-markup-container.livebook-viewer-content h5{font-weight:bold;text-transform:none}.book-markup-container.livebook-viewer-content h1{font-size:2em;border-bottom:none}.book-markup-container.livebook-viewer-content h2{font-size:1.5em}.book-markup-container.livebook-viewer-content h3{font-size:1.3em}.book-markup-container.livebook-viewer-content h4{font-size:1.1em}.book-markup-container.livebook-viewer-content h5{font-size:1em}.book-markup-container.livebook-viewer-content .browsable-container.figure-container{text-align:center}.book-markup-container.livebook-viewer-content .browsable-container.figure-container h1,.book-markup-container.livebook-viewer-content .browsable-container.figure-container h2,.book-markup-container.livebook-viewer-content .browsable-container.figure-container h3,.book-markup-container.livebook-viewer-content .browsable-container.figure-container h4,.book-markup-container.livebook-viewer-content .browsable-container.figure-container h5{text-align:left}.book-markup-container.livebook-viewer-content .browsable-container{margin-bottom:1em}.book-markup-container.livebook-viewer-content .browsable-container .hljs{border:none}.book-markup-container.livebook-viewer-content .browsable-container pre{margin:1em 0;white-space:pre-wrap;word-break:break-word;font-size:13px;line-height:normal}.book-markup-container.livebook-viewer-content .browsable-container.processed-listing,.book-markup-container.livebook-viewer-content .browsable-container.listing-container{font-size:13px !important}.book-markup-container.livebook-viewer-content .unlocking{animation:opacityPulse 2s infinite}.book-markup-container.livebook-viewer-content .unlocking p,.book-markup-container.livebook-viewer-content li.unlocking{background-color:#f9f9f9}.book-markup-container.livebook-viewer-content .search-query-word{background-color:#fc0;font-weight:bold;margin:0 -0.1em;padding:0 .1em}.book-markup-container.livebook-viewer-content .callout-container{background-color:#e8e8e8;margin-top:1em;margin-bottom:1em;padding:5px;border-radius:5px}.book-markup-container.livebook-viewer-content .callout-container>.readable-text>h5,.book-markup-container.livebook-viewer-content .callout-container>h5{text-transform:uppercase}.book-markup-container.livebook-viewer-content .callout-container .readable-text{padding:0 1em}.book-markup-container.livebook-viewer-content .callout-container.collapsed{border:0}.book-markup-container.livebook-viewer-content .callout-container>ul,.book-markup-container.livebook-viewer-content .callout-container>ol{padding-left:3em}.book-markup-container.livebook-viewer-content .callout-container>ul>.readable-text,.book-markup-container.livebook-viewer-content .callout-container>ol>.readable-text,.book-markup-container.livebook-viewer-content .callout-container ul .readable-text,.book-markup-container.livebook-viewer-content .callout-container ol .readable-text{padding-top:0;padding-left:1em}.book-markup-container.livebook-viewer-content .callout-container .browsable-container{padding:1em;margin:1em}.book-markup-container.livebook-viewer-content .callout-container iframe{width:100%;border:none}.book-markup-container.livebook-viewer-content .browsable-container.figure-container img{text-align:center}.book-markup-container.livebook-viewer-content .listing-environment-container{border-top:1px solid #e5e5e5;padding:1em 0}.book-markup-container.livebook-viewer-content .button{background-color:#f5f5f5 !important;color:#333 !important;border-radius:3px;padding:8px 15px;font-size:14px;font-weight:400;box-shadow:0 2px 0 0 #999;border:1px solid #ccc;margin:0 5px 0 0;text-decoration:none;text-align:center;font-family:Lato;display:inline-block;line-height:1.4}.book-markup-container.livebook-viewer-content .button:active{box-shadow:0 1px 0 0 #999;background:#fdfdfd;top:2px}.book-markup-container.livebook-viewer-content img{display:inline-block;vertical-align:middle;max-width:100%;height:auto}.book-markup-container.livebook-viewer-content .browsable-container{padding:1em}.book-markup-container.livebook-viewer-content .readable-text{word-break:break-word}.book-markup-container.livebook-viewer-content .readable-text p{margin:1em 0}.book-markup-container.livebook-viewer-content kbd{border-radius:3px;font-family:Consolas,"Liberation Mono",Courier,monospace;padding:3px 5px;border:1px solid #dcdcdc;background-color:#f5f5f5;color:#3c3c3c}@media screen and (max-width: 650px){.book-markup-container.livebook-viewer-content kbd{padding:1px 2px}}.book-markup-container.livebook-viewer-content h1,.book-markup-container.livebook-viewer-content h2,.book-markup-container.livebook-viewer-content h3,.book-markup-container.livebook-viewer-content h4,.book-markup-container.livebook-viewer-content h5{font-family:Lato}.book-markup-container.livebook-viewer-content h5{margin-top:.2em;margin-bottom:.5em}.book-markup-container.livebook-viewer-content .introduction-summary{margin:1em 0;background-color:#e8e8e8;border:1px solid #ebe7e1;padding:1.25em;background:#f2f2f2;color:#333;border-radius:3px}.book-markup-container.livebook-viewer-content .introduction-summary>:first-child{margin-top:0}.book-markup-container.livebook-viewer-content .introduction-summary ul{color:#000}.book-markup-container.livebook-viewer-content .introduction-summary i,.book-markup-container.livebook-viewer-content .readable-text i{font-family:Merriweather,"serif";font-style:italic}.book-markup-container.livebook-viewer-content .browsable-container{position:relative;border:1px solid #d9d9d9;border-radius:5px;background-color:#fff}.book-markup-container.livebook-viewer-content .listing-container{z-index:95}.book-markup-container.livebook-viewer-content .code-area-container{position:relative;line-height:initial}.book-markup-container.livebook-viewer-content .listing-environment-container{line-height:initial}.book-markup-container.livebook-viewer-content form.code-area-container{margin:0}.book-markup-container.livebook-viewer-content .code-annotations-overlay-container{position:absolute;top:0;right:0;bottom:0;width:25px}.book-markup-container.livebook-viewer-content .code-area .line-container{position:absolute;left:0;right:20px;top:0px;opacity:.6;cursor:pointer}.book-markup-container.livebook-viewer-content .code-area .line-container.selected{background:rgba(230,230,230,.6)}.book-markup-container.livebook-viewer-content .code-area .line-container.highlighted{background:rgba(230,230,230,.4)}.book-markup-container.livebook-viewer-content .annotation-container{position:absolute;width:20px;right:2px;z-index:90;background:#e5e5e5;cursor:pointer;display:table;text-align:center;border-radius:2px;font-weight:600}.book-markup-container.livebook-viewer-content .annotation-container:active,.book-markup-container.livebook-viewer-content .annotation-container:after:active{outline:0}.book-markup-container.livebook-viewer-content .annotation-container:hover,.book-markup-container.livebook-viewer-content .annotation-container.hovered{background:#d3d3d7}.book-markup-container.livebook-viewer-content .annotation-container:hover:after,.book-markup-container.livebook-viewer-content .annotation-container:after,.book-markup-container.livebook-viewer-content .annotation-container.hovered:after,.book-markup-container.livebook-viewer-content .annotation-container.hovered:after{border-right-color:#d3d3d7}.book-markup-container.livebook-viewer-content .annotation-container.selected{background-color:#f5a623}.book-markup-container.livebook-viewer-content .annotation-container.selected:not(.vertical){width:22px;right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.book-markup-container.livebook-viewer-content .annotation-container.selected:hover{background:#f5a623}.book-markup-container.livebook-viewer-content .annotation-container.selected:hover:after,.book-markup-container.livebook-viewer-content .annotation-container.selected:after{border-right-color:#f5a623}.book-markup-container.livebook-viewer-content .annotation-container.selected.vertical{border-radius:2px}.book-markup-container.livebook-viewer-content .annotation-container.show-tip:after{right:20px;opacity:1;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;transition:all .1s ease-out}.book-markup-container.livebook-viewer-content .annotation-container:after{right:15px;top:50%;border:solid rgba(0,0,0,0);content:" ";height:0;width:0;position:absolute;pointer-events:none;border-right-color:#e5e5e5;border-width:7px;margin-top:-7px;opacity:0}.book-markup-container.livebook-viewer-content .annotation-container .annotation-label{display:table-cell;vertical-align:middle;font-size:10px;font-weight:bold;user-select:none}.book-markup-container.livebook-viewer-content .code-area .hljs{background:initial}.book-markup-container.livebook-viewer-content .code-area>.hljs{padding:0 .5em 0 0}.book-markup-container.livebook-viewer-content .hljs-line-numbers{text-align:right;color:#999;user-select:none}.livebook-viewer-root{position:relative}.livebook-viewer-root .code-annotation-container{display:none;position:absolute;z-index:95;max-width:200px;font-size:12px;background-color:#f5a623;border-top-right-radius:2px;border-bottom-right-radius:2px;hyphens:auto}.livebook-viewer-root .code-annotation-container .annotation-description{display:table-cell;vertical-align:middle;word-break:break-word;padding:.5em}.livebook-viewer-root .code-annotation-container.shown{display:inline-block}.livebook-viewer-root .code-annotation-container.vertical{z-index:95;border-radius:2px}.livebook-viewer-root .code-annotation-container.vertical.show-tip:after{opacity:1;transform:translateY(0);-webkit-transition:all .2s ease-out;-moz-transition:all .2s ease-out;transition:all .2s ease-out}.livebook-viewer-root .code-annotation-container.vertical:after{top:98%;left:50%;border:solid rgba(0,0,0,0);content:" ";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(245,166,35,0);border-top-color:#f5a623;border-width:7px;margin-left:-7px;transform:translateY(-5px)}.livebook-viewer-root .livebook-viewer-continue-reading-button{display:block;height:0;color:gray;font-size:20px;padding:2px 10px;position:sticky;width:40px;border-radius:5px;top:0;margin-left:auto;transform:translateX(40px);cursor:pointer;opacity:0;transition:all .2s}.livebook-viewer-root:hover .livebook-viewer-continue-reading-button{opacity:1}.livebook-viewer-root .lds-livebook-outer{color:#b9b9b9}.livebook-viewer-root .lds-livebook-inner{color:#b9b9b9;display:flex;align-items:center;justify-content:center;flex-direction:column;font-family:Lato;font-size:12px}.livebook-viewer-root .lds-livebook-inner span{margin-top:-10px}.livebook-viewer-root .lds-livebook{display:inline-block;position:relative;width:64px;height:64px}.livebook-viewer-root .lds-livebook div{display:inline-block;position:absolute;left:6px;width:13px;border:1px solid rgba(198,198,198,.5);background:#f4f4f4;animation:lds-livebook 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite}.livebook-viewer-root .lds-livebook div:nth-child(1){left:6px;animation-delay:-0.24s}.livebook-viewer-root .lds-livebook div:nth-child(2){left:26px;animation-delay:-0.12s}.livebook-viewer-root .lds-livebook div:nth-child(3){left:45px;animation-delay:0}@keyframes lds-livebook{0%{top:6px;height:51px}50%,100%{top:19px;height:26px}}.livebook-viewer-root .scrambled p>span,.livebook-viewer-root li.scrambled>span{background-color:#cacaca;color:#cacaca}body.night-mode .livebook-viewer-root .scrambled p>span,body.night-mode .livebook-viewer-root li.scrambled>span{background-color:#121212;color:#121212}',""]);const a=s},51394:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".token-modal .loading-results-container{min-height:150px}.token-modal p{margin-top:0}.token-modal .error-container{color:red}.tokens-button{display:inline-block;text-align:center;color:#3c3c3c;background-color:#fff;padding:.25em 1.5em;user-select:none;cursor:pointer;font-weight:400}.tokens-button:hover:not(.disabled){background-color:#9a9a9a}.tokens-button:active:not(.disabled){background-color:#8d8d8d}.tokens-button.disabled{background-color:dimgray;cursor:default}.tokens-button.emphasized-tokens-button{color:inherit;background-color:#fecb2f}.tokens-button.emphasized-tokens-button:hover:not(.disabled){background-color:#fed862;color:#997a00}.tokens-button.emphasized-tokens-button:active:not(.disabled){background-color:#fed148}.tokens-button.add-to-cart-token-button{color:#fff;background-color:#3c67a2}.tokens-button.add-to-cart-token-button:hover:not(.disabled){background-color:#5280bf}.tokens-button.add-to-cart-token-button:active:not(.disabled){background-color:#4373b5}.tokens-button.view-in-cart-token-button{color:#fff;background-color:#67a73d}.tokens-button.view-in-cart-token-button:hover:not(.disabled){background-color:#80c156}.tokens-button.view-in-cart-token-button:active:not(.disabled){background-color:#73ba44}",""]);const a=s},58206:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".token-notifier-container{font-family:Lato;font-weight:300}.token-notifier-container h3{color:#fecb2f;font-size:150%;font-weight:300}.token-notifier-container p,.token-notifier-container a{color:#fff}.token-notifier-container a{text-decoration:underline}",""]);const a=s},66924:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".unlock-confirm-modal{font-family:Lato}.unlock-confirm-modal h3{font-weight:300}@media screen and (max-width: 650px){.unlock-confirm-root{font-size:80%}}.unlock-confirm-root .unlock-confirm-deemphasized-label{font-weight:300}.unlock-confirm-root svg{width:20px;height:20px;display:inline-block;margin-left:-0.25em}.unlock-confirm-root .unlock-confirm-price-label{width:40px;display:inline-block}.unlock-confirm-root .unlock-confirm-price-container{display:flex;justify-content:space-between;width:60px;flex-grow:0;flex-shrink:0;text-align:right;user-select:none;padding-right:0;font-weight:600;margin-left:1em}.unlock-confirm-root .unlock-confirm-option-row{display:flex;align-items:center;margin-bottom:.75em}.unlock-confirm-root .unlock-confirm-option-row:last-of-type{margin-bottom:0}.unlock-confirm-root .unlock-confirm-select-box{background-color:#fecb2f;padding:.75em 1em;margin:0;cursor:pointer;flex-grow:1}.unlock-confirm-root .unlock-confirm-select-box:hover{background-color:#fed862;color:#997a00}.unlock-confirm-root .unlock-confirm-select-box:active{background-color:#fed148}.unlock-confirm-root .unlock-confirm-select-box:not(.unlock-confirm-box){display:flex;align-items:center;justify-content:space-between}.unlock-confirm-root .unlock-confirm-action-row{margin-top:.75em}.unlock-confirm-root .unlock-confirm-action-row .unlock-confirm-select-box{display:block}.unlock-confirm-root .unlock-confirm-action-container{background-color:#3c67a2;color:#fff;cursor:pointer}.unlock-confirm-root .unlock-confirm-action-container:hover{background-color:#5280bf;color:#fff}.unlock-confirm-root .unlock-confirm-action-container em{font-weight:300}.unlock-confirm-root .unlock-confirm-action-container .unlock-confirm-discount-label{color:#779bcd}.unlock-confirm-root .unlock-confirm-action-container .unlock-confirm-discount-label strong{color:#fff}.unlock-confirm-root .unlock-confirm-action-container.product-in-cart{background-color:#67a73d}.unlock-confirm-root .unlock-confirm-action-container.product-in-cart:hover{background-color:#80c156}.unlock-confirm-root .unlock-confirm-action-container.product-in-cart .unlock-confirm-discount-label{color:#9ccf7b}.unlock-confirm-root .unlock-confirm-box.unlock-confirm-select-box{text-align:right}.unlock-confirm-root .unlock-confirm-box.unlock-confirm-select-box em{margin:0 .25em}.unlock-confirm-root .unlock-confirm-box.unlock-confirm-select-box .unlock-confirm-price-label{width:auto;margin-left:.25em}.unlock-confirm-root .unlock-confirm-back-container{margin-right:.75em;padding:.4em 1em;font-size:150%;align-self:stretch;display:flex;cursor:pointer;user-select:none;background-color:#ececec}.unlock-confirm-root .unlock-confirm-back-container i{align-self:center}.unlock-confirm-root .unlock-confirm-back-container:hover{background-color:#dfdfdf}.unlock-confirm-root .unlock-confirm-back-container:active{background-color:#d3d3d3}.unlock-confirm-root .unlock-confirm-discount-container{font-size:80%;align-self:flex-end;margin-right:.1em}.unlock-confirm-root .unlock-confirm-discount-container i{vertical-align:middle}.unlock-confirm-root .unlock-confirm-discount-container>*{margin:.2em}.unlock-confirm-root .unlock-confirm-action-price-container{white-space:pre;float:right}.unlock-confirm-root .unlock-confirm-action-price-container .unlock-confirm-price-label{width:auto}.unlock-confirm-root .unlock-confirm-type-container svg{margin-left:0;position:relative;top:2px}",""]);const a=s},9170:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'.annotated-content-root{border-top:1px dotted #d3d3d3;padding:30px 0;position:relative}.annotated-content-root .annotated-content-body{margin-bottom:10px}.annotated-content-root .annotated-content-body .browsable-container{border-radius:5px;border:1px solid #d9d9d9;background-color:#fff;padding:1em 1em 2em 1em}.annotated-content-root .annotated-content-body .readable-text,.annotated-content-root .annotated-content-body .browsable-container{font-family:Merriweather,"serif";color:#3c3c3c}.annotated-content-root .annotated-content-body .readable-text p,.annotated-content-root .annotated-content-body .readable-text h1,.annotated-content-root .annotated-content-body .readable-text h2,.annotated-content-root .annotated-content-body .readable-text h3,.annotated-content-root .annotated-content-body .readable-text h4,.annotated-content-root .annotated-content-body .readable-text h5,.annotated-content-root .annotated-content-body .browsable-container p,.annotated-content-root .annotated-content-body .browsable-container h1,.annotated-content-root .annotated-content-body .browsable-container h2,.annotated-content-root .annotated-content-body .browsable-container h3,.annotated-content-root .annotated-content-body .browsable-container h4,.annotated-content-root .annotated-content-body .browsable-container h5{font-size:16px;line-height:24px;padding:5px;margin:0;max-height:52px;overflow:hidden;text-indent:45px;box-sizing:border-box}.annotated-content-root .annotated-content-body li.readable-text{font-size:16px;line-height:24px;padding:5px;margin:0;max-height:52px;overflow:hidden;text-indent:45px;box-sizing:border-box}.annotated-content-root .annotated-content-body .figure-container img{max-width:100%;height:auto}.annotated-content-root .annotated-content-body li{list-style-type:none}.annotated-content-root .annotated-content-body h1,.annotated-content-root .annotated-content-body h2,.annotated-content-root .annotated-content-body h3,.annotated-content-root .annotated-content-body h4{font-size:inherit}.annotated-content-root .annotated-content-link{position:absolute;top:35px}.annotated-content-root .annotated-content-link.browsable-annotated-content-link{top:53px;left:15px}',""]);const a=s},19256:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".artifact-feedback-report-root .artifact-feedback-artifact-container{background-color:#e8e8e8;border-radius:5px;padding:20px;margin-bottom:20px}.artifact-feedback-report-root .artifact-feedback-report-feedback-container{background:#faf8f8;padding:0 20px;margin-top:10px;border-radius:5px}.artifact-feedback-report-root .artifact-feedback-votes-container{text-align:right}.artifact-feedback-report-root .artifact-feedback-report-feedback-item-header{font-size:14.4px}.artifact-feedback-report-root .artifact-feedback-report-user-monicker{font-weight:bold}.artifact-feedback-report-root .time-ago-label{font-weight:300}.artifact-feedback-report-root .artifact-feedback-report-feedback-item{padding:20px 0}.artifact-feedback-report-root .artifact-feedback-report-feedback-item p{font-weight:300;margin:5px 0 0 0}.artifact-feedback-report-root .artifact-feedback-report-feedback-item:not(:last-of-type){border-bottom:1px solid #ccc}",""]);const a=s},59698:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".element-feedback-root{border-top:1px solid gray}.element-feedback-root h4{margin-top:0;font-size:1.2em;font-weight:bold}.element-feedback-root h2{font-size:1.5em;margin:.83em 0;font-weight:bold}.element-feedback-root .element-feedback-header{display:flex;justify-content:space-between;align-items:center}.element-feedback-root .element-feedback-questions-and-answers{background-color:#e8e8e8;border-radius:5px;padding:20px;margin:20px 0}",""]);const a=s},36686:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".feedback-filter-root{display:flex;flex-direction:column;width:320px;max-width:calc(100vw - 44px);padding:0;background-color:#fff;border-left:1px solid #d0cdcd;border-bottom:1px solid #d0cdcd;color:#443}.feedback-filter-root .feedback-filter-header-title-close-container{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.feedback-filter-root .feedback-filter-header{position:relative;font-size:16px;font-weight:bold;letter-spacing:.57px;line-height:19px;user-select:none;padding:20px 20px 0 20px}.feedback-filter-root .feedback-filter-header-title{display:block;text-align:center;font-size:16px;color:inherit;line-height:2.5;padding-right:1em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:bold}.feedback-filter-root .feedback-filter-body{padding:0 20px;flex:1 1 auto;overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior-y:none;-webkit-overflow-scrolling:touch}.feedback-filter-root .feedback-filter-section{padding:15px 0;margin:10px 0}.feedback-filter-root .feedback-filter-section-header{font-size:16px;letter-spacing:0;line-height:18px;font-weight:300;margin-bottom:15px}.feedback-filter-root label{font:inherit;font-weight:300;font-size:90%;display:flex;align-items:center;justify-content:space-between}.feedback-filter-root label+label{margin-top:1em}.feedback-filter-root label input{margin:0 0 0 .5em;font-family:inherit;font-weight:inherit;flex:1}",""]);const a=s},99616:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".product-feedback-root .product-feedback-questions-answers{background-color:#e8e8e8;border-radius:5px;padding:20px;margin-bottom:30px}.product-feedback-root .product-feedback-commands-header{white-space:nowrap}.product-feedback-root .author-container{text-align:right}.product-feedback-root h1{font-weight:bold;font-size:2em;margin:.67em 0}.product-feedback-root .review-report-rating{margin-left:.5em}.product-feedback-root .product-feedback-header{display:flex;justify-content:space-between;align-items:center}.product-feedback-root .notebook-root{border:none}.product-feedback-root .notebook-item-note-root{padding-left:10px;margin-top:0}.product-feedback-root .notebook-item-note-input-root{margin-left:25px}.product-feedback-root .link-like{cursor:pointer;color:inherit;text-decoration:none;padding:.5em;margin:-0.5em;text-decoration:underline;user-select:none;font-size:90%}.product-feedback-root .toggle-expand-link{min-width:120px;display:inline-block}.product-feedback-root .show-feedback-container{text-align:center;padding:1em}.product-feedback-root .show-feedback-container button{height:40px;line-height:40px;cursor:pointer;padding:0 1em}@media print{.icon-button-with-menu-root,.link-like,.icon-button,.text-label-root,.show-feedback-container{display:none !important}}",""]);const a=s},29176:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".question-answer-root{margin-bottom:1em;font-size:14.4px}.question-answer-root .question-answer-question-row{display:flex}.question-answer-root .question-answer-index-column{font-size:110%}.question-answer-root .question-answer-question-column{margin:0 .5em;font-size:110%}.question-answer-root .question-answer-commands-column{margin-left:auto;white-space:nowrap;text-align:right;min-width:105px;font-weight:300}.question-answer-root .question-answer-answer-body{padding-top:5px;overflow-wrap:anywhere}.question-answer-root .question-answer-answer-body .question-answer-answer-body-main-body{background-color:#fff;padding:5px 15px;border-radius:5px;margin:5px 20px;border:1px solid #e6e6e6}.question-answer-root .question-answer-reviewer-tag{position:absolute;bottom:5px;right:-5px}.question-answer-root .time-ago-label{font-weight:300}.question-answer-root .question-answer-answer-container{position:relative;padding:20px 0}.question-answer-root .question-answer-answer-container:not(:last-of-type){border-bottom:1px solid #ccc}.question-answer-root .question-answer-answer-rating-container{position:absolute;right:-10px;bottom:5px;font-size:10px}.question-answer-root .question-answer-answer-rating-container .fa-star{margin:.25em}.question-answer-root .ReactCollapse--content{background:#faf8f8;padding:0 20px;margin-top:10px;border-radius:5px}.style-with-markdown-button{padding:5px;background:#fff;color:#407fbf;border-radius:3px;height:35px;line-height:1;margin:15px 0;font-size:12px;border:none;text-decoration:none}",""]);const a=s},99453:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".section-feedback-root{margin-top:10px}.section-feedback-root h4{margin:0 0 1.33em 0;font-size:1em;font-weight:bold}.section-feedback-root h3{font-size:1.17em;margin:0 0 1em 0;font-weight:bold}.section-feedback-root .section-feedback-header{display:flex;justify-content:space-between;align-items:center}.section-feedback-root .section-feedback-questions-and-answers{background-color:#e8e8e8;border-radius:5px;padding:20px;margin-bottom:20px}",""]);const a=s},1222:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".vote-informer-root{margin:0 .25em}.vote-informer-root .vote-informer-likes{color:green}.vote-informer-root .vote-informer-neutrals .fa{transform:rotate(90deg)}.vote-informer-root .vote-informer-dislikes{color:red}.vote-informer-root>*{margin-right:.5em}",""]);const a=s},77318:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".icon-button-with-menu-root{overflow:visible;width:42px;height:42px;position:relative}.icon-button-with-menu-root .icon-button-menu{position:absolute;top:100%;right:0;padding:12px 0;z-index:1;border-radius:3px;box-shadow:-2px 2px 7px 0 rgba(0,0,0,.14);transform:translate(3px, 5px)}.icon-button-with-menu-root .icon-button-list-menu-button{padding:7px 25px;margin:0;font-size:14px;font-weight:300;letter-spacing:0;line-height:18px;border:none;background:rgba(0,0,0,0);white-space:nowrap;width:100%;cursor:pointer}.icon-button-with-menu-root .icon-button-list-menu-button:hover,.icon-button-with-menu-root .icon-button-list-menu-button:focus{outline:none}.notebook-root.dark-mode .icon-button-with-menu-root .icon-button-menu{background-color:#515153}.notebook-root.dark-mode .icon-button-with-menu-root .icon-button-list-menu-button{color:rgba(255,255,255,.8)}.notebook-root.dark-mode .icon-button-with-menu-root .icon-button-list-menu-button:hover,.notebook-root.dark-mode .icon-button-with-menu-root .icon-button-list-menu-button:focus{color:#fff;background-color:#4788da}.notebook-root.dark-mode .icon-button-with-menu-root .icon-button-list-menu-button:active{color:#fff;background-color:#286ec6}.notebook-root:not(.dark-mode) .icon-button-with-menu-root .icon-button-menu{background-color:#ececec}.notebook-root:not(.dark-mode) .icon-button-with-menu-root .icon-button-list-menu-button{color:rgba(0,0,0,.8)}.notebook-root:not(.dark-mode) .icon-button-with-menu-root .icon-button-list-menu-button:hover,.notebook-root:not(.dark-mode) .icon-button-with-menu-root .icon-button-list-menu-button:focus{color:#fff;background-color:#4788da}.notebook-root:not(.dark-mode) .icon-button-with-menu-root .icon-button-list-menu-button:active{color:#fff;background-color:#286ec6}",""]);const a=s},61511:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".notebook-root{line-height:normal;font-family:Lato;display:flex;flex-direction:column;height:100%;min-width:0;min-height:0}.notebook-root .link-like{cursor:pointer;color:inherit;text-decoration:none;padding:.5em;margin:-0.5em;text-decoration:underline;user-select:none;font-size:90%}.notebook-root.dark-mode{color:#fff;background:#2b2b2d}.notebook-root.dark-mode .notebook-monicker-container{color:#fff}.notebook-root.dark-mode .icon-button:not(.no-states):hover{background-color:#444447}.notebook-root.dark-mode .icon-button:not(.no-states):focus{background-color:#444447}.notebook-root.dark-mode .icon-button:not(.no-states):active,.notebook-root.dark-mode .icon-button:not(.no-states).selected{background-color:#37373a}.notebook-root.dark-mode .icon-button:not(.no-states) .fa{color:#d4d4d4}.notebook-root.dark-mode .link-like-button:hover{background-color:#444447}.notebook-root.dark-mode .link-like-button:focus{background-color:#444447}.notebook-root.dark-mode .link-like-button:active{background-color:#37373a}.notebook-root:not(.dark-mode){color:#222;background:#fff}.notebook-root:not(.dark-mode) .notebook-monicker-container{color:#222}.notebook-root:not(.dark-mode) .icon-button:not(.no-states):hover{background-color:#f2f2f2}.notebook-root:not(.dark-mode) .icon-button:not(.no-states):focus{background-color:#f2f2f2}.notebook-root:not(.dark-mode) .icon-button:not(.no-states):active,.notebook-root:not(.dark-mode) .icon-button:not(.no-states).selected{background-color:#fafafa}.notebook-root:not(.dark-mode) .icon-button:not(.no-states) .fa{color:#7f8087}.notebook-root:not(.dark-mode) .link-like-button:hover{background-color:#f2f2f2}.notebook-root:not(.dark-mode) .link-like-button:focus{background-color:#f2f2f2}.notebook-root:not(.dark-mode) .link-like-button:active{background-color:#fafafa}.notebook-root .link-like-button{border:none;background:none;text-decoration:underline;cursor:pointer;user-select:none;border-radius:3px;margin:0;padding:0;font-size:inherit;transition:none}.notebook-root .link-like-button:disabled,.notebook-root .link-like-button[disabled]{background:none;cursor:default}.notebook-root .link-like-button:focus{outline:none}.notebook-root .icon-button{border:1px solid rgba(0,0,0,0);background:none;display:inline-flex;width:42px;height:42px;justify-content:center;align-items:center;cursor:pointer;user-select:none;border-radius:3px;margin:0;padding:0;font-size:inherit}.notebook-root .icon-button:focus{outline:none}.notebook-root .icon-button:disabled,.notebook-root .icon-button[disabled]{background:none;cursor:default}.notebook-root .icon-button .fa{font-size:20px;line-height:21px}.notebook-root .hidden{display:none !important}.notebook-root .notebook-message-container{margin:20px;text-align:center}.notebook-root .notebook-error-message{color:red}.notebook-root .icon-button-emphasized{border-color:#232323}",""]);const a=s},34252:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".notebook-filter-input-root{flex:1;position:relative}.notebook-filter-input-root input[type=text]{width:100%;border-radius:3px;line-height:37px;font-size:16px;border:none;box-sizing:border-box;padding:2px 85px 2px 10px;font-family:Lato;box-shadow:none;margin:0;height:auto;transition:none}.notebook-filter-input-root input[type=text]:focus{outline:none}.notebook-filter-input-root .fa-search{position:absolute;right:15px;top:12px;font-size:20px}.notebook-filter-input-root .notebook-filter-clear{position:absolute;right:41px;top:2px;line-height:37px;font-size:14px;cursor:pointer;user-select:none}.notebook-filter-input-root .notebook-filter-clear:hover{text-decoration:underline}.notebook-root.dark-mode .notebook-filter-input-root .fa-search,.notebook-root.dark-mode .notebook-filter-input-root .notebook-filter-clear{color:#d4d4d4}.notebook-root.dark-mode .notebook-filter-input-root .notebook-filter-clear:active{color:#fff}.notebook-root.dark-mode .notebook-filter-input-root input{background:#1e1f20;color:#fff}.notebook-root.dark-mode .notebook-filter-input-root input:focus{background:#1e1f20}.notebook-root:not(.dark-mode) .notebook-filter-input-root .fa-search,.notebook-root:not(.dark-mode) .notebook-filter-input-root .notebook-filter-clear{color:#7f8087}.notebook-root:not(.dark-mode) .notebook-filter-input-root input{background:#e8e8e9;color:#222}.notebook-root:not(.dark-mode) .notebook-filter-input-root input:focus{background:#e8e8e9}.notebook-root:not(.dark-mode) .notebook-filter-input-root .notebook-filter-clear:active{color:#222}.notebook-root:not(.dark-mode) .notebook-heading-title{color:#202124}",""]);const a=s},23528:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".notebook-item-note-root{margin-top:0;padding:5px 0 10px 60px}.notebook-item-note-root+.notebook-item-note-root{margin-top:0}@media screen and (max-width: 450px){.notebook-item-note-root{padding-left:30px}}.notebook-item-note-root .notebook-item-note-header{display:flex;align-items:center;min-height:42px}.notebook-item-note-root .notebook-item-note-header-text-container{flex:1;font-size:12px;line-height:20px;color:#888;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.notebook-item-note-root .notebook-item-note-header-text-container span::selection{background-color:#fecb2f}.notebook-item-note-root .notebook-item-note-body{font-size:15px;letter-spacing:0;line-height:24px;padding-right:45px;margin-top:-5px;font-weight:300}.notebook-item-note-root .notebook-item-note-body p{margin:0;font-size:inherit;line-height:inherit;font-weight:inherit}@media screen and (max-width: 450px){.notebook-item-note-root .notebook-item-note-body{padding-right:15px}}.notebook-item-note-root .avatar-container{margin-left:-46px}@media screen and (max-width: 450px){.notebook-item-note-root .avatar-container{margin-left:0}}.notebook-root.small-notebook .notebook-item-note-root{padding-left:30px}.notebook-root.small-notebook .notebook-item-note-root .notebook-item-note-body{padding-right:15px}.notebook-root.dark-mode .notebook-item-note-root{background-color:#393a3c}.notebook-root.dark-mode .notebook-item-note-body{color:rgba(255,255,255,.8)}.notebook-root:not(.dark-mode) .notebook-item-note-body{color:rgba(0,0,0,.8)}",""]);const a=s},52533:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".notebook-item-note-input-root{margin:0 45px 30px 45px;padding-top:30px;position:relative}@media screen and (max-width: 450px){.notebook-item-note-input-root{margin:0 15px 15px 15px;padding-top:15px}}.notebook-item-note-input-root .notebook-item-note-visibility-label{display:inline-block;cursor:pointer;user-select:none;line-height:1;font-size:inherit;color:inherit}.notebook-item-note-input-root .notebook-item-note-visibility-label input{margin:0 .5em 0 0;transform:translateY(2px);cursor:pointer}.notebook-item-note-input-root .markdown-preview-container{font-size:15px;font-weight:300;padding:5px;min-height:31px;margin-left:-5px}.notebook-item-note-input-root .markdown-preview-container p{margin:0;font-size:inherit;line-height:inherit;font-weight:inherit}.notebook-item-note-input-root textarea{width:100%;font-size:15px;padding:5px 30px 5px 5px;min-height:28px;outline:none;background:rgba(0,0,0,0);box-sizing:border-box;margin:0 0 0 -5px;color:#888;box-shadow:none;border-radius:3px;border:none;resize:none;transition:none;line-height:normal;font-family:inherit}.notebook-item-note-input-root textarea:focus,.notebook-item-note-input-root textarea:hover,.notebook-item-note-input-root textarea.has-input{outline:none}.notebook-item-note-input-root textarea:disabled,.notebook-item-note-input-root textarea[disabled]{background:rgba(0,0,0,0);cursor:default}.notebook-item-note-input-root textarea.has-errors{border:1px solid red}.notebook-item-note-input-root .hidden{display:none}.notebook-item-note-input-root .create-note-button{display:none;position:absolute;bottom:.5em;right:.85em;cursor:pointer}.notebook-item-note-input-root .create-note-button.shown{display:block}.notebook-item-note-input-root .notebook-item-note-top-commands-container{display:none;position:absolute}.notebook-item-note-input-root .notebook-item-note-top-commands-container.shown{display:block;top:7px;color:#888;width:100%;font-size:80%;text-align:right}@media screen and (max-width: 450px){.notebook-item-note-input-root .notebook-item-note-top-commands-container.shown{top:0px}}.notebook-item-note-input-root .notebook-item-note-top-commands-container .link-like-button{color:#888}.notebook-item-note-input-root .notebook-item-note-input-help{display:none;position:absolute}.notebook-item-note-input-root .notebook-item-note-input-help a,.notebook-item-note-input-root .notebook-item-note-input-help a:visited{color:inherit}.notebook-item-note-input-root .notebook-item-note-input-help.shown{color:#888;width:100%;font-size:80%;display:flex;align-items:center;justify-content:space-between}.notebook-root.small-notebook .notebook-item-note-input-root{margin:0 15px 15px 15px;padding-top:15px}.notebook-root.small-notebook .notebook-item-note-top-commands-container.shown{top:0px}.notebook-root.dark-mode .notebook-item-note-input-root textarea:focus,.notebook-root.dark-mode .notebook-item-note-input-root textarea:hover,.notebook-root.dark-mode .notebook-item-note-input-root textarea.has-input{background:#1e1f20;color:#fff}.notebook-root:not(.dark-mode) .notebook-item-note-input-root textarea:focus,.notebook-root:not(.dark-mode) .notebook-item-note-input-root textarea:hover,.notebook-root:not(.dark-mode) .notebook-item-note-input-root textarea.has-input{background:#e8e8e9;color:#000}.notebook-item-note-root .notebook-item-note-input-root{margin-left:0 !important}.notebook-item-note-root .notebook-item-note-input-root textarea{margin-left:0}",""]);const a=s},29872:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".notebook-tag-root{user-select:none;background-color:#86b8f1;color:#fff;font-weight:300;font-size:12px;line-height:15px;margin-right:10px;padding:2px 10px;border-radius:11px}.notebook-tag-root:first-of-type{margin-left:10px}",""]);const a=s},13838:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".notebook-tag-adder-root{width:320px;max-width:calc(100vw - 70px);margin:0 12px}.notebook-tag-adder-root .notebook-tag-adder-title{font-size:16px;font-weight:bold;line-height:19px;margin-bottom:12px}.notebook-tag-adder-root .select__input input{margin:0;height:auto;transition:none;box-shadow:none}.notebook-root.dark-mode .notebook-tag-adder-root .select__menu{background:#6f6f71 !important}.notebook-root.dark-mode .notebook-tag-adder-root .select__option--is-focused{background:#949496 !important}",""]);const a=s},67733:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".notebook-toggle-button{color:rgba(255,255,255,.8);border:1px solid rgba(255,255,255,.3019607843);font-family:inherit;font-size:14px;letter-spacing:0;line-height:18px;padding:8px 10px;border-radius:3px;background:rgba(0,0,0,0);margin:0 10px 0 0;cursor:pointer}.notebook-toggle-button.dark-border{border:1px solid #ccc}.notebook-toggle-button.has-top-margin{margin-top:10px}.notebook-toggle-button .fa{margin-right:5px}.notebook-toggle-button:hover{background-color:#71a3e3;color:#fff}.notebook-toggle-button.selected,.notebook-toggle-button:active{color:#fff;border:1px solid rgba(255,255,255,.3);border-radius:3px;color:#fff;background-color:#4788da}@media screen and (max-width: 370px){.notebook-toggle-button .notebook-filter-button{padding:4px 6px}.notebook-toggle-button .notebook-filter-button .fa{margin-right:5px}}.notebook-toggle-button.green:hover{background-color:#48d569}.notebook-toggle-button.green.selected,.notebook-toggle-button.green:active{color:#fff;border:1px solid #22953d;background-color:#2cbe4e}.notebook-toggle-button.red:hover{background-color:#de4450}.notebook-toggle-button.red.selected,.notebook-toggle-button.red:active{color:#fff;border:1px solid #a01c27;background-color:#cb2431}.notebook-toggle-button.yellow:hover{color:#6b3e1d !important;background-color:#fefceb}.notebook-toggle-button.yellow.selected,.notebook-toggle-button.yellow:active{color:#6b3e1d !important;border:1px solid #faf089;background-color:#fcf6ba}.notebook-toggle-button.has-only-icon{min-width:36px}.notebook-toggle-button.has-only-icon .fa{margin-right:0}.notebook-root.dark-mode .notebook-toggle-button{color:rgba(255,255,255,.8)}.notebook-root:not(.dark-mode) .notebook-toggle-button{color:#5d5d5d}.notebook-root:not(.dark-mode) .notebook-toggle-button:hover,.notebook-root:not(.dark-mode) .notebook-toggle-button.selected,.notebook-root:not(.dark-mode) .notebook-toggle-button:active{color:#fff}",""]);const a=s},25106:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,"",""]);const a=s},63098:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".review-comment-root{padding:10px 0 5px 20px}.review-comment-root+.review-comment-root{padding-top:0}.review-comment-root .review-comment-header{display:flex;align-items:center;justify-content:space-between}.review-comment-root .time-ago-label{font-size:90%}.review-comment-root .review-comment-header-commands-container{display:flex;align-items:center}.review-comment-root .review-comment-tag-container{margin-right:.5em;display:flex;align-items:center}.review-comment-root .clickable{cursor:pointer}.review-comment-root .clickable:hover{text-decoration:underline}.review-comment-root .review-comment-main-note-body{font-weight:400}.review-comment-root .review-comment-main-note-body p{margin:0 0 .5em 0;font-weight:inherit}.review-comment-root .review-comment-discussion-body .icon-button-with-menu-root.extra-menu-button{margin-right:8px}",""]);const a=s},5038:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".review-comment-status-root{font-size:22px;line-height:38px;white-space:nowrap}.review-comment-status-root .review-comment-status-action-link{display:inline-block;margin-left:.1em}.review-comment-status-root.can-toggle .review-comment-status-action-link:hover .review-comment-status-label{text-decoration:underline}.review-comment-status-root.can-toggle .review-comment-status-label{cursor:pointer}.review-comment-status-root .review-comment-status-label{display:inline-block;width:62px;text-align:center}.review-comment-status-root .review-comment-status-open{color:#f1cb45}.review-comment-status-root .review-comment-status-closed{color:green}.review-comment-status-root .open-close-menu-button{margin-left:-5px}.review-comment-status-root .open-close-menu-button .fa{font-size:14px}.review-comment-status-root .open-close-menu-button .icon-button{color:inherit}",""]);const a=s},8876:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'.ReactModal__Overlay{animation:fade-in-black-background .1s ease-in-out;font-family:"Lato";position:relative;text-align:left}.ReactModal__Overlay .dark-theme .modal-title-container{color:#fecb2f}.ReactModal__Overlay .dark-theme p{color:#fff}.ReactModal__Overlay .green-theme{color:#fff}.ReactModal__Overlay .green-theme .modal-header-button{color:#fff}.ReactModal__Overlay .green-theme h3,.ReactModal__Overlay .green-theme em,.ReactModal__Overlay .green-theme p{color:#fff}.ReactModal__Overlay .red-theme{color:#fff}.ReactModal__Overlay .red-theme .modal-header-button{color:#fff}.ReactModal__Overlay .red-theme h3,.ReactModal__Overlay .red-theme em,.ReactModal__Overlay .red-theme p{color:#fff}.ReactModal__Overlay .gold-theme .modal-header-button{color:#c69501}.ReactModal__Overlay .gold-theme h3{font-weight:bold}.ReactModal__Overlay .gold-theme .modal-content-container{margin-top:-1em;overscroll-behavior:none;-ms-scroll-chaining:none}.ReactModal__Overlay .modal-header{display:flex;align-items:center;justify-content:space-between;font-weight:300;line-height:1}.ReactModal__Overlay .modal-header-button{font-size:1em;cursor:pointer;user-select:none;color:#9a9a9a}.ReactModal__Overlay .modal-back-button-container{position:absolute;top:35px;left:20px}.ReactModal__Overlay .modal-close-button-container{position:absolute;top:35px;right:20px;z-index:10;padding:1em;margin:-1em;cursor:pointer}.ReactModal__Overlay .modal-close-button-container.no-padding{top:25px}@media screen and (max-width: 450px){.ReactModal__Overlay .modal-close-button-container.no-padding{top:15px}}.ReactModal__Overlay .modal-title-container{max-width:600px;margin:0 auto}.ReactModal__Overlay h3{font-size:2em;font-weight:300;display:inline-block;margin:0 .5em 20px 0;color:inherit}.ReactModal__Overlay .modal-title-container{flex:1 auto}.ReactModal__Overlay .cancel-button{float:right}.ReactModal__Overlay .tokens-button{display:inline-block;text-align:center;cursor:pointer;padding:.25em 1.5em;background-color:gray}.ReactModal__Overlay .tokens-button:hover:not(.disabled){background-color:#9a9a9a}.ReactModal__Overlay .tokens-button:active:not(.disabled){background-color:#8d8d8d}.ReactModal__Overlay .tokens-button.action-button{color:#fff;background-color:#3c67a2}.ReactModal__Overlay .tokens-button.action-button:hover:not(.disabled){background-color:#5280bf}.ReactModal__Overlay .tokens-button.action-button:active:not(.disabled){background-color:#4373b5}@keyframes fade-in-black-background{0%{background-color:rgba(0,0,0,0)}100%{background-color:rgba(0,0,0,.75)}}',""]);const a=s},98611:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,"@-webkit-keyframes loading-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loading-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.loading-results-container{min-height:100%;width:100%;text-align:center;display:flex;justify-content:center;align-items:center}.loading-results-container svg{width:75px;height:60px}.loading-results-container .loading-icon{font-size:60px}.loading-results-container .loading-icon.small-icon{font-size:16px}.loading-results-container .loading-icon.medium-icon{font-size:32px}.loading-results-container .loading-spin{animation:loading-spin 2s linear infinite}",""]);const a=s},73321:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,"body.night-mode .advanced-tab svg{filter:invert(0.7)}body.night-mode .ask-manning-root .ask-manning-suggestions-label,body.night-mode .ask-manning-root .ask-manning-answer-product-title,body.night-mode .ask-manning-root .ask-manning-answer-text-holder,body.night-mode .ask-manning-root .ask-manning-answer-text-holder a,body.night-mode .ask-manning-root .ask-manning-answer-link-holder a{color:#b9b9ad}.ask-manning-root{margin:40px auto;position:relative}.ask-manning-root .close-button{position:absolute;top:10px;right:20px;cursor:pointer}.ask-manning-root .ask-manning-suggestions-results-wrapper{max-height:calc(100vh - 389px);overflow-y:scroll;margin-top:-40px;padding:40px 20px 0 20px}.ask-manning-root .ask-manning-suggestions-results-container{max-width:920px;margin:0 auto}.ask-manning-root .ask-manning-suggestions-label{margin-bottom:30px;font-size:20px;line-height:28px;color:#000}.ask-manning-root .ask-manning-search-wrapper{background:#f6f6f6;padding:50px 0;display:flex;align-items:center;justify-content:center;flex-direction:column;margin-bottom:40px}.ask-manning-root .ask-manning-search-wrapper .ask-manning-info-container{width:573px;max-width:calc(100vw - 68px);margin:0 auto;padding:0 20px;font-size:12px;line-height:21px;text-align:right;color:#737373;padding-top:15px}.ask-manning-root .ask-manning-search-wrapper .ask-manning-search-container{max-width:920px;margin:0 auto;padding:0 20px;display:flex;position:relative}.ask-manning-root .ask-manning-search-wrapper .ask-manning-search-container input{background:#fff;border:1px solid #e6e6e6;box-sizing:border-box;font-size:16px;border-radius:3.68387px 0px 0px 3.68387px;width:500px;max-width:calc(100vw - 140px);margin:0;height:42px;line-height:42px;padding:5px 5px 5px 10px}.ask-manning-root .ask-manning-search-wrapper .ask-manning-search-container>button{margin:0;height:42px;width:75px;text-align:center;line-height:42px;background:#4087d4;border:1px solid #e6e6e6;box-sizing:border-box;border-radius:0px 3.68387px 3.68387px 0px;cursor:pointer;color:#fff;font-size:26px;font-weight:700}.ask-manning-root .ask-manning-search-wrapper .ask-manning-search-container>button:hover{background:#2e7acc}.ask-manning-root .ask-manning-search-wrapper .ask-manning-search-container>button:active{background:#296eb8}.ask-manning-root .ask-manning-search-wrapper .ask-manning-search-container>button:disabled{cursor:not-allowed;background:gray}.ask-manning-root .ask-manning-suggestions-container{display:grid;grid-template-columns:1fr 1fr 1fr;gap:30px}.ask-manning-root .ask-manning-suggestions-container button{margin:0;background:#f6f6f6;border-radius:8px;border:none;min-height:80px;cursor:pointer;font-weight:bold;font-size:15px;line-height:28px;padding:10px}.ask-manning-root .ask-manning-suggestions-container button:hover{background:#e9e9e9}.ask-manning-root .ask-manning-suggestions-container button:active{background:#ddd}@media(max-width: 500px){.ask-manning-root .ask-manning-suggestions-container{grid-template-columns:1fr 1fr;gap:10px}}.ask-manning-root .ask-manning-answer-container{border-bottom:1px solid #828282;margin-bottom:35px}.ask-manning-root .ask-manning-answer-container .ask-manning-answer-product-title{font-size:17px;line-height:28px;font-weight:700}.ask-manning-root .ask-manning-answer-container .ask-manning-answer-product-title a{color:inherit;text-decoration:none}.ask-manning-root .ask-manning-answer-container .ask-manning-answer-product-title a:hover{text-decoration:underline}.ask-manning-root .ask-manning-answer-container .ask-manning-answer-product-authors{font-size:13px;font-weight:700;color:#a0a0a0}.ask-manning-root .ask-manning-answer-container .ask-manning-answer-text-holder{margin:1em 0;font-size:15px;line-height:24px;font-family:Merriweather}.ask-manning-root .ask-manning-answer-container .ask-manning-answer-link-holder{text-align:right;padding-bottom:.25em;color:#000}@media(max-width: 650px){.ask-manning-root .ask-manning-suggestions-results-wrapper{max-height:calc(100vh - 324px)}.ask-manning-root .ask-manning-search-wrapper{padding:25px 0}.ask-manning-root .ask-manning-search-wrapper .ask-manning-search-container>button{width:auto}.ask-manning-root .ask-manning-answer-container:last-of-type{margin-bottom:150px}}",""]);const a=s},58386:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,"body.night-mode .search-content-product-root .search-content-product-info-container{color:#b9b9ad}body.night-mode .search-content-product-root:hover .search-content-product-info-container{background-color:#565a5b}body.night-mode .search-content-product-root.selected .search-content-product-info-container{background-color:#515556}.search-content-product-root{display:flex;margin-bottom:25px;padding-right:5px;cursor:pointer;scroll-snap-align:start}.search-content-product-root:last-child{margin-bottom:0}.search-content-product-root .search-content-product-cover-container{width:74px;height:92px;flex:0 0 74px}.search-content-product-root .search-content-product-cover-container img{border:.2px solid #000;width:100%;box-sizing:border-box;object-fit:cover}.search-content-product-root .search-content-product-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:700;font-size:15px;line-height:18px}.search-content-product-root .search-content-product-info-container{position:relative;padding:2px 8px;height:92px;border-radius:0px 6px 6px 0px;width:calc(100% - 74px);box-sizing:border-box}.search-content-product-root:hover .search-content-product-info-container{background-color:#f7f7f7}.search-content-product-root.selected .search-content-product-info-container{background-color:#f2f2f2}.search-content-product-root .search-content-product-description{line-height:18px;font-size:15px;font-weight:300;height:54px;text-overflow:ellipsis;overflow:hidden;margin-top:10px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;font-weight:300;hyphens:auto}.search-content-product-root .search-content-product-description p,.search-content-product-root .search-content-product-description h1,.search-content-product-root .search-content-product-description h2,.search-content-product-root .search-content-product-description h3,.search-content-product-root .search-content-product-description h4,.search-content-product-root .search-content-product-description h5{margin:0}.search-content-product-root .product-ownership-label{font-size:12px;line-height:14px;color:#fff;background:#478cd5;border-radius:3px;user-select:none;padding:1px 7px;margin-right:.5em;font-weight:400;position:absolute;bottom:0;transform:translateY(10px);white-space:nowrap}@media screen and (max-width: 950px){.search-content-product-root{width:74px;height:unset;margin:8px;transform:scale(1);transition:transform .2s ease-in-out}.search-content-product-root:first-child{margin-left:0}.search-content-product-root:last-child{margin-right:0}.search-content-product-root.selected{transform:scale(1.2)}.search-content-product-root.selected-neighbour{transform:scale(1.1)}.search-content-product-root .search-content-product-info-container{display:none}}",""]);const a=s},34146:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,"@media screen and (max-width: 950px){body.night-mode .search-content-tab-root .search-content-products-list-root{background:#2e3436}}.search-content-tab-root{padding-top:35px;padding-left:15px;padding-right:15px;display:flex;max-width:1640px;margin:0 auto}.search-content-tab-root .search-content-tab-body{display:flex;flex:1}.search-content-tab-root .loading-results-container{margin-top:20px}.search-content-tab-root .search-content-products-list-root{width:300px;flex:0 0 300px;max-height:calc(100vh - 155px);z-index:1;margin-top:5px}.search-content-tab-root .search-content-products-list-message,.search-content-tab-root .search-content-products-list-message-rest{font-weight:300;font-style:italic;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:10px}.search-content-tab-root .search-content-products-list-message-rest{margin-top:50px}.search-content-tab-root .livebook-viewer-root{margin-left:50px;padding-right:15px;padding-bottom:55px;overflow-wrap:break-word;box-sizing:border-box}.search-content-tab-root .livebook-viewer-root .livebook-loader-root{line-height:30px}@supports(-webkit-touch-callout: none){.search-content-tab-root .livebook-viewer-root{padding-bottom:115px}}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper{position:relative;width:100%}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link{display:none;position:absolute;top:-64px;right:50px;background:none;border:1px solid #468bd5;color:#468bd5;border-radius:4px;padding:0px 24px;line-height:32px;text-decoration:none;z-index:95;user-select:none}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link:hover{text-decoration:underline;text-underline-offset:2px}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link:active{transform:translateY(1px)}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link strong{font-size:110%}@media screen and (max-width: 950px){.search-content-tab-root .search-content-tab-livebook-viewer-wrapper{position:static}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link{display:block;top:unset;bottom:20px;right:20px;padding:0px 12px;line-height:30px;font-size:80%;color:#fff;background:linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 100%),#468bd5;box-shadow:0px 2.54762px 15.2857px rgba(64,135,212,.5)}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link:hover{background:linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 100%),#2b71bd}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link:active{background:linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 100%),#2665a8}}.search-content-tab-root .livebook-viewer-root .search-results-list{margin-left:0;padding-left:0}@media screen and (max-width: 950px){.search-content-tab-root{display:block;padding-top:0}.search-content-tab-root .livebook-viewer-root,.search-content-tab-root .search-results-list{margin-left:0;width:unset;max-width:unset;max-height:unset !important;overflow:unset !important;overscroll-behavior-y:unset;padding:0 15px;box-sizing:border-box}.search-content-tab-root .livebook-viewer-root .search-results-list{padding:0}.search-content-tab-root .search-content-products-list-root{display:flex;flex-direction:row;max-height:unset;width:calc(100% + 30px);overflow-x:auto;height:unset;max-height:unset;margin:0 -15px 10px -15px;padding:1em;box-sizing:border-box;background:#fff}.search-content-tab-root .search-content-products-list-root .search-content-products-list-message,.search-content-tab-root .search-content-products-list-root .search-content-products-list-message-rest{display:none}.search-content-tab-root .search-content-tab-body{display:block;height:calc(100vh - 290px);overflow-y:auto;overflow-x:hidden;margin:0 -15px}}body.night-mode .search-result-item,body.night-mode .search-results-list-heading{color:#b9b9ad}body.night-mode .search-results-list-wrapper .search-results-list .search-result-item .result-item-book-element-link,body.night-mode .search-content-products-list-message,body.night-mode .search-content-products-list-message-rest{color:#b9b9ad}",""]);const a=s},17013:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'body.night-mode .search-results-list-wrapper .search-results-list .search-result-item .search-result{color:#000}body.night-mode .search-result-item .introduction-summary{background-color:#515556;border-color:rgba(0,0,0,0)}.search-result-item .annotation-container{position:absolute;width:20px;right:2px;z-index:90;background:#e5e5e5;cursor:pointer;display:table;text-align:center;border-radius:2px;font-weight:600}.search-result-item .annotation-container:active,.search-result-item .annotation-container:after:active{outline:0}.search-result-item .annotation-container:hover,.search-result-item .annotation-container.hovered{background:#d3d3d7}.search-result-item .annotation-container:hover:after,.search-result-item .annotation-container:after,.search-result-item .annotation-container.hovered:after,.search-result-item .annotation-container.hovered:after{border-right-color:#d3d3d7}.search-result-item .annotation-container.selected{background-color:#f5a623}.search-result-item .annotation-container.selected:not(.vertical){width:22px;right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.search-result-item .annotation-container.selected:hover{background:#f5a623}.search-result-item .annotation-container.selected:hover:after,.search-result-item .annotation-container.selected:after{border-right-color:#f5a623}.search-result-item .annotation-container.selected.vertical{border-radius:2px}.search-result-item .annotation-container.show-tip:after{right:20px;opacity:1;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;transition:all .1s ease-out}.search-result-item .annotation-container:after{right:15px;top:50%;border:solid rgba(0,0,0,0);content:" ";height:0;width:0;position:absolute;pointer-events:none;border-right-color:#e5e5e5;border-width:7px;margin-top:-7px;opacity:0}.search-result-item .annotation-container .annotation-label{display:table-cell;vertical-align:middle;font-size:10px;font-weight:bold;user-select:none}.search-result-item .code-annotations-overlay-container{position:absolute;top:0;right:0;bottom:0;width:25px}.search-result-item .code-area .line-container{position:absolute;left:0;right:20px;top:0px;opacity:.6;cursor:pointer}.search-result-item .code-area .line-container.selected{background:rgba(230,230,230,.6)}.search-result-item .code-area .line-container.highlighted{background:rgba(230,230,230,.4)}.search-result-item .readable-text{line-height:1.6}.search-result-item h1,.search-result-item h2,.search-result-item h3,.search-result-item h4,.search-result-item h5,.search-result-item h6{font-family:Lato,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:inherit}.search-result-item h1,.search-result-item h2,.search-result-item h3,.search-result-item h4,.search-result-item h5,.search-result-item h6{font-weight:bold;margin-top:.2rem;margin-bottom:.5rem;text-align:left}.search-result-item ul{list-style-type:disc}.search-result-item .introduction-summary{background:#e8e8e8;border-color:#ebe7e1;border-style:solid;border-width:1px;padding:1.25em;border-radius:3px;margin:1em 0}.search-result-item .introduction-summary li{font-family:Lato,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:inherit}.search-result-item .callout-container{margin:0;margin-top:1em;margin-bottom:1em;border-radius:5px;background-color:#e8e8e8;padding:15px}.search-result-item .browsable-container{position:relative;border-radius:5px;border:1px solid #d9d9d9;padding:1em;margin:0;background-color:#fff}.search-result-item .browsable-container.figure-container{text-align:center}.search-result-item .browsable-container h1,.search-result-item .browsable-container h2,.search-result-item .browsable-container h3,.search-result-item .browsable-container h4,.search-result-item .browsable-container h5,.search-result-item .browsable-container h6{color:#000}.search-result-item .browsable-container pre{margin:1em 0;white-space:pre-wrap;word-break:break-word;font-size:13px;line-height:normal;text-align:left}.search-result-item .browsable-container .code-area>.hljs{padding:0 .5em 0 0;background:none}.search-result-item .browsable-container .hljs-line-numbers{text-align:right;color:#999;user-select:none}.search-result-item .browsable-container .hljs{border:none}.search-result-item .browsable-container .code-annotations-overlay-container{position:absolute;top:0;right:0;bottom:0;width:25px}.search-result-item .browsable-container .code-annotation-container{position:absolute;z-index:95;max-width:200px;font-size:12px;background-color:#f5a623;border-top-right-radius:2px;border-bottom-right-radius:2px;hyphens:auto}.search-result-item .browsable-container .listing-environment-container{display:none}.search-result-item .browsable-container.figure-container img{text-align:center;display:inline-block;vertical-align:middle;max-width:100%;height:auto;padding:1em}.search-results-list-wrapper{position:relative}.search-results-list-wrapper .search-results-list-heading{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:5px}.search-results-list-wrapper .search-results-list{margin-left:50px;margin-top:0;padding-left:0;overflow-wrap:break-word;font-family:"Merriweather";box-sizing:border-box}.search-results-list-wrapper .search-results-list .search-result-item-header{display:flex;align-items:center;margin-bottom:.5em}.search-results-list-wrapper .search-results-list .search-result-item{display:block;margin-bottom:30px}.search-results-list-wrapper .search-results-list .search-result-item>a{display:block}.search-results-list-wrapper .search-results-list .search-result-item .result-item-book-element-link{font-size:small;display:inline-block;color:#525252;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Lato}.search-results-list-wrapper .search-results-list .search-result-item .result-item-book-element-link+.result-item-book-element-link{margin-left:.5em}.search-results-list-wrapper .search-results-list .search-result-item .result-item-book-element-link+.result-item-book-element-link:before{content:"·";margin-right:.5em}.search-results-list-wrapper .search-results-list .search-result-item .livebook-label,.search-results-list-wrapper .search-results-list .search-result-item .livevideo-label,.search-results-list-wrapper .search-results-list .search-result-item .product-label{display:inline-block;padding:.1em .4em;margin-right:.4em;color:#fff;font-size:70%;vertical-align:middle;user-select:none}.search-results-list-wrapper .search-results-list .search-result-item .livebook-label{background-color:#10509f}.search-results-list-wrapper .search-results-list .search-result-item .livevideo-label{background-color:#5facc0}.search-results-list-wrapper .search-results-list .search-result-item .product-label{background-color:#555}.search-results-list-wrapper .search-results-list .search-result-item .search-result{background-color:#fc0;font-weight:bold;margin:0 -0.1em;padding:0 .1em}.search-results-list-wrapper .search-results-list .search-result-item>a{text-decoration:none;color:inherit}.search-results-list-wrapper .search-results-list .search-result-item>a:visited{color:inherit}@media screen and (max-width: 650px){.search-results-list-wrapper .search-results-list{font-size:85%}.search-results-list-wrapper .search-results-list .search-result-item{margin-bottom:15px}}@media screen and (max-width: 950px){.search-results-list-wrapper .search-results-list-heading{display:none}.search-results-list-wrapper .search-results-list{margin-left:15px;padding-top:15px}}',""]);const a=s},55204:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,"body.night-mode .search-toc-root{background:#2e3436;color:#b9b9ad}body.night-mode .search-toc-root .search-toc-element-root.selected .search-toc-element-title-container,body.night-mode .search-toc-root .search-toc-element-root.selected .search-toc-toggle-button svg{color:#222}body.night-mode .search-toc-root .search-toc-toggle-button svg{color:#fff}body.night-mode .search-toc-root .search-tree-spacer .search-tree-spacer-item{background-color:#2e3436}@media screen and (max-width: 950px){body.night-mode .search-toc-root .search-toc-toggle-button svg{color:#222}body.night-mode .search-toc-root .search-tree-spacer .search-tree-spacer-item{background-color:#f2f2f2}body.night-mode .search-toc-root .search-toc-wrapper .loading-icon{color:#222;font-size:29px;margin:10px}}.search-toc-root{width:270px;flex:0 0 270px;position:relative;align-self:flex-start;box-sizing:content-box;max-height:calc(100vh - 155px);overflow-y:scroll;background:#fff;top:-3px}.search-toc-root .scroll-area-top-background{display:none}@media screen and (min-width: 1400px){.search-toc-root{width:300px;flex:0 0 300px}}@media screen and (min-width: 1500px){.search-toc-root{width:350px;flex:0 0 350px}}@media screen and (min-width: 1600px){.search-toc-root{width:400px;flex:0 0 400px}}.search-toc-root .loading-icon{margin-bottom:.5em}.search-toc-root .search-toc-header{display:none;align-items:center;justify-content:space-between;font-weight:bold;line-height:18px;padding:6px 12px}.search-toc-root .search-toc-header .search-toc-header-title{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis}.search-toc-root .search-toc-content{position:relative;padding-left:50px}.search-toc-root .search-toc-border{position:absolute;border:3px solid #828282;border-right:none;bottom:17px;left:30px;top:17px;width:13px;border-radius:6px 0 0 6px}.search-toc-root .search-tree-spacer{position:absolute;transform:translateY(-20px);left:30px;height:21px;width:100%;cursor:pointer}.search-toc-root .search-tree-spacer .search-tree-spacer-item{height:4px;width:3px;background-color:#fff;margin-bottom:4px}.search-toc-root .search-toc-toggle-button{cursor:pointer;display:flex;align-items:center;justify-content:center;padding:.5em;border:none;background:none;margin:0;color:#222;font-size:13px}.search-toc-root .search-toc-toggle-button svg{transition:transform .25s ease-in-out;transform:rotate(0)}.search-toc-root .search-toc-toggle-button.active svg{transform:rotate(90deg)}.search-toc-root .ReactCollapse--collapse{transition:height 250ms ease-in-out}@media screen and (max-width: 950px){.search-toc-root{width:100%;max-height:unset;overflow-y:unset;margin:15px 0;position:sticky;top:-1px;z-index:96}.search-toc-root .search-toc-wrapper{margin-right:15px;background:#f2f2f2;border-radius:0px 24px 24px 0px;color:#222}.search-toc-root .search-toc-wrapper .loading-results-container{margin:0}.search-toc-root .search-toc-header{display:flex}.search-toc-root .search-toc-border,.search-toc-root .search-tree-spacer{left:10px}.search-toc-root .search-toc-content{padding-left:25px}.search-toc-root .search-toc-content .search-toc-toggle-button{display:none}.search-toc-root .scroll-area-top-background{display:block}}.search-toc-element-root{margin-bottom:20px}.search-toc-element-root:last-of-type{margin-bottom:0}.search-toc-element-root:last-of-type .ReactCollapse--collapse{position:absolute;width:270px}.search-toc-element-root.selected .search-toc-element-title-container{font-weight:bold}.search-toc-element-root.selected .search-toc-element-header-container{background-color:#f2f2f2}.search-toc-element-root .search-toc-sub-element-title-container{padding:4px 7px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:20px;cursor:pointer;margin-bottom:5px}.search-toc-element-root .search-toc-sub-element-title-container.selected{font-weight:bold}.search-toc-element-root .search-toc-sub-element-title-container:last-of-type{margin-bottom:0}.search-toc-element-root .search-toc-element-header-container{display:flex;align-items:center;padding:4px 7px;border-radius:0px 6px 6px 0px}.search-toc-element-root .search-toc-element-header-container .search-toc-element-title-container{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:1em;cursor:pointer}",""]);const a=s},31215:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'body.night-mode .selected-product-info-root{color:#b9b9ad}.selected-product-info-root{display:none;margin:0 15px}@media screen and (max-width: 950px){.selected-product-info-root{display:block}}.selected-product-info-root .selected-product-info-title{font-size:14px;line-height:16px;font-weight:700;text-decoration:none;margin-top:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-decoration:none}.selected-product-info-root .selected-product-info-title a{color:inherit}.selected-product-info-root .selected-product-info-original-price{margin-right:.5em;position:relative;font-weight:300}.selected-product-info-root .selected-product-info-original-price:before{position:absolute;content:"";left:-0.15em;top:calc(50% - 1px);right:-0.15em;border-top:2px solid gray;transform:rotate(-5deg)}.selected-product-info-root .selected-product-info-description{line-height:18px;font-size:15px;font-weight:300;height:54px;text-overflow:ellipsis;overflow:hidden;margin-top:10px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;font-weight:300;color:inherit;text-decoration:none}.selected-product-info-root .selected-product-info-description p,.selected-product-info-root .selected-product-info-description h1,.selected-product-info-root .selected-product-info-description h2,.selected-product-info-root .selected-product-info-description h3,.selected-product-info-root .selected-product-info-description h4,.selected-product-info-root .selected-product-info-description h5{margin:0}.selected-product-info-root .selected-product-info-price-date{font-weight:bold;font-size:12px;color:#828282;margin-top:-12px;text-align:right}',""]);const a=s},58975:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".search-filters-group-root{font-size:14px}.search-filters-group-root .ReactCollapse--collapse{transition:height 250ms}.search-filters-group-root:not(:first-child){margin-top:15px}@media screen and (max-height: 600px){.search-filters-group-root:not(:first-child){margin-top:0}}.search-filters-group-root .search-filters-group-heading{font-weight:300;font-size:16px;padding:12px 0;margin-bottom:8px;border-bottom:solid 1px #bebebe;height:41px;box-sizing:border-box;display:flex;align-items:center;justify-content:space-between;user-select:none}.search-filters-group-root .search-filter-toggle-button{display:flex;align-items:center;justify-content:center;padding:.5em}.search-filters-group-root .search-filter-toggle-button svg{transition:transform .25s ease-in-out;transform:rotate(-90deg)}.search-filters-group-root .search-filter-toggle-button.active svg{transform:rotate(0)}.search-filters-group-root button{border:none;background:rgba(0,0,0,0);cursor:pointer;color:#222;margin:0}.search-filters-group-root button:focus,.search-filters-group-root button:hover{color:#222;background:rgba(0,0,0,0)}.search-filters-group-root .search-filters-group-items-container{max-height:280px;overflow-y:auto}.search-filters-group-root .search-filters-range-container,.search-filters-group-root .search-filters-rating-container{padding:.5em}.search-filters-group-root .search-filters-range-container .rc-slider-track{background-color:#cbcbcb;transform:translateY(-1px)}.search-filters-group-root .search-filters-range-container .rc-slider-rail{height:1px;background-color:#cbcbcb}.search-filters-group-root .search-filters-range-container .rc-slider-handle{border-color:#cbcbcb;background-color:#cbcbcb}.search-filters-group-root .search-filters-range-container .rc-slider-handle-dragging{border-color:#cbcbcb !important;box-shadow:0 0 0 5px rgba(203,203,203,.5) !important}.search-filters-group-root .search-filters-range-container .rc-slider-dot-active{border-color:#cbcbcb !important}.search-filters-group-root .search-filters-range-container .rc-slider-mark{font-size:16px;font-weight:300}.search-filters-group-root .search-filters-group-item{cursor:pointer;user-select:none;padding:5px 5px 5px 0;font-weight:300;display:flex;align-items:center;justify-content:space-between}.search-filters-group-root .search-filters-group-item div{display:flex;align-items:center}.search-filters-group-root .search-filters-group-item input{cursor:pointer;margin:0 .5em 0 0}.search-filters-group-root .search-filters-group-item input[type=checkbox]{height:15px;width:15px}.search-filters-group-root .search-filters-group-item:first-child{padding-top:10px}.search-filters-group-root .search-filters-group-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:140px}.search-filters-group-root .search-filters-group-count{margin-left:1em}.search-filters-group-root .search-filters-range-limits-container{min-height:20px;clear:both;font-size:16px;padding-top:4px;font-weight:300;opacity:.4}.search-filters-group-root .search-filters-range-limits-container .search-filter-range-lower{float:left}.search-filters-group-root .search-filters-range-limits-container .search-filter-range-upper{float:right}",""]);const a=s},4894:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".search-filters-root{position:absolute;left:calc(50vw + 483px);top:-32px;min-width:200px;display:block}.search-filters-root .search-filters-group-root:not(.has-heading){margin-top:48px}@media screen and (max-width: 1390px){.search-filters-root{transform:none;left:0;right:0;z-index:1;top:0px;background:#fff;padding-top:10px;max-width:920px;margin:0 auto}.search-filters-root .search-filters-group-root:not(.has-heading){margin-top:15px}}@media screen and (max-width: 950px){.search-filters-root{margin:0 15px}}@media screen and (max-width: 1490px){.search-filters-root{min-width:160px}.search-filters-root .search-filters-group-root .search-filters-group-label{max-width:125px}}body.night-mode .search-filters-group-root .search-filters-group-heading{border-bottom-color:#bebebe}@media screen and (max-width: 1390px){body.night-mode .search-filters-root{background:#2e3436}}",""]);const a=s},54711:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,"body.night-mode .search-products-tab-root{color:#b9b9ad}.search-products-tab-root{color:#222;position:relative}.search-products-tab-root .search-products-tab-selected-filters-container{margin:0 0 14px 19px}.search-products-tab-root .product-collection-inner-container{max-width:920px;margin:0 auto}@media screen and (max-width: 950px){.search-products-tab-root .product-collection-inner-container{margin:0 15px}}.search-products-tab-root .search-products-tab-count-label-description,.search-products-tab-root .search-products-tab-sort-container-label{font-weight:300}.search-products-tab-root .search-products-tab-sort-container{user-select:none;display:flex;align-items:baseline;color:inherit}.search-products-tab-root .search-products-tab-sort-container select{margin:0 0 0 8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-family:inherit;background:#fff;border:1px solid #bdbdbd;box-sizing:border-box;border-radius:4px;-webkit-appearance:auto !important}.search-products-tab-root .form-control{display:block;width:100%;height:35px;padding:6px 12px 6px 0px;font-size:15px;line-height:1.428571429;color:#555;background-color:#fff;background-image:none;border:none;border-radius:6px;-webkit-box-shadow:none;box-shadow:none;transition:unset;cursor:pointer;min-width:68px}.search-products-tab-root .form-control:focus{border-color:unset;outline:0;-webkit-box-shadow:none;box-shadow:none}@media(max-width: 675px){.search-products-tab-root{flex-direction:column}}",""]);const a=s},67790:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".search-sort-root{position:absolute;left:calc(50vw + 483px);top:-32px;min-width:200px;display:block}@media(max-width: 1390px){.search-sort-root{transform:none;left:0;right:0;z-index:1;top:0px;background:#fff;padding-top:10px;max-width:920px;margin:0 auto}.search-sort-root .search-filters-group-root:not(.has-heading){margin-top:15px}}@media screen and (max-width: 950px){.search-sort-root{padding:0 15px}}@media screen and (max-width: 1490px){.search-sort-root{min-width:160px}}@media(max-width: 676px){.search-sort-root{padding-top:15px}}@media screen and (max-width: 1390px){body.night-mode .search-sort-root{background:#2e3436}}",""]);const a=s},12793:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'#demo-container .search-demo-route-link{display:inline-block;margin:0 5px;padding:0 2px}#demo-container .search-demo-route-link.selected{background-color:blue;color:#fff}.clearfix::after{content:" ";display:block;height:0;clear:both}#demo-container .search-input-wrapper{height:35px;box-sizing:border-box;z-index:1;display:flex;justify-content:center;flex:1;margin:0 1em}#demo-container .search-input-wrapper .search-input-container{max-width:970px;flex:1;display:flex}#demo-container .search-input-wrapper input{height:35px;box-sizing:border-box;width:100%}#demo-container .search-input-wrapper .input-group-btn{display:block;transform:translateX(-41px)}.autocomplete-concepts-section{background-color:#fff;border:1px solid #ccc;border-top:0}.autocomplete-concepts-section .concept-content-title-link{color:#989797;margin-left:.5em}.autocomplete-concepts-section .concept-content-title-link a{text-decoration:none;cursor:pointer}.autocomplete-concepts-section .concept-content-title-link a:hover{text-decoration:underline}.autocomplete-concepts-section .concept-content-title-link a:visited{color:inherit}.autocomplete-concepts-section .concept-title{font-weight:300;font-size:inherit}.autocomplete-concepts-section .autosuggestion-title{margin-right:1em}@media screen and (max-width: 500px){.autocomplete-concepts-section{order:3;padding-top:.5em}}.search-modal{font-size:16px !important;font-family:Lato,Arial,"Helvetica Neue",Helvetica,Roboto,Arial,sans-serif !important;line-height:1.2;position:relative;height:100%;padding:0 23px;background-color:#fff;color:#222}.search-modal ul,.search-modal ol,.search-modal dl{font-size:inherit;line-height:1.2}.search-modal *,.search-modal *:before,.search-modal *:after{-webkit-box-sizing:initial;-moz-box-sizing:initial;box-sizing:initial}.search-modal.ReactModal__Content{transform:initial}body.night-mode .search-root{background:#2e3436}body.night-mode .search-root .search-loading,body.night-mode .search-root .loading-icon{color:#b9b9ad}body.night-mode .search-root .search-tabs-commands-container .search-tab:hover:not(.active){color:#b9b9ad}body.night-mode .search-root .search-tabs-commands-container .search-tab.active{color:#b9b9ad;border-bottom-color:#2e3436}.search-root{height:calc(100vh - 75px);position:fixed;top:75px;bottom:0;left:0;right:0;padding:0;background:#fff;font-family:Lato,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji}.search-root .livebook-viewer-root,.search-root .search-scroll-area{max-height:calc(100vh - 155px)}.search-root .search-back-to-results-button,.search-root .search-view-in-livebook-button{visibility:hidden;text-align:right}.search-root.is-showing-livebook-viewer .search-back-to-results-button,.search-root.is-showing-livebook-viewer .search-view-in-livebook-button{visibility:visible}.search-root .advanced-tabs-root{max-width:920px;margin:0 auto;box-sizing:border-box}.search-root .advanced-tabs-root.expanded{max-width:1640px}@media screen and (max-width: 950px){.search-root .advanced-tabs-root{margin:0 15px}}@media screen and (min-width: 675px)and (max-width: 950px){.search-root .advanced-tabs-root.content-tab-selected .advanced-tabs-commands-container{top:21px;right:35px;flex-direction:row}.search-root .advanced-tabs-root.content-tab-selected .advanced-tabs-commands-container button{border-radius:unset !important}}@media screen and (max-width: 675px){.search-root .advanced-tabs-root.content-tab-selected .search-view-in-livebook-button{visibility:hidden !important}}.search-root .loading-results-container .loading-icon{font-size:48px}.search-root .search-searching-suggestions-label{padding:1em;font-size:75%;display:block;color:#c2c2c2}.search-root .search-result{font-weight:normal;margin:-0.1em;padding:.1em .2em}.search-root .react-toggle{margin-left:10px}.search-root .product-title-breadcrumb{font-style:italic;color:inherit}.search-root .element-title-breadcrumb,.search-root .sub-element-title-breadcrumb{color:inherit}.autocomplete-separator{display:none}@media screen and (max-width: 500px){.autocomplete-separator{display:block;border-bottom:2px solid #848484;margin:0 -2.4em 0 -3.3em}.autocomplete-separator.middle-separator{order:2}}.autocomplete-section{display:inline-block;vertical-align:top;box-sizing:border-box;-webkit-overflow-scrolling:touch;width:100%}.autocomplete-section a{text-decoration:none}.autocomplete-section .autocomplete-results{list-style-type:none;margin:0;padding:0}.autocomplete-section .autocomplete-result-item{cursor:pointer;clear:both;padding:.5em;line-height:1.5}.autocomplete-section .autocomplete-result-item label{cursor:pointer}.autocomplete-section .autocomplete-result-item strong{font-weight:700}.autocomplete-section .first-level+.indented,.autocomplete-section .indented+.indented{margin-bottom:.5em}.autocomplete-section .first-level+.indented{margin-top:-0.75em}.autocomplete-section .indented.last-child{margin-bottom:1em}.autocomplete-section .autocomplete-result-item .autosuggestion-title{display:inline-block;color:#222}.autocomplete-section .autocomplete-result-item .autosuggestion-title strong{color:#222}.autocomplete-section .autocomplete-result-item.selected,.autocomplete-section .autocomplete-result-item:hover{background-color:#eee}.product-suggestions-container{height:100%;position:relative}.product-suggestions-container h4{margin-top:0;color:inherit;line-height:1.2;font-size:inherit;font-family:inherit}.product-suggestions-container .search-description-container{flex-grow:3;display:flex;justify-content:center;align-items:stretch;height:100%;box-sizing:border-box;padding-bottom:2em}.product-suggestions-container .search-description-container>div{flex-grow:1;flex-basis:50%}.product-suggestions-container .search-description-container a,.product-suggestions-container .search-description-container a:visited{color:inherit;text-decoration:underline}.product-suggestions-container .search-description-container .explanatory-text{padding:20px;padding-left:40px;font-size:3vh;align-self:center;opacity:1;transition:opacity .3s}.product-suggestions-container .search-description-container .explanatory-text .actual-text{padding-right:100px}@media screen and (max-width: 1000px){.product-suggestions-container .search-description-container .explanatory-text .actual-text{padding-right:0}}@media screen and (max-width: 900px){.product-suggestions-container .search-description-container .explanatory-text{font-size:2.5vh}.product-suggestions-container .search-description-container .explanatory-text .actual-text{padding-right:0}}@media screen and (max-width: 700px){.product-suggestions-container .search-description-container .explanatory-text{font-size:2vh;padding-left:20px}}@media screen and (max-width: 500px){.product-suggestions-container .search-description-container .explanatory-text{padding:0}}@media screen and (max-height: 400px){.product-suggestions-container .search-description-container .explanatory-text{font-size:12px}}.product-suggestions-container .book-cover{position:relative;left:0;top:0;background-size:contain;background-repeat:no-repeat;background-position:right center;transition:left 1s ease-in-out,background-position 1s ease-in-out}@media screen and (max-width: 650px){.product-suggestions-container .book-cover{display:none}}.product-suggestions-container .product-concepts-container{position:absolute;top:0;opacity:0;flex:1;transition:opacity .3s ease-in-out;max-width:50%}@media screen and (max-width: 500px){.product-suggestions-container .product-concepts-container{max-width:100%}}.product-suggestions-container .autocomplete-concepts-section{width:100%}.product-suggestions-container .product-concepts-container.delay-animation,.product-suggestions-container .explanatory-text.delay-animation{transition-delay:.5s}.product-suggestions-container.has-suggestions .book-cover{left:50%;background-position:right center}@media screen and (max-width: 700px){.product-suggestions-container.has-suggestions .book-cover{background-position:right top}}.product-suggestions-container.has-suggestions .product-concepts-container{opacity:1}.product-suggestions-container.has-suggestions .explanatory-text{opacity:0}.search-scroll-area{overflow-y:auto;overscroll-behavior-y:none;-webkit-overflow-scrolling:touch;position:relative}body.night-mode .scroll-area-top-background,body.night-mode .scroll-area-bottom-background{filter:invert(0.9)}.scroll-area-top-background{position:absolute;display:block;top:0;left:0;right:0;height:62px;z-index:1;background:linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #FFFFFF 88.02%);transform:matrix(1, 0, 0, -1, 0, 0);transition:opacity .2s ease-in-out;opacity:0;pointer-events:none}.scroll-top-background-shown .scroll-area-top-background{opacity:1}.scroll-area-bottom-background{position:absolute;bottom:0;left:0;right:0;height:62px;z-index:1;background:linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #FFFFFF 88.02%);transform:matrix(-1, 0, 0, 1, 0, 0);transition:opacity .2s ease-in-out;opacity:0;pointer-events:none}.scroll-bottom-background-shown .scroll-area-bottom-background{opacity:1}.search-toc-root .scroll-area-top-background{top:unset}.search-initial-message-container{max-width:920px;margin:60px auto}@media screen and (max-width: 675px){.search-initial-message-container{text-align:center}}@media screen and (max-width: 950px){.search-initial-message-container{margin:60px 15px}}.search-initial-message-container a,.search-initial-message-container a:visited{color:inherit}body.night-mode .search-initial-message-container{color:#b9b9ad}.ask-manning-label{background:#4087d4;border-radius:2.28571px 2.10507px 2.10507px 2.28571px;color:#fff;font-size:16px;font-weight:700;height:24px;line-height:24px;width:44px;text-align:center;display:inline-block;margin-right:5px}@media(max-width: 675px){.ask-manning-label{height:18px;line-height:18px;font-size:14px}}.search-root .product-collection-container .product-root .product-details{padding-right:0}',""]);const a=s},36820:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".avatar-container{width:36px;height:36px;line-height:36px;text-align:center;color:#fff;margin:0 10px 0 0;user-select:none;position:relative}.avatar-container.avatar-large{width:90px;height:90px;line-height:90px}.avatar-container.avatar-large .avatar-image,.avatar-container.avatar-large .avatar-container-change-profile{border-radius:50%;width:90px;height:90px;line-height:90px}.avatar-container.avatar-medium{width:60px;height:60px;line-height:60px}.avatar-container.avatar-medium .avatar-image,.avatar-container.avatar-medium .avatar-container-change-profile{border-radius:50%;width:60px;height:60px;line-height:60px}.avatar-container .star-icon{position:absolute;color:#fecb2f;bottom:0;right:0;width:14px}.avatar-container .avatar-image,.avatar-container .avatar-container-change-profile{border-radius:50%;width:36px;height:36px;line-height:36px;display:inline-block}.avatar-container .avatar-container-change-profile{position:absolute;top:0;left:0;right:0;bottom:0;display:none;align-items:center;justify-content:center;background-color:rgba(0,0,0,.5);color:#fff;cursor:pointer}.avatar-container .avatar-container-change-profile.change-profile-side-icon{display:flex;bottom:0;right:0;top:unset;left:unset;width:25px;height:25px;background-color:gray}.avatar-container .avatar-container-change-profile.change-profile-side-icon:hover{background-color:#737373}.avatar-container .avatar-container-change-profile.change-profile-side-icon:active{background-color:#676767}.avatar-container:hover .avatar-container-change-profile{display:flex}.avatar-container .user-online-status{position:absolute;bottom:0;right:0;width:10px;height:10px;background-color:gray;border:2px solid #fff;border-radius:50%}.avatar-container .user-online-status.online{background-color:#68c693}.avatar-container .user-online-status-large{width:20px;height:20px;bottom:3px;right:3px}.avatar-container .user-online-status-medium{width:15px;height:15px;bottom:1px;right:1px}.avatar-container .avatar-delete-link{display:inline-flex;line-height:1;bottom:5px;position:absolute;color:gray;z-index:1;right:0;transform:translateX(120%);align-items:center}.avatar-container .clickable-link-like{cursor:pointer;color:inherit;text-decoration:none;padding:.5em}.avatar-container .clickable-link-like:hover{text-decoration:underline}.avatar-container .clickable-link-like.selected{text-decoration:underline}",""]);const a=s},66467:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".forum-header-sort-tooltip-item{text-align:center;color:#fff;cursor:pointer;user-select:none;font-size:12px;line-height:20px;padding:2px}.forum-header-sort-tooltip-item.selected{font-weight:700;text-decoration:underline}.forum-header-sort-tooltip-item:hover{background-color:#666}.forum-header-root.forum-header-showing-search{border-bottom:1px solid #d3d3d3}.forum-header-root .forum-header{display:flex;justify-content:space-between;align-items:center;background-color:#3c67a2;color:#fff}.forum-header-root .forum-header-middle-container{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.forum-header-root .forum-header-sort{cursor:pointer;font-size:80%;user-select:none;color:#d8e1eb;margin-left:.25em}.forum-header-root .forum-header-sort:hover{text-decoration:underline}.forum-header-root .forum-header-title{font-weight:bold;margin:0 .5em}.forum-header-root .forum-header-title a{color:#fff;text-decoration:underline}.forum-header-root .forum-header-input-container{padding:.5em;display:flex}.forum-header-root .forum-header-input-container input{margin:0;width:100%;font-size:inherit;line-height:1.5;outline:none;border:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.forum-header-root .forum-header-input-container .search-icon{padding:.5em;margin-right:-0.5em;cursor:pointer}.forum-header-root .forum-header-button{cursor:pointer;font-size:120%}.forum-header-root .fa-window-minimize,.forum-header-root .fa-window-maximize{margin-right:.5em}.forum-header-root .forum-header-left-side-container{display:flex;align-items:center}.forum-header-root .forum-header-left-side-container .forum-header-empty-icon{margin-left:.5em}.forum-header-root .forum-header-right-side-container{display:flex;align-items:center}.forum-header-root .forum-header-right-side-container .forum-header-empty-icon{margin-right:.5em}.forum-header-root .forum-header-empty-icon{width:1.3em;height:1.3em;display:inline-block}",""]);const a=s},28193:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".social-modal-form .post-root-container{padding:1em 0}.social-modal-form label{display:flex;margin-bottom:1em;line-height:1.2;align-items:center}.social-modal-form label .label-text{display:inline-block;width:65px}.social-modal-form label>input{flex:1;font-size:inherit;line-height:inherit;margin:.5em;height:auto}.social-modal-form .image-upload-container{display:flex;align-items:center;justify-content:center;border:2px #000 dashed;padding:2em;text-align:center;margin-bottom:1.5em;outline:none}.social-modal-form .social-modal-form-image{max-width:100%;max-height:85vh;text-align:center;display:block;margin:1.5em auto}.social-modal-form .social-modal-form-round-image{border-radius:50%}.social-modal-form .social-modal-cropp-container{display:flex;margin-bottom:.5em}.social-modal-form .social-modal-cropp-container .social-modal-cropp-column{flex:1 1 0;text-align:center}.social-modal-form .social-modal-cropp-container .social-modal-cropp-column+.social-modal-cropp-column{margin-left:.5em}.social-modal-form.image-upload-form .social-modal-form-image{max-height:60vh}.social-email-notifications-form label{cursor:pointer;user-select:none}.social-email-notifications-form label input{margin-left:0;margin-right:.5em}",""]);const a=s},63682:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".notifications-indicator-root{position:relative;background-color:#e44e46;width:1.3em;height:1.3em;border-radius:50%;-webkit-user-select:none;-moz-user-select:moz-none;-ms-user-select:none;user-select:none;cursor:pointer;color:#fff;display:inline-block;margin-left:.5em}.notifications-indicator-root:active{background-color:#d8291f}.notifications-indicator-root .notifications-indicator-label{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:80%;line-height:0}",""]);const a=s},87032:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'.post-footer-root{font-size:80%;color:gray;text-align:left;position:relative;padding-left:.9em;user-select:none}.post-footer-root ._item+._item{margin-left:.5em}.post-footer-root ._item+._item:before{content:"·";margin-right:.5em;text-decoration:none}.post-footer-root .clickable-link-like{color:inherit;text-decoration:none;padding:0;margin:0}.post-footer-root .clickable-link-like:hover{text-decoration:none}.post-footer-root .clickable-link-like:hover span,.post-footer-root .clickable-link-like.selected span{text-decoration:underline}.post-footer-root .open-post-location-link:hover span{text-decoration:underline}.post-footer-root .post-footer-upvote-counter{position:absolute;top:0;right:0;font-weight:bold;font-size:14px;padding:.2em .5em;margin:0 .5em;background-color:#f3f3f3;user-select:none;display:inline-block;transform:translateY(-50%)}.post-footer-root .post-footer-upvote-counter.negative{background-color:#be6464;color:#fff}.post-footer-root .post-footer-upvote-counter.positive{background-color:#67a73d;color:#fff}.post-footer-root .post-footer-votes-icon{margin-right:.5em}@media screen and (max-width: 400px){.post-footer-root .post-footer-votes-icon{display:none}}.post-footer-root .clickable-link-like.selected .upvote-downvote-icon,.post-footer-root .clickable-link-like.selected .edit-suggestion-icon{color:#000}.post-footer-root .clickable-link-like.selected .spam-icon{color:red}.post-footer-root .clickable-link-like.not-clickable{cursor:default}@media screen and (max-width: 500px){.post-footer-root .post-footer-spam-container{display:none}}.post-footer-root .post-footer-spam-container i{cursor:pointer}.post-footer-root .upvote-downvote-icon{display:none;color:gray}.post-footer-root .go-to-location-icon{display:none}@media screen and (max-width: 600px){.post-footer-root .go-to-location-label{display:none}.post-footer-root .go-to-location-icon{display:inline-block}}@media screen and (max-width: 400px){.post-footer-root .upvote-downvote-label{display:none}.post-footer-root .upvote-downvote-icon{display:inline-block}}.discussions-container-small .post-footer-root .go-to-location-label{display:none}.discussions-container-small .post-footer-root .go-to-location-icon{display:inline-block}',""]);const a=s},40089:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".post-input-root{clear:both;display:block;width:100%;border-top:1px solid #d3d3d3}.post-input-root .post-input-content-container{display:flex;width:100%}.post-input-root .post-input-content-container>*:last-child{flex:1}.post-input-root textarea,.post-input-root .previewable-markdown-editor-preview-container{padding:0 4em 0 2px}.post-input-root .post-input-content-container .previewable-markdown-editor-wrapper{padding:.643em}@media screen and (max-width: 400px){.post-input-root .post-input-show-text-commands-icon{display:none}}.post-input-root .non-selectable{color:gray;font-size:80%}.post-input-root .text-edit-controls-root .text-edit-controls-commands-container{margin-left:50px;border:1px solid #d3d3d3;border-bottom:none}",""]);const a=s},92617:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'.previewable-markdown-editor-root .previewable-markdown-editor-wrapper{border:1px solid #d3d3d3;position:relative;padding:.5em;background:#fff}.previewable-markdown-editor-root .previewable-markdown-editor-wrapper.is-previewing{max-width:auto;overflow-x:auto}.previewable-markdown-editor-root .previewable-markdown-editor-wrapper.has-arrow-tip:after,.previewable-markdown-editor-root .previewable-markdown-editor-wrapper.has-arrow-tip:before{right:100%;top:18px;border:solid rgba(0,0,0,0);content:" ";height:0;width:0;position:absolute;pointer-events:none}.previewable-markdown-editor-root .previewable-markdown-editor-wrapper.has-arrow-tip:after{border-color:rgba(136,183,213,0);border-right-color:#fff;border-width:7px;margin-top:-7px}.previewable-markdown-editor-root .previewable-markdown-editor-wrapper.has-arrow-tip:before{border-color:rgba(194,225,245,0);border-right-color:#c8ccd0;border-width:8px;margin-top:-8px}.previewable-markdown-editor-root .previewable-markdown-editor-wrapper.has-error{border-color:red}.previewable-markdown-editor-root p:first-of-type{margin-top:0}.previewable-markdown-editor-root p:last-of-type{margin-bottom:0}.previewable-markdown-editor-root textarea,.previewable-markdown-editor-root .previewable-markdown-editor-preview-container{width:100%;resize:none;font-size:inherit;font-family:inherit;line-height:18px;outline:none;border:none;padding:0 4em 0 2px;margin:0;min-height:18px;box-shadow:none}.previewable-markdown-editor-root textarea:focus{background:initial}.previewable-markdown-editor-root .previewable-markdown-editor-preview-container img{width:100%}.previewable-markdown-editor-root .previewable-markdown-editor-preview-container-hidden,.previewable-markdown-editor-root .previewable-markdown-editor-textarea-container-hidden{display:none}.previewable-markdown-editor-root .previewable-markdown-editor-input-commands-container{position:absolute;bottom:.5em;right:.5em;color:#616770}.previewable-markdown-editor-root .previewable-markdown-editor-input-commands-container i{cursor:pointer;margin:.1em .5em;line-height:18px}.previewable-markdown-editor-root .previewable-markdown-editor-input-commands-container i.selected{color:#333}',""]);const a=s},5576:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".text-edit-controls-root{transition:max-height .15s ease-in-out}.text-edit-controls-root .text-edit-controls-commands-container{background-color:#f9f9f9;padding:.25em 0;overflow:hidden}.text-edit-controls-root .text-edit-controls-commands-container .fa{cursor:pointer;margin:.5em}.text-edit-controls-root .text-edit-controls-preview-link{float:right;margin:.2em .5em}@media screen and (max-width: 400px){.text-edit-controls-root{display:none}}",""]);const a=s},54064:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'.thread-input-root{clear:both;display:flex;flex:none;border-top:1px solid #d3d3d3}.thread-input-root .previewable-markdown-editor-root{margin-bottom:.5em}.thread-input-root .previewable-markdown-editor-root textarea{line-height:20px;box-sizing:border-box}.thread-input-root .previewable-markdown-editor-preview-container{min-height:52px}.thread-input-root .thread-input-wrapper{position:relative;background:#f9f9f9;border:1px solid #c8ccd0;padding:1em}.thread-input-root .thread-input-wrapper:after,.thread-input-root .thread-input-wrapper:before{right:100%;top:18px;border:solid rgba(0,0,0,0);content:" ";height:0;width:0;position:absolute;pointer-events:none}.thread-input-root .thread-input-wrapper:after{border-color:rgba(136,183,213,0);border-right-color:#f9f9f9;border-width:7px;margin-top:-7px}.thread-input-root .thread-input-wrapper:before{border-color:rgba(194,225,245,0);border-right-color:#c8ccd0;border-width:8px;margin-top:-8px}.thread-input-root .thread-input-title-input{width:100%;font-size:inherit;font-family:inherit;line-height:20px;outline:none;border:1px solid #d3d3d3;margin:0;padding:.5em;box-shadow:none;box-sizing:border-box}@media screen and (max-width: 400px){.thread-input-root .thread-input-title-input{margin-bottom:.5em}}.thread-input-root .thread-input-title-input.has-error{border-color:red}.thread-input-root>*:last-child{flex:1}.thread-input-root .thread-create-post-footer{display:flex;justify-content:space-between;align-items:center;background:#f9f9f9}.thread-input-root .thread-create-post-footer .clickable-link-like{margin-left:.5em}@media screen and (max-width: 600px){.thread-input-root .thread-create-post-footer{font-size:80%}}@media screen and (max-width: 450px){.thread-input-root .thread-create-post-footer .info-link{display:none}}.thread-input-root .thread-create-post-footer .discussions-button{color:#fff;background-color:#3c67a2}.thread-input-root .thread-create-post-footer .discussions-button:hover{background-color:#355b8f}.thread-input-root .thread-create-post-footer .discussions-button:active{background-color:#27446a}',""]);const a=s},17056:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".time-ago-label{color:gray}",""]);const a=s},24262:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'.user-comment-root-container{display:flex;width:100%}.user-comment-root-container .user-comment-content-container{flex:1}.user-comment-root-container .user-comment-content-container p:first-of-type{margin-top:0}.user-comment-root-container .user-comment-content-container p:last-of-type{margin-bottom:0}.user-comment-root-container .user-comment-text-container img{width:100%;cursor:pointer}.user-comment-root-container .user-comment-text-container .label-separator{margin:0 .25em}.user-comment-root-container .user-comment-text-container code{display:block;background-color:#fff;padding:.5em}.user-comment-root-container .user-comment-thread-header{margin-bottom:.5em}.user-comment-root-container .user-comment-thread-title{font-weight:bold;display:inline-block}.user-comment-root-container .user-comment-text-container{position:relative;background-color:#f3f3f3;padding:.608em;border:1px solid rgba(0,0,0,0);overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;-webkit-hyphenate-character:"-"}.user-comment-root-container .user-comment-text-container pre{white-space:pre-wrap}.user-comment-root-container .user-comment-text-container.emphasized{border-color:#fecb2f}',""]);const a=s},67766:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".element-forum-root{cursor:pointer;position:relative;display:flex;justify-content:space-between;align-items:center}.element-forum-root a{text-decoration:none}.element-forum-root .element-forum-minimize-button{cursor:pointer;float:right}.element-forum-root .element-forum-footer{font-size:80%}.element-forum-root .inconspicuous-text{color:gray}",""]);const a=s},24397:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".post-root-container{padding:.5em 0 .5em .5em}.post-root-container>.post-input-root{margin-bottom:0}.post-root-container.is-being-synced{opacity:.5}",""]);const a=s},48951:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".product-forum-root{font-size:14px;color:#333;background-color:#fff;border-left:1px solid #d3d3d3;display:flex;flex-direction:column;height:100%}.product-forum-root .clickable-link-like{cursor:pointer}.product-forum-root .clickable-link-like:hover{text-decoration:underline}.product-forum-root .forum-loading-container{text-align:center;border-top:1px solid #d3d3d3}.product-forum-root:not(.forum-header-showing-search)>.social-message-container{border-top:1px solid #d3d3d3}.product-forum-root>.social-scrollable-container{flex:1 1 auto;overflow-y:auto;overscroll-behavior-y:none;-webkit-overflow-scrolling:touch;-ms-scroll-chaining:none}.product-forum-root a{color:#3c67a2}.product-forum-root>ul,.product-forum-root .social-scrollable-container ul{list-style:none;margin:0;padding:0}.product-forum-root .user-comment-content-container .user-comment-text-container ul{list-style:disc;padding-left:2em}.product-forum-root ul{font-size:inherit}.product-forum-root p{font-size:inherit;line-height:inherit}.product-forum-root code{color:#333;background-color:initial;border:none;border-width:1px;padding:0}.product-forum-root .non-selectable{color:gray;font-size:80%;user-select:none;cursor:default}.product-forum-root .discussions-button{display:inline-block;text-align:center;color:#3c3c3c;background-color:#fff;padding:.5em 1em;user-select:none;cursor:pointer;font-weight:400}.product-forum-root .thread-post-summary-root .thread-post-summary-open-thread-link{display:flex;align-items:center;cursor:pointer;user-select:none}.product-forum-root .thread-post-summary-root .thread-post-summary-open-thread-link .avatar-container{margin-right:0;width:20px;height:20px;line-height:20px;font-size:70%}.product-forum-root .thread-post-summary-root .thread-post-summary-open-thread-link .avatar-container .avatar-image{width:20px;height:20px;line-height:20px}.product-forum-root .thread-post-summary-root .thread-post-summary-open-thread-link .avatar-container .user-online-status{width:7px;height:7px;border-width:1px}.product-forum-root .thread-post-summary-root .thread-post-summary-open-thread-link:hover .clickable-link-like{text-decoration:underline}.product-forum-root .label-separator{margin:0 .4em}.product-forum-root a{color:#3c67a2;text-decoration:none}.product-forum-root .user-comment-content-container .post-input-root{padding:.5em 0 .5em .5em;border-top:none;margin-bottom:0}.product-forum-root .post-root-container .post-input-root{padding:0}.product-forum-root .syncing-frame{position:absolute;top:0;left:0;right:0;bottom:0}.product-forum-root .product-forum-summary-title .label-separator,.product-forum-root .element-forum-title .label-separator{margin:0 .25em}.product-forum-root .thread-root-container,.product-forum-root .post-input-root,.product-forum-root .forum-header-root .forum-header-input-container,.product-forum-root .thread-input-root,.product-forum-root .threads-summary-root{padding-left:1em;padding-right:1em}.product-forum-root .forum-header-root .forum-header,.product-forum-root .product-forum-summary-root,.product-forum-root .element-forum-root,.product-forum-root .social-message-container,.product-forum-root .social-search-link,.product-forum-root .toggle-livebooks-link{padding:1em}.product-forum-root .post-input-root,.product-forum-root .thread-input-root{margin-bottom:1em;padding-top:1em}.product-forum-root .post-input-sign-in-root,.product-forum-root .thread-input-sign-in-root{padding:.5em 0;margin-bottom:0}.product-forum-root .thread-root-container,.product-forum-root .threads-summary-root{padding-top:1em}.product-forum-root .thread-root-container:last-child,.product-forum-root .threads-summary-root:last-child{padding-bottom:1em}.product-forum-root .forum-loading-container{padding-top:1em}.product-forum-root .user-comment-root-container .avatar-container,.product-forum-root .post-input-content-container>.avatar-container,.product-forum-root .thread-input-root>.avatar-container{margin-right:1em}.product-forum-root .element-forum-root:nth-child(2n),.product-forum-root .product-forum-summary-root:nth-child(2n){background-color:#f8f8f8}.product-forum-root .element-forum-root:nth-child(2n):hover,.product-forum-root .product-forum-summary-root:nth-child(2n):hover{background-color:#dfdfdf}.product-forum-root .element-forum-root:nth-child(2n+1),.product-forum-root .product-forum-summary-root:nth-child(2n+1){background-color:#e8e8e8}.product-forum-root .element-forum-root:nth-child(2n+1):hover,.product-forum-root .product-forum-summary-root:nth-child(2n+1):hover{background-color:#dbdbdb}.product-forum-root .social-message-container{padding:1em;font-style:italic;color:gray}.product-forum-root .loading-more-results{padding:1em;color:gray;user-select:none;display:flex;align-items:center;justify-content:center}.product-forum-root .social-search-link,.product-forum-root .toggle-livebooks-link{padding:1em;cursor:pointer;color:gray;user-select:none}.product-forum-root .social-search-link:hover,.product-forum-root .toggle-livebooks-link:hover{text-decoration:underline}.product-forum-root .toggle-livebooks-link{text-align:center;background-color:#3c67a2;color:#fff}.product-forum-root .forum-footer-commands-container{padding:1em;background-color:#3c67a2;color:#fff;cursor:pointer;user-select:none;text-align:center}.product-forum-root .forum-footer-commands-container:active{background:#2e4f7d}.product-forum-root .forum-footer-commands-container:hover{text-decoration:underline}.forum-not-seen-indicator{position:absolute;top:.5em;right:.5em;min-width:.5em;min-height:.5em;border-radius:50%;background-color:#67a73d}.forum-not-seen-indicator.extra-noticable-indicator{background-color:#e44e46}.discussion-sign-in-container{display:flex;align-items:center;justify-content:center}.discussion-sign-in-container>.discussion-sign-in-button{background-color:#3c67a2;color:#fff;padding:.5em 1em;cursor:pointer;user-select:none}.discussion-sign-in-container>.discussion-sign-in-button:hover{background-color:#355b8f}.discussion-sign-in-container>.discussion-sign-in-button:active{background-color:#2e4f7d}.discussion-not-allowed-container{display:flex;align-items:center;justify-content:center}.discussion-not-allowed-container>.discussion-not-allowed-container-button{background-color:#975050;color:#fff;padding:.5em 1em;cursor:no-drop;user-select:none}.discussion-not-allowed-container>.discussion-not-allowed-container-button:hover{background-color:#a76464}.discussion-not-allowed-container>.discussion-not-allowed-container-button:active{background-color:#8d4848}@supports(-webkit-touch-callout: none){.previewable-markdown-editor-root textarea,.thread-input-root .thread-input-title-input,.social-modal-form input,.forum-header-root .forum-header-input-container input{font-size:16px !important}}",""]);const a=s},10298:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".product-forum-summary-root{position:relative;cursor:pointer;display:flex;justify-content:space-between;align-items:center}.product-forum-summary-root .product-forum-summary-footer{font-size:80%}",""]);const a=s},55537:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".thread-root-container{position:relative}.thread-root-container.is-being-synced{opacity:.5}.thread-root-container>.post-input-root,.thread-root-container>.thread-input-root{margin-bottom:0;padding:0;border-top:none}",""]);const a=s},28622:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".thread-post-summary-root{font-size:80%;padding-left:1em;margin-top:.5em;display:flex;align-items:center}.thread-post-summary-root .open-thread-icon{margin-right:.5em;transform:rotate(180deg);cursor:pointer}.thread-post-summary-root .thread-post-summary-user-name{margin-left:.5em}@media screen and (max-width: 400px){.thread-post-summary-root .thread-post-summary-user-name{display:none}}.thread-post-summary-root .non-selectable{color:gray}.thread-post-summary-root>.clickable-link-like{display:flex;align-items:center}.thread-post-summary-root .avatar-container .star-icon{width:10px}",""]);const a=s},25369:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".threads-summary-root{cursor:pointer;font-size:80%}.threads-summary-root .avatar-container{margin:0 .5em;width:20px;height:20px;line-height:20px;display:inline-block;font-size:70%}.threads-summary-root .avatar-container .avatar-image{width:20px;height:20px;line-height:20px}.threads-summary-root .avatar-container .user-online-status{width:7px;height:7px;border-width:1px}.threads-summary-root:hover .clickable-link-like{text-decoration:underline}",""]);const a=s},2913:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,"body.night-mode .advanced-tabs-root .advanced-tab{color:#b9b9ad}body.night-mode .advanced-tabs-root .advanced-tab:hover:not(.active),body.night-mode .advanced-tabs-root .advanced-tab:focus:not(.active){color:#b9b9ad}body.night-mode .advanced-tabs-root .advanced-tab.active{color:#b9b9ad}body.night-mode .advanced-tabs-root .advanced-tabs-commands-container button{color:#b9b9ad;background-color:#2e3436}body.night-mode .advanced-tabs-root .advanced-tabs-commands-container button.selected{visibility:hidden}body.night-mode .advanced-tabs-root .advanced-tab.my-products{color:#4a8dd6}body.night-mode .advanced-tabs-root .advanced-tab.my-products:hover:not(.active),body.night-mode .advanced-tabs-root .advanced-tab.my-products:focus:not(.active){color:#4a8dd6}body.night-mode .advanced-tabs-root .advanced-tab.my-products.active{color:#4a8dd6}.advanced-tabs-root{padding-top:15px;position:relative;display:flex;align-items:center;justify-content:space-between;box-sizing:border-box}@media screen and (max-width: 675px){.advanced-tabs-root{padding-left:0;padding-top:0}}.advanced-tabs-root .advanced-tabs-item{position:relative}.advanced-tabs-root .advanced-tabs-item .tour-item-root{position:absolute;z-index:2;top:50px;width:250px;opacity:0;transform:translateY(40px);transition:opacity .25s ease-out,transform .25s ease-out}.advanced-tabs-root .advanced-tabs-item .tour-item-root.appear{opacity:1;transform:translateY(0)}@media(min-width: 531px){.advanced-tabs-root .advanced-tabs-item .tour-item-root .tour-item-container:after{left:25px;right:unset}}@media(max-width: 530px){.advanced-tabs-root .advanced-tabs-item .tour-item-root{transform:translateX(-66%)}.advanced-tabs-root .advanced-tabs-item .tour-item-root.appear{transform:translate(-66%, 0)}.advanced-tabs-root .advanced-tabs-item .tour-item-root .tour-item-container:after{right:50px}}.advanced-tabs-root .advanced-tabs-container{height:40px;display:flex;align-items:flex-end;flex:1;border-bottom:1px solid #c4c4c4}.advanced-tabs-root .advanced-tab-filter-button{max-width:105px;align-self:flex-end}.advanced-tabs-root.extended-sort-filter-buttons .advanced-tab-filter-button,.advanced-tabs-root.extended-sort-filter-buttons .advanced-tab-sort-button{max-width:120px;text-align:right}.advanced-tabs-root .advanced-tabs-commands-container{position:absolute;right:-15px;display:flex;top:22px;flex-direction:column;z-index:1}.advanced-tabs-root .advanced-tabs-commands-container button{margin:0;border:none;background:none;font-family:inherit;background-color:#fff;font-size:14px;font-weight:300;padding:.5em 1em;border:1px solid rgba(0,0,0,0);cursor:pointer;user-select:none;color:inherit}.advanced-tabs-root .advanced-tabs-commands-container button svg{margin-left:5px}.advanced-tabs-root .advanced-tabs-commands-container button .fa{margin:0 5px}.advanced-tabs-root .advanced-tabs-commands-container button.selected{visibility:hidden}.advanced-tabs-root .advanced-tabs-commands-container button.invisible{visibility:hidden}.advanced-tabs-root .advanced-tabs-commands-container button:first-of-type{border-top-left-radius:4px;border-top-right-radius:4px}.advanced-tabs-root .advanced-tabs-commands-container button:last-of-type{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.advanced-tabs-root .advanced-tabs-commands-container button+button{margin-top:1px}@media screen and (max-width: 675px){.advanced-tabs-root .advanced-tabs-commands-container{top:5px;flex-direction:row}.advanced-tabs-root .advanced-tabs-commands-container button{padding:.5em;border-radius:unset !important}.advanced-tabs-root .advanced-tabs-commands-container button svg{margin-left:0}.advanced-tabs-root .advanced-tabs-commands-container button .fa{margin:0}.advanced-tabs-root .advanced-tabs-commands-container button span{display:none}}.advanced-tabs-root .advanced-tab{color:#828282;margin:0 0 -1px 0;border-radius:8px 8px 0 0;padding:6px 20px;height:48px;cursor:pointer;font-weight:300;user-select:none;background:none;border:none;font-size:15px;min-width:120px;text-align:center;font-family:inherit;border:1px solid rgba(0,0,0,0);white-space:nowrap;box-sizing:border-box}.advanced-tabs-root .advanced-tab .close-tab{width:20px;height:20px;cursor:pointer}.advanced-tabs-root .advanced-tab:hover:not(.active),.advanced-tabs-root .advanced-tab:focus:not(.active){color:#828282}.advanced-tabs-root .advanced-tab.active{font-weight:bold;color:#828282;border-color:#c4c4c4;border-bottom-color:#fff}.advanced-tabs-root .advanced-tab:focus{outline:none}@media screen and (max-width: 675px){.advanced-tabs-root .advanced-tab{margin:0 .1em -1px .1em;height:30px;min-width:105px;padding:6px}.advanced-tabs-root .advanced-tab:first-child{min-width:70px}}.advanced-tabs-root .advanced-tab.my-products{color:#4a8dd6}",""]);const a=s},26677:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".zoom-controls{position:absolute;top:0;left:0;z-index:10;margin-top:25px;margin-left:25px}.zoom-controls-zoom-out{position:relative;top:10px}.zoom-control-buttons :hover{transform:scale(1.1)}.geo-map-container{position:relative;border-radius:5px}.geo-map-main-container{width:100%}.geo-map-container>svg{position:relative;box-shadow:-10px 6px 22px rgba(186,185,208,.3960784314);border-radius:5px}",""]);const a=s},4430:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".histogram-root{margin:1em 0}.histogram-root .histogram-item{height:5px;width:24px;background:gray;margin:1px;box-sizing:border-box;color-adjust:exact;-webkit-print-color-adjust:exact}.histogram-root .histogram-item.empty-histogram-item{background:rgba(0,0,0,0)}.histogram-root .histogram-y-axis{display:flex}.histogram-root .histogram-x-axis{display:flex}.histogram-root .histogram-x-axis .histogram-x-axis-value-container{width:26px;flex:26px 0 0;text-align:center}",""]);const a=s},32757:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'@keyframes placeHolderShimmer{0%{background-position:100% 0}100%{background-position:-100% 0}}.livebook-loader-root{min-width:270px}.livebook-loader-root .placeholder{background-color:#eee;display:flex;margin:5px 0;line-height:16px}.livebook-loader-root h1,.livebook-loader-root h2,.livebook-loader-root h3,.livebook-loader-root h4,.livebook-loader-root h5{font-weight:bold;color:inherit;text-transform:none}.livebook-loader-root h1{line-height:30px}.livebook-loader-root h1{font-size:2em;border-bottom:none}.livebook-loader-root h2{font-size:1.5em}.livebook-loader-root h3{font-size:1.3em}.livebook-loader-root h4{font-size:1.1em}.livebook-loader-root h5{font-size:1em}.livebook-loader-root .loading-page-image-placeholder{padding:0;background:url("https://lx-common-resources.s3-us-west-2.amazonaws.com/resources/cover.png");height:180px;margin:1em 8%;background-repeat:no-repeat;background-position-x:center;background-color:#d5d6db;background-position-y:-80px}.livebook-loader-root .placeholder-animated-background{width:100%;animation-duration:1.25s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:placeHolderShimmer;animation-timing-function:linear;background:#a9a9a9;background:linear-gradient(to right, #eeeeee 10%, #dddddd 18%, #eeeeee 33%);background-size:1100px 104px;position:relative}',""]);const a=s},63919:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".loading-button{cursor:pointer;user-select:none;-webkit-user-select:none;background-color:#3c67a2;border-radius:6px;color:#fff;text-align:center !important;padding:3px 10px !important;border:1px solid rgba(0,0,0,0)}.loading-button:hover{background-color:#355b8f}.loading-button:active{background-color:#2e4f7d}.loading-button .loading-button-spinner{margin:.2em 0}",""]);const a=s},881:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,'body.night-mode .product-collection-root .scroll-area-top-background,body.night-mode .product-collection-root .scroll-area-bottom-background{filter:invert(0.9)}.product-collection-root{position:relative}.product-collection-root .product-collection-footer{display:flex;align-items:center;justify-content:center;position:absolute;bottom:0;left:0;right:0;margin:0;background:#fff;list-style:none}.product-collection-root .product-collection-footer .break{margin:0 5px}.product-collection-root .product-collection-footer .previous{margin-right:5px;cursor:pointer;user-select:none;-webkit-user-select:none}.product-collection-root .product-collection-footer .next{margin-left:5px;cursor:pointer;user-select:none;-webkit-user-select:none}.product-collection-root .product-collection-footer .product-collection-footer-item{padding:.5em;background-color:#d3d3d3;color:inherit;text-decoration:none;cursor:pointer}.product-collection-root .product-collection-footer .product-collection-footer-item+.product-collection-footer-item{margin-left:5px}.product-collection-root .product-collection-footer .product-collection-footer-item:hover{background-color:#c6c6c6}.product-collection-root .product-collection-footer .product-collection-footer-item:action{background-color:#bababa}.product-collection-root .product-collection-footer .product-collection-footer-item.selected{background-color:#4087d4;color:#fff}.product-collection-root.vertical-list .product-collection-container{max-height:350px}.product-collection-root.vertical-list .product-root{display:flex;width:100%;margin-bottom:15px}.product-collection-root.vertical-list .product-root:nth-child(even),.product-collection-root.vertical-list .product-root:nth-child(odd){padding:0}.product-collection-root.vertical-list .product-root:last-child{margin-bottom:0}.product-collection-root.vertical-list .product-root .product-rating-tags-container{width:100%;max-width:100%;margin-left:0}.product-collection-root.vertical-list .product-root .product-cover{flex:0 0 105px}.product-collection-root.vertical-list .product-root .product-cover .book-cover{max-width:105px;border-radius:4px}.product-collection-root .product-collection-inner-container{padding-bottom:40px}.product-collection-root .scroll-area-top-background,.product-collection-root .scroll-area-bottom-background{left:-15px;right:-15px}@media screen and (min-width: 676px){.product-collection-root .scroll-area-top-background,.product-collection-root .scroll-area-bottom-background{display:none !important}}.product-collection-root .product-date{white-space:nowrap}.product-collection-root .product-rating-tags-container{max-width:50%;text-align:right;align-self:center}.product-collection-root .product-price-ownership-info-container+.product-rating-tags-container{margin-left:1em;display:grid;grid-template-columns:auto auto;column-gap:10px;justify-content:center;position:relative;align-items:flex-start}.product-collection-root .product-price-ownership-info-container+.product-rating-tags-container .product-certificate-badge{border-radius:50%;align-self:center;margin-bottom:2px;box-shadow:0px 0px 5px 0px rgba(0,0,0,.5);-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.5);-moz-box-shadow:0px 0px 5px 0px rgba(0,0,0,.5)}.product-collection-root .product-ownership-label{font-size:12px;line-height:14px;color:#fff;background:#478cd5;border-radius:3px;user-select:none;padding:1px 7px;margin-right:.5em;font-weight:400;white-space:nowrap}.product-collection-root .product-ownership-label .product-ownership-label-icon{display:none}@media screen and (min-width: 726px)and (max-width: 800px){.product-collection-root .product-ownership-label .product-ownership-label-text{display:none}.product-collection-root .product-ownership-label .product-ownership-label-icon{display:inline-block}}@media screen and (max-width: 405px){.product-collection-root .product-ownership-label .product-ownership-label-text{display:none}.product-collection-root .product-ownership-label .product-ownership-label-icon{display:inline-block}}.product-collection-root .scroll-area-top-background{position:absolute;display:block;top:0;left:0;right:0;height:62px;z-index:1;background:linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #ffffff 88.02%);transform:matrix(1, 0, 0, -1, 0, 0);transition:opacity .2s ease-in-out;opacity:0;pointer-events:none}.product-collection-root .scroll-top-background-shown .scroll-area-top-background{opacity:1}.product-collection-root .scroll-area-bottom-background{position:absolute;bottom:0;left:0;right:0;height:62px;z-index:1;background:linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #ffffff 88.02%);transform:matrix(-1, 0, 0, 1, 0, 0);transition:opacity .2s ease-in-out;opacity:0;pointer-events:none}.product-collection-root .scroll-bottom-background-shown .scroll-area-bottom-background{opacity:1}.product-collection-container{overflow-y:auto;overflow-x:hidden;scroll-snap-type:y;height:calc(100vh - 196px)}@media screen and (max-width: 675px){.product-collection-container{height:calc(100vh - 115px)}}@media screen and (max-width: 725px){.product-collection-container{display:block}}.product-collection-container .product-collection-message-container{padding:50px 50px 50px 0}.product-collection-container .product-root{display:inline-flex;align-items:flex-start;text-decoration:none;box-sizing:border-box;width:50%;box-sizing:border-box;padding-top:50px;vertical-align:top}.product-collection-container .product-root .loader-text-line{max-width:250px}.product-collection-container .product-root .loader-text-line+.loader-text-line{min-width:270px}@supports(-webkit-touch-callout: none){.product-collection-container .product-root:last-of-type{padding-bottom:115px}}.product-collection-container .product-root:nth-child(odd){padding-right:25px}.product-collection-container .product-root:nth-child(even){padding-left:25px;padding-right:15px}@media screen and (max-width: 725px){.product-collection-container .product-root{width:100%;padding-top:30px}.product-collection-container .product-root:nth-child(odd){padding-right:15px}.product-collection-container .product-root:nth-child(even){padding-left:0}}@media(max-width: 835px){.product-collection-container .product-root{scroll-snap-align:start}}.product-collection-container .product-root .product-cover{position:relative;flex:0 0 105px;position:relative;display:table}.product-collection-container .product-root .product-cover.wide-cover{flex:0 0 185px}.product-collection-container .product-root .product-details{overflow-x:hidden;padding-left:20px;padding-right:40px;box-sizing:border-box;width:100%;font-weight:300;font-size:16px}@media screen and (max-width: 950px){.product-collection-container .product-root .product-details{padding-left:8px}}@media screen and (max-width: 800px){.product-collection-container .product-root .product-details{padding-right:0}}.product-collection-container .product-root .book-cover{width:100%;height:100%;border:solid thin #ddd;max-width:105px;box-sizing:border-box;display:inline-block;vertical-align:middle}.product-collection-container .product-root .book-cover.wide-cover{max-width:185px}.product-collection-container .product-root .product-edition{left:0;right:0;bottom:0;padding:.5em;font-size:12px;position:absolute;color:#67a73d;background:#d9e9cd;text-align:center}.product-collection-container .product-meta-info{font-weight:bold;font-size:12px;color:#828282;margin-top:10px;display:flex;align-items:center;justify-content:space-between}@media screen and (max-width: 380px){.product-collection-container .product-meta-info{font-size:10px}}@media screen and (max-width: 355px){.product-collection-container .product-meta-info{font-size:8px}}.product-collection-container .product-title{font-size:14px;line-height:16px;font-weight:700;text-decoration:none;display:block;max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:inherit;text-decoration:none}.product-collection-container .product-title strong{text-decoration:underline}@media screen and (max-width: 725px){.product-collection-container .product-title{max-width:90vw}}.product-collection-container .product-root.two-line-title .product-title{max-width:unset;white-space:normal;text-overflow:unset;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;height:32px;overflow:hidden}.product-collection-container .product-original-price{margin-right:.5em;position:relative;font-weight:300}.product-collection-container .product-original-price:before{position:absolute;content:"";left:-0.15em;top:calc(50% - 1px);right:-0.15em;border-top:2px solid gray;transform:rotate(-5deg)}.product-collection-container .product-free-label:after{content:"·";margin-left:.25em}.product-collection-container .product-description{line-height:18px;font-size:14px;font-weight:300;height:72px;text-overflow:ellipsis;overflow:hidden;margin-top:10px;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;font-weight:300;color:inherit;text-decoration:none}.product-collection-container .product-description p,.product-collection-container .product-description h1,.product-collection-container .product-description h2,.product-collection-container .product-description h3,.product-collection-container .product-description h4,.product-collection-container .product-description h5{margin:0}.product-collection-container .product-root.two-line-title .product-description{height:54px;-webkit-line-clamp:3}.product-collection-container .product-description.product-description-4lines{-webkit-line-clamp:4;color:#000 !important}.product-collection-container .product-description.product-description-4lines a{text-decoration:none !important;color:#000 !important}.product-collection-container .product-description.product-description-3lines{-webkit-line-clamp:4;color:#000 !important}.product-collection-container .product-description.product-description-3lines a{text-decoration:none !important;color:#000 !important}.product-collection-container .product-tags-root{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.product-collection-container .product-tag-label+.product-tag-label{margin-left:.5em}.product-collection-container .product-tag-label+.product-tag-label:before{content:"·";margin-right:.5em}.loader-text-line{width:100%;height:17px;margin-bottom:1px;animation-duration:1.8s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:textLimeShimmer;animation-timing-function:linear;background:#f6f7f8;background:linear-gradient(to right, #fafafa 8%, #f4f4f4 38%, #fafafa 54%);background-size:1000px 640px;position:relative}.loader-text-line:nth-child(2){width:80%}.loader-text-line:nth-child(3){width:85%}.loader-text-line:nth-child(4){width:75%}.loader-text-line:nth-child(5){width:90%}body.night-mode .loader-text-line{background:linear-gradient(to right, #b9b9ad 8%, #a2a291 38%, #b9b9ad 54%)}@keyframes textLimeShimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}.product-description-lp-link:hover{text-decoration:underline !important}',""]);const a=s},24122:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".product-cover-root{position:relative}.product-cover-root .liveaudio-corner{position:absolute;bottom:0;right:0;width:40%}.product-cover-root .liveaudio-corner svg{vertical-align:bottom}.draggable{cursor:grab}.draggable:active{cursor:grabbing}",""]);const a=s},23945:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".side-menu-root .side-menu-header{font-family:Lato;font-style:normal;font-weight:300;line-height:17px;font-size:14px;display:flex;align-items:center;justify-content:space-between;padding:0;border-bottom:solid 1px #bebebe}.side-menu-root .side-menu-title .fa{margin-left:7px}.side-menu-root .side-menu-close{padding:.5em;padding-right:6px;cursor:pointer}.side-menu-root>ul{margin-left:0;padding-left:0}.side-menu-root>ul>li{list-style:none;font-style:normal;font-weight:300;font-size:14px;height:32px;box-sizing:border-box;border-radius:4px;padding:5px;user-select:none;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.side-menu-root>ul>li:hover{cursor:pointer;background:rgba(0,0,0,.04)}.side-menu-root>ul>li:active{background:rgba(0,0,0,.1)}.side-menu-root>ul>li.selected{font-weight:bold}",""]);const a=s},30091:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".pyramid-chart-container{width:340px;flex:340px 0 0;z-index:1}.pyramid-chart-container .pyramid-chart-slice{margin:0;transition:all .5s ease}.pyramid-chart-container .pyramid-chart-slice:nth-child(odd){background:blue}.pyramid-chart-container .pyramid-chart-slice__edit-mode{cursor:pointer}.pyramid-information-container{width:calc(800px - 340px);height:340px;padding:0;margin:auto;display:flex;flex-direction:column;justify-content:space-evenly;height:calc(340px * 0.866)}.pyramid-information-container__edit-mode{display:none}.pyramid-information-container--element{height:calc((340px * 0.866)/6);display:flex;align-items:center;padding-left:20px;flex-direction:column;align-items:flex-start;justify-content:center;cursor:pointer}.pyramid-information-container--element .pyramid-information-container--element-description{font-family:inherit;font-size:16px;line-height:18px}.skill-pyramid-wrapper{vertical-align:top;display:inline-block;width:100%;height:340px;padding:0;display:flex;align-items:center;max-width:95vw;overflow:auto}.pyramid-information-edit-mode-info{width:calc(800px - 340px);display:flex;justify-content:flex-start;align-items:flex-end;z-index:0;margin-left:-170px}.pyramid-information-edit-mode-info .pyramid-information-edit-mode-info--selection{width:180px;transition:all .3s;position:relative;margin-bottom:2px}.pyramid-information-edit-mode-info .pyramid-information-edit-mode-info--selection .pyramid-information-edit-mode-info--selection-border{width:100%;height:1px;border-bottom:dashed 2px #5998e5;transform:translateY(1.5px)}.pyramid-information-edit-mode-info .pyramid-information-edit-mode-info--selection .pyramid-information-edit-mode-info--selection-point{position:absolute;left:100%;width:14px;height:14px;background-color:#5998e5;z-index:2;border-radius:50%;transform:translate(-8px, -6px)}.pyramid-information-edit-mode-info .pyramid-information-edit-mode-info--selection .pyramid-information-edit-mode-info--selection-inner{width:100%;height:100%;opacity:.5;background:rgba(0,0,0,0) linear-gradient(180deg, #3C7CCC 0%, #4788D9 25%, #5998E5 100%) 0% 0% no-repeat padding-box}.pyramid-information-edit-mode-info--level-info{min-height:167px;width:calc(100% - 180px);padding-left:10px;display:flex;flex-direction:column;justify-content:flex-end}.pyramid-information-container--element-level{font-family:inherit;font-weight:bold;font-size:18px;line-height:22px;transition:all .3s}.pyramid-information-container--element-level__alt{font-family:inherit;font-weight:bold;font-size:16px;line-height:22px;transition:all .3s}.pyramid-information-container--element-title{font-family:inherit;letter-spacing:0;color:#2b2b2b;font-size:16px;line-height:22px}.pyramid-information-container--element-subtitle{font-family:inherit;letter-spacing:0;color:dimgray;font-size:15px;line-height:22px}.pyramid-information-edit-mode-info--level-info-inner-container{display:flex;flex-direction:column;justify-content:flex-start}.pyramid-information-user-skill-label{font-family:inherit;text-align:left;font-size:20px;line-height:24px;letter-spacing:0;color:#2b2b2b;margin-bottom:10px}.pyramid-information-user-skill-label--title{font-family:inherit;color:#2b2b2b;font-size:16px;line-height:22px}@media(max-width: 670px){.pyramid-information-container--element-title{font-size:14px}.pyramid-information-container--element .pyramid-information-container--element-description{font-size:12px}}@media(max-width: 600px){.pyramid-information-container{display:none}}@media(max-width: 470px){.skill-pyramid-wrapper{transform:scale(0.8)}}",""]);const a=s},49320:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".tag-root{border:1px solid #000;background:none;font:inherit;margin:0;color:#000;box-sizing:border-box;border-radius:18px;padding:10px 20px;display:inline-flex;align-items:center;font-size:14px;user-select:none;-webkit-user-select:none;opacity:1;transition:margin-left .2s ease-in,opacity .2s ease-in}.tag-root .tag-separator{border-left:1px solid #c4c4c4;line-height:20px;height:20px;width:1px;margin-left:8px}.tag-root.deemphasized{border-color:#bdbdbd;color:#828282}.tag-root.clickable{cursor:pointer}.tag-root.clickable.deemphasized:hover{background:#ececec}.tag-root.clickable.deemphasized:active{background:#e0e0e0}.tag-root:not(.clickable) .tag-root-label{cursor:default;color:#4f4f4f}.tag-root svg,.tag-root .fa{padding:5px 5px 5px 10px;margin-right:-5px;cursor:pointer;box-sizing:content-box}.tag-root.dissapear-left{margin-left:-100px !important;opacity:0}",""]);const a=s},71279:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".tag-editor-root{display:flex;flex-wrap:wrap;position:relative;align-items:center;gap:5px}.tag-editor-root .tag-root{height:40px}.tag-editor-root .search-box-wrapper{position:relative;margin:5px 5px 5px 0;border:1px solid #000;border-radius:25px}.tag-editor-root .search-box-wrapper svg{position:absolute;top:50%;transform:translateY(-50%);padding-left:20px;box-sizing:content-box}.tag-editor-root .search-box{height:44px;background:#f9f9f9;border:1px solid #f9f9f9;box-sizing:border-box;border-radius:53px;font-size:16px;line-height:28px;padding:0 0 0 50px;margin:0}.tag-editor-root .search-box:focus{outline:none;border-color:#4087d4}.tag-editor-root .suggested-tags-container{position:absolute;background:#f9f9f9;opacity:.95;border-radius:24px;min-height:60px;display:flex;flex-wrap:wrap;align-items:center;z-index:1;padding:5px}.tag-editor-root .suggested-tags-container .tag-root{margin:5px}",""]);const a=s},44477:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8081),r=o.n(n),i=o(23645),s=o.n(i)()(r());s.push([e.id,".user-profile-root{width:1200px;margin:0 auto;max-width:95vw;position:relative}.user-profile-root .user-profile-privacy-container{max-width:80vw}.user-profile-root .tag-editor-root{margin-top:15px}.user-profile-root ._beta-message{font-size:18px;line-height:22px;color:#333;margin-bottom:40px}.user-profile-root fieldset{margin:0;padding:0;border:none}.user-profile-root .user-profile-personal-info-section{display:flex}@media(max-width: 960px){.user-profile-root .user-profile-personal-info-section{flex-direction:column}.user-profile-root .user-profile-personal-info-section .user-profile-privacy-info-container{order:1;margin-left:0;margin-bottom:40px}.user-profile-root .user-profile-personal-info-section .user-profile-personal-info-container{order:2}}.user-profile-root .user-profile-user-picture-container{display:flex;align-items:center}.user-profile-root .user-profile-name-change-photo-container button{border:none;background:none;font:inherit;font-weight:bold;font-size:14px;line-height:150%;text-decoration-line:underline;cursor:pointer;margin:0}.user-profile-root .user-profile-name-change-photo-container .user-profile-name-container{font-weight:300;font-size:24px;line-height:150%;color:#000}.user-profile-root .user-profile-privacy-info-container{flex:320px 0 0;margin-left:100px}.user-profile-root .user-profile-personal-info-container>div,.user-profile-root .user-profile-section>div{margin-bottom:40px}@media(min-width: 530px){.user-profile-root ._two-columns{display:flex}.user-profile-root ._two-columns label+label{margin-left:30px}}.user-profile-root button[type=submit],.user-profile-root .user-profile-find-button{background:linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 100%),#4087d4;box-shadow:0px 0px 12px rgba(75,142,214,.3);border-radius:4px;padding:16px;font-size:15px;font-weight:bold;color:#fff;text-align:center;border:none;cursor:pointer}.user-profile-root button[type=submit]:hover,.user-profile-root .user-profile-find-button:hover{background:linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 100%),#2e7acc}.user-profile-root button[type=submit]:active,.user-profile-root .user-profile-find-button:active{background:linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 100%),#296eb8}.user-profile-root button[type=submit]{border-radius:28px}.user-profile-root button[type=submit]._dimmed{background:linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 100%),#90a7c0}.user-profile-root button[type=submit]._dimmed:hover{background:linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 100%),#809ab7}.user-profile-root button[type=submit]._dimmed:active{background:linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 100%),#6f8dae}.user-profile-root .user-profile-find-button{height:40px;line-height:40px;padding:0 16px;position:absolute;bottom:0;right:0}.user-profile-root .user-profile-location-label{position:relative}.user-profile-root .user-profile-location-label input[type=text]{padding-right:60px}.user-profile-root button[type=submit]{padding:16px;width:320px;max-width:80vw}.user-profile-root .user-profile-title-label{font-size:15px;line-height:24px;color:#4f4f4f;display:block}.user-profile-root .error-emphasized{font-weight:bold;color:red;text-decoration:underline}.user-profile-root .user-profile-subtitle-label{font-size:12px;line-height:28px;letter-spacing:.2px;color:#737373}.user-profile-root label{font-size:15px;line-height:24px;font-weight:400;color:#4f4f4f;display:block}.user-profile-root label input[type=text],.user-profile-root label input[type=email]{display:block;height:40px;line-height:40px;width:100%;padding:0 20px 0 20px;background:#f9f9f9;border:1px solid #e6e6e6;box-sizing:border-box;border-radius:5px;font-size:16px;margin-top:18px;font-family:inherit}.user-profile-root label textarea{display:block;width:100%;max-width:596px;background:#f9f9f9;border:1px solid #e6e6e6;box-sizing:border-box;border-radius:5px;font-size:16px;margin-top:18px;font-family:inherit;padding:20px}.user-profile-root .user-profile-privacy-label{margin:34px 0 20px 0}.user-profile-root .user-profile-privacy-info-label{font-size:12px;line-height:20px;color:#737373;margin-top:15px}.user-profile-root .user-profile-checkbox-containers{margin-top:40px}.user-profile-root .user-profile-checkbox-containers label{display:flex;align-items:baseline;cursor:pointer;user-select:none;font-size:15px;line-height:22px;font-weight:400;color:#737373}.user-profile-root .user-profile-checkbox-containers label input[type=checkbox]{margin-right:12px}.user-profile-root .user-profile-checkbox-containers label+label{margin-top:15px}.user-profile-root .user-profile-skills-buttons button{margin:0;margin-top:20px;height:36px;line-height:36px;border:1px solid #b6c8df;box-sizing:border-box;border-radius:8px;color:#c5c8d7;background:none;padding:0 10px;font:inherit;cursor:pointer}.user-profile-root .user-profile-skills-buttons button:hover{background:#5a97da;color:#fff}.user-profile-root .user-profile-skills-buttons button:active{background:#307dd0}.user-profile-root .user-profile-skills-buttons button.active{background:#458ad5;border:1px solid #b6c8df;box-sizing:border-box;border-radius:8px;color:#fff}.user-profile-root .user-profile-skills-buttons button+button{margin-left:10px}.user-profile-root .user-profile-update-row{text-align:right;position:fixed;bottom:0;left:0;right:0;z-index:1}@media(max-width: 960px){.user-profile-root .user-profile-update-row{text-align:center}}",""]);const a=s},89859:(e,t,o)=>{"use strict";var n=o(93379),r=o.n(n),i=o(7795),s=o.n(i),a=o(90569),c=o.n(a),l=o(3565),u=o.n(l),p=o(19216),d=o.n(p),h=o(44589),m=o.n(h),f=o(52481),g={};g.styleTagTransform=m(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=d(),r()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals},50425:(e,t,o)=>{"use strict";var n=o(93379),r=o.n(n),i=o(7795),s=o.n(i),a=o(90569),c=o.n(a),l=o(3565),u=o.n(l),p=o(19216),d=o.n(p),h=o(44589),m=o.n(h),f=o(46152),g={};g.styleTagTransform=m(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=d(),r()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals},66442:(e,t,o)=>{"use strict";var n=o(93379),r=o.n(n),i=o(7795),s=o.n(i),a=o(90569),c=o.n(a),l=o(3565),u=o.n(l),p=o(19216),d=o.n(p),h=o(44589),m=o.n(h),f=o(22836),g={};g.styleTagTransform=m(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=d(),r()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals},806:(e,t,o)=>{"use strict";var n=o(93379),r=o.n(n),i=o(7795),s=o.n(i),a=o(90569),c=o.n(a),l=o(3565),u=o.n(l),p=o(19216),d=o.n(p),h=o(44589),m=o.n(h),f=o(61511),g={};g.styleTagTransform=m(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=d(),r()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals},38976:(e,t,o)=>{"use strict";var n=o(93379),r=o.n(n),i=o(7795),s=o.n(i),a=o(90569),c=o.n(a),l=o(3565),u=o.n(l),p=o(19216),d=o.n(p),h=o(44589),m=o.n(h),f=o(28193),g={};g.styleTagTransform=m(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=d(),r()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals},41839:(e,t,o)=>{"use strict";var n,r;o.d(t,{$X:()=>r,ZP:()=>p,mO:()=>n}),function(e){e[e.dev=0]="dev",e[e.qa=1]="qa",e[e.prod=2]="prod",e[e.docker=3]="docker",e[e.test=4]="test"}(n||(n={})),function(e){e[e.demo=0]="demo",e[e.marketplace=1]="marketplace",e[e.livebook=2]="livebook",e[e.livevideo=3]="livevideo",e[e.pbc=4]="pbc"}(r||(r={}));var i="http://localhost:3001",s={backend:{demo:i,marketplace:"https://manning-dev:8443/Marketplace",livebook:"http://localhost:8080",livevideo:"http://localhost:8080",pbc:"http://localhost:8080",base:""},client:{demo:"http://localhost:8080",marketplace:"https://manning-dev:8443/Marketplace",livebook:"http://localhost:3000",livevideo:"http://lv-test-ui.s3-website-us-west-2.amazonaws.com",pbc:"http://lp-test-ui.s3-website-us-west-2.amazonaws.com",base:""},aws:{livebook:"https://d1557jsc07ldhk.cloudfront.net"},images:{livebook:"https://d1557jsc07ldhk.cloudfront.net",marketplace:"https://images-qa.manning.com"}},a={backend:{demo:i,marketplace:"https://manning-dev:8443/Marketplace",livebook:"http://localhost:8080",livevideo:"https://livevideo-be-dev.manning.com",pbc:"https://livevideo-be-dev.manning.com",base:""},client:{demo:"http://localhost:8080",marketplace:"https://manning-dev:8443/Marketplace",livebook:"http://localhost:3000",livevideo:"https://livevideo-qa.manning.com",pbc:"https://liveproject-qa.manning.com",base:""},aws:{livebook:"https://d1557jsc07ldhk.cloudfront.net"},images:{livebook:"https://d1557jsc07ldhk.cloudfront.net",marketplace:"https://images-qa.manning.com"}},c={backend:{demo:i,marketplace:"https://www-qa.manning.com",livebook:"https://livebook-qa.manning.com",livevideo:"https://livevideo-be-dev.manning.com",pbc:"https://livevideo-be-dev.manning.com",base:""},client:{demo:"http://localhost:8080",marketplace:"https://www-qa.manning.com",livebook:"https://livebook-qa.manning.com",livevideo:"https://livevideo-qa.manning.com",pbc:"https://liveproject-qa.manning.com",base:""},aws:{livebook:"https://d1557jsc07ldhk.cloudfront.net"},images:{livebook:"https://d1557jsc07ldhk.cloudfront.net",marketplace:"https://images-qa.manning.com"}},l={backend:{demo:i,marketplace:"https://www.manning.com",livebook:"https://livebook.manning.com",livevideo:"https://livevideo-be.manning.com",pbc:"https://livevideo-be.manning.com",base:""},client:{demo:"http://localhost:8080",marketplace:"https://www.manning.com",livebook:"https://livebook.manning.com",livevideo:"https://livevideo.manning.com",pbc:"https://liveproject.manning.com/",base:""},aws:{livebook:"https://drek4537l1klr.cloudfront.net"},images:{livebook:"https://drek4537l1klr.cloudfront.net",marketplace:"https://images.manning.com"}},u={backend:{demo:i,marketplace:"http://search-test.manning.com",livebook:"https://livebook-qa.manning.com",livevideo:"https://livevideo-be-dev.manning.com",pbc:"https://livevideo-be-dev.manning.com",base:""},client:{demo:"http://localhost:8080",marketplace:"http://search-test.manning.com",livebook:"https://livebook.manning.com",livevideo:"https://livevideo.manning.com",pbc:"https://liveproject.manning.com",base:""},aws:{livebook:"https://drek4537l1klr.cloudfront.net"},images:{livebook:"https://drek4537l1klr.cloudfront.net",marketplace:"https://images-qa.manning.com"}};const p=new(function(){function e(){}return e.prototype.getLocalhostLocation=function(){return i},e.prototype.getConfig=function(e,t){var o=this.getConfigByDeploymentType(t);switch(e){case r.livebook:o.backend.base=o.backend.livebook,o.client.base=o.client.livebook;break;case r.livevideo:o.backend.base=o.backend.livevideo,o.client.base=o.client.livevideo;break;case r.marketplace:o.backend.base=o.backend.marketplace,o.client.base=o.client.marketplace;break;case r.pbc:o.backend.base=o.backend.pbc,o.client.base=o.client.pbc;break;case r.demo:default:o.backend.base=o.backend.demo,o.client.base=o.client.demo}return o},e.prototype.getConfigByDeploymentType=function(e){switch(e){case n.qa:return c;case n.prod:return l;case n.docker:return u;case n.test:return s;case n.dev:default:return a}},e}())},8245:(e,t,o)=>{"use strict";o.d(t,{g:()=>F});var n=o(67294),r=o(94184),i=o.n(r),s=o(34670),a=o(59159),c=o(94017),l=o(38797),u=o(46884),p=o(93379),d=o.n(p),h=o(7795),m=o.n(h),f=o(90569),g=o.n(f),b=o(3565),v=o.n(b),y=o(19216),w=o.n(y),k=o(44589),x=o.n(k),C=o(69990),E={};E.styleTagTransform=x(),E.setAttributes=v(),E.insert=g().bind(null,"head"),E.domAPI=m(),E.insertStyleElement=w(),d()(C.Z,E),C.Z&&C.Z.locals&&C.Z.locals;var S,T=o(15648),A=o(41775),I=(S=function(e,t){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},S(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),O=function(e){function t(t){var o=e.call(this,t)||this;return o.handleClick=o.handleClick.bind(o),o}return I(t,e),t.prototype.render=function(){var e=this.props.store.sortOrder;return n.createElement("div",{className:"catalog-sort-root"},n.createElement(T.f,{title:"sort",icon:"fa fa-sort-alt",onClose:this.props.store.toggleSort},n.createElement("ul",null,n.createElement("li",{className:i()({selected:e==A.lR.NewestFirst}),onClick:this.handleClick},"newest"),n.createElement("li",{className:i()({selected:e==A.lR.PriceFromLowest}),onClick:this.handleClick},"lowest price"),n.createElement("li",{className:i()({selected:e==A.lR.PriceFromHighest}),onClick:this.handleClick},"highest price"),n.createElement("li",{className:i()({selected:e==A.lR.AtoZ}),onClick:this.handleClick},"A to Z"),n.createElement("li",{className:i()({selected:e==A.lR.ZtoA}),onClick:this.handleClick},"Z to A"))))},t.prototype.handleClick=function(e){switch(e.target.textContent){case"lowest price":this.props.store.changeSortOrder(A.lR.PriceFromLowest);break;case"highest price":this.props.store.changeSortOrder(A.lR.PriceFromHighest);break;case"A to Z":this.props.store.changeSortOrder(A.lR.AtoZ);break;case"Z to A":this.props.store.changeSortOrder(A.lR.ZtoA);break;default:this.props.store.changeSortOrder(A.lR.NewestFirst)}},t}(n.Component),P=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),R=function(e){function t(t){var o=e.call(this,t)||this;return o.handleClick=o.handleClick.bind(o),o}return P(t,e),t.prototype.render=function(){var e=this,t=this.props.store;return n.createElement("div",{className:"catalog-filter-root"},n.createElement(T.f,{title:this.props.title||"filter",icon:"fa fa-filter",onClose:t.toggleFilter},n.createElement("ul",null,this.props.tags.map((function(t){return n.createElement("li",{key:t,onClick:e.handleClick},t)})))))},t.prototype.handleClick=function(e){this.props.store.selectTag(e.target.textContent)},t}(n.Component),_=o(37335),N=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),F=function(e){function t(t){var o=e.call(this,t)||this;return o.handleChange=o.handleChange.bind(o),o.props.store.onChange(o.handleChange),o}return N(t,e),t.prototype.render=function(){return n.createElement("div",{className:"catalog-root"},this.renderContent())},t.prototype.componentDidMount=function(){this.isComponentMounted=!0},t.prototype.componentWillUnmount=function(){this.isComponentMounted=!1},t.prototype.renderContent=function(){var e=this.props.store;if(e.isLoadingProducts)return n.createElement(s.Z,{useSvg:!0});var t=e.deriveTags(e.displayedProducts),o=e.isFilterSelected&&t.length>1;return this.props.isFilteredView?n.createElement(n.Fragment,null,this.renderProducts()):n.createElement(n.Fragment,null,n.createElement(u.K,{tabs:e.tabs,selectedTab:e.selectedTab,additionalClass:this.hasCategoryQualifications()?"extended-sort-filter-buttons":"",onSelectTab:e.selectTab,onCloseTab:e.closeTab},this.renderAdvancedTabsButtons(t)),e.isSortSelected&&n.createElement(O,{store:this.props.store}),o&&n.createElement(R,{store:this.props.store,tags:t,title:this.getFiltersTitle()}),this.renderProducts())},t.prototype.renderAdvancedTabsButtons=function(e){var t=this,o=this.props.store,r=null!=o.selectedTab&&o.selectedTab.title!=_.yM&&o.selectedTab.title!=_.lA,s=null!=this.props.alternativeFilterAction?n.createElement("button",{className:i()("advanced-tab-filter-button"),onClick:function(){return t.props.alternativeFilterAction()}},n.createElement("span",null,this.props.alternativeFilterLabel||"filter"),n.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10.8795 0H0.191091C0.0828062 0 0 0.0804252 0 0.185597V1.71367C0 1.81885 0.0573274 1.96114 0.127394 2.04156L4.41421 6.84851V11.8782C4.41421 11.9834 4.49064 12.0267 4.58619 11.9834L6.49073 11.0801C6.58628 11.0368 6.66272 10.9131 6.66272 10.8141V6.8547L10.9495 2.04775C11.0196 1.96732 11.0769 1.82503 11.0769 1.71986V0.185597C11.0706 0.0866117 10.9877 0 10.8795 0Z",fill:"currentColor",fillOpacity:"0.85"}))):n.createElement("button",{className:i()("advanced-tab-filter-button",{selected:o.isFilterSelected,invisible:null==e||e.length<=1}),onClick:o.toggleFilter},n.createElement("span",null,this.getFiltersTitle()),n.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10.8795 0H0.191091C0.0828062 0 0 0.0804252 0 0.185597V1.71367C0 1.81885 0.0573274 1.96114 0.127394 2.04156L4.41421 6.84851V11.8782C4.41421 11.9834 4.49064 12.0267 4.58619 11.9834L6.49073 11.0801C6.58628 11.0368 6.66272 10.9131 6.66272 10.8141V6.8547L10.9495 2.04775C11.0196 1.96732 11.0769 1.82503 11.0769 1.71986V0.185597C11.0706 0.0866117 10.9877 0 10.8795 0Z",fill:"currentColor",fillOpacity:"0.85"})));return n.createElement(n.Fragment,null,!this.props.shouldHideFilter&&s,n.createElement("button",{className:i()("advanced-tab-sort-button",{selected:o.isSortSelected,invisible:!r}),onClick:o.toggleSort},n.createElement("span",null,"sort"),n.createElement("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M-3.53763e-07 3.90685L0.902108 4.87901L2.97357 2.62572L2.98228 12L4.25508 11.9986L4.24639 2.65001L6.3021 4.86535L7.2 3.88864L3.59158 -1.56993e-07L-3.53763e-07 3.90685Z",fill:"currentColor"}),n.createElement("path",{d:"M15.6 8.09315L14.6979 7.12099L12.6264 9.37428L12.6177 -1.3036e-07L11.3449 0.00138667L11.3536 9.34998L9.29787 7.13465L8.39997 8.11136L12.0084 12L15.6 8.09315Z",fill:"currentColor"}))))},t.prototype.getFiltersTitle=function(){return this.hasCategoryQualifications()?"more filters":"filters"},t.prototype.hasCategoryQualifications=function(){var e=this.props.store;return null!=e.selectedTab&&null!=e.selectedTab.qualifications&&e.selectedTab.qualifications.length>0},t.prototype.renderProducts=function(){var e,t=this.props.store,o=[];return this.props.isFilteredView&&this.props.filteredProducts.forEach((function(e){var n=t.displayedProducts.find((function(t){return t.slug===e}));n&&o.push(n)})),(null===(e=this.props.store.selectedTab)||void 0===e?void 0:e.title)==_.RR&&null!=this.props.myProducts?this.props.myProducts:null!=t.allProducts&&t.allProducts.length>0&&null!=t.displayedProducts&&0==t.displayedProducts.length?n.createElement("div",{className:"catalog-message-container"},"There are no products that match the filters you've selected."):n.createElement(a.n,{products:c.u.convertProductInfosToProductDescription(this.props.isFilteredView?o:this.props.store.displayedProducts),coverPlaceholder:this.props.store.coverPlaceholder,additionalInfoType:l.Pb.Tags,catalogDisplayMainInfo:this.props.store.catalogDisplayMainInfo,catalogPriceInfo:this.props.store.catalogPriceInfo,catalogDisplayAdditionalInfo:this.props.store.catalogDisplayAdditionalInfo,isCertificateFullyReleased:this.props.store.isCertificateFullyReleased,onProductSelected:this.props.store.selectProduct,isFilteredView:this.props.isFilteredView})},t.prototype.handleChange=function(){this.isComponentMounted&&this.forceUpdate()},t}(n.Component)},37335:(e,t,o)=>{"use strict";o.d(t,{C0:()=>d,Cr:()=>a,J0:()=>n,MC:()=>u,RR:()=>r,UR:()=>m,cE:()=>i,h3:()=>s,jP:()=>f,lA:()=>l,rT:()=>p,yM:()=>c,zL:()=>h});var n="my courses",r="my liveProjects",i="certificate projects",s="liveVideo courses",a="all projects",c="free conferences",l="free author talks",u="data science",p="software development",d="operations",h="lv courses",m="conferences",f="author talks"},41775:(e,t,o)=>{"use strict";o.d(t,{TV:()=>s,Mw:()=>r,xx:()=>i,lR:()=>n,ZN:()=>v});var n,r,i,s,a=o(26729),c=o(41839),l=o(94017),u=o(65605),p=o(37335),d=o(32654),h=o(87772),m=o(71696),f=o(7297),g=function(){function e(e,t,o){this.additionalInfoIdField="id",this.lpLinkIdField="externalId";var n=new d.Z(c.ZP.getConfig(e,t));this.productProvider=new h.G(e==c.$X.demo?new m.s(n):new f.G(n,o))}return e.prototype.loadProducts=function(){return this.productProvider.getProductInfos(!1,!1,this.lpLinkIdField)},e.prototype.loadProductsAndFillWithAdditionalInfo=function(){var e=this;return new Promise((function(t,o){e.productProvider.getProductInfos(!1,!1,e.lpLinkIdField).then((function(o){e.fillWithAdditionalInfo(o).then((function(){return t(o)})).catch((function(e){return t(o)}))})).catch((function(e){return o(e)}))}))},e.prototype.fillWithAdditionalInfo=function(e){var t=this;return new Promise((function(o,n){t.productProvider.getAdditionalProductInfoMap(e.map((function(e){return+e[t.additionalInfoIdField]}))).then((function(n){l.u.assignAdditionalInfoToProductInfos(e,n,t.additionalInfoIdField),o()})).catch((function(e){n(e)}))}))},e}(),b=function(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};!function(e){e[e.NewestFirst=0]="NewestFirst",e[e.Popularity=1]="Popularity",e[e.PriceFromHighest=2]="PriceFromHighest",e[e.PriceFromLowest=3]="PriceFromLowest",e[e.AtoZ=4]="AtoZ",e[e.ZtoA=5]="ZtoA"}(n||(n={})),function(e){e[e.description=0]="description",e[e.skillsLearned=1]="skillsLearned"}(r||(r={})),function(e){e[e.price=0]="price",e[e.priceAndDate=1]="priceAndDate"}(i||(i={})),function(e){e[e.tags=0]="tags",e[e.durationAndSkill=1]="durationAndSkill"}(s||(s={}));var v=function(){function e(e,t,o,u,d,h,m,f,v){switch(void 0===o&&(o=null),void 0===u&&(u=r.description),void 0===d&&(d=i.priceAndDate),void 0===h&&(h=s.tags),void 0===m&&(m="id"),void 0===f&&(f="externalId"),this.coverPlaceholder="assets/images/cover.png",this.isCertificateFullyReleased=!1,this.changeEmitter=new a,this.provider=new g(e,t,o),this.provider.additionalInfoIdField=m,this.provider.lpLinkIdField=f,this.sortOrder=n.NewestFirst,this.catalogDisplayMainInfo=u,this.catalogPriceInfo=d,this.catalogDisplayAdditionalInfo=h,this.isCertificateFullyReleased=v||!1,e){case c.$X.livevideo:this.initialTabs=[{title:p.h3},{title:p.yM},{title:p.lA}];break;case c.$X.pbc:this.initialTabs=[{title:p.Cr},{title:p.MC},{title:p.rT},{title:p.C0}],this.isCertificateFullyReleased&&(this.initialTabs=b(b([],this.initialTabs,!0),[{title:p.cE}],!1));break;default:this.initialTabs=[{title:"default"}]}if(this.tabs=this.initialTabs.concat([]),this.selectedTab=this.tabs[0],"true"===this.getParameterByName("author"))for(var y=0;y<this.tabs.length;y++){var w=this.tabs[y];w.title!==p.lA&&w.title!==p.jP||(this.selectedTab=this.tabs[y])}this.toggleFilter=this.toggleFilter.bind(this),this.toggleSort=this.toggleSort.bind(this),this.selectTab=this.selectTab.bind(this),this.closeTab=this.closeTab.bind(this),this.selectProduct=this.selectProduct.bind(this),l.u.sourceApp=e,l.u.deploymentType=t}return e.prototype.getParameterByName=function(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},e.prototype.loadOwnership=function(){var e=this;this.provider.productProvider.getOwnershipInfo().then((function(t){e.setOwnershipMap(t)}))},e.prototype.setAllProducts=function(){this.displayedProducts=this.getDisplayedProducts(this.allProducts),this.fillDisplayedProductsWithAdditionalInfo(this.displayedProducts),this.triggerChange(),this.onProductDisplayed&&this.onProductDisplayed(this.displayedProducts)},e.prototype.loadProducts=function(){var e=this;this.isLoadingProducts=!0,this.allProducts=null,this.displayedProducts=null,this.provider.loadProducts().then((function(t){e.isLoadingProducts=!1,e.allProducts=t||[],e.displayedProducts=e.getDisplayedProducts(e.allProducts),e.fillDisplayedProductsWithAdditionalInfo(e.displayedProducts),e.triggerChange(),e.onProductDisplayed&&e.onProductDisplayed(e.displayedProducts)})).catch((function(t){e.isLoadingProducts=!1,e.allProducts=null,e.displayedProducts=null,e.errorMessage="Couldn't load products. Try later.",e.triggerChange()})),this.triggerChange()},e.prototype.setOwnershipMap=function(e){l.u.userOwnedProducts=e,u.Z.isEmptyObject(e)||(l.u.sourceApp!==c.$X.livevideo||this.initialTabs.find((function(e){return e.title==p.J0}))?l.u.sourceApp!==c.$X.pbc||this.initialTabs.find((function(e){return e.title==p.RR}))||(this.initialTabs.push({title:p.RR}),this.tabs.push({title:p.RR})):(this.initialTabs.push({title:p.J0}),this.tabs.push({title:p.J0}))),this.triggerChange()},e.prototype.changeSortOrder=function(e){this.sortOrder!=e&&(this.sortOrder=e,this.displayedProducts=this.getDisplayedProducts(this.allProducts),this.isFilterSelected=!1,this.isSortSelected=!1,this.triggerChange(),this.onProductDisplayed&&this.onProductDisplayed(this.displayedProducts))},e.prototype.toggleSort=function(){this.isSortSelected=!this.isSortSelected,this.isFilterSelected=!1,this.triggerChange()},e.prototype.toggleFilter=function(){this.isFilterSelected=!this.isFilterSelected,this.isSortSelected=!1,this.triggerChange()},e.prototype.selectTag=function(e){var t=[];t.push(this.initialTabs[0]),this.selectedTab.qualifications||(this.selectedTab.qualifications=[]),this.selectedTab.qualifications.push(e),this.selectedTab.hasCloseButton=!0,this.tabs=t,this.displayedProducts=this.getDisplayedProducts(this.allProducts),this.fillDisplayedProductsWithAdditionalInfo(this.displayedProducts),this.triggerChange(),this.onProductDisplayed&&this.onProductDisplayed(this.displayedProducts)},e.prototype.closeTab=function(e){null!=e&&null!=this.selectedTab&&this.selectedTab.qualifications&&(this.selectedTab.qualifications.pop(),this.selectedTab.hasCloseButton=this.selectedTab.qualifications.length>0,this.tabs=this.initialTabs,this.displayedProducts=this.getDisplayedProducts(this.allProducts),this.fillDisplayedProductsWithAdditionalInfo(this.displayedProducts),this.triggerChange(),this.onProductDisplayed&&this.onProductDisplayed(this.displayedProducts))},e.prototype.selectTab=function(e){null!=e&&null!=this.selectedTab&&e.title==this.selectedTab.title||(this.selectedTab=e,this.displayedProducts=this.getDisplayedProducts(this.allProducts),this.fillDisplayedProductsWithAdditionalInfo(this.displayedProducts),this.triggerChange(),this.onProductDisplayed&&this.onProductDisplayed(this.displayedProducts))},e.prototype.selectProduct=function(e){if(this.onProductSelected)return this.onProductSelected(e)},e.prototype.getDisplayedProducts=function(e){return this.getProductsBasedOnSelectedTab(this.getSortedProducts(e.concat([])))},e.prototype.deriveTags=function(e){if(null==e||!e.length)return[];for(var t={},o=0,n=e;o<n.length;o++){var r=n[o];if(r.tags&&r.tags.length)for(var i=0,s=r.tags;i<s.length;i++){var a=s[i];t[a]||(t[a]=0),t[a]++}}var c=[];for(var l in t)c.push(l);if(c.sort((function(e,o){return t[o]-t[e]})),this.selectedTab&&this.selectedTab.qualifications)for(var p=0,d=this.selectedTab.qualifications;p<d.length;p++){var h=d[p];u.Z.removeItemFromArray(c,h)}return c},e.prototype.getProductsBasedOnSelectedTab=function(e){var t,o,n;if(null==this.selectedTab)return e;var r=e;if(r=this.selectedTab.title==p.J0?e.filter((function(e){return l.u.userOwnsProduct(e.externalId)&&e.isLivevideo&&!e.isConference&&!e.isAuthorTalk})):this.selectedTab.title==p.cE&&this.isCertificateFullyReleased?e.filter((function(e){return 1==e.certifiable&&e.isLiveproject})):this.selectedTab.title==p.RR?e.filter((function(e){return l.u.userOwnsProduct(e.externalId)&&e.isLiveproject})):this.selectedTab.title==p.Cr?e.filter((function(e){return e.isLiveproject})):this.selectedTab.title==p.h3||this.selectedTab.title==p.zL?e.filter((function(e){return e.isLivevideo&&!e.isConference&&!e.isAuthorTalk})):this.selectedTab.title==p.yM||this.selectedTab.title==p.UR?e.filter((function(e){return e.isConference})):this.selectedTab.title==p.lA||this.selectedTab.title==p.jP?e.filter((function(e){return e.isAuthorTalk})):this.selectedTab.title==p.MC?null===(t=e.filter((function(e){return e.isLiveproject})))||void 0===t?void 0:t.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.includes("Data Science")})):this.selectedTab.title==p.rT?null===(o=e.filter((function(e){return e.isLiveproject})))||void 0===o?void 0:o.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.includes("Development")})):this.selectedTab.title==p.C0?null===(n=e.filter((function(e){return e.isLiveproject})))||void 0===n?void 0:n.filter((function(e){var t,o;return(null===(t=e.tags)||void 0===t?void 0:t.some((function(e){return e.match(/(O|o)perations.*(C|c)loud/g)})))||(null===(o=e.tags)||void 0===o?void 0:o.includes("Operations"))})):[],this.selectedTab.qualifications&&this.selectedTab.qualifications)for(var i=function(e){r=r.filter((function(t){return t.tags.indexOf(e)>=0}))},s=0,a=this.selectedTab.qualifications;s<a.length;s++)i(a[s]);return r},e.prototype.getSortedProducts=function(e){switch(this.sortOrder){case n.NewestFirst:return e.sort((function(e,t){return+t.id-+e.id})).sort((function(e,t){return t.date.getTime()-e.date.getTime()}));case n.PriceFromHighest:return e.sort((function(e,t){return l.u.getPrice(t)-l.u.getPrice(e)}));case n.PriceFromLowest:return e.sort((function(e,t){return l.u.getPrice(e)-l.u.getPrice(t)}));case n.AtoZ:return e.sort((function(e,t){return e.title>t.title?1:-1}));case n.ZtoA:return e.sort((function(e,t){return e.title<t.title?1:-1}));default:return e}},e.prototype.fillDisplayedProductsWithAdditionalInfo=function(e){var t=this;this.provider.fillWithAdditionalInfo(e).then((function(){t.triggerChange()}))},e.prototype.onChange=function(e){this.changeEmitter.on("change",e)},e.prototype.offChange=function(e){this.changeEmitter.off("change",e)},e.prototype.triggerChange=function(){this.changeEmitter.emit("change")},e}()},12613:(e,t,o)=>{"use strict";o.d(t,{E:()=>E});var n=o(67294),r=o(56180),i=o(94184),s=o.n(i),a=o(33656),c=o(93379),l=o.n(c),u=o(7795),p=o.n(u),d=o(90569),h=o.n(d),m=o(3565),f=o.n(m),g=o(19216),b=o.n(g),v=o(44589),y=o.n(v),w=o(56874),k={};k.styleTagTransform=y(),k.setAttributes=f(),k.insert=h().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=b(),l()(w.Z,k),w.Z&&w.Z.locals&&w.Z.locals;var x,C=(x=function(e,t){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},x(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),E=function(e){function t(t){var o=e.call(this,t)||this;return o.state={currentText:null!=o.props.artifactFeedback?o.props.artifactFeedback.feedback:"",isOpen:!1},o.toggleOpenClose=o.toggleOpenClose.bind(o),o.handleKeyDown=o.handleKeyDown.bind(o),o.handleSave=o.handleSave.bind(o),o.handleUpVote=o.handleUpVote.bind(o),o.handleDownVote=o.handleDownVote.bind(o),o.handleArtifactFeedbackChange=o.handleArtifactFeedbackChange.bind(o),o}return C(t,e),t.prototype.componentDidMount=function(){this.props.store.onArtifactFeedbackChange(this.handleArtifactFeedbackChange)},t.prototype.componentWillUnmount=function(){this.props.store.offArtifactFeedbackChange(this.handleArtifactFeedbackChange)},t.prototype.render=function(){var e=this;return n.createElement("div",{className:s()("artifact-feedback-root",{"livebook-viewer-feedback":this.props.isLivebookViewerFeedback})},n.createElement("div",{className:"artifact-feedback-header"},this.renderHeaderContent()),n.createElement(r,{isOpened:this.state.isOpen},n.createElement("div",{className:"artifact-feedback-form-container"},this.props.shouldUseMarkdown?n.createElement(n.Fragment,null,n.createElement(a.Z,{onTextChange:function(t){return e.handleTextChange(t)},initialText:this.state.currentText}),n.createElement("div",{style:{marginTop:"10px"}},n.createElement("a",{href:"https://guides.github.com/features/mastering-markdown/",target:"_blank",className:"style-with-markdown-button"},"style with markdown"))):n.createElement("textarea",{className:"no-markdown-feedback-textarea",rows:3,value:this.state.currentText,onChange:function(t){var o;return e.handleTextChange(null===(o=null==t?void 0:t.target)||void 0===o?void 0:o.value)},onKeyDown:this.handleKeyDown}),n.createElement("div",{className:"artifact-feedback-form-footer"},n.createElement("button",{onClick:this.handleSave},"save")))))},t.prototype.renderHeaderContent=function(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"artifact-feedback-title-container"},"What do you think of this section?"),n.createElement("div",{className:s()("artifact-feedback-icon-container")},n.createElement("div",{className:"artifact-feedback-icon",onClick:this.handleUpVote},n.createElement("svg",{className:s()("thumbs-up-icon",{selected:this.props.artifactFeedback.vote>0}),height:"16",width:"16",viewBox:"0 0 512 512"},n.createElement("path",{className:"inside",d:"M 480.34033,283.67059 C 489.5943,271.66941 494.64406,256 494.64406,236.86 494.64313,201.74017 464.7455,175.20907 426.8477,175.20907 h -79.39407 c 8.12881,-16.19051 25.29194,-42.27297 25.29194,-71.08365 9.4e-4,-54.448132 -7.72033,-88.769488 -63.28711,-88.769488 -27.96144,0 -30.33779,35.347288 -35.65415,62.670169 -3.17601,16.323815 -6.17678,31.743389 -15.40467,40.971269 -21.97202,21.97297 -71.5183,83.34161 -91.67068,94.17848 -2.04059,0.85949 -20.64796,5.53627 -23.48745,6.07229 -5.38161,-7.79695 -14.37365,-16.90916 -24.56353,-16.90916 H 41.186454 c -16.47483,0 -29.830508,13.35568 -29.830508,29.83051 v 238.64407 c 0,16.47483 13.355678,29.83051 29.830508,29.83051 h 77.491526 c 16.4748,0 29.83048,-13.35568 29.83048,-29.83051 V 454.6661 c 30.29194,0 111.86076,39.98449 183.42415,39.96492 5.13178,0.003 35.09746,0.028 38.23246,0 55.26288,0.0131 86.00042,-33.45399 84.21059,-83.70534 14.10144,-16.52517 21.01093,-40.3989 16.98941,-62.55551 11.61152,-18.2022 14.1005,-43.87881 8.97526,-64.69958 z"}),n.createElement("path",{className:"outline",d:"M496.656 285.683C506.583 272.809 512 256 512 235.468c-.001-37.674-32.073-72.571-72.727-72.571h-70.15c8.72-17.368 20.695-38.911 20.695-69.817C389.819 34.672 366.518 0 306.91 0c-29.995 0-41.126 37.918-46.829 67.228-3.407 17.511-6.626 34.052-16.525 43.951C219.986 134.75 184 192 162.382 203.625c-2.189.922-4.986 1.648-8.032 2.223C148.577 197.484 138.931 192 128 192H32c-17.673 0-32 14.327-32 32v256c0 17.673 14.327 32 32 32h96c17.673 0 32-14.327 32-32v-8.74c32.495 0 100.687 40.747 177.455 40.726 5.505.003 37.65.03 41.013 0 59.282.014 92.255-35.887 90.335-89.793 15.127-17.727 22.539-43.337 18.225-67.105 12.456-19.526 15.126-47.07 9.628-69.405zM32 480V224h96v256H32zm424.017-203.648C472 288 472 336 450.41 347.017c13.522 22.76 1.352 53.216-15.015 61.996 8.293 52.54-18.961 70.606-57.212 70.974-3.312.03-37.247 0-40.727 0-72.929 0-134.742-40.727-177.455-40.727V235.625c37.708 0 72.305-67.939 106.183-101.818 30.545-30.545 20.363-81.454 40.727-101.817 50.909 0 50.909 35.517 50.909 61.091 0 42.189-30.545 61.09-30.545 101.817h111.999c22.73 0 40.627 20.364 40.727 40.727.099 20.363-8.001 36.375-23.984 40.727zM104 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"}))),n.createElement("div",{className:"artifact-feedback-icon",onClick:this.handleDownVote},n.createElement("svg",{className:s()("thumbs-down-icon",{selected:this.props.artifactFeedback.vote<0}),height:"16",width:"16",viewBox:"0 0 512 512"},n.createElement("path",{className:"inside",d:"m 483.34082,230.3294 c 9.25397,12.00118 14.30373,27.67059 14.30373,46.81059 -9.3e-4,35.11983 -29.89856,61.65093 -67.79636,61.65093 h -79.39407 c 8.12882,16.19051 25.29194,42.27297 25.29194,71.08365 9.4e-4,54.44813 -7.72033,88.76949 -63.28711,88.76949 -27.96144,0 -30.33779,-35.34729 -35.65415,-62.67017 -3.17601,-16.32382 -6.17678,-31.74339 -15.40467,-40.97127 -21.97202,-21.97297 -71.51829,-83.34161 -91.67068,-94.17848 -2.04059,-0.85949 -20.64796,-5.53627 -23.48745,-6.07229 -5.38161,7.79695 11.70541,46.90916 -24.56353,46.90916 H 44.186955 c -16.47483,0 -29.83051,-13.35568 -29.83051,-29.83051 V 73.186427 c 0,-16.47483 13.35568,-29.83051 29.83051,-29.83051 h 77.491515 c 30.48189,-1.214223 29.83048,4.707489 29.83048,15.97797 30.29194,0 111.86076,-39.98449 183.42415,-39.96492 5.13178,-0.003 35.09746,-0.028 38.23246,0 55.26288,-0.0131 86.00042,33.45399 84.21059,83.705343 14.10144,16.52517 21.01093,40.3989 16.98941,62.55551 11.61152,18.2022 14.1005,43.87881 8.97526,64.69958 z"}),n.createElement("path",{className:"outline",d:"M496.656 226.317c5.498-22.336 2.828-49.88-9.627-69.405 4.314-23.768-3.099-49.377-18.225-67.105C470.724 35.902 437.75 0 378.468.014c-3.363-.03-35.508-.003-41.013 0C260.593-.007 195.917 40 160 40h-10.845c-5.64-4.975-13.042-8-21.155-8H32C14.327 32 0 46.327 0 64v256c0 17.673 14.327 32 32 32h96c17.673 0 32-14.327 32-32v-12.481c.85.266 1.653.549 2.382.856C184 320 219.986 377.25 243.556 400.82c9.9 9.9 13.118 26.44 16.525 43.951C265.784 474.082 276.915 512 306.91 512c59.608 0 82.909-34.672 82.909-93.08 0-30.906-11.975-52.449-20.695-69.817h70.15c40.654 0 72.726-34.896 72.727-72.571-.001-20.532-5.418-37.341-15.345-50.215zM128 320H32V64h96v256zm311.273-2.898H327.274c0 40.727 30.545 59.628 30.545 101.817 0 25.574 0 61.091-50.909 61.091-20.363-20.364-10.182-71.272-40.727-101.817-28.607-28.607-71.272-101.818-101.818-101.818H160V72.74h4.365c34.701 0 101.818-40.727 173.09-40.727 3.48 0 37.415-.03 40.727 0 38.251.368 65.505 18.434 57.212 70.974 16.367 8.78 28.538 39.235 15.015 61.996C472 176 472 224 456.017 235.648 472 240 480.1 256.012 480 276.375c-.1 20.364-17.997 40.727-40.727 40.727zM104 272c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"}))),n.createElement("div",{className:"artifact-feedback-icon",onClick:this.toggleOpenClose},n.createElement("i",{className:s()("fa",{"fa-chevron-down":!this.state.isOpen,"fa-chevron-up":this.state.isOpen})}))))},t.prototype.toggleOpenClose=function(){this.setState({isOpen:!this.state.isOpen})},t.prototype.handleTextChange=function(e){this.setState({currentText:e})},t.prototype.handleSave=function(){var e=this;this.props.artifactFeedback.isBeingSynced||this.props.store.submitArtifactFeedback(this.props.artifactFeedback,this.state.currentText).then((function(){e.toggleOpenClose(),e.props.onSaveSuccess&&e.props.onSaveSuccess()})).catch((function(t){e.props.onSaveError&&e.props.onSaveError()}))},t.prototype.handleKeyDown=function(e){var t=e.keyCode||e.which;13==t&&(e.metaKey||e.ctrlKey)?this.handleSave():27==t&&this.toggleOpenClose()},t.prototype.handleUpVote=function(){this.props.artifactFeedback.isBeingSynced||(this.props.store.voteOnArtifact(this.props.artifactFeedback,1==this.props.artifactFeedback.vote?0:1),""!=this.state.currentText||this.state.isOpen||this.toggleOpenClose())},t.prototype.handleDownVote=function(){this.props.artifactFeedback.isBeingSynced||(this.props.store.voteOnArtifact(this.props.artifactFeedback,-1==this.props.artifactFeedback.vote?0:-1),""!=this.state.currentText||this.state.isOpen||this.toggleOpenClose())},t.prototype.handleArtifactFeedbackChange=function(e){null!=e&&e.artifactId==this.props.artifactFeedback.artifactId&&(""==this.state.currentText&&""!=e.feedback?this.setState({currentText:e.feedback}):this.forceUpdate())},t}(n.Component)},37124:(e,t,o)=>{"use strict";o.d(t,{S:()=>E});var n=o(67294),r=o(94184),i=o.n(r),s=o(39503),a=o(93379),c=o.n(a),l=o(7795),u=o.n(l),p=o(90569),d=o.n(p),h=o(3565),m=o.n(h),f=o(19216),g=o.n(f),b=o(44589),v=o.n(b),y=o(34916),w={};w.styleTagTransform=v(),w.setAttributes=m(),w.insert=d().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=g(),c()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var k,x=o(33656),C=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),E=function(e){function t(t){var o=e.call(this,t)||this;return o.state={inputs:null!=o.props.courseFeedback.questionsAndAnswers?o.props.courseFeedback.questionsAndAnswers.map((function(e){return e.answer||""})):[],canBeUsedForMarketing:o.props.courseFeedback.canBeUsedForMarketing,hasUnsavedEntries:!1},o.handleSave=o.handleSave.bind(o),o.handleCourseFeedbackChange=o.handleCourseFeedbackChange.bind(o),o.handleRatingChange=o.handleRatingChange.bind(o),o.handleCheckboxChange=o.handleCheckboxChange.bind(o),o.handleBeforeUnload=o.handleBeforeUnload.bind(o),o}return C(t,e),t.prototype.componentDidMount=function(){this.props.store.onCourseFeedbackChange(this.handleCourseFeedbackChange),window.addEventListener("beforeunload",this.handleBeforeUnload)},t.prototype.componentWillUnmount=function(){this.props.store.offCourseFeedbackChange(this.handleCourseFeedbackChange),window.removeEventListener("beforeunload",this.handleBeforeUnload)},t.prototype.handleBeforeUnload=function(e){if(this.state.hasUnsavedEntries){e&&e.preventDefault&&e.preventDefault();var t="You have unsaved feedback. Are you sure you'd like to navigate away?";return(e=e||window.event)&&(e.returnValue=t),t}},t.prototype.render=function(){return n.createElement("div",{className:"course-feedback-root","data-has-unsaved-data":this.state.hasUnsavedEntries},n.createElement("div",{className:"course-feedback-header-container"},n.createElement("div",{className:"course-feedback-title-container"},"Your feedback ",this.state.hasUnsavedEntries&&n.createElement("span",null,"(*)")),n.createElement("div",{className:i()("course-feedback-stars-container")},n.createElement(s.Z,{rating:this.props.courseFeedback.rating,numberOfStars:5,starRatedColor:"gold",starDimension:"16px",changeRating:this.handleRatingChange}))),this.renderFormBody())},t.prototype.renderFormBody=function(){var e=this;if(!this.props.courseFeedback||!this.props.courseFeedback.questionsAndAnswers)return n.createElement("div",{className:"course-feedback-loading-row"},n.createElement("i",{className:"fa fa-circle-notch fa-spin"}));var t=this.canSaveForm();return n.createElement("div",null,this.props.courseFeedback.questionsAndAnswers.map((function(t,o){return n.createElement("div",{key:t.questionId,className:i()("question-answer-row",{"first-question":0==o,"last-question":o==e.props.courseFeedback.questionsAndAnswers.length-1,"has-error":e.state.inputs[o].length>=1e3})},n.createElement("div",{className:"question-answer-header"},n.createElement("span",{className:"question-answer-index-container"},o+1),n.createElement("span",{className:"question-answer-question-container"},t.question)),n.createElement("div",{className:i()("question-answer-body")},e.props.shouldUseMarkdown?n.createElement(x.Z,{onTextChange:function(t){return e.updateInput(t,o)},initialText:e.state.inputs[o]}):n.createElement("textarea",{rows:3,onChange:function(t){return e.updateInput(t.target.value,o)},value:e.state.inputs[o]})))})),this.props.shouldUseMarkdown&&n.createElement("a",{href:"https://guides.github.com/features/mastering-markdown/",target:"_blank",className:"style-with-markdown-button"},"style with markdown"),n.createElement("div",{className:"course-feedback-footer-row"},n.createElement("label",null,n.createElement("input",{type:"checkbox",checked:this.state.canBeUsedForMarketing,onChange:this.handleCheckboxChange})," can be used for marketing"),!t&&n.createElement("span",{className:"error-message"},"limit your answers to 1000 chars"),n.createElement("button",{disabled:!t,onClick:this.handleSave},"save")))},t.prototype.canSaveForm=function(){for(var e=0;e<this.state.inputs.length;e++)if(this.state.inputs[e].length>=1e3)return!1;return!0},t.prototype.handleSave=function(){var e=this;this.props.store.submitCourseFeedback(this.props.courseFeedback,this.state.canBeUsedForMarketing,this.updateAnswersAndGetFeedback()).then((function(){e.props.onSaveSuccess&&e.props.onSaveSuccess(),e.setState({hasUnsavedEntries:!1})})).catch((function(t){e.props.onSaveError&&e.props.onSaveError()}))},t.prototype.updateInput=function(e,t){var o=this.state.inputs;o[t]=e,this.setState({inputs:o,hasUnsavedEntries:!0})},t.prototype.handleCourseFeedbackChange=function(e){null!=e&&e.courseId==this.props.courseFeedback.courseId&&(0==this.state.inputs.length&&null!=e.questionsAndAnswers&&e.questionsAndAnswers.length?this.setState({inputs:e.questionsAndAnswers.map((function(e){return e.answer||""})),canBeUsedForMarketing:e.canBeUsedForMarketing}):this.forceUpdate())},t.prototype.updateAnswersAndGetFeedback=function(){for(var e=[],t=0;t<this.props.courseFeedback.questionsAndAnswers.length;t++){var o=this.props.courseFeedback.questionsAndAnswers[t];o.answer=this.state.inputs[t],e.push({questionId:o.questionId,answer:this.state.inputs[t]})}return e},t.prototype.handleRatingChange=function(e){this.props.courseFeedback.isBeingSynced||this.props.store.setCourseRating(this.props.courseFeedback,e)},t.prototype.handleCheckboxChange=function(e){this.setState({canBeUsedForMarketing:e.target.checked})},t}(n.Component)},59420:(e,t,o)=>{"use strict";o.d(t,{i:()=>O});var n=o(67294),r=o(94184),i=o.n(r),s=o(89862),a=o(57865),c=o(93379),l=o.n(c),u=o(7795),p=o.n(u),d=o(90569),h=o.n(d),m=o(3565),f=o.n(m),g=o(19216),b=o.n(g),v=o(44589),y=o.n(v),w=o(76405),k={};k.styleTagTransform=y(),k.setAttributes=f(),k.insert=h().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=b(),l()(w.Z,k),w.Z&&w.Z.locals&&w.Z.locals;var x,C=o(65818),E=o(94992),S=o(65605),T=(x=function(e,t){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},x(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),A=function(e){function t(t){var o=e.call(this,t)||this;return o.hasBeenMounted=!1,o.state=o.getStateFromStoreAndProps(),o.handleQuestionChange=o.handleQuestionChange.bind(o),o.handleUpClick=o.handleUpClick.bind(o),o.handleDownClick=o.handleDownClick.bind(o),o.handleRightClick=o.handleRightClick.bind(o),o.handleLeftClick=o.handleLeftClick.bind(o),o.handleSave=o.handleSave.bind(o),o}return T(t,e),t.prototype.componentDidMount=function(){this.hasBeenMounted=!0,this.props.store.onQuestionChange(this.handleQuestionChange),this.props.store.onQuestionsChange(this.handleQuestionChange)},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1,this.props.store.offQuestionChange(this.handleQuestionChange),this.props.store.offQuestionsChange(this.handleQuestionChange)},t.prototype.render=function(){var e=this;return n.createElement("div",{className:"question-selector-root"},n.createElement(s.W,{backend:a.PD},n.createElement("div",{className:"question-selector-questions-container"},n.createElement("div",{className:"question-selector-source-container"},n.createElement("span",null,"All questions: "),n.createElement(E.Z,{className:"source-draggable-container",accepts:["question"],onDrop:function(t){return e.handleDrop(t,!0)}},this.state.sourceQuestions.map((function(t){return n.createElement(C.Z,{type:"question",key:t.id,itemIdentifier:"".concat(t.id)},n.createElement("span",{className:i()("question-item-container",{selected:t==e.state.selectedQuestion}),onClick:function(o){return e.selectQuestion(t)}},t.question))})))),n.createElement("div",{className:"question-selector-target-container"},n.createElement("span",null,"Selected questions: "),n.createElement(E.Z,{className:"source-draggable-container",accepts:["question"],onDrop:function(t){return e.handleDrop(t)}},this.state.targetQuestions.map((function(t){return n.createElement(C.Z,{type:"question",key:t.id,itemIdentifier:"".concat(t.id)},n.createElement("span",{className:i()("question-item-container",{selected:t==e.state.selectedQuestion}),onClick:function(o){return e.selectQuestion(t)}},t.question))})))))),n.createElement("div",{className:"question-selector-footer"},n.createElement("div",null,n.createElement("button",{disabled:this.shouldRightButtonBeDisabled(),onClick:this.handleRightClick},n.createElement("i",{className:"fa fa-arrow-right"}))),n.createElement("div",null,n.createElement("button",{disabled:this.shouldUpDownButtonsBeDisabled(),onClick:this.handleLeftClick},n.createElement("i",{className:"fa fa-arrow-left"})),n.createElement("button",{disabled:this.shouldUpDownButtonsBeDisabled(),onClick:this.handleUpClick},n.createElement("i",{className:"fa fa-arrow-up"})),n.createElement("button",{disabled:this.shouldUpDownButtonsBeDisabled(),onClick:this.handleDownClick},n.createElement("i",{className:"fa fa-arrow-down"})),n.createElement("button",{onClick:this.handleSave},"save"))))},t.prototype.handleDrop=function(e,t){void 0===t&&(t=!1);var o,n=e.itemIdentifier,r=this.state.sourceQuestions,i=this.state.targetQuestions;if(t){if((o=i.findIndex((function(e){return"".concat(e.id)==n})))>=0){var s=i[o];i.splice(o,1),r.push(s)}}else if((o=r.findIndex((function(e){return"".concat(e.id)==n})))>=0){var a=r[o];r.splice(o,1),i.push(a)}this.setState({sourceQuestions:r,targetQuestions:i,selectedQuestion:this.props.store.allQuestions.find((function(e){return"".concat(e.id)==n}))})},t.prototype.handleQuestionChange=function(){this.hasBeenMounted&&(this.props.store.allQuestions!=this.state.allQuestions&&this.setState(this.getStateFromStoreAndProps()),this.forceUpdate())},t.prototype.getStateFromStoreAndProps=function(){return{allQuestions:this.props.store.allQuestions,sourceQuestions:this.getSourceQuestionsFromStoreAndProps(),targetQuestions:this.getTargetQuestionsFromStoreAndProps(),selectedQuestion:null}},t.prototype.getSourceQuestionsFromStoreAndProps=function(){if(null==this.props.initialTargetQuestions||0==this.props.initialTargetQuestions.length)return(this.props.store.allQuestions||[]).concat([]);var e=this.props.initialTargetQuestions.map((function(e){return e.id}));return(this.props.store.allQuestions||[]).filter((function(t){return-1==e.indexOf(t.id)}))},t.prototype.getTargetQuestionsFromStoreAndProps=function(){if(null==this.props.initialTargetQuestions||0==this.props.initialTargetQuestions.length)return[];var e=this.props.initialTargetQuestions.map((function(e){return e.id})),t={};if(this.props.store.allQuestions)for(var o=0,n=this.props.store.allQuestions;o<n.length;o++){var r=n[o];t[r.id]=r}return e.map((function(e){return t[e]})).filter((function(e){return null!=e}))},t.prototype.selectQuestion=function(e){this.setState({selectedQuestion:e})},t.prototype.handleUpClick=function(){if(null!=this.state.selectedQuestion){var e=this.state.targetQuestions,t=e.indexOf(this.state.selectedQuestion);if(-1!=t){var o=t-1;if(o<0&&(o=e.length-1),o!=t){var n=e[t];e[t]=e[o],e[o]=n,this.setState({targetQuestions:e})}}}},t.prototype.handleDownClick=function(){if(null!=this.state.selectedQuestion){var e=this.state.targetQuestions||[],t=e.indexOf(this.state.selectedQuestion);if(-1!=t){var o=t+1;if(o>=e.length&&(o=0),o!=t){var n=e[t];e[t]=e[o],e[o]=n,this.setState({targetQuestions:e})}}}},t.prototype.handleSave=function(){this.props.onSave&&this.props.onSave(this.state.targetQuestions)},t.prototype.shouldUpDownButtonsBeDisabled=function(){var e=this;return null==this.state.selectedQuestion||null==this.state.targetQuestions.find((function(t){return t.id==e.state.selectedQuestion.id}))},t.prototype.shouldRightButtonBeDisabled=function(){var e=this;return null==this.state.selectedQuestion||null==this.state.sourceQuestions.find((function(t){return t.id==e.state.selectedQuestion.id}))},t.prototype.handleRightClick=function(){if(null==this.state.selectedQuestion)return!0;var e=this.state.sourceQuestions,t=this.state.targetQuestions;-1!=e.indexOf(this.state.selectedQuestion)&&(S.Z.removeItemFromArray(e,this.state.selectedQuestion),t.push(this.state.selectedQuestion),this.setState({sourceQuestions:e,targetQuestions:t}))},t.prototype.handleLeftClick=function(){if(null==this.state.selectedQuestion)return!0;if(-1!=this.state.targetQuestions.indexOf(this.state.selectedQuestion)){var e=this.state.sourceQuestions,t=this.state.targetQuestions;S.Z.removeItemFromArray(t,this.state.selectedQuestion),e.push(this.state.selectedQuestion),this.setState({sourceQuestions:e,targetQuestions:t})}},t}(n.Component),I=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),O=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o.handleSave=o.handleSave.bind(o),o}return I(t,e),t.prototype.render=function(){return n.createElement("div",{className:"feedback-form-creator-root"},n.createElement(A,{store:this.props.store,initialTargetQuestions:this.props.currentQuestions,onSave:this.handleSave}))},t.prototype.handleSave=function(e){this.props.onSave&&this.props.onSave(e.map((function(e){return e.id})))},t}(n.Component)},33656:(e,t,o)=>{"use strict";o.d(t,{Z:()=>S});var n=o(67294),r=o(45010),i=o(24987),s=o(7424),a=o(82958),c=o(73935),l=o(93379),u=o.n(l),p=o(7795),d=o.n(p),h=o(90569),m=o.n(h),f=o(3565),g=o.n(f),b=o(19216),v=o.n(b),y=o(44589),w=o.n(y),k=o(22750),x={};x.styleTagTransform=w(),x.setAttributes=g(),x.insert=m().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=v(),u()(k.Z,x),k.Z&&k.Z.locals&&k.Z.locals;var C,E=(C=function(e,t){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},C(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const S=function(e){function t(t){var o=e.call(this,t)||this;return o.state={isShowingTextEditor:!1,isPreviewing:!1},o}return E(t,e),t.prototype.handleTextEditToggle=function(){this.props.onTextEditToggle?this.props.onTextEditToggle():this.setState({isShowingTextEditor:!this.state.isShowingTextEditor})},t.prototype.handleBoldClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("**","**")},t.prototype.handleItalicClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("*","*")},t.prototype.handleAddQuoteClick=function(){this.previewableMarkdownEditor.insertTextAtLocation(">","",{insertAtStartOfLine:!0})},t.prototype.handleAddLinkClick=function(){this.root&&this.renderAddLinkModal(!0,this.previewableMarkdownEditor.getSelectedText())},t.prototype.renderAddLinkModal=function(e,t){var o=this;void 0===t&&(t=""),c.render(n.createElement(s.Z,{isShown:e,defaultValue:t,onAccept:function(e,t){return o.handleAddLinkConfirmed(e,t)},onClose:function(){return o.handleAddLinkClosed()}}),document.getElementById("full-screen-modal"))},t.prototype.handleAddLinkConfirmed=function(e,t){this.previewableMarkdownEditor.insertTextAtLocation("[".concat(e,"](").concat(t,")"),"",{ignoreCurrentSelection:!0}),this.renderAddLinkModal(!1)},t.prototype.handleAddLinkClosed=function(){this.renderAddLinkModal(!1)},t.prototype.handleAddImageClick=function(){this.renderUploadImageModal(!0)},t.prototype.renderUploadImageModal=function(e){var t=this;c.render(n.createElement(a.Z,{isShown:e,onAccept:function(e){return t.handleAddImageConfirmed(e)},onClose:function(){return t.handleAddImageClosed()}}),document.getElementById("full-screen-modal"))},t.prototype.handleAddImageConfirmed=function(e){this.previewableMarkdownEditor.insertTextAtLocation("![](".concat(e,")")),this.renderUploadImageModal(!1)},t.prototype.handleAddImageClosed=function(){this.renderUploadImageModal(!1)},t.prototype.handleAddCodeClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("`","`")},t.prototype.handleTogglePreviewClick=function(){this.setState({isPreviewing:!this.state.isPreviewing})},t.prototype.render=function(){var e=this;return n.createElement("div",{ref:function(t){return e.root=t},onClick:function(){e.props.onClick&&e.props.onClick()}},n.createElement(i.Z,{isShowingTextEditor:this.state.isShowingTextEditor,isPreviewing:this.state.isPreviewing,onBoldClick:function(){return e.handleBoldClick()},onItalicClick:function(){return e.handleItalicClick()},onAddLinkClick:function(){return e.handleAddLinkClick()},onAddQuoteClick:function(){return e.handleAddQuoteClick()},onAddCodeClick:function(){return e.handleAddCodeClick()},onAddImageClick:function(){return e.handleAddImageClick()},onTogglePreviewClick:function(){return e.handleTogglePreviewClick()}}),n.createElement(r.Z,{ref:function(t){return e.previewableMarkdownEditor=t},initialText:this.props.initialText,placeholder:"",isPreviewing:this.state.isPreviewing,isShowingTextEditor:this.state.isShowingTextEditor,hasTip:!1,hasTextareaCommands:!1,dontFocusOnMounted:!0,isEditing:!1,saveLabel:"save",authorIdMap:null,onCancel:function(){},onSave:function(){},onTextChange:function(t){e.props.onTextChange&&e.props.onTextChange(t)},minRows:3,onTextEditToggle:function(){return e.handleTextEditToggle()},onLargeImageRequested:function(){}})," ")},t}(n.Component)},53743:(e,t,o)=>{"use strict";o.d(t,{s:()=>C});var n=o(67294),r=o(94184),i=o.n(r),s=o(93379),a=o.n(s),c=o(7795),l=o.n(c),u=o(90569),p=o.n(u),d=o(3565),h=o.n(d),m=o(19216),f=o.n(m),g=o(44589),b=o.n(g),v=o(20858),y={};y.styleTagTransform=b(),y.setAttributes=h(),y.insert=p().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=f(),a()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;var w,k=o(33656),x=(w=function(e,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},w(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),C=function(e){function t(t){var o=e.call(this,t)||this;return o.state={inputs:null!=o.props.moduleFeedback.questionsAndAnswers?o.props.moduleFeedback.questionsAndAnswers.map((function(e){return e.answer||""})):[],hasUnsavedEntries:!1},o.handleSave=o.handleSave.bind(o),o.handleUpVote=o.handleUpVote.bind(o),o.handleDownVote=o.handleDownVote.bind(o),o.handleModuleFeedbackChange=o.handleModuleFeedbackChange.bind(o),o.handleBeforeUnload=o.handleBeforeUnload.bind(o),o}return x(t,e),t.prototype.componentDidMount=function(){this.hasBeenMounted=!0,this.props.store.onModuleFeedbackChange(this.handleModuleFeedbackChange),window.addEventListener("beforeunload",this.handleBeforeUnload)},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1,this.props.store.offModuleFeedbackChange(this.handleModuleFeedbackChange),window.removeEventListener("beforeunload",this.handleBeforeUnload)},t.prototype.handleBeforeUnload=function(e){if(this.state.hasUnsavedEntries){e&&e.preventDefault&&e.preventDefault();var t="You have unsaved feedback. Are you sure you'd like to navigate away?";return(e=e||window.event)&&(e.returnValue=t),t}},t.prototype.render=function(){return n.createElement("div",{className:"module-feedback-root","data-has-unsaved-data":this.state.hasUnsavedEntries},n.createElement("div",{className:"module-feedback-header-container"},n.createElement("div",{className:"module-feedback-title-container"},"Your feedback ",this.state.hasUnsavedEntries&&n.createElement("span",null,"(*)")),n.createElement("div",{className:i()("module-feedback-icon-container")},n.createElement("div",{className:"module-feedback-icon",onClick:this.handleUpVote},n.createElement("svg",{className:i()("thumbs-up-icon",{selected:this.props.moduleFeedback.vote>0}),height:"16",width:"16",viewBox:"0 0 512 512"},n.createElement("path",{className:"inside",d:"M 480.34033,283.67059 C 489.5943,271.66941 494.64406,256 494.64406,236.86 494.64313,201.74017 464.7455,175.20907 426.8477,175.20907 h -79.39407 c 8.12881,-16.19051 25.29194,-42.27297 25.29194,-71.08365 9.4e-4,-54.448132 -7.72033,-88.769488 -63.28711,-88.769488 -27.96144,0 -30.33779,35.347288 -35.65415,62.670169 -3.17601,16.323815 -6.17678,31.743389 -15.40467,40.971269 -21.97202,21.97297 -71.5183,83.34161 -91.67068,94.17848 -2.04059,0.85949 -20.64796,5.53627 -23.48745,6.07229 -5.38161,-7.79695 -14.37365,-16.90916 -24.56353,-16.90916 H 41.186454 c -16.47483,0 -29.830508,13.35568 -29.830508,29.83051 v 238.64407 c 0,16.47483 13.355678,29.83051 29.830508,29.83051 h 77.491526 c 16.4748,0 29.83048,-13.35568 29.83048,-29.83051 V 454.6661 c 30.29194,0 111.86076,39.98449 183.42415,39.96492 5.13178,0.003 35.09746,0.028 38.23246,0 55.26288,0.0131 86.00042,-33.45399 84.21059,-83.70534 14.10144,-16.52517 21.01093,-40.3989 16.98941,-62.55551 11.61152,-18.2022 14.1005,-43.87881 8.97526,-64.69958 z"}),n.createElement("path",{className:"outline",d:"M496.656 285.683C506.583 272.809 512 256 512 235.468c-.001-37.674-32.073-72.571-72.727-72.571h-70.15c8.72-17.368 20.695-38.911 20.695-69.817C389.819 34.672 366.518 0 306.91 0c-29.995 0-41.126 37.918-46.829 67.228-3.407 17.511-6.626 34.052-16.525 43.951C219.986 134.75 184 192 162.382 203.625c-2.189.922-4.986 1.648-8.032 2.223C148.577 197.484 138.931 192 128 192H32c-17.673 0-32 14.327-32 32v256c0 17.673 14.327 32 32 32h96c17.673 0 32-14.327 32-32v-8.74c32.495 0 100.687 40.747 177.455 40.726 5.505.003 37.65.03 41.013 0 59.282.014 92.255-35.887 90.335-89.793 15.127-17.727 22.539-43.337 18.225-67.105 12.456-19.526 15.126-47.07 9.628-69.405zM32 480V224h96v256H32zm424.017-203.648C472 288 472 336 450.41 347.017c13.522 22.76 1.352 53.216-15.015 61.996 8.293 52.54-18.961 70.606-57.212 70.974-3.312.03-37.247 0-40.727 0-72.929 0-134.742-40.727-177.455-40.727V235.625c37.708 0 72.305-67.939 106.183-101.818 30.545-30.545 20.363-81.454 40.727-101.817 50.909 0 50.909 35.517 50.909 61.091 0 42.189-30.545 61.09-30.545 101.817h111.999c22.73 0 40.627 20.364 40.727 40.727.099 20.363-8.001 36.375-23.984 40.727zM104 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"}))),n.createElement("div",{className:"module-feedback-icon",onClick:this.handleDownVote},n.createElement("svg",{className:i()("thumbs-down-icon",{selected:this.props.moduleFeedback.vote<0}),height:"16",width:"16",viewBox:"0 0 512 512"},n.createElement("path",{className:"inside",d:"m 483.34082,230.3294 c 9.25397,12.00118 14.30373,27.67059 14.30373,46.81059 -9.3e-4,35.11983 -29.89856,61.65093 -67.79636,61.65093 h -79.39407 c 8.12882,16.19051 25.29194,42.27297 25.29194,71.08365 9.4e-4,54.44813 -7.72033,88.76949 -63.28711,88.76949 -27.96144,0 -30.33779,-35.34729 -35.65415,-62.67017 -3.17601,-16.32382 -6.17678,-31.74339 -15.40467,-40.97127 -21.97202,-21.97297 -71.51829,-83.34161 -91.67068,-94.17848 -2.04059,-0.85949 -20.64796,-5.53627 -23.48745,-6.07229 -5.38161,7.79695 11.70541,46.90916 -24.56353,46.90916 H 44.186955 c -16.47483,0 -29.83051,-13.35568 -29.83051,-29.83051 V 73.186427 c 0,-16.47483 13.35568,-29.83051 29.83051,-29.83051 h 77.491515 c 30.48189,-1.214223 29.83048,4.707489 29.83048,15.97797 30.29194,0 111.86076,-39.98449 183.42415,-39.96492 5.13178,-0.003 35.09746,-0.028 38.23246,0 55.26288,-0.0131 86.00042,33.45399 84.21059,83.705343 14.10144,16.52517 21.01093,40.3989 16.98941,62.55551 11.61152,18.2022 14.1005,43.87881 8.97526,64.69958 z"}),n.createElement("path",{className:"outline",d:"M496.656 226.317c5.498-22.336 2.828-49.88-9.627-69.405 4.314-23.768-3.099-49.377-18.225-67.105C470.724 35.902 437.75 0 378.468.014c-3.363-.03-35.508-.003-41.013 0C260.593-.007 195.917 40 160 40h-10.845c-5.64-4.975-13.042-8-21.155-8H32C14.327 32 0 46.327 0 64v256c0 17.673 14.327 32 32 32h96c17.673 0 32-14.327 32-32v-12.481c.85.266 1.653.549 2.382.856C184 320 219.986 377.25 243.556 400.82c9.9 9.9 13.118 26.44 16.525 43.951C265.784 474.082 276.915 512 306.91 512c59.608 0 82.909-34.672 82.909-93.08 0-30.906-11.975-52.449-20.695-69.817h70.15c40.654 0 72.726-34.896 72.727-72.571-.001-20.532-5.418-37.341-15.345-50.215zM128 320H32V64h96v256zm311.273-2.898H327.274c0 40.727 30.545 59.628 30.545 101.817 0 25.574 0 61.091-50.909 61.091-20.363-20.364-10.182-71.272-40.727-101.817-28.607-28.607-71.272-101.818-101.818-101.818H160V72.74h4.365c34.701 0 101.818-40.727 173.09-40.727 3.48 0 37.415-.03 40.727 0 38.251.368 65.505 18.434 57.212 70.974 16.367 8.78 28.538 39.235 15.015 61.996C472 176 472 224 456.017 235.648 472 240 480.1 256.012 480 276.375c-.1 20.364-17.997 40.727-40.727 40.727zM104 272c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"}))))),this.renderFormBody())},t.prototype.renderFormBody=function(){var e=this;if(!this.props.moduleFeedback||!this.props.moduleFeedback.questionsAndAnswers)return n.createElement("div",{className:"module-feedback-loading-row"},n.createElement("i",{className:"fa fa-circle-notch fa-spin"}));var t=this.canSaveForm();return n.createElement(n.Fragment,null,this.props.moduleFeedback.questionsAndAnswers.map((function(t,o){return n.createElement("div",{key:t.questionId,className:i()("question-answer-row",{"first-question":0==o,"last-question":o==e.props.moduleFeedback.questionsAndAnswers.length-1,"has-error":e.state.inputs[o].length>=1500})},n.createElement("div",{className:"question-answer-header"},n.createElement("span",{className:"question-answer-index-container"},o+1),n.createElement("span",{className:"question-answer-question-container"},t.question)),n.createElement("div",{className:i()("question-answer-body")},e.props.shouldUseMarkdown?n.createElement(k.Z,{onTextChange:function(t){return e.updateInput(t,o)},initialText:e.state.inputs[o]}):n.createElement("textarea",{rows:3,onChange:function(t){return e.updateInput(t.target.value,o)},value:e.state.inputs[o]})))})),this.props.shouldUseMarkdown&&n.createElement("div",null,n.createElement("a",{href:"https://guides.github.com/features/mastering-markdown/",target:"_blank",className:"style-with-markdown-button"},"style with markdown")),n.createElement("div",{className:"module-feedback-footer-row"},n.createElement("div",null,!t&&n.createElement("span",{className:"error-message"},"limit your answers to 1500 chars")),n.createElement("button",{disabled:!t,onClick:this.handleSave},"save")))},t.prototype.canSaveForm=function(){for(var e=0;e<this.state.inputs.length;e++)if(this.state.inputs[e].length>=1500)return!1;return!0},t.prototype.handleUpVote=function(){this.props.moduleFeedback.isBeingSynced||this.props.store.voteOnModule(this.props.moduleFeedback,1==this.props.moduleFeedback.vote?0:1)},t.prototype.handleDownVote=function(){this.props.moduleFeedback.isBeingSynced||this.props.store.voteOnModule(this.props.moduleFeedback,-1==this.props.moduleFeedback.vote?0:-1)},t.prototype.handleSave=function(){var e=this;this.props.store.submitModuleFeedback(this.props.moduleFeedback,this.updateAnswersAndGetFeedback()).then((function(){e.props.onSaveSuccess&&e.props.onSaveSuccess(),e.setState({hasUnsavedEntries:!1})})).catch((function(t){e.props.onSaveError&&e.props.onSaveError()}))},t.prototype.updateInput=function(e,t){var o=this.state.inputs;o[t]=e,this.setState({inputs:o,hasUnsavedEntries:!0})},t.prototype.handleModuleFeedbackChange=function(e){null!=e&&this.hasBeenMounted&&e.moduleId==this.props.moduleFeedback.moduleId&&(0==this.state.inputs.length&&null!=e.questionsAndAnswers&&e.questionsAndAnswers.length?this.setState({inputs:e.questionsAndAnswers.map((function(e){return e.answer||""}))}):this.forceUpdate())},t.prototype.updateAnswersAndGetFeedback=function(){for(var e=[],t=0;t<this.props.moduleFeedback.questionsAndAnswers.length;t++){var o=this.props.moduleFeedback.questionsAndAnswers[t];o.answer=this.state.inputs[t],e.push({questionId:o.questionId,answer:this.state.inputs[t]})}return e},t}(n.Component)},73965:(e,t,o)=>{"use strict";o.d(t,{W:()=>w});var n=o(67294),r=o(93379),i=o.n(r),s=o(7795),a=o.n(s),c=o(90569),l=o.n(c),u=o(3565),p=o.n(u),d=o(19216),h=o.n(d),m=o(44589),f=o.n(m),g=o(6401),b={};b.styleTagTransform=f(),b.setAttributes=p(),b.insert=l().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=h(),i()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals;var v,y=(v=function(e,t){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},v(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),w=function(e){function t(t){var o=e.call(this,t)||this;return o.state={text:"",errorMessage:"",isSubmitting:!1},o.handleTextChange=o.handleTextChange.bind(o),o.handleFormSubmit=o.handleFormSubmit.bind(o),o.handleKeyDown=o.handleKeyDown.bind(o),o}return y(t,e),t.prototype.render=function(){return n.createElement("form",{className:"question-creator-root",onSubmit:this.handleFormSubmit},n.createElement("label",null,"Question:",n.createElement("textarea",{rows:3,value:this.state.text,onChange:this.handleTextChange,onKeyDown:this.handleKeyDown}),this.state.errorMessage?n.createElement("div",{className:"question-creator-error-message"},this.state.errorMessage):null),n.createElement("div",{className:"question-creator-footer-row"},n.createElement("button",{type:"submit",disabled:this.state.isSubmitting}," ",this.state.isSubmitting?"creating question":"create question")))},t.prototype.handleTextChange=function(e){if(!this.state.isSubmitting){var t=e.target.value||"";this.setState({text:t,errorMessage:t.length>=500?"Questions cannot be longer than 500 chars.":""})}},t.prototype.handleFormSubmit=function(e){var t=this;if(e&&e.preventDefault&&e.preventDefault(),this.state.isSubmitting)return!1;var o=this.state.text.trim();return o.length>=500?(alert("Questions cannot be longer than 500 chars."),!1):0==o.length?(alert("Please enter the question text."),!1):(this.props.store.createQuestion(o).then((function(){t.setState({text:"",isSubmitting:!1})})).catch((function(e){t.setState({isSubmitting:!1})})),this.setState({isSubmitting:!0}),!1)},t.prototype.handleKeyDown=function(e){13==(e.keyCode||e.which)&&(e.metaKey||e.ctrlKey)&&this.handleFormSubmit()},t}(n.Component)},41310:(e,t,o)=>{"use strict";o.d(t,{E:()=>E});var n=o(67294),r=o(93379),i=o.n(r),s=o(7795),a=o.n(s),c=o(90569),l=o.n(c),u=o(3565),p=o.n(u),d=o(19216),h=o.n(d),m=o(44589),f=o.n(m),g=o(27421),b={};b.styleTagTransform=f(),b.setAttributes=p(),b.insert=l().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=h(),i()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals;var v=o(67650),y={};y.styleTagTransform=f(),y.setAttributes=p(),y.insert=l().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=h(),i()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;var w,k=(w=function(e,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},w(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),x=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o.handleQuestionChange=o.handleQuestionChange.bind(o),o.handleEditClick=o.handleEditClick.bind(o),o.handleDeleteClick=o.handleDeleteClick.bind(o),o}return k(t,e),t.prototype.componentDidMount=function(){this.props.store.onQuestionChange(this.handleQuestionChange)},t.prototype.componentWillUnmount=function(){this.props.store.offQuestionChange(this.handleQuestionChange)},t.prototype.render=function(){return n.createElement("tr",{className:"question-row-item-root"},n.createElement("td",null,this.props.question.id),n.createElement("td",null,this.props.question.question),n.createElement("td",null,this.props.question.isSyncing?n.createElement("i",{className:"fa fa-circle-notch fa-spin"}):n.createElement(n.Fragment,null,n.createElement("span",{onClick:this.handleEditClick},"edit")," ",n.createElement("span",{onClick:this.handleDeleteClick},"delete"))))},t.prototype.handleQuestionChange=function(e){e.id==this.props.question.id&&this.forceUpdate()},t.prototype.handleEditClick=function(){if(!this.props.question.isSyncing){var e=(prompt("Enter new question text",this.props.question.question)||"").trim();""!=e&&e!=this.props.question.question&&this.props.store.updateQuestion(this.props.question,e)}},t.prototype.handleDeleteClick=function(){this.props.question.isSyncing||confirm("Delete question: ".concat(this.props.question.question))&&this.props.store.deleteQuestion(this.props.question)},t}(n.Component),C=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),E=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o.handleQuestionsChange=o.handleQuestionsChange.bind(o),o}return C(t,e),t.prototype.componentDidMount=function(){this.props.store.onQuestionsChange(this.handleQuestionsChange),this.props.store.getAllQuestions()},t.prototype.componentWillUnmount=function(){this.props.store.offQuestionsChange(this.handleQuestionsChange)},t.prototype.render=function(){return n.createElement("table",{className:"question-table-root"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"id"),n.createElement("th",null,"question text"),n.createElement("th",null,"actions"))),n.createElement("tbody",null,this.renderBody()))},t.prototype.renderBody=function(){var e=this;return null==this.props.store.allQuestions?n.createElement("tr",{className:"question-table-loading-row"},n.createElement("td",{colSpan:3},n.createElement("i",{className:"fa fa-circle-notch fa-spin"}))):this.props.store.allQuestions.map((function(t){return n.createElement(x,{key:t.id,question:t,store:e.props.store})}))},t.prototype.handleQuestionsChange=function(){this.forceUpdate()},t}(n.Component)},60462:(e,t,o)=>{"use strict";o.d(t,{A:()=>l});var n=o(26729),r=o(65605),i=function(){function e(e,t,o,n,r,i,s,a,c,l,u){this.id=e,this.userId=t,this.vote=o,this.feedback=n,this.artifactId=r,this.artifactType=a,this.moduleId=i,this.courseId=s,this.isHiddenToAuthors=c,this.dateCreated=l,this.lastUpdated=u}return e.prototype.createCopy=function(){var t=new e(this.id,this.userId,this.vote,this.feedback,this.artifactId,this.moduleId,this.courseId,this.artifactType,this.isHiddenToAuthors,new Date(this.dateCreated),new Date(this.lastUpdated));return t.isBeingSynced=this.isBeingSynced,t},e.fromObject=function(t){return new e(t.id,t.userId,t.vote,t.feedback,t.artifactId,t.moduleId,t.courseId,t.artifactType,t.isHiddenToAuthors,r.Z.getDateFromString(t.dateCreated),r.Z.getDateFromString(t.lastUpdated))},e.createEmptyArtifactFeedback=function(t,o,n,r,i){return new e(--e.artifactFeedbackCounter,t,void 0,"",o,n,r,i,!1,new Date,new Date)},e.artifactFeedbackCounter=0,e}(),s=o(41839),a=o(32654),c=function(){function e(e,t){this.webUtils=new a.Z(s.ZP.getConfig(e,t))}return e.prototype.getCourseFeedbackForUser=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("feedback/getCourseFeedbackForUser"),(function(e){o(e)}),(function(e){console.log("Error getting course feedback for user",e),n()}),{courseId:e},!1,!0)}))},e.prototype.getModuleAndArtifactFeedbackForUser=function(e,t){var o=this;return new Promise((function(n,s){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("feedback/getModuleArtifactFeedbackForUser"),(function(e){n(e?{moduleFeedback:r.Z.isEmptyObject(e.moduleFeedback)?null:e.moduleFeedback,artifactsFeedback:e.artifactsFeedback.map((function(e){return i.fromObject(e)}))}:{moduleFeedback:null,artifactsFeedback:[]})}),(function(e){console.log("Error getting module artifact feedback for user",e),s()}),{moduleId:e,courseId:t},!1,!0)}))},e.prototype.voteOnModule=function(e,t,o){var n=this;return new Promise((function(r,i){n.webUtils.ajax(n.webUtils.getAbsoluteBackendUrl("feedback/voteOnModule"),(function(e){e&&e.success?r():i()}),(function(e){console.log("Error vote on module",e),i()}),{vote:e,moduleId:t,courseId:o},!1,!0)}))},e.prototype.voteOnArtifact=function(e,t,o,n,r){var i=this;return new Promise((function(s,a){i.webUtils.ajax(i.webUtils.getAbsoluteBackendUrl("feedback/voteOnArtifact"),(function(e){e&&e.success?s():a()}),(function(e){console.log("Error vote on artifact",e),a()}),{vote:e,artifactId:t,moduleId:o,courseId:n,artifactType:r},!1,!0)}))},e.prototype.submitArtifactFeedback=function(e,t,o,n,r){var i=this;return new Promise((function(s,a){i.webUtils.ajax(i.webUtils.getAbsoluteBackendUrl("feedback/submitArtifactFeedback"),(function(e){e&&e.success?s():a()}),(function(e){console.log("Error submit artifact feedback",e),a()}),{feedback:e,artifactId:t,moduleId:o,courseId:n,artifactType:r},!1,!0)}))},e.prototype.submitModuleFeedback=function(e,t,o){var n=this;return new Promise((function(r,i){n.webUtils.ajax(n.webUtils.getAbsoluteBackendUrl("feedback/submitModuleFeedback"),(function(e){e&&e.success?r():i()}),(function(e){console.log("Error submit module feedback",e),i()}),{feedback:o,moduleId:e,courseId:t},!0,!0)}))},e.prototype.setCourseRating=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("feedback/setCourseRating"),(function(e){e&&e.success?n():r()}),(function(e){console.log("Error setCourseRating",e),r()}),{courseId:e,rating:t},!1,!0)}))},e.prototype.submitCourseFeedback=function(e,t,o){var n=this;return new Promise((function(r,i){n.webUtils.ajax(n.webUtils.getAbsoluteBackendUrl("feedback/submitCourseFeedback"),(function(e){e&&e.success?r():i()}),(function(e){console.log("Error submit course feedback",e),i()}),{feedback:o,courseId:e,canBeUsedForMarketing:t},!0,!0)}))},e.prototype.getAllQuestions=function(){var e=this;return new Promise((function(t,o){e.webUtils.ajax(e.webUtils.getAbsoluteBackendUrl("feedback/getAllQuestions"),(function(e){t(e)}),(function(e){console.log("Error getting all questions",e),o()}),{},!1,!0)}))},e.prototype.createQuestion=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("feedback/createQuestion"),(function(e){e&&e.success?o(e.id):n()}),(function(e){console.log("Error creating question",e),n()}),{question:e},!1,!0)}))},e.prototype.deleteQuestion=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("feedback/deleteQuestion"),(function(e){e&&e.success?o():n()}),(function(e){console.log("Error deleting question",e),n()}),{questionId:e},!1,!0)}))},e.prototype.updateQuestion=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("feedback/updateQuestion"),(function(e){e&&e.success?n():r()}),(function(e){console.log("Error updating question",e),r()}),{questionId:e,question:t},!1,!0)}))},e.prototype.createOrUpdateModuleFeedbackForm=function(e,t,o){var n=this;return new Promise((function(r,i){n.webUtils.ajax(n.webUtils.getAbsoluteBackendUrl("feedback/createOrUpdateModuleFeedbackForm"),(function(e){e&&e.success?r():i()}),(function(e){console.log("Error createOrUpdateModuleFeedbackForm",e),i()}),{courseId:e,moduleId:t,questionIds:(o||[]).join(",")},!1,!0)}))},e.prototype.createOrUpdateCourseFeedbackForm=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("feedback/createOrUpdateCourseFeedbackForm"),(function(e){e&&e.success?n():r()}),(function(e){console.log("Error createOrUpdateCourseFeedbackForm",e),r()}),{courseId:e,questionIds:(t||[]).join(",")},!1,!0)}))},e.prototype.getCourseFeedbackFormQuestions=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("feedback/getCourseFeedbackForm"),(function(e){e&&e.questions?o(e.questions):o([])}),(function(e){console.log("Error getCourseFeedbackForm",e),o([])}),{courseId:e},!1,!0)}))},e.prototype.getModuleFeedbackFormQuestions=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("feedback/getModuleFeedbackForm"),(function(e){e&&e.questions?n(e.questions):n([])}),(function(e){console.log("Error getModuleFeedbackForm",e),n([])}),{courseId:e,moduleId:t},!1,!0)}))},e}(),l=function(){function e(e){this.courseFeedbackPromiseMap={},this.courseFeedbackMap={},this.provider=e,this.moduleArtifactFeedbackPromiseMap={},this.moduleArtifactFeedbackMap={},this.emitter=new n}return e.getSingleton=function(t,o){null==this.instanceMap&&(this.instanceMap={});var n="".concat(t,"-").concat(o);return this.instanceMap[n]||(this.instanceMap[n]=new e(new c(t,o))),this.instanceMap[n]},e.prototype.loadModuleArtifactFeedback=function(e,t){var o=this;return this.moduleArtifactFeedbackMap[t]?Promise.resolve(this.moduleArtifactFeedbackMap[t]):this.moduleArtifactFeedbackPromiseMap[t]?this.moduleArtifactFeedbackPromiseMap[t]:this.moduleArtifactFeedbackPromiseMap[t]=new Promise((function(n,r){o.provider.getModuleAndArtifactFeedbackForUser(t,e).then((function(e){o.moduleArtifactFeedbackMap[t]=e;for(var r=0,i=e.artifactsFeedback;r<i.length;r++){var s=i[r];o.emitArtifactFeedbackChange(s)}e.moduleFeedback&&o.emitModuleFeedbackChange(e.moduleFeedback),n(e)})).catch((function(e){return r(e)}))}))},e.prototype.loadCourseFeedback=function(e){var t=this;return this.courseFeedbackMap[e]?Promise.resolve(this.courseFeedbackMap[e]):this.courseFeedbackPromiseMap[e]?this.courseFeedbackPromiseMap[e]:this.courseFeedbackPromiseMap[e]=new Promise((function(o,n){t.provider.getCourseFeedbackForUser(e).then((function(n){t.courseFeedbackMap[e]=n,t.emitCourseFeedbackChange(n),o(n)})).catch((function(e){return n(e)}))}))},e.prototype.getCourseFeedback=function(e,t){return this.courseFeedbackMap[e]?this.courseFeedbackMap[e]:{courseId:e,userId:t,rating:0,questionsAndAnswers:null,isBeingSynced:!0,canBeUsedForMarketing:!0}},e.prototype.getModuleFeedback=function(e,t,o){var n={courseId:e,moduleId:t,userId:o,vote:0,isBeingSynced:!0,questionsAndAnswers:null};return this.moduleArtifactFeedbackMap[t]&&this.moduleArtifactFeedbackMap[t].moduleFeedback?this.moduleArtifactFeedbackMap[t].moduleFeedback:n},e.prototype.getArtifactFeedback=function(e,t,o,n,r){var s=i.createEmptyArtifactFeedback(n,o,t,e,r);if(!this.moduleArtifactFeedbackMap[t])return s;for(var a=0,c=this.moduleArtifactFeedbackMap[t].artifactsFeedback;a<c.length;a++){var l=c[a];if(l.artifactId==o)return l}return s},e.prototype.onArtifactFeedbackChange=function(e){this.emitter.addListener("artifactFeedback",e)},e.prototype.offArtifactFeedbackChange=function(e){this.emitter.removeListener("artifactFeedback",e)},e.prototype.emitArtifactFeedbackChange=function(e){this.emitter.emit("artifactFeedback",e)},e.prototype.onCourseFeedbackChange=function(e){this.emitter.addListener("courseFeedback",e)},e.prototype.offCourseFeedbackChange=function(e){this.emitter.removeListener("courseFeedback",e)},e.prototype.emitCourseFeedbackChange=function(e){this.emitter.emit("courseFeedback",e)},e.prototype.onModuleFeedbackChange=function(e){this.emitter.addListener("moduleFeedback",e)},e.prototype.offModuleFeedbackChange=function(e){this.emitter.removeListener("moduleFeedback",e)},e.prototype.emitModuleFeedbackChange=function(e){this.emitter.emit("moduleFeedback",e)},e.prototype.onQuestionsChange=function(e){this.emitter.addListener("questionsChange",e)},e.prototype.offQuestionsChange=function(e){this.emitter.removeListener("questionsChange",e)},e.prototype.emitQuestionsChange=function(){this.emitter.emit("questionsChange")},e.prototype.onQuestionChange=function(e){this.emitter.addListener("questionChange",e)},e.prototype.offQuestionChange=function(e){this.emitter.removeListener("questionChange",e)},e.prototype.emitQuestionChange=function(e){this.emitter.emit("questionChange",e)},e.prototype.voteOnArtifact=function(e,t){var o=this,n=e.vote;this.provider.voteOnArtifact(t,e.artifactId,e.moduleId,e.courseId,e.artifactType).then((function(t){e.isBeingSynced=!1})).catch((function(t){e.isBeingSynced=!1,e.vote=n,o.emitArtifactFeedbackChange(e)})),e.isBeingSynced=!0,e.vote=t,this.emitArtifactFeedbackChange(e)},e.prototype.voteOnModule=function(e,t){var o=this,n=e.vote;this.provider.voteOnModule(t,e.moduleId,e.courseId).then((function(t){e.isBeingSynced=!1})).catch((function(t){e.isBeingSynced=!1,e.vote=n,o.emitModuleFeedbackChange(e)})),e.isBeingSynced=!0,e.vote=t,this.emitModuleFeedbackChange(e)},e.prototype.submitArtifactFeedback=function(e,t){var o=this,n=this.provider.submitArtifactFeedback(t,e.artifactId,e.moduleId,e.courseId,e.artifactType).then((function(){e.isBeingSynced=!1,o.emitArtifactFeedbackChange(e)})).catch((function(t){e.isBeingSynced=!1,alert("Error when submitting feedback. Please try later."),o.emitArtifactFeedbackChange(e)}));return e.isBeingSynced=!0,this.emitArtifactFeedbackChange(e),n},e.prototype.submitCourseFeedback=function(e,t,o){var n=this,r=this.provider.submitCourseFeedback(e.courseId,t,o).then((function(){e.isBeingSynced=!1,n.emitCourseFeedbackChange(e)})).catch((function(t){e.isBeingSynced=!1,alert("Error when submitting feedback. Please try later."),n.emitCourseFeedbackChange(e)}));return e.isBeingSynced=!0,this.emitCourseFeedbackChange(e),r},e.prototype.submitModuleFeedback=function(e,t){var o=this,n=this.provider.submitModuleFeedback(e.moduleId,e.courseId,t).then((function(){e.isBeingSynced=!1,o.emitModuleFeedbackChange(e)})).catch((function(t){e.isBeingSynced=!1,alert("Error when submitting feedback. Please try later."),o.emitModuleFeedbackChange(e)}));return e.isBeingSynced=!0,this.emitModuleFeedbackChange(e),n},e.prototype.createQuestion=function(e){var t=this,o=this.provider.createQuestion(e);return o.then((function(o){t.allQuestions.push({id:o,question:e}),t.emitQuestionsChange()})),o},e.prototype.updateQuestion=function(e,t){var o=this;this.provider.updateQuestion(e.id,t).then((function(){e.question=t,e.isSyncing=!1,o.emitQuestionChange(e)})).catch((function(t){e.isSyncing=!1,o.emitQuestionChange(e)})),e.isSyncing=!0,this.emitQuestionChange(e)},e.prototype.deleteQuestion=function(e){var t=this;this.provider.deleteQuestion(e.id).then((function(){r.Z.removeItemFromArray(t.allQuestions,e),t.emitQuestionsChange()})).catch((function(o){e.isSyncing=!1,t.emitQuestionChange(e)})),e.isSyncing=!0,this.emitQuestionChange(e)},e.prototype.getAllQuestions=function(){var e=this,t=this.provider.getAllQuestions();return t.then((function(t){e.allQuestions=t,e.emitQuestionsChange()})).catch((function(t){e.allQuestions=[],e.emitQuestionsChange()})),t},e.prototype.getModuleFeedbackFormQuestions=function(e,t){return this.provider.getModuleFeedbackFormQuestions(e,t)},e.prototype.getCourseFeedbackFormQuestions=function(e){return this.provider.getCourseFeedbackFormQuestions(e)},e.prototype.setCourseRating=function(e,t){var o=this,n=this.provider.setCourseRating(e.courseId,t),r=e.rating;return n.then((function(){e.isBeingSynced=!1,o.emitCourseFeedbackChange(e)})).catch((function(t){e.rating=r,e.isBeingSynced=!1,o.emitCourseFeedbackChange(e)})),e.isBeingSynced=!0,e.rating=t,this.emitCourseFeedbackChange(e),n},e}()},96935:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n=function(){function e(){}return e.toNaturalCoords=function(e,t){return{x:e.x/t,y:e.y/t}},e.isPointInsideRect=function(e,t,o){return e.x>t.x&&e.x<t.x+o.x&&e.y>t.y&&e.y<t.y+o.y},e.objectValues=function(e){return Object.keys(e).map((function(t){return e[t]}))},e.objectFilter=function(e,t){return Object.keys(e).filter((function(o){return t(e[o],o)})).reduce((function(t,o){return t[o]=e[o],t}),{})},e.Colors={dark:"#3c3c3c",light:"#d8d8d8",lighter:"#f4f4f4",accent:"#ecf9ff",accentFocus:"#B2E8FF",correct:"#3bad47",incorrect:"red"},e}()},28302:(e,t,o)=>{"use strict";o.d(t,{Z:()=>ge});var n,r=o(67294),i=o(53905),s=o(87185),a=o.n(s),c=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(){return l=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l.apply(this,arguments)};const u=function(e){function t(t){var o=e.call(this,t)||this;return o.state={konvaInitialized:!1},o}return c(t,e),t.prototype.componentDidMount=function(){i.Z.info("KonvaStage: did mount"),this.stage=new(a().Stage)({container:this.container,width:this.props.size.x,height:this.props.size.y});var e=new(a().Layer);this.childrenGroup=new(a().Group),e.add(this.childrenGroup),this.stage.add(e),this.setState({konvaInitialized:!0})},t.prototype.componentDidUpdate=function(){i.Z.debug("KonvaStage: will update"),this.stage.setSize({width:this.props.size.x,height:this.props.size.y})},t.prototype.componentWillUnmount=function(){i.Z.info("KonvaStage: will unmount"),this.stage.destroy()},t.prototype.render=function(){var e=this,t=null;if(this.state.konvaInitialized){i.Z.debug("KonvaStage: rendering children");var o=r.Children.map(this.props.children,(function(e,t){return e}));if(o.length>1)throw new Error("Expected at most 1 child in KonvaStage component.");if(0===o.length)return null;var n=o[0],s=n.props;t=r.cloneElement(n,l({key:"konva-stage-container",container:this.childrenGroup},s))}return r.createElement(r.Fragment,null,r.createElement("div",{ref:function(t){return e.container=t},className:"konva-stage",style:{width:this.props.size.x,height:this.props.size.y,margin:"auto"}}),t)},t}(r.Component);var p=o(31293),d=o(46458),h=o(23828),m=o(96935),f=o(92660),g=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),b=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o.onResize=o.onResize.bind(o),o}return g(t,e),t.prototype.render=function(){return r.createElement(f.Z,{handleWidth:!0,refreshMode:"debounce",refreshRate:200,onResize:this.onResize})},t.prototype.isPotentialScrollLoop=function(){var e=!1,t=document.documentElement.clientWidth||document.body.clientWidth;if(this.lastWindowWidth&&this.lastDocWidth&&this.lastWindowWidth===window.innerWidth){var o=this.lastWindowWidth-this.lastDocWidth;window.innerWidth===t&&o<30&&(e=!0)}return this.lastWindowWidth=window.innerWidth,this.lastDocWidth=t,e},t.prototype.onResize=function(e,t){this.isPotentialScrollLoop()||this.setState({clientWidth:e})},t}(r.Component),v=(o(66442),o(20185)),y=o.n(v),w=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),k=function(){return k=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},k.apply(this,arguments)};const x=function(e){function t(t){return e.call(this,t,y().Rect)||this}return w(t,e),t.prototype.componentWillMount=function(){i.Z.verbose("KonvaRect: will mount"),this.rect=new(y().Rect)({}),this.update()},t.prototype.componentDidUpdate=function(){i.Z.debug("KonvaRect: did update"),this.update()},t.prototype.componentWillUnmount=function(){i.Z.verbose("KonvaRect: will unmount");var e=this.rect.getLayer();this.rect.destroy(),e&&e.batchDraw()},t.prototype.render=function(){return null},t.prototype.update=function(){this.rect.setAttrs(k(k({},this.props),{perfectDrawEnabled:!1})),this.rect.moveTo(this.props.container),this.rect.getLayer().batchDraw()},t}(r.Component);var C=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),E=function(){return E=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},E.apply(this,arguments)};const S=function(e){function t(t){var o=e.call(this,t,y().Rect)||this;return o.destroyed=!1,o}return C(t,e),t.prototype.componentWillMount=function(){i.Z.verbose("KonvaImage: will mount"),this.fixedGroup=new(y().Group),this.update()},t.prototype.componentDidUpdate=function(){i.Z.debug("KonvaImage: did update"),this.update()},t.prototype.componentWillUnmount=function(){this.destroyed=!0,i.Z.verbose("KonvaImage: will unmount");var e=this.fixedGroup.getLayer();this.fixedGroup.destroyChildren(),this.fixedGroup.destroy(),e&&e.batchDraw()},t.prototype.render=function(){return null},t.prototype.createImageFromSrc=function(){var e=this;this.image&&this.destroyImage(),i.Z.verbose("KonvaImage: loading image html element.");var t=this.props.src;y().Image.fromURL(t,(function(o){e.image&&e.image.destroy(),e.image=o,e.loadedSrc=t,i.Z.verbose("KonvaImage: image html element loaded and mounted."),e.update()}))},t.prototype.destroyImage=function(){if(this.image){var e=this.image.getLayer();this.image.destroy(),e&&e.batchDraw()}},t.prototype.update=function(){if(this.destroyed)this.destroyImage();else{if(this.fixedGroup.moveTo(this.props.container),this.loadedSrc!==this.props.src)return i.Z.verbose("KonvaImage: src changed, reloading."),void this.createImageFromSrc();this.image&&(this.image.setAttrs(E(E({},this.props),{perfectDrawEnabled:!1})),this.image.moveTo(this.fixedGroup),this.image.getLayer().batchDraw())}},t}(r.Component);var T=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),A=function(){return A=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},A.apply(this,arguments)},I=function(e){function t(t){return e.call(this,t)||this}return T(t,e),t.prototype.componentWillMount=function(){i.Z.verbose("KonvaGroup: will mount"),this.group=new(y().Group),this.update()},t.prototype.componentDidUpdate=function(){i.Z.debug("KonvaGroup: did update"),this.update()},t.prototype.componentWillUnmount=function(){i.Z.verbose("KonvaGroup: will unmount");var e=this.group.getLayer();this.group.destroy(),e&&e.batchDraw()},t.prototype.render=function(){var e=this;if(!this.props.children)return null;var t=r.Children.map(this.props.children,(function(t,o){if(t){var n=t.props;return r.cloneElement(t,A({container:e.group},n))}}));return r.createElement(r.Fragment,null,t)},t.prototype.update=function(){this.group.setAttrs(this.props),this.group.moveTo(this.props.container),this.group.getLayer().batchDraw()},t}(r.Component),O=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),P=function(){return P=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},P.apply(this,arguments)},R=function(e){function t(t){return e.call(this,t)||this}return O(t,e),t.prototype.render=function(){var e=this.props.diagramBackground;return r.createElement(I,P({},this.props),r.createElement(x,{width:this.props.width,height:this.props.width,fill:m.Z.Colors.lighter}),e&&r.createElement(S,{src:e.uri,width:e.naturalSize.x*this.props.diagramScale,height:e.naturalSize.y*this.props.diagramScale}))},t}(r.Component);const _=(0,d.connect)((function(e,t){return P({diagramBackground:p.aC.getDiagramBackground(e.diagram)},t)}))(R);var N=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),F=function(){return F=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},F.apply(this,arguments)};const L=function(e){function t(t){return e.call(this,t,y().Rect)||this}return N(t,e),t.prototype.componentWillMount=function(){i.Z.verbose("KonvaText: will mount"),this.text=new(y().Text)({text:""}),this.update()},t.prototype.componentDidUpdate=function(){i.Z.debug("KonvaText: did update"),this.update()},t.prototype.componentWillUnmount=function(){i.Z.verbose("KonvaText: will unmount");var e=this.text.getLayer();this.text.destroy(),e&&e.batchDraw()},t.prototype.render=function(){return null},t.prototype.update=function(){this.text.setAttrs(F(F({},this.props),{perfectDrawEnabled:!1})),this.text.moveTo(this.props.container),this.text.getLayer().batchDraw()},t}(r.Component);var M=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),D=function(){return D=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},D.apply(this,arguments)};const U=function(e){function t(t){return e.call(this,t,y().Rect)||this}return M(t,e),t.prototype.componentWillMount=function(){i.Z.verbose("KonvaCircle: will mount"),this.circle=new(y().Circle)({radius:this.props.radius}),this.update()},t.prototype.componentDidUpdate=function(){i.Z.debug("KonvaCircle: did update"),this.update()},t.prototype.componentWillUnmount=function(){i.Z.verbose("KonvaCircle: will unmount");var e=this.circle.getLayer();this.circle.destroy(),e&&e.batchDraw()},t.prototype.render=function(){return null},t.prototype.update=function(){this.circle.setAttrs(D(D({},this.props),{perfectDrawEnabled:!1})),this.circle.moveTo(this.props.container),this.circle.getLayer().batchDraw()},t}(r.Component);var j=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Z=function(){return Z=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Z.apply(this,arguments)};const B=function(e){function t(t){var o=e.call(this,t)||this;return o.onMouseEnter=o.onMouseEnter.bind(o),o.onMouseLeave=o.onMouseLeave.bind(o),o.onClick=o.onClick.bind(o),o.state={hovered:!1},o}return j(t,e),t.prototype.componentDidMount=function(){var e=this;this.centerText(),this.group.group.on("click",this.onClick),this.group.group.on("tap",this.onClick),this.group.group.on("mouseenter",(function(t){return e.onMouseEnter(t)})),this.group.group.on("mouseleave",(function(t){return e.onMouseLeave(t)}))},t.prototype.componentDidUpdate=function(){this.centerText()},t.prototype.componentWillUnmount=function(){this.group.group.off("click"),this.group.group.off("tap"),this.group.group.off("mouseenter"),this.group.group.off("mouseleave")},t.prototype.render=function(){var e=this,t=this.state.hovered?"red":m.Z.Colors.lighter,o=this.state.hovered?m.Z.Colors.lighter:"red";return r.createElement(I,Z({},this.props,{ref:function(t){return e.group=t}}),r.createElement(U,{radius:this.props.width,fill:t,stroke:"black",strokeWidth:1,strokeScaleEnabled:!1}),r.createElement(L,{ref:function(t){return e.text=t},text:"",fontFamily:"FontAwesome",fontSize:1.5*this.props.width,fill:o,align:"center",width:2*this.props.width,x:0,y:0}))},t.prototype.onMouseEnter=function(e){this.setState({hovered:!0})},t.prototype.onMouseLeave=function(e){this.setState({hovered:!1})},t.prototype.onClick=function(e){this.props.onclick&&this.props.onclick(e)},t.prototype.centerText=function(){var e=this.text.text.getClientRect({}).height,t=this.text.text.getClientRect({}).width;this.text.text.y(-e/2),this.text.text.x(-t/2)},t}(r.Component);var z=o(76030),q=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),H=function(){return H=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},H.apply(this,arguments)},W=function(e){function t(t){var o=e.call(this,t)||this,n=t.easeFrom||{x:t.x||0,y:t.y||0};return o.state={currentPos:n},o.currentPos=H({},n),o.onMove=o.onMove.bind(o),o}return q(t,e),t.prototype.componentWillMount=function(){i.Z.verbose("KonvaTweenedGroup: will mount")},t.prototype.componentDidMount=function(){this.group.on("dragmove",this.onMove),this.tweenToTarget()},t.prototype.componentDidUpdate=function(){i.Z.debug("KonvaTweenedGroup: did update"),this.tweenToTarget()},t.prototype.componentWillUnmount=function(){i.Z.verbose("KonvaTweenedGroup: will unmount"),this.group.off("dragmove"),this.removeTween()},t.prototype.render=function(){var e=this;return r.createElement(I,H({},this.props,{x:this.state.currentPos.x,y:this.state.currentPos.y,ref:function(t){return e.group=t?t.group:null}}),this.props.children)},t.prototype.onMove=function(){var e=this.group.getPosition();this.setState({currentPos:e})},t.prototype.tweenToTarget=function(){if((!this.currentTarget||this.currentTarget.x!==this.props.x||this.currentTarget.y!==this.props.y)&&(this.removeTween(),void 0!==this.props.x&&void 0!==this.props.y&&(this.currentTarget={x:this.props.x,y:this.props.y},this.state.currentPos.x!==this.currentTarget.x||this.state.currentPos.y!==this.currentTarget.y))){this.currentPos=H({},this.state.currentPos);var e=this;this.animeInstance=(0,z.Z)({targets:this.currentPos,x:this.currentTarget.x,y:this.currentTarget.y,duration:300,easing:"easeOutCubic",update:function(){e.setState({currentPos:e.currentPos})}})}},t.prototype.removeTween=function(){this.animeInstance&&(z.Z.remove(this.currentPos),this.animeInstance=void 0,this.currentTarget=void 0)},t}(r.Component),V=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Q=function(){return Q=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Q.apply(this,arguments)};const G=function(e){function t(t){var o=e.call(this,t)||this;return o.padding=2,o.onDeleteClick=o.onDeleteClick.bind(o),o.onMouseEnter=o.onMouseEnter.bind(o),o.onMouseLeave=o.onMouseLeave.bind(o),o.onDragStart=o.onDragStart.bind(o),o.onDragEnd=o.onDragEnd.bind(o),o.onDragMove=o.onDragMove.bind(o),o.state={hovered:!1},o}return V(t,e),t.prototype.componentDidMount=function(){this.myGroup.group.on("dragend",this.onDragEnd),this.myGroup.group.on("dragstart",this.onDragStart),this.myGroup.group.on("mouseenter",this.onMouseEnter),this.myGroup.group.on("mouseleave",this.onMouseLeave),this.myGroup.group.on("dragmove",this.onDragMove)},t.prototype.componentWillUnmount=function(){this.myGroup.group.off("dragend"),this.myGroup.group.off("dragstart"),this.myGroup.group.off("mouseenter"),this.myGroup.group.off("mouseleave"),this.myGroup.group.off("dragmove")},t.prototype.render=function(){var e=this,t=null;return void 0!==this.props.checkmark&&(t=this.props.checkmark?{color:"#3BAD53",icon:"✓"}:{color:"red",icon:"×"}),r.createElement(W,Q({},this.props,{draggable:!0,ref:function(t){return e.myGroup=t}}),r.createElement(x,{width:this.props.width+2*this.padding,height:this.props.height+2*this.padding,opacity:1,fill:void 0,stroke:m.Z.Colors.accentFocus,strokeWidth:5,strokeEnabled:this.state.hovered,strokeScaleEnabled:!1,x:-this.padding,y:-this.padding}),r.createElement(I,null,r.createElement(S,{src:this.props.imageFragment.uri,scaleX:this.props.diagramScale,scaleY:this.props.diagramScale,listening:!1})),this.props.onFragmentDelete&&r.createElement(B,{width:12*this.props.uiScale,height:12*this.props.uiScale,x:3*this.props.uiScale,y:3*this.props.uiScale,onclick:this.onDeleteClick}),!!t&&r.createElement(L,{width:this.props.width,text:t.icon,fill:t.color,y:this.props.height/2-25*this.props.uiScale,fontSize:50*this.props.uiScale,align:"right",listening:!1}))},t.prototype.onMouseEnter=function(e){this.state.hovered||this.setState({hovered:!0})},t.prototype.onMouseLeave=function(e){this.state.hovered&&this.setState({hovered:!1})},t.prototype.onDragStart=function(e){if(this.props.onFragmentStartDrag){var t=this.myGroup.group.getAbsolutePosition();this.props.onFragmentStartDrag(t,{x:this.props.width,y:this.props.height},this.props.imageFragment)}},t.prototype.onDragEnd=function(e){if(this.props.onFragmentDrop){var t=this.myGroup.group.getAbsolutePosition();this.props.onFragmentDrop(t,{x:this.props.width,y:this.props.height},this.props.imageFragment)}},t.prototype.onDragMove=function(e){if(this.props.onFragmentMove){var t=this.myGroup.group.getAbsolutePosition();this.props.onFragmentMove(t,{x:this.props.width,y:this.props.height},this.props.imageFragment)}},t.prototype.onDeleteClick=function(){this.props.onFragmentDelete&&this.props.onFragmentDelete(this.props.imageFragment)},t}(r.Component);var K,X=o(35569),J=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Y=function(){return Y=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Y.apply(this,arguments)};!function(e){e[e.pulsing=0]="pulsing",e[e.focusing=1]="focusing"}(K||(K={}));const $=function(e){function t(t){var o=e.call(this,t)||this;return o.calcSizes(),o.state={size:o.minSize},o}return J(t,e),t.prototype.componentDidMount=function(){this.startTween()},t.prototype.componentDidUpdate=function(){var e=this.minSize;this.calcSizes(),this.minSize!==e&&(this.currentMode=void 0),this.startTween()},t.prototype.componentWillUnmount=function(){this.removeTween()},t.prototype.render=function(){return this.props.dropTask&&r.createElement(S,Y({},this.props,{src:"data:image/jpeg;base64, iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\n                    jwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAu\n                    MjHxIGmVAAAoM0lEQVR4Xu2dCZTdRZX/L4OKIAICQdlFHP4qbggjigoOjKLMKChGURRXmMGQIWFL\n                    SCc+kl7ee7/99zoj26i4IBgFnHFDtgiGsIYl6WxN1k6vr9++b939r/tLZQSskH7d/Vvf/ZzzPcnJ\n                    gVe36ld73boFBEEQBEEQBEEQBEEQBEEQBEEQhKe5deL1ENp+GHx/5dtATr4X2nd+GhZtvBjaei6F\n                    WGMhqMVOkFMqROLLoWvoVqbboHPwdkv4d/y38PAPIZrUQc2HobvxA7hp2zehbf1sCG25AIziP8G8\n                    R4+GUM/hoI4fyFMlCMIx5vYewBrsLAj1fgTCo1+DSCIEWvFukNIvsD/jEBsrglmrQ/fYOCyfmJhZ\n                    jU+AWW1ArF5maaRZR7EBjOofWcfRCWrhctZRnA1K6XiYv5p1DhP7cYsJgpgSKyb2h4UbToGOwYtB\n                    yekgpVayhjcMRqUubqAeUKw+xjqJNMjpp0Cr/Aiiie/AdU+8n81ODuK5IghCCE7fo6P/zHQ9a/C/\n                    B72UFDYyP0ovF9kS5DE2U+lkHdmFcP3GY3iuCaJFCQ0cBB19HwYlv5Q1kMfZdLpiTbNFDShoijUa\n                    bMmy3prZdI18GsI738JLhSCCClsXd+ZmQTR1Kci5X7CpfNqetbrfhHsL9TKouftZZziHLR9OgtDE\n                    P/BCIwg/wxp9V/8R0DX4TVALD7CRryhuBKT/U6xRA630PFsuXMeWRW+HCdpQJPxGaOKN0DlwEVvH\n                    /wHMallY0Un7VqzeAKP8JEjJK2HhhiN46RKEF2Ej1bLB09n03mDT+5SwQpOmLqNWAb38a+gYOB9C\n                    K1/HC50gXCaUOASk1NdBLa5h69kxYeUlzZy6x8dZR9DHZgU3gJI8nn8FgnCY9sETQc13sNE+OMd1\n                    fhM6JSmZOyA6egaEQrRxSDiAkj4NtMIKVvkqwkpJcl7djTH2TR4COfmvdIJAzDy4E901/FEwyv9j\n                    VTZRJSR5Q3r5OYgkvsQ6AtonIKbJnoavFe+nM3ufSSutBznNOoKeN/CvSRBNgOtKrfgn1vBpxPet\n                    xifYrK0HtNyFtDQgJkckcRyo+dsh1vDupRtSc8KTA7X4IHQMnmEd1xLE3yEPvQmimUWs4ReElYjk\n                    f+EdBLV4B4R2Hce/OkGwESGc+AKY1V5hpSEFT7F6GqT0PNofaHXkoZPYOv931hRRVFFIwZZWWgdy\n                    6my6b9BqhLa/EaTMHDBrdDmn1dU91gA5+0NQckfy2kEEGoyXZ5SfEVYGUuvKrPVDNPV5mg0EFXP8\n                    AJBzC9j6ryqsACQS+npYm4QDNBsIFOHhd4BReVT40UmkV2v3bOAcXnsI34LOH0rqUjDrOeGHJpH2\n                    pu5GHbRixIrETPiQ0MjBoGT/m1x4SdOSUV4N7XTt2F8oo+8CvbxG+EFJpGZl1hIQzV7AaxfhXSb2\n                    g+jo59kHywg/JIk0VaEXoZxeQLcMvQp6dSmZRXR5hwsfEInVC6w8RkFK9oKceZGtaVezte3DsHz8\n                    z+zf/7j7abD+28Go3mf9W6zxEJs5rQI5+xxIqU3sN4bArOdBr9TYfy9Op9WkFn4F4QyFMfcU+BwV\n                    fhjRBwuqusfx2KoKSm6QNdInIZL8ERilELStnQ2R7EdgzoNHwNwnD7GOP6cKvjd4/ao3w/z7Dwcj\n                    /15YsulC1plcB1L6ZjBqj4Ca22ZF5Wm1fRa93EP3CbxC5/Bb2Qj1nPBDBUndjXHQS4OgZO+Fjl3z\n                    QMmfB9evOcZ1xxWM1tuVOBNu2nE56xB+whpHL5s5NIR5CJJwXyAychYvBcIV1MyHwaxuF34gv8us\n                    NdiIvsm6moxHmW3rT+S59j6hvsOho/9zbHYigVZ6mnUIwQyNjssjjD5EuAC+o2fW8sIP41eZ1Qwb\n                    RX8HcuoqCPUeFwy3VJaHUO8h0DV8KciZn7LOYMBavojy70fhXQIpfQ3FGXAMVtBS+gus8QfDpRcb\n                    vVa4DyJDl1gxCYIO7it09p0DWvG/WWcwGIj9A8yDlG6H0ARdL7YVHBHV/FVWryv6EH4RRhvSin9l\n                    U+TvWaNjq2L2HgBdI58Bo3oP6wj9H4hFL//c6uAIO8CRP3sNa/z+PebTK3FQshHoHHgXzxSxh87e\n                    WaxznwdGeZMVy09Ufn6QVriLOoGZBkd+fAnGj9NFtFkvPw3R+HfIiWQS4LeODp8HevH3YNZrwjL1\n                    utT8r63ZDTETYIVILvBd4+8eY9P80gPQOXhOMDbzXGDZln9knecdbMnkv8AtSv7eaflgEAxr5E9f\n                    56vGj/sTeuUBkBNnUsOfIeTUiaCXbodYvSQsc69Kzd9DG4NThjUeJXs1a1D+WPPj0ZZeegSU5FnU\n                    8G0C4zoo+Z+yjsA/m8Ba8S5a+k0FOfsN1qj88aGNygvQOfApq9Mi7GfZ4LvZ8up/fDM4aKVbqG40\n                    Q3T0PF+E7jJrwxBNXkE9vBuwBtU5fJ7V+Yq+jZeES1g5uYA6gcmAU2ivR+uNNapsKnoLhLYfxq0m\n                    3ALX2FLyGjDr3r4CjrMVOXMVdQKvRWjnMRCrxYUF6BXp5bXQsfMMbjHhFfTy20HN/9bTbzzgBnFX\n                    nAKLCOkcnMWmcz3CgvOCcEkipztgft+B3GLCa2AMyOjopZ4eRGK1LEQzNIC8Agy8qJX+ICwwL0gv\n                    rYPw4OncWsLrdOw4mg0m93v20pFZ2w7y0FHc2laHrYm0wi3CgnJbuG5T8reRQ4cPmb1if+tWpVn3\n                    5n6SVl5NbxMiSvp71i6pqJDcVKyehUjyEtq08Tnh+GmeffgVo1YDtHD9wo+DIaVEheOm9PJ66Op7\n                    J7eS8Dt4WqOWfiv81m4KB74oGwBbEowaY5Q3CwvGLeGaUSusoKlZAMEbenJmsbUTL/r2bgkHwGj8\n                    Q9zKFgEdZ7ChiQrELWHYZym1kKb8QYZ923Dqc57zGTCqm1vLp0RKzfHUne9YPQfR4Yu4dUTQUYqn\n                    s0a3RVgX3JJWuBtmT+zPLQww4f7T2DSsIiwENxSrJym6awvSET8a9Mo6YZ1wQ+jAJKUv59YFFHyv\n                    Tys9LywAN2RUXgI1/z5uHdFqKLkjQSt6x/8kxpYmXf2ncOsCiFrShBl3Q3p5ozUKEK1NaOXr2CDg\n                    nf0ovfI0hLa/kVsXIMKps1kP543rm+jPH9pCnljEbnBTWs3eLawrbkjO/IBbFhBw6m9Utwoz67Ss\n                    xj9wJLeMIHaDx4RK7i5hnXFaeDQYHg7I0hSj4yg5U5hRp6WVN1iXjghCBPp/eGU5oJefCkZ04ejg\n                    GYABMkWZdFJ41oqXRAjitcBGpxXuFdYhp6Vk5nKrfApeotHK7u/6xxqjENr5Dm4VQbw2Vzz7ejAq\n                    TwnrkpMyaxno6DuWW+VDlPzVwow5KfT6wgi9BNEMnVvfap0UieqUk8Jn733pndqRONbqwUSZckr4\n                    fn546FxuEUE0R2jXcawOjwjrllPqboyxOvxJbpGPwJh5ogw5pe6xCZDT87k1BDE1oqlPgNvvEeil\n                    HivakW/AkEd4uUaUGaeE7+oTxEygpC5lA4q7Pixy9lpujcfBnkotPizMhFPSi6vogUZiRsFHXUV1\n                    zSmZ1WG4fuObuTUeRs1ewHpL9yL84JrN1zunhCfB8ONa+VFhnXNKak7m1ngUdKTAaDoi450Q+htI\n                    iU9zawhiZmkfPBHMekJY95yQWc9DdPQYbo0HwRh6bt7zl7NhCuhB2Eo09W9soHFvf0vJ3sYt8RjW\n                    6F9yL8SXwaZn9BIrYTfo2i6zqbioDjohs1aG8NDbuTUeQkp+TWiwE8KIPu07T+aWEIS94OMwetm9\n                    NwmVPEYT9hArJvYHreTS2p8tOaTMHG4JQTiDFdG6URPXSZuFr1S17ziJW+IBpORsoaFOSCv+xV9O\n                    EkRgUHIhYZ10QmrhZm6Fy2BEFbeeaDZrbOo/QlN/wh1Czx4ERs2d4KKxRgE6h9/KLXGRyMDHXTv3\n                    VzJLuBUE4Q7y6LkQc+lUwPXIQTj11or3C42zW0Z1I3n7EZ5ALfxCWEftllEdYG3gIG6FCyzb8o/Q\n                    3XA+2EesMQ5dI+TwQ3gDDDTj1s3XjsHLuBUuoJXcCfWll35LDj+Ep9AKi4R11W7pleesUzjHCSUO\n                    AaOSFhplp8x6DZb1/z9uBUF4A4wsrJedf4UYb92GB0/nVjiInPqm0CC75TknCILgRFOXCuus3VKL\n                    P+MWOIhWekJojJ0y60XW8ZzILSAIb4Gb0kZ5g7Du2im8JISvbTsGbv7hRpzIGDul5DRuAUF4E630\n                    ZVg+7nzbiCS+zS1wADUfFhphp8x6ztlejiCmwIqJN4BRc94tXi8/wS2wGdzsMCrbhUbYKb3iEddH\n                    PzKxH4R6D4Hrnnob6MUzYem282Hx+otg0bqLLeHfl2z+V9ByH4O2dcfDwrVvcWdnOSBoeZwFiOux\n                    XcJn99p6HfCKXdr/URcyVwIleTy3gNgX6KK6dPtHQclex6akK0BKbYbYWB6M6r491mK1Mau81Vwf\n                    6+jvZ1PLJbC073wI73wL3bmYJPgehl51/kRAzizmFtiInI0JE7dTSuHnPHVib+CoHR7+Olue/R7M\n                    2swfz5rVEutMngIpPQ/a1tNG7L6IjHxbWI52Cp/ex3gFtjG39wCWyIAwcbvU3RiHZf2ncQuIl4Mj\n                    Mr57oBV/yUbrsrD87FCs3mBpPgrR+FdB7TuQW0O8nFsnDmUd8aiw/OySWWtA2yYbrwnj9L/b4ek/\n                    BmIkXok89CbQC98BvbzZlR3nl0uvDIGUafPGzTSPIWeXCcvMTuG3sA01pwoTtU2ss4kMXcJTJ/Dq\n                    tZT5Ghi1HeLyclFGLQtq8SYIDbh4OcVjLOg5gc2WnL0ro5eftWcZYMX7Lzj7xr9eiVvLDgKgc+i9\n                    bPn1pOMzsGZlVndCePRCe9eiPkIt3CcsJ7sUq5eha8MRPPUZpHPgXdY7ZaJE7ZJW+C+eeuuCI6pe\n                    jLoWfmoqwvgQRvk+633IVkdKXCwsIzsVjn+Hpz6DqNl5wsTsEsb47xx8D0+9NemKnwJa+Wlh+fhB\n                    ZnUQ5ORneW5aE9wk1SvOviWgZH/NU59B1PwfhYnZJb28tqXPnSOJL7LpXFZYNn5SjM0alWx7S39L\n                    rdAtLBu7ZFRG4ScTb+SpzwDWNLRUECZml6QWDfeFHnhKfql1zVNULr7UOJ5R32edXrQikRFnw+bh\n                    Q6bLZvKKMHqVOen9hzunUgsG+8RRUsqYjntaOiW1+BiERg7muW0dQmw0NipDwjKxS5GRG3nqM0B0\n                    dIEwEbtk1F5ouSkj5lfJOjtVdENa4QmIpA7luW4dcENbVB52Sc09wFOeAdScs+t/JbuUp9wa4LTf\n                    DRdrt6QVH2eDig+eup5BOvvOcXRmp5XybFCZgafy8PafVnIu9BeulRavP5WnHnyskT8fCey0f2/S\n                    Kw+1lBsxXtAyaylhWdilJZvP5KlPgxueP1X443bJqPRBKNQ60/9I/BJYPuasf4VXJGeXt5TDkFa4\n                    V1gOdimS+E+e8jSIJL4r/HG7hBdbWoXwyAcg1nDuEo/XhLM9rF+tQjT5PWE52KUZaUtK9mbhj9sl\n                    vNLaCoR6DmaznZeEZdBKwtgD6ObcCizafCzLr3OzPb28bnrh86230LNrhD9uh2L1cSsiTSugFX8s\n                    LINWFL7yZLbEnY/9WKfvXDQtvVSe3j6L9fhh1TlvNL3cx1MONtH4Jxy/V+F1ySmX37lzCDX/M2H+\n                    7dKiFz/CU54CkeSpjt4+0wp38ZSDi+VV6cIDEl4XhnxvhQdfIvHLhfm3S1pxLk95CnT0fUH4o3ap\n                    o//7POXgIiXmCvNOwgHgXl5KwWXxi+9jg6pzbsFyejlPeQpgdBHRj9ohfGegY/AMnnIwkQpvA7Oa\n                    E+afNGEti+T0uby0gok6fiBbmxeF+bdDWvERnvIUUPI/Ff6oHcIpYNBdRJV8lzDvpL/JqKwKvBu4\n                    Xn5KmHc7pJW2TL085czzwh+1Q1pxI081mFz7wptY5XbWE8yP6h5rwLLtwQ4CK2WduxdgVPIwf/UU\n                    TgKs2OYOBjKQUsF2AJIz/yHMN+nvpRZsCGjhIcIjc4T5tkN4tC6npxApeO5js8CsVYU/aoe0chdP\n                    OXigP4VaeEaYb9Lfy6hW4MatwY0yrOTPE+bbLi164XyechNEBt9tbcyJftAOta2dzVMOHst2nt5y\n                    l32mK3zVKKhc8/TxjgZ8CY9cyVNugvaBTwt/zA51j+HrP8Fd9ykZSZhv0t6FEZCDCl6FjtWdOwmQ\n                    s1GechO0rf+K8MfskFktw9UrD+MpBwuM5a9XtgjzTdq78JWbjr7gRhWOppyrE11Dt/FUm8CoLRT+\n                    mB2KNZIzG8TQQ3TueI91602Ub9JrS8rM4aUYPMzaSmGe7ZDZeJCn2gRSRhH+mB2S0ut5qsFDSjm3\n                    4xs0aaV7eCkGj85B58K/qcXneapN0DV4m/DH7JBeXsVTDR5aydkgEEGSWeuzllBBBCM/i/Jsh6TU\n                    Vp5qEyh55yquXgrmua8VTq3QJ8wzad8yq3WQ80fx0gwWTvqFaKURqy42Razh3Is0OB0KIgufOgJi\n                    tYowz6TJ6ca1n+KlGSxuXHuRML92qHs8B9HxJoOwqrnNwh+zQ5FEhKcaLLTMGXT+P02ppQW8NIPF\n                    kt5PCfNrh2KNEoR6DucpT5Joyrmpq1mx8U1zF1m83rlePqgKDwdzdqhmPyLMrx1Cj95rH29yKRVJ\n                    jAh/zBaNX89TDRZacb44v6RJy6j9npdmsOge/5Awv3YI91KuW/k2nvIkiYw6d3PthjWX8FSDhZrv\n                    FOaXNHkZ5WB6BF73FMaGcCYsnFltwJxVx/CUJ0kknhH+mB2av+pinmqw6Bpundd+7JKUCaaPCF62\n                    MyrO3AfAjmb+Q016VUZGnQsGOv+vX+CpBouuoR8K80uavKTUZl6awWLuH2eBXnauA5i78jie8iSJ\n                    jOaFP2aHrlt1IU81WHQN3SLML2nyklIv8dIMFtesPJLNAOrCPM+0jOr4VDoAB2cAq4M5AwgPOfsi\n                    bBAlpzfx0gwWuATw9gyA9gCmTWTEEOaXNHkpmXW8NIOF9/cA4s6dAoS2XcZTDRZG2Tl/76DKrAbz\n                    nkh7//Fg1py5JWrgKcADTZ4CRBPDwh+zQ7HxG3iqwSKapDiA01VQ4wOaE6cL82uH0A/g+836AUiZ\n                    HcIfs0NaaQlPNViEtlwgzC9p8oomVF6awSKSPEuYXzuEnoC45GgKNb9R+GN2KBKXeKrBAp9WczKu\n                    YhAlp67ipRkslmw8X5hfO4QvMM9f3eRdALPh3OMFXYPTeL7Iw4SeP4x1AM7FfguiQls/zkszWCx4\n                    3rln96zbgKNN3gaMJu4U/pgdMmu/46kGCwwHrmQ2CfNM2reMahmiG5usuD5Br8wT5tkOKbkBqy42\n                    RdeIc04sWukJnmrwUPM/EuaZtG/p5Y2BfSZMTncI82yHpPQUnKmcDGUtpYLp7IFEU5cK80zat7Ti\n                    j3kpBo9I/FZhnu2QXlrDU20CtejcFKW7kQS1bwrvl/mASOoEiNWdcfkMmvB5+qBi1lcL82yHjPIU\n                    rlS3rZ8t/DE7hE9BXfnXt/CUgwVOYbEHFuWbtHeZ1VKgX4uOJpw7Zg+z5XzThEfPFf6YHeoeZ0aO\n                    ns5TDh5y+lphvkl7l1b8Ay+94BHqPcQ6mhPl2w6pxU6echO0bTqJGelMwALUwhe/ylMOHqGNbwcn\n                    34ILgsIjwXQPR659/ERH29ZN277JU24CK6Jtoyz8QTukFYMZGHQPOKKJ8k36exnVVGD3hBAp4dy7\n                    m6i2TefylJtg5cTrQC04dx9Ayd7LUw4m0dHPU4TgSUrO6LzUgkl4xLnXovAmYEf8aJ5ykyg5594G\n                    UAtbAZp1VvARs1fsD1ppmzDvpL8pVq9AZFeTd9d9hpy5XZh3O2TWMhDaPsV3N6MJ50JadTcq0Nnb\n                    5IUFn6EVrxDmnfQ3mZW7eGkFF728Xph3O6RkNzTvBbgHNbdA+KN2CC/NdOw8g6ccTOShN7H17UvC\n                    /JNw9C9CV/wUXlrBBPc2tKJze2t65QGe8hRY8pJzN5ZQkZFgxgV4ObgXQM+Fi6Xkgr32Rzr6Puzo\n                    XlAkMY2btlrmHaxXdq6yKtnf8JSDC752q5ceFOa/lWXUBkDNNHll1Yd0DX5fmH+7JOe+y1OeArh5\n                    YFaTwh+2Q1ppONAbgXto33ESmDXnoi57Xd3j4xCJf5mXTrBRcncJy8AuLV73AZ7yFImmVgl/2Bax\n                    qdGNa9/FUw42UvJKOhbkUgt3T32jyk+wPOrlfmEZ2CGtmIcVE/vzxKdINCULf9wuYRy9VgArvF76\n                    s7AMWklmrR+6skfwUgk2C184xXJ7F5WDHVLyz/CUp0Ekfonwx+2SWriHpxx8OgdnQay2S1gOrSD0\n                    NJWSH+OlEXyklHMOQCg1fztPeRq09Z7saK9lVketjbJWoXP4/RCrO/cIi1fUPdZgDeLrvBRaA7Xg\n                    7OZvNHkFT3k6sKmqVhwSJmCX2vvO5om3BnLui2w0rArLIojCTT81L7fEhu8e8Gqz4fDG7w3Pn8pT\n                    nyZK9tfCBOySVjJ5yq0DRg5qlRuDcvaHgQ31tTek0QuFZWGXtGJi5jZW5ayz99n10vqWqyCIlLqM\n                    LQeC2wngyK9kb27Jb6tkbxOWiV2a0ct1XUNnwnL28UQJ2SFsBKGtwXYJ3RtS8mvWvQhRufha42Mg\n                    Z4yWbPzz0f23lBCXi02S09fz1GeAWycOAqPi3GOhKDUf5am3HuH42Wy9GBeWix8Vq1et491WbPxI\n                    JHm+oxvpuJSc8QHUaQ8mo7aNdTyv56m3Hl0j7wS9/KywbPwkszoMcuGzPFetiVb8pbBs7BI6G03b\n                    AejVRJPfEyZml7rHxmBp/0d56q1JaORgUHPLrZuSojLytNiIpxUfAjl1Is9Na4KvQxnVgriMbJJW\n                    sOFKdWjrCaxROhveWi3+jKfe2nSNfBr0in+CicRqWYikrmoN9959IGe/KSwjO9XRP5unPoPg+k0t\n                    9ggTtEtGNQvhncEMF94s1j3yguLpS0TdjTropd9A+2Brj/p7wA5QLTwmLCu7FKsX7GszUqpNmKid\n                    UjJzeOoEEho4AYzar9hszDuOQ7hcw+m+5dZLo/7/sazvfdbRp6jM7JJSeISnbgPhwdPZx3Y2Q1pp\n                    HUuZKtUrYI1MTrwHpGw3mxG49/ow7jar+f+Fzvg5MHumN50CADo8icrNTnUO2ThghibewKblzr1o\n                    gsLjk/bB1nINboaFG45gs6S5oBfXsOmf/bHm8Xvopa2g5SPQ3nsyt4J4NaHth4FZTQvL0C7F6jWI\n                    sBmirWhFVZi4ndJLf6Kp5T7ZD9rWnQzR9LXWpROzlpqx2ZpRzbNvsAakdDss3XYmbe5NAiW3UFiW\n                    dkqvPGH/t+nc9X7Hj6Xw9KFz6L3cAmIyhHreAIs3f4AtE+ZBNHELa8SPg5Taysoyw0aKIhudqkz1\n                    3apV2b+VYPlYFtRcH2vsz7Dp6y9YR7KYdSqfhPmrD6RG3wS7g7+OCOuyneoa+T63wEbwNEArvSg0\n                    wE4puTu4BcR0QK9OPJu+ZuWRcO3jR8F/PvRWmPvYLNbID7f8DqihT5/o6DeEddhOYSfuWFh9reD8\n                    9AZHqPZtdLxEeJu5vQewGdQWYR22U3ppGuG/myW06zhr6igyxE6puR9xCwjCm+C1blHdtVO4MRsZ\n                    +RK3wCH0svOPXeKzUe07aeeZ8CYYRVuvOD/6m7VRCA0cxK1wCDn9RVei2mqle+hEgPAkasnZuBl7\n                    hPdFHAd3mfXyoNAgO4VHW53xT3ArCMIbhHoPceUKd6xRg/ahk7gVDuOGazBKKz4689cdCWIayOlO\n                    YV21W2rhYfdObsLpt7MeyLmHDl+uaOob3AqCcJeu/lNcieKEm3+4FHcVNfcToXF2y6wOQmTrodwK\n                    gnCH2Sv2B630kLCO2i2jvMH9EPrLtp/Gej/7fdBFUgsxbgVBuIOUvtjxC3J7JKXncStcBD0D9eLD\n                    QgPtFsaaW7Zrmo8fEsQUCQ0cyWaizr6ZsUdGNW55bnoCvK3nZNDDl0svP2edvxKE06h5d5a/KDl7\n                    E7fCIyj5vwgNdUJytpNbQRDOICU/41qsRrOWgVDP4dwSj9DZfx6bBbhTILFGHZTUx7klBGEv+Kir\n                    UR0Q1kUnJKWXcks8BJ5FqvnHhQY7IaO6mZYChO3srucrhHXQCWGQkYVejZMZHjrXtR1RlFL4ObkJ\n                    E7ai5r7rah2X0x5b+78cK1ZAwb29AAxOqRa+za0hiJlFSn9wd+AUQd1zQmZtGKKjb+bWeJTOkY+x\n                    hujeA5dWWOQUHQ0SM4v1vHd1k7DOOSUls5Bb42Gs9wMKdwsz4JT0aq+1UUMQM0Fo4nWsTru37kdZ\n                    e1xOX/mdKu07TmIjsTt3BPZILfwvXRgiZoRocoGwjjmpaPKr3BqfoKTbhRlxUlqhm1tDEFNDzn/Z\n                    1SUtCvfVfDeY4WaFUdkuzJBTQkcNKXklt4ggmqNr+KNg1tzb9EOhuztuPvoSKTnbNeegPeoeq4Gc\n                    +hy3iCAmh557NxtAksI65aRcifYzY1hOE38WZsxJGbU8dA2dyY0iiNcGL/no5fXCuuSkjNoAXL/R\n                    48d++wKDJbh5drpHRi0F4dHTuVUEIaar/wjrgpmoDjkpdDbqin+FW+VzpMxcVwKIvlqxety/6ynC\n                    dpTckWBUnhHWHacVqOC3eI6qFf8qzKjTitVHQBqhToB4Jdj4zcrTwjrjtDC4aKjnbdyygIBv+7kV\n                    P/DVwjjq4fhp3DKi1cFpv1dGfpwpq7l/55YFjGjqanGmXZBZS0Jk6MPcMqJV2b3h96ywjrghtXCf\n                    5U0bSKzwYWX3Lgu9WhhYoX3kLG4d0WpEUiew+tgjrBtuyKwNWUuRQCNlTmYZTQgLwA2hy7KcpRuE\n                    rUYk8WG2JB0V1gk3hA98RIfP49YFHIxl7rZ75csVazSYTdfDrROv5xYSQUbKfIYNQjlhXXBLSkHn\n                    1rUISv6/hAXhptT8z6wTCyKgTOwHcuoqNvg4/7L1a0kvP9N69Q5HW73sjWOXl0uvPA0dO47mVhJB\n                    AcPFqcU7XItevTfF6kn33vZzm/bBE8Gse2c/YI8w8oqcPpfCiwUEaeRkNti47933auFMRMl+nlvZ\n                    ooRHMY6gt6ZkqO7xOqi5H1CgUR+DATwjuN/UyAq/sZvCS3JSpo1b2srguiw73/Vbg3uTVnwE2vuP\n                    58YSfuHWiYNYvVoOy8fdebZuX1IKv6H9pj3sdhW+U1hQXpBZT0Ek8SX3nmEmmqKj/4NWCC3Rt/SC\n                    zNqLoKcP49YSFmbvAaCX3L86vDfh7Sy18AsIbTmKW0x4DVyuKblFrMOuCb+hF2RUt0FH37HcYuIV\n                    yENHsQLaICw4r8gKzZz6hvUsNOEdwvGz2QCyRvjNvKJYPWc5IBGvAa63zepOYQF6RbhfoRX/AuHk\n                    +7jVhFuE2KChFX8MMQ85lokUa5QgPPwv3GriNcHAHRjfX1SQXlJ3owJKwYRQ7yHccsIpMEimnPkP\n                    Nli4H7ZrX+oeb4CUvpxbTkyKaPo81gkUhQXqNeFb7VLmStrVdQI82hs5n0333Q/ZNRl1N8ZByd1A\n                    PiVTIZI8n3UC7ocTm6y0Ui+z+RII9byB54CYKfAEBl+dUnKPePbI+NXCjWM58wOeA2JKROKfZZ1A\n                    RVjAntT4BBudNkM0+RXqCGYAvEKODV8tPOzZM32RrMafxYc8aeSfNuGhz3n6aEcoqyPohfDIZd5/\n                    0NGD4F0RdJNVC4+xxuSfho+yGn+6g6b9M0k09W8Qa1SFBe51GdVRkFIhWLSBLhntCwyDHR75Fus8\n                    NwrL0uvCy0Zyehk1fjuIJi/w1Z7Aq4WzGDX3K+jsP89yfCJ2g+v7Zds+AHIuxjrLjLDs/CCa9jtA\n                    OPEvrBPwVjCHZoWjhFEZYlPcpRAZOhVmt+IjpqzRt790PEijV4Je7LEaj6is/CJcpsiZG3nmCFuR\n                    c2dDdyMt/BB+U3djDNTiBrZEaIPQ9ncFOioRnt13xI+GyPDlbG3/qBUGS1QmfhM+P6fm59G030nw\n                    xSGj6u7jozOtWH3MypOSM1ln8En/vAf/GmCjD23+IMvTEtBKL4JZ8+c+zt6EDmtd8Quo8bsBug0b\n                    lbXCDxME6eUi6KWHrcYTjZ/D/vR+xFg88Vi2/TQ2o5nLRsV7WB6876k3VcXqoxBNncNzTrjC3N4D\n                    WEW7T/iBAqVxrHAN0IrrQUrfDJ0Dl7PO4WyYv/pYCE0472+A5/N4MzI6egYs6/sam9JrbC2/inXI\n                    Zd846kxHRnUjxYnwCtaZcU63NmJEHyvI6m7UWeNLgFZ+EiLx5WyavQSWvjQblvadA12Zd8KcB4+A\n                    Bc8eCvLQm8Ac3/fJA7ozYzANvN8wf/Xh7M/jIJI8Cxb3fB7MynXQNaKxRv4gyJl+iLG1r98375qW\n                    5d/xZ+jMzeIlRngDtgbD+P5mzR/3B5xQrDHOGmvNKpNYIwNmfQTCI72so1jHRu4XXqFwfC2EhzeD\n                    VhhgjTrN/p8C+3+rEKu1Xqe6N+GGrVZQAr1R63u6Emey6dkW4QckkaaqWD0LSvZbvJYRngYfe8Tn\n                    lUUfkkRqVnp5HaipD/DaRfgCPH6Kpq9l61RvvEhM8p9wT0nJ3cGWSHSXw7d0DJ4BRm2b8AOTSHsT\n                    7plI2a9DKBTQl3pbiVDiEJCzt7fejjVpSlKLq6Br5J289hCBAR8lxaCeoo9OInU3SmzKH7J8HIiA\n                    0jn8VtBKK9hswNtBJEkOCs/2i49B567381pCBJuJ/aBj4HwwanRc2OrCZ8KV1NWteSOz1QmNHAxa\n                    odu3gUZIUxfu8KMLeWTXcbw2EC2LlP4gaMWHrHv6ospCCpaM8iZQ0hfxr08QHCk526ocokpD8r+M\n                    agLkzGIIraTw7cReuOJZvFi0iK0NR4WViOQ/YRg5tXg7hLbTg5zEJImkDmVLg3Y2anjvbXnS5IQR\n                    h5TcnRDa+Q7+VQmiSdTisRBNRcGo0C1Dv8iKm1C4E6LxD/GvSBDT5MbnZoGW62YzgpSw0pHcV6xe\n                    Ba10L4R2vId/NYKYYRZsPdQK/WxUh4SVkOS8zHqOzdR+BO29J/OvRBA2g3H98dUfs7KOvApdEB7Z\n                    mvUBkFJLwEzQ68yES2AIrcjwR0Ar3s0qJF09tluxRgPUwkrryFbtO5B/BYLwAKGho0DNX8vWoS+w\n                    WYG4ApOmJr00wMpWhlD/Kby0CcLDLH7pVFBLGEBzO3kYTlFmNclmVj+H9h3n0g09wp9Yr+HsYkuE\n                    UrfVGWCgTlFlJzGxjhIfUtWKd0F09CIIbX8jL0WCCAC3Pvt6CMfx0YwloBbXQIz2DKzQ4lpxCygF\n                    E5bu+mcIPev/15AIYlJ09s6CSPLLVtw5vbS1ZWYHWjkOSv5eCI9eAeHhd1ivAxNEyxPaegJIicvA\n                    KN3GlgxPsU6hIGxAfpJRrrJp/QbQy3dCODEXFm98H63nCWIy4MUkfFhTylzJRkzWKRT+AnplJ2tM\n                    3otfYFQaYNTiIKWfZI3+l+zPG6Bt3VmwfORgGuEJYqbAq6yhnoOha/SfoG3DV0HJSCCn72QN8EmQ\n                    UlvBrCWt229mtT4jSwo8wTCqDWu/oruRhWhyB5uZrAG18FuQkgZ07LoCQtvOhlDf4cwu598oJAji\n                    ZeD7f/N7Dod5fzoaIkOnglI+D5ZuvRgWrbsMbnzxcmjrmQOxsQgsH5f/TjdtuxoWrb0CFr34LfjB\n                    pq9AJHk+aMUzYM4Dx8A1zx5pvS9IEARBEARBEARBEARBEARB+AWA/w9fjqTioToeMgAAAABJRU5E\n                    rkJggg==\n                    ",width:this.state.size,height:this.state.size,offsetX:this.state.size/2,offsetY:this.state.size/2,x:this.props.dropTask.targetPos.x*this.props.diagramScale,y:this.props.dropTask.targetPos.y*this.props.diagramScale}))},t.prototype.calcSizes=function(){this.minSize=this.props.width/30,this.maxSize=1.3*this.minSize},t.prototype.startTween=function(){this.props.focus?this.startFocus():this.startPulse()},t.prototype.startFocus=function(){var e=this;this.currentMode!==K.focusing&&(this.currentMode=K.focusing,this.removeTween(),this.animationProps={size:this.state.size},(0,z.Z)({targets:this.animationProps,size:1.5*this.maxSize,duration:300,easing:"easeOutBack",update:function(){e.setState({size:e.animationProps.size})}}))},t.prototype.startPulse=function(){var e=this;this.currentMode!==K.pulsing&&(this.currentMode=K.pulsing,this.removeTween(),this.animationProps={size:this.state.size},(0,z.Z)({targets:this.animationProps,size:this.minSize,duration:200,easing:"linear",update:function(){e.setState({size:e.animationProps.size})},complete:function(){e.pulseTween()}}))},t.prototype.pulseTween=function(){var e=this;this.animationProps={size:this.minSize},(0,z.Z)({targets:this.animationProps,size:this.maxSize,duration:500,easing:"easeOutSine",direction:"alternate",loop:!0,update:function(){e.setState({size:e.animationProps.size})}})},t.prototype.removeTween=function(){z.Z.remove(this.animationProps)},t}(r.Component);var ee=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),te=function(){return te=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},te.apply(this,arguments)};const oe=function(e){function t(t){return e.call(this,t)||this}return ee(t,e),t.prototype.render=function(){for(var e=this,t=[r.createElement(_,{key:"__background__",width:this.props.width,diagramScale:this.props.diagramScale}),r.createElement(I,{key:"__placeholders__"},this.props.allTaskTargets.map((function(t){return r.createElement($,{key:t.elementId,width:e.props.width,diagramScale:e.props.diagramScale,dropTask:t,focus:t.elementId===e.props.focusTaskId})})))],o=0,n=Object.keys(this.props.elementsWithTask).map((function(t){return e.props.elementsWithTask[t]}));o<n.length;o++){var i=n[o];if(i.element){var s=i.element,a=i.element.id===i.task.elementId,c=X.OW.safeSubtract(this.props.elementOrigins&&this.props.elementOrigins[s.id],this.props.x,this.props.y),l=r.createElement(G,{key:s.id,imageFragment:s,x:(i.task.targetPos.x-s.naturalSize.x/2)*this.props.diagramScale,y:(i.task.targetPos.y-s.naturalSize.y/2)*this.props.diagramScale,width:s.naturalSize.x*this.props.diagramScale,height:s.naturalSize.y*this.props.diagramScale,diagramScale:this.props.diagramScale,onFragmentStartDrag:this.props.onFragmentStartDrag,opacity:.8,uiScale:this.props.width/1e3,checkmark:this.props.showCorrectIndicators?a:void 0,easeFrom:c});t.push(l)}}return r.createElement(I,te({},this.props),t)},t}(r.Component);var ne=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),re=function(){return re=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},re.apply(this,arguments)};const ie=function(e){function t(t){var o=e.call(this,t)||this;return o.onMouseEnter=o.onMouseEnter.bind(o),o.onMouseLeave=o.onMouseLeave.bind(o),o.onClick=o.onClick.bind(o),o.state={hovered:!1},o}return ne(t,e),t.prototype.componentDidMount=function(){var e=this;this.centerText(),this.group.group.on("click",this.onClick),this.group.group.on("tap",this.onClick),this.group.group.on("mouseenter",(function(t){return e.onMouseEnter(t)})),this.group.group.on("mouseleave",(function(t){return e.onMouseLeave(t)}))},t.prototype.componentDidUpdate=function(){this.centerText()},t.prototype.componentWillUnmount=function(){this.group.group.off("click"),this.group.group.off("tap"),this.group.group.off("mouseenter"),this.group.group.off("mouseleave")},t.prototype.render=function(){var e=this,t=this.props.bgColor||m.Z.Colors.accent,o=this.props.bgColorHover||m.Z.Colors.accentFocus,n=this.state.hovered?o:t,i=.7*this.props.height,s=this.props.width>100?10:8;return r.createElement(I,re({},this.props,{ref:function(t){return e.group=t}}),r.createElement(x,{ref:function(t){return e.rect=t},width:.9*this.props.width,height:i,x:.05*this.props.width,y:.05*this.props.width,opacity:1,fill:n,stroke:"gray",strokeWidth:1,strokeScaleEnabled:!1}),r.createElement(L,{ref:function(t){return e.text=t},text:this.props.caption,fontFamily:'"Font Awesome 5 Pro"',fontSize:this.props.fontSize||20*this.props.width/90,fill:"black",align:"center",width:.7*this.props.width,x:.15*this.props.width,wrap:"word"}),r.createElement(L,{ref:function(t){return e.subcaptionText=t},text:this.props.subcaption,fontSize:s,fill:"black",align:"center",width:.9*this.props.width,x:.05*this.props.width,wrap:"word"}))},t.prototype.onMouseEnter=function(e){this.setState({hovered:!0})},t.prototype.onMouseLeave=function(e){this.setState({hovered:!1})},t.prototype.onClick=function(e){this.props.onclick&&this.props.onclick(e)},t.prototype.centerText=function(){var e=this.text.text.getClientRect({}).height;this.text.text.y(this.props.height/2-e/2),this.subcaptionText.text.getClientRect({}).height,this.subcaptionText.text.y(1*this.props.height)},t}(r.Component);var se=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ae=function(){return ae=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ae.apply(this,arguments)};const ce=function(e){function t(t){var o=e.call(this,t)||this;return o.padding=10,o.lastRenderedHeight=o.props.height,o}return se(t,e),t.prototype.componentDidMount=function(){this.reportHeight()},t.prototype.componentDidUpdate=function(){this.reportHeight()},t.prototype.render=function(){i.Z.verbose("Toolbox: rendering %d elements",this.props.elements?this.props.elements.length:0);var e=[],t=this.getButtonWidth();if(this.props.setBgButtonCallback){var o=r.createElement(ie,{key:"__setbg__",onclick:this.props.setBgButtonCallback,caption:"",subcaption:"ADD BACKGROUND",width:3*t,height:t,fontSize:t/2});e.push(o)}for(var n=0,s=this.props.elements;n<s.length;n++){var a=s[n],c=X.OW.safeSubtract(this.props.elementOrigins&&this.props.elementOrigins[a.id],this.props.x,this.props.y),l=r.createElement(G,{key:a.id,imageFragment:a,width:a.naturalSize.x*this.props.diagramScale,height:a.naturalSize.y*this.props.diagramScale,diagramScale:this.props.diagramScale,uiScale:this.props.width/1e3,onFragmentStartDrag:this.props.onFragmentStartDrag,onFragmentDelete:this.props.onFragmentDelete,easeFrom:c});e.push(l)}if(this.props.addElementButtonCallback){var u=r.createElement(ie,{key:"__addfragment__",onclick:this.props.addElementButtonCallback,caption:"",subcaption:"ADD DRAGGABLE ELEMENT",width:3*t,height:t,fontSize:t/2});e.push(u)}e=this.arrangeElementsInRows(e);var p=this.props.height?this.props.height:100;return r.createElement(I,ae({},this.props),r.createElement(x,{width:this.props.width,height:p,fill:m.Z.Colors.light}),e)},t.prototype.arrangeElementsInRows=function(e){var t=this,o=this.padding,n=this.padding,i=0,s=this.props.width,a=[];e.forEach((function(e){var c=e.props.width,l=e.props.height;if(o+c+2*t.padding>s&&(n+=i+2*t.padding,o=t.padding,i=0),a.push(r.cloneElement(e,{x:o,y:n})),t.props.onElementPositioned){var u=e.props.imageFragment;if(u){var p={x:o,y:n};t.props.onElementPositioned(u,X.OW.safeAdd(p,t.props.x,t.props.y))}}o+=c+2*t.padding,l>i&&(i=l)}));var c=this.props.addElementButtonCallback?1.7:1;return this.lastRenderedHeight=n+i+2*this.padding*c,a},t.prototype.getButtonWidth=function(){return this.props.width/15},t.prototype.reportHeight=function(){this.props.reportRenderedHeight&&this.lastRenderedHeight!==this.props.height&&(this.props.noResizeDown&&this.lastRenderedHeight<this.props.height||this.props.reportRenderedHeight(this.lastRenderedHeight))},t}(r.Component);var le=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ue=function(){return ue=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ue.apply(this,arguments)};const pe=function(e){function t(t){return e.call(this,t)||this}return le(t,e),t.prototype.componentDidMount=function(){this.fragment.myGroup.group.startDrag(),i.Z.verbose("DraggedElement: mounted and startdrag.")},t.prototype.componentWillUnmount=function(){i.Z.verbose("DraggedElement: will unmount.")},t.prototype.render=function(){var e=this,t=this.fragment?{}:this.props.startPos,o=this.props.element;return r.createElement(G,ue({},this.props,{imageFragment:o,width:o.naturalSize.x*this.props.diagramScale,height:o.naturalSize.y*this.props.diagramScale,opacity:.8},t,{ref:function(t){return e.fragment=t}}))},t}(r.Component);var de=o(91033),he=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),me=function(){return me=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},me.apply(this,arguments)},fe=function(e){function t(t){var o=e.call(this,t)||this;return o.elementOrigins={},o.hasBeenMounted=!1,o.state={toolboxHeight:50},o.reportToolboxHeight=o.reportToolboxHeight.bind(o),o.onFragmentDrop=o.onFragmentDrop.bind(o),o.onFragmentStartDrag=o.onFragmentStartDrag.bind(o),o.onFragmentMove=o.onFragmentMove.bind(o),o.onElementPositioned=o.onElementPositioned.bind(o),o}return he(t,e),t.prototype.componentDidMount=function(){var e=this;this.resizeObserver||(this.resizeObserver=new de.Z((function(t,o){if(e.hasBeenMounted)for(var n=0,r=t;n<r.length;n++)r[n],e.forceUpdate()}))),this.resizeObserver.observe(this.container),this.hasBeenMounted=!0},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1,this.resizeObserver&&this.resizeObserver.unobserve(this.container)},t.prototype.componentDidUpdate=function(){this.props.onGraphicalDnDUpdate&&this.props.onGraphicalDnDUpdate()},t.prototype.render=function(){var t=this,o=this.props.toolboxAvailableElements.filter((function(e){return!t.state.draggedElement||e.id!==t.state.draggedElement.id})),n=m.Z.objectFilter(this.props.compositionElementsWithTasks,(function(e){return!t.state.draggedElement||e.element.id!==t.state.draggedElement.id}));return r.createElement(r.Fragment,null,r.createElement("div",{className:"diagram-editor-container",style:{width:"100%",margin:"auto"},ref:function(e){return t.container=e}},e.prototype.render.call(this),this.state.clientWidth&&this.container&&r.createElement(u,{size:{x:this.container.clientWidth,y:this.state.toolboxHeight+this.props.diagramNaturalHeight*this.getScale()}},r.createElement(I,null,r.createElement(oe,{x:0,y:this.state.toolboxHeight,width:this.container.clientWidth,diagramScale:this.getScale(),onFragmentStartDrag:this.onFragmentStartDrag,allTaskTargets:this.props.allTaskTargets,elementsWithTask:n,elementOrigins:this.elementOrigins,showCorrectIndicators:this.props.showCorrectIndicators,focusTaskId:this.props.focusTaskId}),!this.props.isDisabled&&r.createElement(ce,{width:this.container.clientWidth,height:this.state.toolboxHeight,elements:o,elementOrigins:this.elementOrigins,diagramScale:this.getScale(),reportRenderedHeight:this.reportToolboxHeight,onFragmentStartDrag:this.onFragmentStartDrag,onFragmentDelete:this.props.onFragmentDeleteClicked,setBgButtonCallback:this.props.onSetBgClicked,addElementButtonCallback:this.props.onAddElementClicked,onElementPositioned:this.onElementPositioned}),r.createElement(I,null,this.state.draggedElement&&r.createElement(pe,{key:this.state.draggedElement.id,element:this.state.draggedElement,diagramScale:this.getScale(),startPos:this.state.dragStartPos,onFragmentDrop:this.onFragmentDrop,onFragmentMove:this.onFragmentMove}))))))},t.prototype.onFragmentDrop=function(e,t,o){if(this.hasBeenMounted){this.elementOrigins[o.id]=e;var n=e.y-this.state.toolboxHeight,r=m.Z.toNaturalCoords({x:e.x+t.x/2,y:n+t.y/2},this.getScale());m.Z.isPointInsideRect(r,{x:0,y:0},{x:this.props.diagramNaturalWidth,y:this.props.diagramNaturalHeight})?this.props.onFragmentDropComposition&&this.props.onFragmentDropComposition(r,o):this.props.onFragmentDropOutside&&this.props.onFragmentDropOutside(o),this.setState({draggedElement:void 0}),this.forceUpdate()}},t.prototype.onElementPositioned=function(e,t){this.elementOrigins[e.id]=t},t.prototype.onFragmentStartDrag=function(e,t,o){this.hasBeenMounted&&this.setState({draggedElement:o,dragStartPos:e})},t.prototype.onFragmentMove=function(e,t,o){if(this.elementOrigins[o.id]=e,this.props.onFragmentMove){var n=e.y-this.state.toolboxHeight,r=m.Z.toNaturalCoords({x:e.x+t.x/2,y:n+t.y/2},this.getScale());this.props.onFragmentMove(r,o)}},t.prototype.reportToolboxHeight=function(e){this.hasBeenMounted&&this.setState({toolboxHeight:e})},t.prototype.getScale=function(){return this.container?this.container.clientWidth/this.props.diagramNaturalWidth:this.state.clientWidth/this.props.diagramNaturalWidth},t}(b);const ge=(0,d.connect)((function(e,t){return me({diagramNaturalWidth:p.aC.getDiagramNaturalWidth(e.diagram),diagramNaturalHeight:p.aC.getDiagramNaturalHeight(e.diagram),allTaskTargets:m.Z.objectValues(p.aC.getAllTaskTargets(e))},t)}),(function(e){return me({},(0,h.bindActionCreators)({},e))}))(fe)},53905:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var n=new(function(){function e(e){this.maxLevel=e,this.levels={1:"error",2:"info",3:"verbose",4:"debug",5:"trace"}}return e.prototype.analyticsEvent=function(e,t){console.log("AnalyticsEvent: %s",e,t)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.logMessage(1,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.logMessage(2,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.logMessage(3,e)},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.logMessage(4,e)},e.prototype.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.logMessage(5,e)},e.prototype.logMessage=function(e,t){var o="["+this.levels[e]+"]";e<=this.maxLevel&&(t&&t.length>0?"string"==typeof t[0]?console.log.apply(console,function(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}([o+" "+t[0]],t.slice(1),!1)):console.log(o,t[0]):console.log(o))},e}())(1);const r=n},35569:(e,t,o)=>{"use strict";var n;o.d(t,{Aq:()=>r,S0:()=>i,iN:()=>n,S1:()=>s,WQ:()=>a,OW:()=>c}),function(e){e.Background="Background",e.ImageFragment="ImageFragment"}(n||(n={}));var r=function(){this.type=n.Background},i=function(){this.version="1.00",this.elements={},this.tasks={}},s=function(){this.type=n.ImageFragment},a=function(){this.elementsTasks={}},c=function(){function e(){}return e.mult=function(e,t){return{x:e.x*t,y:e.y*t}},e.safeAdd=function(e,t,o){if(e)return{x:e.x+(t||0),y:e.y+(o||0)}},e.safeSubtract=function(e,t,o){if(e)return{x:e.x-(t||0),y:e.y-(o||0)}},e}()},98136:(e,t,o)=>{"use strict";o.d(t,{Hn:()=>r,cq:()=>L,QW:()=>F,wl:()=>M});var n,r=o(35569),i=o(96935),s=function(){return s=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};!function(e){e.RESET_DIAGRAM="RESET_DIAGRAM",e.SET_ELEMENT_DROP_TASK="SET_ELEMENT_DROP_TASK",e.CLEAR_ELEMENT_TASK="CLEAR_ELEMENT_TASK"}(n||(n={}));var a={resetDiagram:function(){return{type:n.RESET_DIAGRAM}},setElementDropTask:function(e){return{type:n.SET_ELEMENT_DROP_TASK,payload:e}},clearElementTask:function(e){return{type:n.CLEAR_ELEMENT_TASK,payload:e}}},c={getElementsWithoutTask:function(e){return i.Z.objectFilter(e.elements,(function(t){return t.type!==r.iN.Background&&!e.tasks[t.id]}))},getElementsWithTask:function(e){for(var t={},o=0,n=i.Z.objectValues(e.elements).filter((function(t){return t.type!==r.iN.Background&&!!e.tasks[t.id]}));o<n.length;o++){var s=n[o];t[s.id]={element:s,task:e.tasks[s.id]}}return t}};function l(e,t){switch(t.type){case n.RESET_DIAGRAM:return new r.S0;case n.SET_ELEMENT_DROP_TASK:if(!i.Z.objectValues(e.elements).some((function(e){return e.id===t.payload.elementId})))throw new Error("Trying to add task for nonexistant element. Id="+t.payload.elementId);return(o=s({},e)).tasks[t.payload.elementId]=t.payload,o;case n.CLEAR_ELEMENT_TASK:var o;return delete(o=s({},e)).tasks[t.payload],o;default:return e}}var u,p=o(53905),d=function(){return d=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},d.apply(this,arguments)};function h(e){var t=i.Z.objectValues(e.solution.elementsTasks);return i.Z.objectFilter(e.diagram.tasks,(function(e,o){return-1===t.indexOf(o)}))}function m(e){for(var t={},o=0,n=Object.keys(e.solution.elementsTasks);o<n.length;o++){var r=n[o],i=e.solution.elementsTasks[r];t[r]={element:e.diagram.elements[r],task:e.diagram.tasks[i]}}return t}function f(e){return 0===Object.keys(h(e)).length&&Object.keys(e.solution.elementsTasks).every((function(t){return e.solution.elementsTasks[t]===t}))}function g(e){var t,o=h(e),n=Object.keys(e.solution.elementsTasks),r=Object.keys(o).length+(null===(t=Object.keys(n))||void 0===t?void 0:t.length),i=Object.keys(e.solution.elementsTasks).filter((function(t){return e.solution.elementsTasks[t]===t})).length||0,s=0;return 0!=r&&(s=i/r),{noCorrectAnswersOverall:r,noCorrectAnswersFromUser:i,correctness:{fullyCorrect:i==r,score:s}}}!function(e){e.ASSIGN_ELEMENT_TO_TASK="ASSIGN_ELEMENT_TO_TASK",e.CLEAR_ELEMENT_ASSIGNMENT="CLEAR_ELEMENT_ASSIGNMENT",e.VALIDATE_SOLUTION="VALIDATE_SOLUTION",e.RESET_SOLUTION="RESET_SOLUTION",e.SET_INITIAL_SOLUTION="SET_INITIAL_SOLUTION",e.SHOW_ANSWER="SHOW_ANSWER"}(u||(u={}));var b={assignElementToTask:function(e,t){return{type:u.ASSIGN_ELEMENT_TO_TASK,elementId:e,taskId:t}},clearElementAssignment:function(e){return{type:u.CLEAR_ELEMENT_ASSIGNMENT,elementId:e}},validateSolution:function(){return{type:u.VALIDATE_SOLUTION}},resetSolution:function(){return{type:u.RESET_SOLUTION}},setInitialSolution:function(e){return{type:u.SET_INITIAL_SOLUTION,initialSolution:e}},showAnswer:function(){return{type:u.SHOW_ANSWER}}},v={getAvailableTaskTargets:h,getAllTaskTargets:function(e){return e.diagram.tasks},getAssignedElements:m,getUnassignedElements:function(e){var t=Object.keys(m(e));return i.Z.objectFilter(e.diagram.elements,(function(e){return e.type!==r.iN.Background&&-1===t.indexOf(e.id)}))},isSolutionValid:f,isSolutionValidDetailed:g};function y(e,t){var o,n,s,a,c,l;switch(t.type){case u.ASSIGN_ELEMENT_TO_TASK:if(!Object.keys(e.diagram.elements).some((function(e){return e===t.elementId})))throw new Error("Invalid element id supplied to assignElementToTask.");if(!Object.keys(e.diagram.tasks).some((function(e){return e===t.taskId})))throw new Error("Invalid task id supplied to assignElementToTask.");(b=d({},e.solution.elementsTasks))[t.elementId]=t.taskId;var h=d(d({},e.solution),{elementsTasks:b}),m=g(d(d({},e),{solution:h}));return h=d(d({},h),{tempSolutionCorrect:m}),p.Z.info("DiagramSolution: added assignment: elementId: %s, taskId: %s.",t.elementId,t.taskId),p.Z.analyticsEvent("ElementDockedToPlaceholder"),d(d({},e),{solution:h});case u.CLEAR_ELEMENT_ASSIGNMENT:if(!Object.keys(e.diagram.elements).some((function(e){return e===t.elementId})))throw new Error("Invalid element id supplied to assignElementToTask.");var b;return delete(b=d({},e.solution.elementsTasks))[t.elementId],h=d(d({},e.solution),{elementsTasks:b}),m=g(d(d({},e),{solution:h})),h=d(d({},h),{tempSolutionCorrect:m}),p.Z.info("DiagramSolution: removed assignment: elementId: %s.",t.elementId),p.Z.analyticsEvent("ElementReturnedToToolbox"),d(d({},e),{solution:h});case u.VALIDATE_SOLUTION:m=f(e);var v=g(e);return h=d(d({},e.solution),{tempSolutionCorrect:v,solutionCorrect:m,solutionLastChecked:new Date}),p.Z.info("DiagramSolution: checked solution valid: %s.",m.toString()),p.Z.analyticsEvent("SolutionValidation_"+m.toString()),d(d({},e),{solution:h});case u.RESET_SOLUTION:return d(d({},e),{solution:new r.WQ,tempSolutionCorrect:void 0});case u.SET_INITIAL_SOLUTION:return(null===(s=null===(n=null===(o=t.initialSolution)||void 0===o?void 0:o.answers)||void 0===n?void 0:n.givenAnswers)||void 0===s?void 0:s.elementsTasks)?(h=d(d({},e.solution),{elementsTasks:null===(l=null===(c=null===(a=t.initialSolution)||void 0===a?void 0:a.answers)||void 0===c?void 0:c.givenAnswers)||void 0===l?void 0:l.elementsTasks}),m=g(d(d({},e),{solution:h})),h=d(d({},h),{tempSolutionCorrect:m}),p.Z.info("DiagramSolution: added initial solution"),d(d({},e),{solution:h})):(h=d(d({},e.solution),{elementsTasks:[]}),m=g(d(d({},e),{solution:h})),h=d(d({},h),{tempSolutionCorrect:m}),p.Z.info("DiagramSolution: added initial solution"),d(d({},e),{solution:h}));case u.SHOW_ANSWER:for(var y={},w=0,k=i.Z.objectValues(e.diagram.tasks);w<k.length;w++){var x=k[w];y[x.elementId]=x.elementId}return h=d(d({},e.solution),{elementsTasks:y}),p.Z.analyticsEvent("AnswerShown"),d(d({},e),{solution:h});default:return e}}var w,k=o(14670),x=function(){return x=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},x.apply(this,arguments)};function C(e,t){var o=k.generate(),n=x(x({},t),{id:o}),r=x({},e.elements);return r[n.id]=n,x(x({},e),{elements:r})}function E(e,t){var o=x({},e.elements);return delete o[t],x(x({},e),{elements:o})}function S(e){return i.Z.objectValues(e.elements).find((function(e){return e.type===r.iN.Background}))||void 0}function T(e){var t=S(e);if(t)return t.naturalSize.x;var o=i.Z.objectValues(e.elements).filter((function(e){return e.type===r.iN.ImageFragment})).map((function(e){return e}));return 0===o.length?1e3:10*Math.max.apply(Math,o.map((function(e){return e.naturalSize.x})))}!function(e){e.ADD_ELEMENT="ADD_ELEMENT",e.REMOVE_ELEMENT="REMOVE_ELEMENT",e.SET_BACKGROUND="SET_BACKGROUND",e.SET_TASK_DESCRIPTION="SET_TASK_DESCRIPTION",e.SET_DIAGRAM_CONFIGURATION="SET_DIAGRAM_CONFIGURATION",e.ON_UPDATE="ON_UPDATE"}(w||(w={}));var A={addElement:function(e){return{type:w.ADD_ELEMENT,payload:e}},removeElement:function(e){return{type:w.REMOVE_ELEMENT,id:e}},setBackground:function(e){return{type:w.SET_BACKGROUND,payload:e}},setGraphicalDnDTaskDescription:function(e){return{type:w.SET_TASK_DESCRIPTION,description:e}},setDiagramConfiguration:function(e){var t=JSON.parse(e);if(!t||!t.version)throw new Error("Invalid diagram configuration json data.");return{type:w.SET_DIAGRAM_CONFIGURATION,diagramConfiguration:t}}},I={getDiagramBackground:S,getDiagramNaturalWidth:T,getDiagramNaturalHeight:function(e){var t=S(e);return t?t.naturalSize.y:T(e)/2},getDiagramConfigurationJson:function(e){return JSON.stringify(e,null,4)}};function O(e,t){switch(t.type){case w.ADD_ELEMENT:var o=C(e,t.payload);return p.Z.info("DiagramConfiguration: added new diagram element: %s",t.payload.type),o;case w.REMOVE_ELEMENT:return o=E(e,t.id),p.Z.info("DiagramConfiguration: removed diagram element: %s",t.id),o;case w.SET_BACKGROUND:var n=S(e);return n&&(e=E(e,n.id),p.Z.info("DiagramConfiguration: removed existing background id=%s",n.id)),C(e,t.payload);case w.SET_TASK_DESCRIPTION:return p.Z.info("DiagramConfiguration: setting task description to '%s'",t.description),x(x({},e),{taskDescription:t.description});case w.SET_DIAGRAM_CONFIGURATION:return p.Z.info("DiagramConfiguration: setting configuration from json."),t.diagramConfiguration.version!==(new r.S0).version?(p.Z.error("DiagramConfiguration: unsupported configuration version: %s.",t.diagramConfiguration.version),e):x({},t.diagramConfiguration);default:return e}}var P=function(){return P=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},P.apply(this,arguments)},R={myNumber:3,diagram:new r.S0,solution:new r.WQ};function _(e,t){return void 0===e&&(e=R),e}function N(e,t,o){var n=o.reduce((function(e,o){return o(e,t)}),e);if(!n)throw new Error("Reducers should never return undefined state.");return n}function F(e,t){var o=e?P({},e):void 0;return(o=N(o,t,[_,y])).diagram=N(o.diagram,t,[O,l]),o}var L=P(P(P({},A),a),b),M=P(P(P({},I),c),v)},31293:(e,t,o)=>{"use strict";o.d(t,{aC:()=>l,cW:()=>a,eX:()=>c});var n=o(23828),r=o(5068),i=o(98136),s=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.compose,a=((0,n.createStore)(i.QW,s((0,n.applyMiddleware)(r.ZP))),function(){return(0,n.createStore)(i.QW,s((0,n.applyMiddleware)(r.ZP)))}),c=i.cq,l=i.wl},44642:(e,t,o)=>{"use strict";o.d(t,{Z:()=>M});var n=o(67294),r=o(94184),i=o.n(r),s=o(93379),a=o.n(s),c=o(7795),l=o.n(c),u=o(90569),p=o.n(u),d=o(3565),h=o.n(d),m=o(19216),f=o.n(m),g=o(44589),b=o.n(g),v=o(62813),y={};y.styleTagTransform=b(),y.setAttributes=h(),y.insert=p().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=f(),a()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals,o(95385);var w=o(12613),k=o(75911),x=o(32757),C={};C.styleTagTransform=b(),C.setAttributes=h(),C.insert=p().bind(null,"head"),C.domAPI=l(),C.insertStyleElement=f(),a()(x.Z,C),x.Z&&x.Z.locals&&x.Z.locals;var E,S=(E=function(e,t){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},E(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),T=function(e){function t(t){return e.call(this,t)||this}return S(t,e),t.prototype.render=function(){return n.createElement("div",{className:"livebook-loader-root"},this.props.title&&n.createElement("div",{className:"readable-text"},n.createElement("h1",null,this.props.title)),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder"},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"30px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"10px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"70px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"loading-page-image-placeholder"}),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"30px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"10px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"80px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"loading-page-image-placeholder"}),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"15px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"20px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))))},t}(n.Component),A=o(56781),I=o(97766),O=o(65605),P=o(98711),R=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_=function(e){function t(t){var o=e.call(this,t)||this;return o.previouslyVisibleParagraphs=[],o.onScrollContainerScroll=o.onScrollContainerScroll.bind(o),o.onScrollStop=o.onScrollStop.bind(o),o}return R(t,e),t.prototype.render=function(){var e=this;return n.createElement("div",{ref:function(t){return e.handleBookMarkupContainerLoaded(t)},className:"book-markup-container livebook-viewer-content",dangerouslySetInnerHTML:{__html:this.props.html}})},t.prototype.shouldComponentUpdate=function(e,t){return this.props.html!=e.html},t.prototype.componentDidMount=function(){this.props.onUpdate&&this.props.onUpdate()},t.prototype.componentDidUpdate=function(){this.props.onUpdate&&this.props.onUpdate()},t.prototype.handleBookMarkupContainerLoaded=function(e){null==this.bookMarkupContainer&&null!=e&&(null!=this.annotatedCodeListings&&this.annotatedCodeListings.clean(),this.annotatedCodeListings=new P.Z(e),this.props.freePreview&&(this.scrollContainer=A.Z.getScrollParent(e),this.initializeHeadings(e),null!=this.scrollContainer&&this.scrollContainer.addEventListener("scroll",this.onScrollContainerScroll,{passive:!0}))),this.adjustImagesAndLinks(e),this.bookMarkupContainer=e,e||(null!=this.scrollContainer&&(this.scrollContainer.removeEventListener("scroll",this.onScrollContainerScroll),this.headings=[]),this.scrollContainer=null)},t.prototype.adjustImagesAndLinks=function(e){if(null!=e){for(var t=e.querySelectorAll("img[image-src]"),o=0;o<t.length;o++)t[o].src=t[o].getAttribute("image-src");var n=e.querySelectorAll("a");for(o=0;o<n.length;o++){var r=n[o];r.hostname&&r.hostname!==location.hostname&&r.setAttribute("target","_blank")}}},t.prototype.adjustScrambledWords=function(e){if(null!=e)for(var t=e.querySelectorAll(".scrambled p, li.scrambled"),o=0;o<t.length;o++)A.Z.wrapDirectWordsIntoSpans(t[o])},t.prototype.onScrollContainerScroll=function(){clearTimeout(this.scrollStopTimeout),this.scrollStopTimeout=setTimeout(this.onScrollStop,50)},t.prototype.onScrollStop=function(){var e=this,t=this.getLastHeading();if(t){var o=this.getVisibleParagraphs(t),n=O.Z.arrayDifference(o,this.previouslyVisibleParagraphs),r=O.Z.arrayDifference(this.previouslyVisibleParagraphs,o);this.isPerformingUnlocking?this.hasQueuedUnlocks=!0:(this.unlockElements(n),setTimeout((function(){return e.lockElements(r)}),5),this.previouslyVisibleParagraphs=o)}},t.prototype.unlockElements=function(e){var t=this;if(e&&e.length){this.props.store.changeFreePreviewState(!0);var o=e.filter((function(e){return e.classList.contains("scrambled")}));if(o.length){this.isPerformingUnlocking=!0,o.forEach((function(e){return e.classList.add("unlocking")}));var n=o.map((function(e){return e.getAttribute("refid")}));this.props.store.getUnscrambledParagraphs(n).then((function(e){t.isPerformingUnlocking=!1;for(var n={},r=0,i=e;r<i.length;r++){var s=i[r];n[s.paragraphID]=s.content}o.forEach((function(e){var t=n[e.getAttribute("data-hash")]||n[e.getAttribute("refid")];t&&(e.orginalInnerHTML=e.innerHTML,e.innerHTML=t,e.classList.remove("scrambled"),e.classList.add("unscrambled"))}))})).catch((function(e){e&&!e.success&&"Cannot free preview anymore"==e.reason&&null!=t.scrollContainer&&(t.scrollContainer.removeEventListener("scroll",t.onScrollContainerScroll),t.props.store.changeFreePreviewState(!1))})).finally((function(){t.isPerformingUnlocking=!1,o.forEach((function(e){return e.classList.remove("unlocking")})),t.hasQueuedUnlocks&&(t.hasQueuedUnlocks=!1,t.onScrollStop())}))}}},t.prototype.lockElements=function(e){if(e&&e.length){var t=e.filter((function(e){return e.classList.contains("unscrambled")}));t.length&&t.forEach((function(e){e.orginalInnerHTML&&(e.innerHTML=e.orginalInnerHTML,e.classList.add("scrambled"),e.classList.remove("unscrambled"))}))}},t.prototype.getVisibleParagraphs=function(e){if(null==this.bookMarkupContainer||null==e||null==this.scrollContainer)return[];var t=parseInt(e.getAttribute("refid"));if(Number.isNaN(t))return[];for(var o=[],n=t;n>=Math.max(t-30,0)&&t>=0;n--)if(r=this.bookMarkupContainer.querySelector("[refid='".concat(n,"']"))){if(!A.Z.isElementVisible(r,this.scrollContainer))break;o.push(r)}for(n=t+1;n<t+250;n++){var r;(r=this.bookMarkupContainer.querySelector("[refid='".concat(n,"']")))&&A.Z.isElementVisible(r,this.scrollContainer)&&o.push(r)}return o},t.prototype.initializeHeadings=function(e){for(var t=e.querySelectorAll("h1, h2, h3, h4, h5"),o=[],n=0;n<t.length;n++){var r=t[n],i=r.textContent.trim(),s=r.parentElement;null!=s&&s.classList.contains("readable-text")&&(I.Z.isChapterOrAppendix(i)||I.Z.isSection(i)||I.Z.isSubsection(i))&&o.push(s)}this.headings=o},t.prototype.getLastHeading=function(){var e=this.headings,t=this.scrollContainer;if(null==t)return null;for(var o=t.scrollTop,n=e.length-1;n>=0;n--){var r=e[n];if(r.offsetTop<=o)return r}return e[0]},t}(n.Component),N=o(19755),F=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),L=window;L.fallbackToImageSrcPlaceholder=L.fallbackToImageSrcPlaceholder||function(){};const M=function(e){function t(t){var o=e.call(this,t)||this;return o.onStoreChange=o.onStoreChange.bind(o),o}return F(t,e),t.prototype.onStoreChange=function(){this.hasBeenMounted&&this.forceUpdate()},t.prototype.render=function(){var e=this;return n.createElement("div",{className:i()("livebook-viewer-root",this.props.className),ref:function(t){return e.handleLivebookContentRef(t)}},this.renderContent())},t.prototype.componentDidMount=function(){this.hasBeenMounted=!0,this.props.store.onChange(this.onStoreChange)},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1,this.props.store.stopReadTracking(),this.props.store.offChange(this.onStoreChange)},t.prototype.renderContent=function(){if(this.props.store.contentPhase==k.DA.Loading)return n.createElement(T,{title:this.props.store.title});if(this.props.store.contentPhase==k.DA.ShowingError&&this.props.children)try{if(this.props.children.length&&this.props.children.length>1)return this.props.children}catch(e){}return this.props.store.contentPhase==k.DA.ShowingPdf&&this.props.store.pdfPath?n.createElement("iframe",{className:"livebook-viewer-frame",src:this.props.store.pdfPath}):n.createElement(n.Fragment,null,this.renderExcerptInfo(),this.renderArtifactFeedback(),n.createElement(_,{html:this.props.store.html,freePreview:this.props.freePreview,store:this.props.store}))},t.prototype.renderExcerptInfo=function(){var e=this.props.store.excerptInfo;return null==e?null:n.createElement("div",{className:"livebook-viewer-excerpt-container"},n.createElement("span",{className:"livebook-viewer-excerpt-container-icon"},n.createElement("img",{src:"https://lx-common-resources.s3-us-west-2.amazonaws.com/resources/manning-M.svg"})),n.createElement("span",{className:"livebook-viewer-excerpt-container-info",title:e.bookTitle},"excerpt from ",n.createElement("span",{dangerouslySetInnerHTML:{__html:e.bookTitle}})," | ",n.createElement("span",{dangerouslySetInnerHTML:{__html:e.author}})),n.createElement("a",{target:"_blank",className:"livebook-viewer-excerpt-link",href:this.props.forcedExcerptLink||e.link},"go to book ",n.createElement("i",{className:"fa fa-arrow-right"})))},t.prototype.renderArtifactFeedback=function(){var e=this.props.store.artifactFeedback;return null==e?null:n.createElement(w.E,{artifactFeedback:e,store:this.props.contentFeedbackStore,isLivebookViewerFeedback:!0,onSaveSuccess:this.props.onFeedbackSaveSuccess,onSaveError:this.props.onFeedbackSaveError})},t.prototype.handleLivebookContentRef=function(e){this.root=e;var t=this.props.store.scrollToRefId;if(t&&e)try{var o=null;(o="string"==typeof t&&t.indexOf("section-")>=0?this.getSectionHeading(t):e.querySelector("[refid='".concat(t,"'], [data-hash='").concat(t,"'], [id='").concat(this.props.store.scrollToRefId,"'], [name='").concat(this.props.store.scrollToRefId,"']")))&&o.scrollIntoView({behavior:"smooth"})}catch(e){console.log("Couldn't scroll to ",t)}},t.prototype.getSectionHeading=function(e){void 0===e&&(e="");var t=e.substring("section-".length);return t=t.replace(/\-/g,"."),this.getSectionTitle(t)},t.prototype.getSectionTitle=function(e){for(var t=this.root.querySelectorAll("h1, h2, h3, h4, h5"),o=[],n=0;n<t.length;n++)if(0!==n&&!((s=(i=t[n]).textContent.trim()).startsWith("Table")||s.startsWith("Figure")||s.startsWith("Listing"))){var r=N(i);r.is(".intro-header")||r.closest(".callout-container").length||o.push(i)}for(n=0;n<o.length;n++){var i,s=(i=o[n]).textContent.trim(),a=I.Z.extractBookElementIndex(s);if(a===e)return i;if(a===e+".")return i}return this.fallbackForGetSectionTitle(o,e)},t.prototype.fallbackForGetSectionTitle=function(e,t){if(!e||0===e.length)return null;var o=I.Z.extractSegmentedBookElementIndex(t);t.match(/^[A-Z]/i)||o.shift();var n=e[0].nodeName,r=[];if(e.forEach((function(e){e.nodeName===n?r.push({heading:e,children:[]}):r[r.length-1]&&r[r.length-1].children.push(e)})),0===o.length)return null;if(1===o.length){var i=+o[0]-1;return r[i]?r[i].heading:null}var s=+o[0]-1;if(r[s]){var a=+o[1]-1;return r[s].children[a]?r[s].children[a]:r[s].heading}return null},t}(n.Component)},98711:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(36196),r=o(42152),i=o(56781),s=o(65605),a=/^\#([A-Z]|\d{1,2}):?\s+-?/,c=/#([0-9]{1,2}|[A-Z])\s*$/,l=/group([0-9]{1,2}|[A-Z])/;const u=function(){function e(e){if(null!=e&&!e.classList.contains("processed-listing")){var t="";if(this.handleAnnotationClick=this.handleAnnotationClick.bind(this),this.handleAnnotationMouseEnter=this.handleAnnotationMouseEnter.bind(this),this.handleAnnotationMouseLeave=this.handleAnnotationMouseLeave.bind(this),this.handleLineClick=this.handleLineClick.bind(this),this.handleLineContainerMouseEnter=this.handleLineContainerMouseEnter.bind(this),this.handleLineContainerMouseLeave=this.handleLineContainerMouseLeave.bind(this),this.codeArea=e.querySelector(".code-area"),this.codeArea){var o=this.codeArea.getAttribute("data-code");o?(t=atob(o),this.codeArea.textContent=o):t=(this.codeArea.value||this.codeArea.textContent).trim()}this.rawSourceCode=t,this.listingContainer=e,this.listingContainer.annotatedListing=this,this.sourceLines=[],this.source="",this.annotations={},this.annotatedLines=[],this.references=[],this.annotationsLinesMap={},this.styles=[],this.createCodeAnnotationContainer(),this.createListingEnvironment(),this.highlightCodeArea(),this.handleClick=this.handleClick.bind(this),document.addEventListener("click",this.handleClick),e.classList.add("processed-listing")}}return e.prototype.clean=function(){this.unsubscribeEvents(),this.listingContainer=null,this.codeArea=null,this.annotations=null,this.annotatedLines=null,this.annotationsLinesMap=null},e.prototype.clearCodeHighligths=function(){var e=this.listingContainer.querySelectorAll(".listing-line-group");i.Z.removeClassFromElements(e,"selected"),i.Z.removeClassFromElements(e,"highlighted"),i.Z.removeClassFromElements(e,"pre-selected"),i.Z.removeClassFromElements(this.listingContainer.querySelectorAll(".hovered"),"hovered")},e.prototype.createCodeAnnotationContainer=function(){this.codeAnnotationContainer=document.createElement("div"),this.codeAnnotationContainer.classList.add("code-annotation-container"),this.codeAnnotationContainer.innerHTML="<div class='annotation-description'></div>",this.codeArea.parentElement.appendChild(this.codeAnnotationContainer)},e.prototype.createListingEnvironment=function(){if(null==this.listingContainer.querySelector(".listing-environment-container")){var e=document.createElement("div");e.classList.add("listing-environment-container"),e.innerHTML='\n            <div class="listing-environment-toolbar" style="display:none;">\n                <span data-tooltip class="button-copy button radius clickable-link-like">copy</span>\n                <span class="listing-environment-toolbar-message-container"></span>\n            </div>\n        ',this.listingContainer.appendChild(e),this.createClipboard()}},e.prototype.createClipboard=function(){var e=this;try{var t=this.listingContainer.querySelector(".listing-environment-toolbar");if(r.isSupported()){t.style.display="inline-block";var o=new r(this.listingContainer.querySelector(".button-copy"),{text:function(){return e.source}});o.on("success",(function(t){e.showMessageOnCopyButton("copied!"),t.clearSelection(),document.activeElement.blur()})),o.on("error",(function(t){e.showMessageOnCopyButton("error"),document.activeElement.blur()}))}}catch(e){}},e.prototype.showMessageOnCopyButton=function(e){var t=this.listingContainer.querySelector(".listing-environment-toolbar-message-container");t.textContent=e,setTimeout((function(){t.textContent=""}),1e3)},e.prototype.highlightCodeArea=function(){if(!(this.codeArea&&this.codeArea.classList&&this.codeArea.classList.contains("highlighted"))){this.processLines(),this.buildReferenceAnnotatedLinesMap();var e=(this.source||"").replace(/\r/g,"").trim(),t=document.createElement("pre");t.classList.add("code-area");var o=document.createElement("code");o.classList.add("hljs"),o.textContent=e,t.appendChild(o),this.codeArea.parentNode.replaceChild(t,this.codeArea),this.codeArea=t,this.codeArea.classList.add("highlighted"),this.createLineNumbers(),this.createAnnotationsAndLines()}},e.prototype.processLines=function(){if(this.rawSourceCode){var e=this.rawSourceCode.trim(),t=this.listingContainer.querySelector(".code-annotations-overlay-container");t&&t.getAttribute("data-annotations")&&(e+="\n"+atob(t.getAttribute("data-annotations")));for(var o,n=e.split(/\r\n|\r|\n/g),r=!1,i=!1,l=!1,u=0;u<n.length;u++){var p=n[u];if(l=p.indexOf("!@%STYLE%@!")>-1,r&&!l);else{var d=p.trim(),h=p.match(a),m=d.match(a);h||m?(i=!0,null!=h&&h.length>=2?(o=h[1],this.annotations[o]={reference:o,descriptions:[p.substr(h[0].length).replace(/^:(\s)+/,"")]}):null!=m&&m.length>=2&&(o=m[1],this.annotations[o]={reference:o,descriptions:[d.substr(m[0].length).replace(/^:(\s)+/,"")]})):i&&o&&this.annotations[o]&&p.trim()?this.annotations[o].descriptions.push(p.trim().replace("!@%STYLE%@!","")):l||(this.sourceLines.push(p),this.annotatedLines.push({line:p,lineNumber:u,annotation:null,annotationElement:null}))}p.indexOf("!@%STYLE%@!")>-1&&(r=!r)}for(var f in this.annotations)this.annotations[f].description=this.annotations[f].descriptions.join(" ").trim();for(u=0;u<this.sourceLines.length;u++){var g=this.sourceLines[u],b=g.match(c);if(b){var v=b[1];this.sourceLines[u]=s.Z.trimEnd(g.substr(0,g.indexOf(b[0]))),this.annotations[v]||(this.annotations[v]={reference:v,description:""}),this.annotatedLines[u].annotation=this.annotations[v]}}this.source=this.sourceLines.join("\r\n")}},e.prototype.buildReferenceAnnotatedLinesMap=function(){this.annotationsLinesMap={};for(var e=0;e<this.annotatedLines.length;e++){var t=(d=this.annotatedLines[e]).annotation;if(t){var o=t.reference;this.annotationsLinesMap[o]||(this.annotationsLinesMap[o]={annotatedLines:[],groups:[]}),this.annotationsLinesMap[o].annotatedLines.push(d)}}for(var o in this.annotationsLinesMap)if(this.annotationsLinesMap.hasOwnProperty(o)){var n=this.annotationsLinesMap[o],r=n.annotatedLines,i=n.groups=[];if(!(r.length<=0))if(1!==r.length){for(var s=[],a=0;a<r.length-1;a++){for(var c=r[a],l=r[a+1],u=[],p=c.lineNumber+1;p<l.lineNumber;p++){var d;if(d=this.annotatedLines[p]){if(d.annotation){u=[];break}u.push(d)}}for(p=0;p<u.length;p++)u[p].annotation=c.annotation;s.push.apply(s,u)}for(r.push.apply(r,s),r.sort((function(e,t){return e.lineNumber-t.lineNumber})),i.push([r[0]]),a=1;a<r.length;a++){var h=r[a-1];c=r[a],h.lineNumber+1===c.lineNumber?i[i.length-1].push(c):i.push([c])}}else i.push([r[0]])}},e.prototype.createLineNumbers=function(){var e=this.getCountLines(this.source);if(e>0){for(var t="",o=0;o<e;o++)t+='<div class="line-number line-number-'.concat(o+1,'">').concat(o+1,"</div>");var n=document.createElement("code");n.classList.add("hljs"),n.classList.add("hljs-line-numbers"),n.style.cssFloat="left",n.innerHTML=t,this.codeArea.insertBefore(n,this.codeArea.children[0])}},e.prototype.getCountLines=function(e){return 0===e.length?0:e.trim().split(/\r\n|\r|\n/g).length},e.prototype.createAnnotationsAndLines=function(){if(this.listingContainer){var e=this.listingContainer.querySelector(".code-annotations-overlay-container"),t="",o={};for(var n in this.annotationsLinesMap){var r=this.annotationsLinesMap[n];o[n]={};for(var s=0;s<r.groups.length;s++){var a=(d=r.groups[s])[0],c=d[d.length-1],l=this.codeArea.querySelector(".line-number-".concat(a.lineNumber+1)),u=this.codeArea.querySelector(".line-number-".concat(c.lineNumber+1));null!=l&&null!=u?o[n][s]={firstLineOffset:i.Z.getElementPosition(l).top,lastLineEnd:i.Z.getElementPosition(u).top+i.Z.getElementOuterHeight(u)}:console.log("Couldn't build all lines in listing",this.source)}}for(var n in this.annotationsLinesMap){var p=(r=this.annotationsLinesMap[n]).annotatedLines[0].annotation;for(s=0;s<r.groups.length;s++){var d;if(a=(d=r.groups[s])[0],c=d[d.length-1],o[n]){var h=o[n][s];if(h){t+='<div class="line-container listing-line-group group'.concat(n,'" \n                                   style="top: ').concat(h.firstLineOffset,"px; height:").concat(h.lastLineEnd-h.firstLineOffset+1,'px"></div>');var m=document.createElement("div");m.classList.add("annotation-container"),m.setAttribute("title",p.description),m.style.top="".concat(h.firstLineOffset,"px"),m.style.height="".concat(h.lastLineEnd-h.firstLineOffset+1,"px"),m.innerHTML="<span class='annotation-label'>".concat(p.reference,"</span>"),e.appendChild(m),p.labels||(p.labels=[]),p.labels.push(m);for(var f=0;f<d.length;f++)d[f].annotationElement=m}}}}var g=document.createElement("div");for(g.innerHTML=t,f=g.children.length-1;f>=0;f--)this.codeArea.insertBefore(g.children[f],this.codeArea.children[0]);this.registerAnnotationEvents()}},e.prototype.registerAnnotationEvents=function(){var e=this.listingContainer.querySelector(".code-annotations-overlay-container");if(null!=e)for(var t=e.children,o=0;o<t.length;o++)t[o].addEventListener("click",this.handleAnnotationClick),t[o].addEventListener("mouseenter",this.handleAnnotationMouseEnter),t[o].addEventListener("mouseleave",this.handleAnnotationMouseLeave);var n=this.listingContainer.querySelectorAll(".line-container");for(o=0;o<n.length;o++)n[o].addEventListener("click",this.handleLineClick),n[o].addEventListener("mouseenter",this.handleLineContainerMouseEnter),n[o].addEventListener("mouseleave",this.handleLineContainerMouseLeave)},e.prototype.handleAnnotationClick=function(e){this.goToAnimationStep(e.currentTarget.textContent.trim(),!1,e.currentTarget)},e.prototype.handleLineClick=function(e){var t=this.getLineGroupReference(e.currentTarget);t&&this.goToAnimationStep(t)},e.prototype.handleLineContainerMouseEnter=function(e){this.handleLineWrapperEnter(e.currentTarget)},e.prototype.handleLineContainerMouseLeave=function(e){this.handleLineWrapperLeave(e.currentTarget)},e.prototype.handleAnnotationMouseEnter=function(e){var t=e.currentTarget;if(!t.classList.contains("selected")){var o=this.getWholeLineGroup(t);null!=o&&this.handleLineWrapperEnter(o[0])}},e.prototype.handleAnnotationMouseLeave=function(e){var t=e.currentTarget;if(!t.classList.contains("selected")){var o=this.getWholeLineGroup(t);null!=o&&this.handleLineWrapperLeave(o[0])}},e.prototype.getLineGroupReference=function(e){var t=this.getLineGroupClassMatch(e);return t?t[1]:""},e.prototype.getLineGroupClass=function(e){var t=this.getLineGroupClassMatch(e);return t?t[0]:""},e.prototype.getLineGroupClassMatch=function(e){if(!e)return null;var t=e.className.match(l);return t&&t.length>=2?t:null},e.prototype.handleLineWrapperLeave=function(e){var t=this.getLineGroupClass(e);if(t){i.Z.removeClassFromElements(this.listingContainer.querySelectorAll("."+t),"highlighted");var o=this.getLineGroupReference(e);this.annotations[o]&&i.Z.removeClassFromElements(this.listingContainer.querySelectorAll(".hovered"),"hovered")}},e.prototype.removeHighlighted=function(e){if(e){var t=e.querySelectorAll(".listing-line-group.highlighted");0!=t.length&&this.handleLineWrapperLeave(t[0])}},e.prototype.handleLineWrapperEnter=function(e){this.removeHighlighted(this.listingContainer),this.getLineGroupClass(e)&&(e.classList.contains("selected")||this.highlight(this.getLineGroupReference(e)))},e.prototype.getWholeLineGroup=function(e){return e?this.listingContainer.querySelectorAll(".group"+e.textContent.trim()):null},e.prototype.goToAnimationStep=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=null);var n=this.annotations[e];if(n){this.hideAnnotations();var r=n.labels;this.showTip(r[0],this.codeAnnotationContainer,o);var s=this.listingContainer.querySelectorAll(".group"+e);i.Z.addClassToElements(s,"selected")}},e.prototype.unsubscribeEvents=function(){var e=this.listingContainer.querySelector(".code-annotations-overlay-container");if(null!=e)for(var t=e.children,o=0;o<t.length;o++)t[o].removeEventListener("click",this.handleAnnotationClick),t[o].removeEventListener("mouseenter",this.handleAnnotationMouseEnter),t[o].removeEventListener("mouseleave",this.handleAnnotationMouseLeave);var n=this.listingContainer.querySelectorAll(".line-container");for(o=0;o<n.length;o++)n[o].removeEventListener("click",this.handleLineClick),n[o].removeEventListener("mouseenter",this.handleLineContainerMouseEnter),n[o].removeEventListener("mouseleave",this.handleLineContainerMouseLeave);document.removeEventListener("click",this.handleClick)},e.prototype.highlight=function(e){i.Z.addClassToElements(this.listingContainer.querySelectorAll(".group"+e),"highlighted");var t=this.annotations[e];t&&i.Z.addClassToElements(t.labels,"hovered")},e.prototype.showTip=function(e,t,o){if(e){var n=e.getAttribute("title"),r=t.querySelector(".annotation-description");r.textContent=n,r.style.width="auto";var s={left:e.offsetLeft,top:e.offsetTop};i.Z.addClassToElement(t,"shown"),i.Z.addClassToElement(t,"show-tip"),i.Z.addClassToElement(e,"selected"),i.Z.addClassToElement(e,"show-tip"),i.Z.addClassToElement(t,"vertical"),i.Z.addClassToElement(e,"vertical"),s.top=e.offsetTop,t.style.left="50%",t.style.right="unset",t.style.transform="translate(-50%, -110%)",t.style.minHeight=e.offsetHeight+"px",t.style.top=s.top+"px"}},e.prototype.hideAnnotations=function(){i.Z.removeClassFromElements(this.listingContainer.querySelectorAll(".annotation-container.selected, .listing-line-group.selected"),"selected"),i.Z.removeClassFromElements(this.listingContainer.querySelectorAll(".annotation-container.show-tip"),"show-tip");var e=this.listingContainer.querySelectorAll(".code-annotation-container");i.Z.removeClassFromElements(e,"show-tip"),i.Z.removeClassFromElements(e,"shown")},e.prototype.handleClick=function(e){i.Z.closest(e.target,".browsable-container")!=this.listingContainer&&this.hideAnnotations()},e}(),p=function(){function e(e){void 0===e&&(e=null),this.handleResize=this.handleResize.bind(this),this.annotatedCodeListings=[];for(var t=(e||document).querySelectorAll(".listing-container, .browsable-container, .term-viewer-html-content"),o=0;o<t.length;o++){var r=t[o];(r.classList.contains("listing-container")||null!=r.querySelector(".code-area-container"))&&this.annotatedCodeListings.push(new u(r))}n.Z.registerResizeStartCallback(this.handleResize)}return e.prototype.clean=function(){this.hideAll(),this.annotatedCodeListings&&this.annotatedCodeListings.length&&this.annotatedCodeListings.forEach((function(e){return e.clean()})),this.annotatedCodeListings=[],n.Z.unregisterResizeStartCallback(this.handleResize)},e.prototype.hideAll=function(){this.hideAnnotations()},e.prototype.hideAnnotations=function(){for(var e=0,t=this.annotatedCodeListings;e<t.length;e++)t[e].hideAnnotations()},e.prototype.handleResize=function(){this.hideAll()},e}()},25853:(e,t,o)=>{"use strict";o.d(t,{C:()=>u});var n=o(83885),r=o(41839),i=o(97766),s=o(21448),a=o(32654),c=function(){function e(e,t){this.config=r.ZP.getConfig(e,t),this.webUtils=new a.Z(this.config)}return e.prototype.logReading=function(e){document.visibilityState,console.log("Logging reading time",e,(new Date).toUTCString())},e.prototype.searchProduct=function(e,t){var o=this;return new Promise((function(n,r){var i="search.json";switch((e||"").toLowerCase()){case"es6":i="search-es6.json";break;case"language models":i="search-language-models.json";break;case"android":i="search-android.json"}o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("data/search/".concat(i)),(function(e){e&&e.results&&e.results.length?n(e.results.filter((function(e){return e.productId==t}))):r([])}),(function(e){return r(e)}),{query:e,product:t})}))},e.prototype.getPointedLinkHtmlContent=function(e){var t=this;return new Promise((function(e,o){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("data/livebookViewer/pointedLink.json"),(function(t){return e(t)}),(function(e){return o(e)}))}))},e.prototype.getHtmlContent=function(e){var t=this;return new Promise((function(o,n){setTimeout((function(){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("data/livebookViewer/scrambledBookElements/".concat(e.slug,"/").concat(e.element,".html")),(function(t){return o({result:t,isPdfPath:"grokking-simplicity"==e.slug,userOwnsBook:!1,meapVersion:e.meapVersion,associatedLicenseId:null,bookShortName:e.slug,isOpenChapter:!1,manningId:-1,sisterLicenseId:null})}),(function(e){return n(e)}),{},!1,!1,!1)}),350)}))},e.prototype.getUnscrambledParagraphs=function(e,t){var o=this;return new Promise((function(n,r){setTimeout((function(){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("data/livebookViewer/bookElements/".concat(e.slug,"/").concat(e.element,".html")),(function(e){var o=document.createElement("template");o.innerHTML=e;for(var r=[],i=0,s=t;i<s.length;i++){var a=s[i],c=o.content.querySelector("[refid='".concat(a,"']"));null!=c&&r.push({content:c.innerHTML,paragraphID:c.getAttribute("refid"),hashID:c.getAttribute("data-hash")})}n(r)}),(function(e){return r(e)}),{},!0,!0,!1)}),350)}))},e.prototype.getToc=function(e){var t=this;return e?new Promise((function(o,n){setTimeout((function(){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("data/toc/".concat(e,".html")),(function(e){e.toc?o(e.toc):o(e)}),(function(e){return n(e)}),{},!1,!1,!1)}),250)})):Promise.reject("Empty product id")},e}(),l=o(461),u=function(){function e(e,t){this.config=t,this.provider=e}return e.createProvider=function(e,t){return e==r.$X.demo?new c(e,t):new l.R(e,t)},e.prototype.searchProduct=function(e,t){var o=this;return null!=this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this.searchPromise=(0,n.cancelable)(new Promise((function(n,r){o.provider.searchProduct(e,t).then((function(e){for(var t=[],o={},r={},s=0,a=e;s<a.length;s++){var c=a[s];if(!r[c.text]){if(!o[c.elementTitle]){var l={elementIndex:i.Z.extractBookElementIndex(c.elementTitle),elementTitle:i.Z.cleanBookElementTitle(c.elementTitle),elementLink:c.elementLink,results:[]};t.push(l),o[c.elementTitle]=l}o[c.elementTitle].results.push(c),r[c.text]=!0}}t.sort((function(e,t){return i.Z.compareBookItemIndexes(e.elementTitle,t.elementTitle)})),n(t)})).catch((function(e){return r(e)}))}))),this.searchPromise},e.prototype.getHtmlContent=function(e){return this.provider.getHtmlContent(e)},e.prototype.getPointedLinkHtmlContent=function(e){return this.provider.getPointedLinkHtmlContent(e)},e.prototype.getToc=function(e){return this.provider.getToc(e)},e.prototype.getUnscrambledParagraphs=function(e,t){var o=this;return new Promise((function(n,r){o.provider.getUnscrambledParagraphs(e,t).then((function(e){for(var t=0,r=e;t<r.length;t++){var i=r[t];i.content=s.i.fixHtml(i.content,o.config.client.livebook,o.config.aws.livebook,!1)}n(e)})).catch((function(e){return r(e)}))}))},e.prototype.logReading=function(e){this.provider.logReading(e)},e}()},461:(e,t,o)=>{"use strict";o.d(t,{R:()=>c});var n=o(41839),r=o(32654),i=o(87298),s=o(21448),a=!1,c=function(){function e(e,t){this.sourceApp=e,this.config=n.ZP.getConfig(e,t),this.webUtils=new r.Z(this.config)}return e.prototype.logReading=function(e){if(!a&&"visible"==document.visibilityState){var t="/api/events/view";this.sourceApp!=n.$X.pbc&&this.sourceApp!=n.$X.livevideo||(t="/livebookViewer/view"),a=!0,this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl(t),(function(e){a=!1}),(function(e){a=!1}),e,!1,!0)}},e.prototype.searchProduct=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("/livebookViewer/search"),(function(e){e&&e.results&&e.results.length?n(e.results.filter((function(e){return e.productId==t}))):r([])}),(function(e){return r(e)}),{query:e,product:t})}))},e.prototype.getPointedLinkHtmlContent=function(e){var t=this,o=s.i.extractDataFromUrl(e);return null==o?Promise.reject():new Promise((function(e,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendLivebookUrl("/api/pointing/getPointedContentHTML"),(function(t){return e(t)}),(function(e){return n(e)}),o,!1,!0)}))},e.prototype.getHtmlContent=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("/livebookViewer/getBookElementHtml"),(function(e){var i,s,a=!1,c=!1,l=0,u=0,p="";if(e){a=!(!e.book||!e.book.userOwnsBook),c=!(!e.bookElement||!e.bookElement.isOpen),l=null!=e.book?e.book.manningId:0,u=null!=e.bookElement?e.bookElement.meapVersion:0,p=null!=e.book?e.book.shortName:"",i=null!=e.book?e.book.sisterLicenseId:null,s=null!=e.book?e.book.associatedLicenseId:null;var d=!(!e.bookElement||!e.bookElement.pdf);if(e.content)return void o({result:e.content,isPdfPath:d,userOwnsBook:a,isOpenChapter:c,manningId:l,meapVersion:u,bookShortName:p,sisterLicenseId:i,associatedLicenseId:s});if(e.link)return void t.webUtils.ajax(e.link,(function(e){o({result:e,isPdfPath:d,userOwnsBook:a,isOpenChapter:c,manningId:l,meapVersion:u,bookShortName:p,sisterLicenseId:i,associatedLicenseId:s})}),(function(e){return n(e)}));if(e.bookElement){if(e.bookElement.contentUrl&&!d)return void r.Z.getS3FileContent(e.bookElement.contentUrl,(function(e){o({result:e,isPdfPath:!1,userOwnsBook:a,isOpenChapter:c,manningId:l,meapVersion:u,bookShortName:p,sisterLicenseId:i,associatedLicenseId:s})}),(function(e){return n(e)}));if(e.bookElement.contentUrl&&d)return void o({result:e.bookElement.contentUrl,isPdfPath:!0,userOwnsBook:a,isOpenChapter:c,manningId:l,meapVersion:u,bookShortName:p,sisterLicenseId:i,associatedLicenseId:s});if(e.bookElement.content)return void o({result:e.bookElement.content,isPdfPath:d,userOwnsBook:a,isOpenChapter:c,manningId:l,meapVersion:u,bookShortName:p,sisterLicenseId:i,associatedLicenseId:s})}}n()}),(function(e){return n(e)}),{bookSlug:e.slug,bookElementShortName:e.element,meapVersion:e.meapVersion},!1,!0)}))},e.prototype.getUnscrambledParagraphs=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("/livebookViewer/unscrambleParagraphs"),(function(e){e&&e.success&&e.unlockedParagraphs?n(e.unlockedParagraphs):e&&!e.success&&"Cannot free preview anymore"==e.reason?r(e):n([])}),(function(e){return r(e)}),{bookSlug:e.slug,bookElementShortName:e.element,meapVersion:e.meapVersion,paragraphIds:(t||[]).join(","),timezone:o.getTimezone()},!1,!0)}))},e.prototype.getToc=function(e){return i.r.getProductToc(this.webUtils,e,!0,!1)},e.prototype.getTimezone=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return""}},e}()},21448:(e,t,o)=>{"use strict";o.d(t,{i:()=>s});var n=o(56781),r=o(97766),i=function(){return i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=new(function(){function e(){}return e.prototype.getCurrentReadingPosition=function(e,t,o){var n=this.getHeadings(),s=this.getLastHeading(n);if(null==s)return null;var a="",c=t.location;if(null!=s){a=r.Z.extractNumbering(s.textContent.trim());var l=s.textContent.trim();if(l){var u=l.trim(),p=r.Z.extractNumbering(u);if(p){var d=p.split(".");a=d[0]+"."+(d[1]?"".concat(d[1],"."):"")}}}return i(i({},t),{userOwnsBook:o.userOwnsBook,isOpenChapter:o.isOpenChapter,manningId:o.manningId,meapVersion:o.meapVersion,bookShortName:o.bookShortName,sisterLicenseId:o.sisterLicenseId,associatedLicenseId:o.associatedLicenseId,location:c||t.location,sessionId:e,bookSectionNumber:a})},e.prototype.getScrollContainer=function(){return n.Z.getScrollParent(document.querySelector(this.specifiedBookmarkupClass||".search-root .book-markup-container.livebook-viewer-content, .livebook-viewer-product-page-root .book-markup-container.livebook-viewer-content"))},e.prototype.getLastHeading=function(e){var t=this.getScrollContainer();if(null==t)return null;for(var o=t.scrollTop,n=e.length-1;n>=0;n--){var r=e[n];if(r.offsetTop<=o)return r}return e[0]},e.prototype.getHeadings=function(){for(var e=document.querySelectorAll(this.specifiedHeadingClass||".search-root .livebook-viewer-root h1, .search-root .livebook-viewer-root h2, .search-root .livebook-viewer-root h3, .search-root .livebook-viewer-root h4, .search-root .livebook-viewer-root h5, .livebook-viewer-product-page-root .livebook-viewer-root h1, .livebook-viewer-product-page-root .livebook-viewer-root h2, .livebook-viewer-product-page-root .livebook-viewer-root h3, .livebook-viewer-product-page-root .livebook-viewer-root h4, .livebook-viewer-product-page-root .livebook-viewer-root h5"),t=[],o=0;o<e.length;o++){var n=e[o],i=n.textContent.trim(),s=n.parentElement;null!=s&&s.classList.contains("readable-text")&&(r.Z.isChapterOrAppendix(i)||r.Z.isSection(i)||r.Z.isSubsection(i))&&t.push(s)}return t},e.prototype.emphasizeWords=function(e,t){var o=document.createElement("div");o.innerHTML=e;try{for(var r=o.querySelectorAll(".readable-text"),i=0;i<r.length;i++)for(var s=r[i],a=s.textContent.toLowerCase(),c=0,l=t;c<l.length;c++){var u=l[c];if(a.indexOf(u)>=0){n.Z.highlightWord(s,u,"search-query-word");break}}}catch(e){console.log(e)}return o.innerHTML},e.prototype.extractDataFromUrl=function(e){var t=(e||"").indexOf("/point-");if(-1==t)return null;var o=e.substr(t).split("-");if(null==o)return null;var n=o[1],r=null,i=this.getFirstPreviousIndexOf(e,"/",t);if(-1==i)return null;var s=e.substring(i,t);if(s.startsWith("/v-")){var a=s.match(/[0-9]+/);a&&(r=a[0]);var c=this.getFirstPreviousIndexOf(e,"/",i);s=e.substring(c,i)}return{bookElementShortName:s.replace("/",""),meapVersion:r,pointingLinkId:n}},e.prototype.getFirstPreviousIndexOf=function(e,t,o){for(var n=o-1;n>=0;n--)if(e[n]==t)return n;return-1},e.prototype.fixHtml=function(e,t,o,n){var r="".concat(t,"/").concat("/book/"),i=(e||"").replace(/{{BOOK_ROOT_FOLDER}}/g,o).replace(/#!\/book\//g,"/book/").replace(/\/book\//g,r).replace(/([^:]\/)\/+/g,"$1");if(n){var s=new RegExp("(<h([0-9]).*>)Chapter( |&nbsp;)+[0-9.]+( |&nbsp;)+","gi");i=i.replace(s,"$1 "),s=new RegExp("(<h[0-9].*chapter.*>)[0-9.]+ ","gi"),i=i.replace(s,"$1 "),s=new RegExp("(<h([0-9]).*>)Lesson( |&nbsp;)+[0-9.]+( |&nbsp;)+","gi"),i=i.replace(s,"$1 "),s=new RegExp('<h([0-9]) id="(.*)">(<a id="ch[0-9]*lev[0-9]*sec[0-9]*__title"></a>)?[0-9.]+( |&nbsp;)+',"gi"),i=i.replace(s,'<h$1 id="$2">$3'),s=new RegExp("(<h[0-9] .*/a>)[0-9.]+( |&nbsp;)+","gi"),i=i.replace(s,"$1 "),s=new RegExp('<h([0-9]) id="(.*)">Appendix [0-9A-Z]+.( |&nbsp;)+',"gi"),i=i.replace(s,'<h$1 id="$2">'),s=new RegExp("(<h[0-9]*.*?)(figure)( |&nbsp;)+[0-9.]*( |&nbsp;)+","gi"),i=i.replace(s,"$1"),s=new RegExp("(figure)( |&nbsp;)+[0-9.]+","g"),i=i.replace(s,"this $1"),s=new RegExp("(Figure)( |&nbsp;)+[0-9.]+","g"),i=i.replace(s,"This figure"),s=new RegExp("(<h[0-9]*.*?)(listing) [0-9.]*( |&nbsp;)+","gi"),i=i.replace(s,"$1"),s=new RegExp("(listing)( |&nbsp;)*[0-9.]+","g"),i=i.replace(s,"this $1"),s=new RegExp("(Listing)( |&nbsp;)+[0-9.]+","g"),i=i.replace(s,"This listing"),s=new RegExp("(<h[0-9]*.*?)(table)( |&nbsp;)+[0-9.]*( |&nbsp;)+","gi"),i=i.replace(s,"$1"),s=new RegExp("(table)( |&nbsp;)+[0-9.]+","g"),i=i.replace(s,"this $1"),s=new RegExp("(Table)( |&nbsp;)+[0-9.]+","g"),i=i.replace(s,"This table"),s=new RegExp("(<a.*>)(part [0-9]+)(</a>)","g"),i=i.replace(s,"$1this part$3"),s=new RegExp("(<a.*>)(Part [0-9]+)(</a>)","g"),i=i.replace(s,"$1This part$3"),s=new RegExp("(<a.*>)(chapter [0-9]+)(</a>)","g"),i=i.replace(s,"$1this chapter$3"),s=new RegExp("(<a.*>)(Chapter [0-9]+)(</a>)","g"),i=i.replace(s,"$1This chapter$3"),s=new RegExp("(<a.*>)(appendix [0-9A-Z]*)(</a>)","g"),i=i.replace(s,"$1this appendix$3"),s=new RegExp("(<a.*>)(Chapter [0-9A-Z]*)(</a>)","g"),i=i.replace(s,"$1This appendix$3")}return i},e}())},75911:(e,t,o)=>{"use strict";o.d(t,{DA:()=>r,WB:()=>m});var n,r,i=o(26729),s=o(83885),a=o(41839),c=o(25853),l=o(21448),u=o(97766),p=o(72045),d=o(56781),h=new(function(){function e(){this.readLoggingInterval=3e4,this.idleInterval=3e5,this.isIdle=!1,this.numIdledRequests=0,this.logReading=this.logReading.bind(this),this.handleAction=this.handleAction.bind(this),this.maxIdledRequests=this.idleInterval/this.readLoggingInterval}return e.prototype.onSendLogRequest=function(e){this.sendLogRequestCallback=e},e.prototype.trackBasedOnChapterLocation=function(e,t){this.userAgentMatchesBot()||null==e||(null!=this.livebookLocation&&this.livebookLocation.slug==e.slug||(this.sessionId=(0,p.Z)()),this.isIdle=!1,this.livebookLocation=e,this.livebookReadingLogBaseInfo=t,this.logReading(),this.subscribeToActionEvents())},e.prototype.clear=function(){this.isIdle=!0,this.unsubscribeFromActionEvents(),clearTimeout(this.bookReadLogTimer),this.livebookLocation=null,this.livebookReadingLogBaseInfo=null},e.prototype.logReading=function(){if(null!=this.livebookLocation&&d.Z.isDocumentVisible())if(this.isIdle&&(this.numIdledRequests++,this.numIdledRequests>=this.maxIdledRequests))this.bookReadLogTimer=setTimeout(this.logReading,this.readLoggingInterval);else{this.isIdle=!0;var e=l.i.getCurrentReadingPosition(this.sessionId,this.livebookLocation,this.livebookReadingLogBaseInfo);null!=e&&this.sendLogRequestCallback&&this.sendLogRequestCallback(e),this.bookReadLogTimer=setTimeout(this.logReading,this.readLoggingInterval)}else this.bookReadLogTimer=setTimeout(this.logReading,this.readLoggingInterval)},e.prototype.handleAction=function(){this.isIdle=!1,this.numIdledRequests=0},e.prototype.userAgentMatchesBot=function(){return/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent)},e.prototype.subscribeToActionEvents=function(){this.unsubscribeFromActionEvents(),document.addEventListener("mousemove",this.handleAction,{passive:!0}),document.addEventListener("touchmove",this.handleAction,{passive:!0})},e.prototype.unsubscribeFromActionEvents=function(){document.removeEventListener("mousemove",this.handleAction),document.removeEventListener("touchmove",this.handleAction)},e}());!function(e){e[e.LoadingToc=0]="LoadingToc",e[e.ShowingToc=1]="ShowingToc",e[e.LoadingSearch=2]="LoadingSearch",e[e.ShowingSearch=3]="ShowingSearch"}(n||(n={})),function(e){e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.ShowingHtml=2]="ShowingHtml",e[e.ShowingPdf=3]="ShowingPdf",e[e.ShowingError=4]="ShowingError"}(r||(r={}));var m=function(){function e(e,t,o,n){void 0===n&&(n=!1);var r=this;this.lastChapterLocation=null,this.lastReadingLogBaseInfo=null,this.sourceApp=e,this.deploymentType=t,this.config=a.ZP.getConfig(this.sourceApp,this.deploymentType),this.provider=new c.C(o,this.config),this.changeEmitter=new i,this.excerptInfo=null,this.scrollToRefId="",this.handleLoadChapterRequest=this.handleLoadChapterRequest.bind(this),this.trackReadingTime=n,this.trackReadingTime&&h.onSendLogRequest((function(e){e&&r.provider.logReading(e)}))}return e.prototype.onChange=function(e){this.changeEmitter.addListener("change",e)},e.prototype.offChange=function(e){this.changeEmitter.removeListener("change",e)},e.prototype.onOutsideQuerySet=function(e){this.changeEmitter.addListener("outsideQuerySet",e)},e.prototype.offOutsideQuerySet=function(e){this.changeEmitter.removeListener("outsideQuerySet",e)},e.prototype.triggerOutsideQuerySet=function(e){this.changeEmitter.emit("outsideQuerySet",e)},e.prototype.onMenuInfoChange=function(e){this.changeEmitter.addListener("menuInfoChange",e)},e.prototype.offMenuInfoChange=function(e){this.changeEmitter.removeListener("menuInfoChange",e)},e.prototype.onViewInCart=function(e){this.changeEmitter.addListener("viewInCart",e)},e.prototype.onAddToCart=function(e){this.changeEmitter.addListener("addToCart",e)},e.prototype.onClose=function(e){this.changeEmitter.addListener("close",e)},e.prototype.onFreePreviewStateChange=function(e){this.changeEmitter.addListener("freePreview",e)},e.prototype.triggerChange=function(){this.changeEmitter.emit("change")},e.prototype.triggerMenuInfoChange=function(){this.changeEmitter.emit("menuInfoChange")},e.prototype.changeFreePreviewState=function(e){this.isFreePreviewRunning=e,this.changeEmitter.emit("freePreview")},e.prototype.viewInCart=function(){this.changeEmitter.emit("viewInCart")},e.prototype.addToCart=function(){this.changeEmitter.emit("addToCart")},e.prototype.closeLivebookViewer=function(){this.changeEmitter.emit("close")},e.prototype.loadLivebookLink=function(e,t){var o=u.Z.getRouteInfo(e);null!=o&&this.loadChapterInFreePreview({slug:o.slug,elementTitle:t,element:o.bookElement,location:o.refId},this.getSearchEmphasizedWords(),o.refId)},e.prototype.handleLoadChapterRequest=function(e,t,o){void 0===o&&(o=!1),this.loadChapterInFreePreview(e,this.getSearchEmphasizedWords(),t,o)},e.prototype.setProductInfo=function(e){this.productInfo=e,this.triggerMenuInfoChange()},e.prototype.setAsLoading=function(e){void 0===e&&(e=""),this.contentPhase=r.Loading,this.html="",this.pdfPath="",this.excerptInfo=null,this.artifactFeedback=null,this.title=e,this.triggerChange()},e.prototype.showHtml=function(e){this.contentPhase=r.ShowingHtml,this.html=e,this.excerptInfo=null,this.artifactFeedback=null,this.title="",this.scrollToRefId="",this.cancelCurrentFetch(),this.triggerChange()},e.prototype.searchCurrentProduct=function(e){var t=this;this.productInfo&&this.productInfo.externalId&&(this.menuPhase=n.LoadingSearch,this.searchResults=[],this.provider.searchProduct(e,this.productInfo.externalId).then((function(e){if(t.menuPhase=n.ShowingSearch,t.searchResults=e,t.triggerMenuInfoChange(),null!=t.searchResults&&t.searchResults.length&&t.searchResults[0].results&&t.searchResults[0].results.length){var o=t.searchResults[0].results[0],r=u.Z.getRouteInfo(o.link);null!=r&&t.loadChapterInFreePreview({slug:r.slug,element:r.bookElement,elementTitle:o.elementTitle,location:r.refId},t.getSearchEmphasizedWords(),r.refId,!0)}})).catch((function(e){t.menuPhase=n.ShowingToc,t.triggerMenuInfoChange()})),this.triggerMenuInfoChange())},e.prototype.clearSearch=function(){this.searchResults=null,this.menuPhase=n.ShowingToc,this.triggerMenuInfoChange();try{(0,window.$)(".livebook-viewer-root .search-query-word").removeClass("search-query-word")}catch(e){}},e.prototype.getUnscrambledParagraphs=function(e){return e&&0!=e.length?(this.cancelCurrentUnscramble(),this.unscramblePromise=(0,s.cancelable)(this.provider.getUnscrambledParagraphs(this.lastChapterLocation,e)),this.unscramblePromise):Promise.resolve([])},e.prototype.loadPointedLinkHtml=function(e){var t=this;e&&this.lastPointingLink!=e&&(this.contentPhase=r.Loading,this.html="",this.scrollToRefId="",this.lastPointingLink=e,this.lastChapterLocation=null,this.lastReadingLogBaseInfo=null,this.cancelCurrentFetch(),this.dataFetchPromise=(0,s.cancelable)(this.provider.getPointedLinkHtmlContent(e).then((function(e){t.contentPhase=r.ShowingHtml,t.html=l.i.fixHtml(e.html,t.config.client.livebook,t.config.aws.livebook,!0),t.excerptInfo=e.excerptInfo,t.dataFetchPromise=null,t.title="",t.triggerChange(),t.onBookDetailsArrived&&e.excerptInfo&&t.onBookDetailsArrived(e.excerptInfo)})).catch((function(e){t.html='<div class="readable-text" refid="1" id="1">\n                            <h1 id="ch01">Error loading content</h1>\n                        </div>\n                        <div class="readable-text" refid="2" id="2">\n                            <p>Unfortunately, there was an error loading this chapter. The problem has been reported and we\'ll fix it as soon as possible. Try reloading the page later.</a>.</p>\n                        </div> ',t.contentPhase=r.ShowingError,t.lastPointingLink=null,t.dataFetchPromise=null,t.title="",t.lastChapterLocation=null,t.lastReadingLogBaseInfo=null,t.triggerChange(),t.onPointingErrorFailure&&t.onPointingErrorFailure()}))),this.triggerChange())},e.prototype.loadToc=function(e){var t=this;this.menuPhase=n.LoadingToc,this.provider.getToc(e).then((function(e){t.menuPhase=n.ShowingToc,t.toc=e,t.triggerMenuInfoChange()})).catch((function(e){t.menuPhase=n.ShowingToc,t.toc=null,t.triggerMenuInfoChange()}))},e.prototype.loadChapterInFreePreview=function(e,t,o,n){var i=this;if(void 0===t&&(t=[]),void 0===o&&(o=""),void 0===n&&(n=!1),!e||!e.slug||!e.element)return null;if(null!=this.lastChapterLocation&&this.lastChapterLocation.slug==e.slug&&this.lastChapterLocation.element==e.element&&this.lastChapterLocation.meapVersion==e.meapVersion&&!n)return this.isDesktopWidth()&&(this.scrollToRefId=o),void this.triggerChange();this.contentPhase=r.Loading,this.html="",this.title=e.elementTitle,this.lastPointingLink=null,this.isDesktopWidth()&&(this.scrollToRefId=o),this.isFreePreviewRunning=!0,this.cancelCurrentFetch(),this.stopReadTracking();var a=function(){console.log("Couldn't load chapters"),i.html='<div class="readable-text" refid="1" id="1">\n                            <h1 id="ch01">'.concat(e.elementTitle,'</h1>\n                        </div>\n                        <div class="readable-text" refid="2" id="2">\n                            <p>Unfortunately, there was an error loading this chapter. You can go directly to the <a href="https://livebook.manning.com/book/').concat(e.slug,"/").concat(e.element,'">livebook chapter</a> or learn more about <a href="https://www.manning.com/books/').concat(e.slug,'">this book</a>.</p>\n                        </div> '),i.contentPhase=r.ShowingError,i.dataFetchPromise=null,i.title="",i.lastChapterLocation=null,i.lastReadingLogBaseInfo=null,i.triggerChange(),i.stopReadTracking()};this.dataFetchPromise=(0,s.cancelable)(this.provider.getHtmlContent(e).then((function(o){if(o&&o.isPdfPath)i.contentPhase=r.ShowingPdf,i.pdfPath=o.result,i.html="",i.excerptInfo=null,i.dataFetchPromise=null,i.artifactFeedback=null,i.title="",i.lastChapterLocation=e,i.lastReadingLogBaseInfo=o,i.triggerChange();else{var n=null!=o?o.result:"";try{if(n&&0==n.indexOf('<?xml version="1.0" encoding="UTF-8"?>')&&n.indexOf("<Error><Code>AccessDenied</Code><Message>Access Denied</Message>")>0)return void a()}catch(e){}i.contentPhase=r.ShowingHtml,i.html=l.i.fixHtml(n,i.config.client.livebook,i.config.aws.livebook,!1),t&&t.length&&(i.html=l.i.emphasizeWords(i.html,t)),i.excerptInfo=null,i.dataFetchPromise=null,i.artifactFeedback=null,i.title="",i.lastChapterLocation=e,i.lastReadingLogBaseInfo=o,i.triggerChange(),i.trackReading()}})).catch((function(e){return a()}))),this.triggerChange()},e.prototype.trackReading=function(){null!=this.lastChapterLocation&&this.trackReadingTime&&h.trackBasedOnChapterLocation(this.lastChapterLocation,this.lastReadingLogBaseInfo)},e.prototype.stopReadTracking=function(){this.trackReadingTime&&h.clear()},e.prototype.setArtifactFeedback=function(e){this.artifactFeedback=e,this.triggerChange()},e.prototype.cancelCurrentFetch=function(){this.dataFetchPromise&&this.dataFetchPromise.cancel&&this.dataFetchPromise.cancel(),this.dataFetchPromise=null},e.prototype.cancelCurrentUnscramble=function(){this.unscramblePromise&&this.unscramblePromise.cancel&&this.unscramblePromise.cancel(),this.unscramblePromise=null},e.prototype.isDesktopWidth=function(){return window.innerWidth>950},e.prototype.getSearchEmphasizedWords=function(){if(null==this.searchResults||0==this.searchResults.length)return[];for(var e={},t="<strong class='search-result'>",o=0,n=this.searchResults;o<n.length;o++)for(var r=0,i=n[o].results;r<i.length;r++){var s=i[r],a=s.text.indexOf(t);if(-1!=a){var c=s.text.indexOf("</strong>",a);-1!=c&&(e[s.text.substring(a+t.length,c).toLowerCase()]=!0)}}var l=[];for(var u in e)l.push(u);return l.sort((function(e,t){return t.length-e.length}))},e}()},91714:(e,t,o)=>{"use strict";o.d(t,{Z:()=>S});var n=o(67294),r=o(94184),i=o.n(r),s=o(39339),a=o(93379),c=o.n(a),l=o(7795),u=o.n(l),p=o(90569),d=o.n(p),h=o(3565),m=o.n(h),f=o(19216),g=o.n(f),b=o(44589),v=o.n(b),y=o(51394),w={};w.styleTagTransform=v(),w.setAttributes=m(),w.insert=d().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=g(),c()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var k=o(58206),x={};x.styleTagTransform=v(),x.setAttributes=m(),x.insert=d().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=g(),c()(k.Z,x),k.Z&&k.Z.locals&&k.Z.locals;var C,E=(C=function(e,t){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},C(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const S=function(e){function t(t){return e.call(this,t)||this}return E(t,e),t.prototype.render=function(){return n.createElement(s.Z,{mainContainerClassName:i()("token-notifier-container",this.props.mainContainerClassName),isOpen:this.props.isShown,onClose:this.props.onClose,title:this.props.title,subtitle:this.props.subtitle,subtitleStyle:{display:"block",fontStyle:"italic"},theme:void 0===this.props.theme?s.Q.dark:this.props.theme,isContentVerticalTop:!0,initialOverlayTop:this.props.topOffset,isPositionStatic:this.props.isPositionStatic,parentElement:this.props.parentElement},this.props.children,this.props.confirmationMessageHTML&&n.createElement("span",{className:i()("tokens-button emphasized-tokens-button",this.props.confirmationButtonAdditionalClass),onClick:this.props.onConfirmationClicked,dangerouslySetInnerHTML:{__html:this.props.confirmationMessageHTML}}),this.props.cancelationMessageHTML&&n.createElement("span",{className:"tokens-button cancel-button",onClick:this.props.onCancelationClicked,dangerouslySetInnerHTML:{__html:this.props.cancelationMessageHTML}}))},t}(n.Component)},64857:(e,t,o)=>{"use strict";o.d(t,{Z:()=>T});var n=o(67294),r=o(94184),i=o.n(r),s=o(39339),a=o(93379),c=o.n(a),l=o(7795),u=o.n(l),p=o(90569),d=o.n(p),h=o(3565),m=o.n(h),f=o(19216),g=o.n(f),b=o(44589),v=o.n(b),y=o(66924),w={};w.styleTagTransform=v(),w.setAttributes=m(),w.insert=d().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=g(),c()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var k,x=o(34670),C=o(97766),E=o(65605),S=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const T=function(e){function t(t){var o=e.call(this,t)||this;return o.state={currentConfirmationItem:null},o.updatedCurrentConfirmationItem=o.updatedCurrentConfirmationItem.bind(o),o}return S(t,e),t.prototype.render=function(){var e=this;return n.createElement(s.Z,{mainContainerClassName:"unlock-confirm-modal",isOpen:this.props.isShown,onClose:function(t){return e.handleClose()},title:null!=this.state.currentConfirmationItem?"confirm":"get content",initialOverlayTop:this.props.topOffset},this.props.isLoading&&n.createElement("div",{style:{height:200}},n.createElement(x.Z,null)),this.props.isShown&&!this.props.isLoading&&n.createElement("div",{className:"unlock-confirm-root"},null!=this.state.currentConfirmationItem?n.createElement(A,{confirmationItem:this.state.currentConfirmationItem,onBackRequested:function(){return e.updatedCurrentConfirmationItem(null)},onConfirmationItemSelected:this.props.onConfirmationItemSelected,confirmationLimit:this.props.confirmationLimit,isInConfirmationMode:!0}):this.props.confirmationItems.map((function(t){return n.createElement(A,{key:t.id,confirmationItem:t,onConfirmationItemSelected:e.props.onConfirmationItemSelected,confirmationLimit:e.props.confirmationLimit,onConfirmationRequested:e.updatedCurrentConfirmationItem})})),this.props.productPrice>0&&null==this.state.currentConfirmationItem&&n.createElement("div",{key:"unlock-confirm-action",className:"unlock-confirm-option-row unlock-confirm-action-row"},n.createElement("div",{className:i()("unlock-confirm-select-box unlock-confirm-action-container",{"product-in-cart":this.props.isProductAlreadyInCart}),onClick:function(t){return e.props.onCartActionSelected&&e.props.onCartActionSelected()}},n.createElement("div",{style:{display:"inline-block"}},this.generatePurchaseWholeProductMessage()),!this.props.isProductAlreadyInCart&&n.createElement("div",{className:"unlock-confirm-action-price-container"},this.generatePossibleTokenDiscounts(),n.createElement("strong",{className:"unlock-confirm-price-label"},"$",E.Z.roundToTwoDecimalPlaces(this.props.productPrice-(this.props.productAlreadySpentDollars||0))))))))},t.prototype.generatePossibleTokenDiscounts=function(){if(this.props.productAlreadySpentDollars>0&&this.props.productAlreadySpentTokens>0)return n.createElement("span",{className:"unlock-confirm-discount-container","data-tip":"you've already spent ".concat(this.props.productAlreadySpentTokens," token(s) on this product"),"data-effect":"solid"},n.createElement("span",{className:"unlock-confirm-discount-label"},"$",E.Z.roundToTwoDecimalPlaces(this.props.productPrice)," ",n.createElement("strong",null,"- $",E.Z.roundToTwoDecimalPlaces(this.props.productAlreadySpentDollars)," deduction")),n.createElement("i",{className:"fa fa-caret-right unlock-confirm-discount-label","aria-hidden":"true"}))},t.prototype.generatePurchaseWholeProductMessage=function(){return n.createElement(n.Fragment,null," ",this.props.isProductAlreadyInCart?" view ":this.props.isBuyMessage?" buy ":" add ",n.createElement("em",null,this.props.productTitle),this.props.isProductAlreadyInCart?" in ":this.props.isBuyMessage?" ":" to ",this.props.isBuyMessage?"":"your cart")},t.prototype.handleClose=function(){this.setState({currentConfirmationItem:null}),this.props.onClose&&this.props.onClose()},t.prototype.updatedCurrentConfirmationItem=function(e){this.setState({currentConfirmationItem:e})},t}(n.Component);var A=function(e){function t(t){return e.call(this,t)||this}return S(t,e),t.prototype.render=function(){var e=this,t=this.props.confirmationItem;return this.props.isInConfirmationMode?n.createElement("div",{className:"unlock-confirm-option-row"},n.createElement("div",{title:"Back",className:"unlock-confirm-back-container",onClick:function(t){return e.props.onBackRequested&&e.props.onBackRequested()}},n.createElement("i",{className:"fa fa-caret-left","aria-hidden":"true"})),n.createElement("div",{title:"Confirm unlocking this part for ".concat(E.Z.numberWithCommas(t.price)," token").concat(t.price>1?"s":""),className:"unlock-confirm-box unlock-confirm-select-box",onClick:function(t){return e.handleItemClick()}},n.createElement("em",null,"confirm purchase of "),this.shortenTextIfNecessary(t.text,!1),n.createElement("em",null," for "),n.createElement("span",{className:"unlock-confirm-type-container"},n.createElement("svg",{viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}})),n.createElement("strong",{className:"unlock-confirm-price-label"},E.Z.numberWithCommas(t.price)))):n.createElement("div",{className:"unlock-confirm-option-row",title:"Unlock this part for ".concat(E.Z.numberWithCommas(t.price)," token").concat(t.price>1?"s":""),onClick:function(t){return e.handleItemClick()}},n.createElement("div",{className:"unlock-confirm-select-box"},n.createElement("div",{className:"unlock-confirm-select-box-left"},n.createElement("em",null," unlock ",this.props.confirmationItem.isParagraph?"paragraph: ":""),this.shortenTextIfNecessary(t.text)),n.createElement("div",{className:"unlock-confirm-price-container"},n.createElement("span",{className:"unlock-confirm-type-container"},n.createElement("svg",{viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}})),n.createElement("strong",{className:"unlock-confirm-price-label"},E.Z.numberWithCommas(t.price)))))},t.prototype.shortenTextIfNecessary=function(e,t){if(void 0===t&&(t=!0),!e)return e;e.length>=150&&(e=e.substring(0,150)+" ...");var o=C.Z.splitIntoShortNameAndContent(e);return o?n.createElement(n.Fragment,null,n.createElement("span",{className:"unlock-confirm-deemphasized-label"},o.shortName," "),t&&n.createElement("span",null,o.content)):e},t.prototype.handleItemClick=function(){this.props.confirmationItem.price>=this.props.confirmationLimit||this.props.confirmationItem.needsConfirmation?this.props.isInConfirmationMode?this.props.onConfirmationItemSelected&&this.props.onConfirmationItemSelected(this.props.confirmationItem):this.props.onConfirmationRequested&&this.props.onConfirmationRequested(this.props.confirmationItem):this.props.onConfirmationItemSelected&&this.props.onConfirmationItemSelected(this.props.confirmationItem)},t}(n.Component)},62695:(e,t,o)=>{"use strict";o.d(t,{Y:()=>R});var n=o(67294),r=o(94184),i=o.n(r),s=o(93379),a=o.n(s),c=o(7795),l=o.n(c),u=o(90569),p=o.n(u),d=o(3565),h=o.n(d),m=o(19216),f=o.n(m),g=o(44589),b=o.n(g),v=o(36686),y={};y.styleTagTransform=b(),y.setAttributes=h(),y.insert=p().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=f(),a()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals,o(806);var w=o(34252),k={};k.styleTagTransform=b(),k.setAttributes=h(),k.insert=p().bind(null,"head"),k.domAPI=l(),k.insertStyleElement=f(),a()(w.Z,k),w.Z&&w.Z.locals&&w.Z.locals;var x,C=(x=function(e,t){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},x(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),E=function(e){function t(t){var o=e.call(this,t)||this;return o.handleSearchQueryChange=o.handleSearchQueryChange.bind(o),o.handleSearchFiltersClear=o.handleSearchFiltersClear.bind(o),o.state={},o}return C(t,e),t.prototype.render=function(){var e=this.props.query||"";return n.createElement("div",{className:"notebook-filter-input-root"},n.createElement("input",{type:"text",placeholder:"search",value:e,onChange:this.handleSearchQueryChange}),e.length>0?n.createElement("span",{className:"notebook-filter-clear",onClick:this.handleSearchFiltersClear},"clear"):null,n.createElement("i",{className:"fa fa-search"}))},t.prototype.handleSearchQueryChange=function(e){this.props.onQueryChange&&this.props.onQueryChange(e.target.value)},t.prototype.handleSearchFiltersClear=function(){this.props.onQueryChange&&this.props.onQueryChange("")},t}(n.Component),S=o(67733),T={};T.styleTagTransform=b(),T.setAttributes=h(),T.insert=p().bind(null,"head"),T.domAPI=l(),T.insertStyleElement=f(),a()(S.Z,T),S.Z&&S.Z.locals&&S.Z.locals;var A=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),I=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o}return A(t,e),t.prototype.render=function(){var e=!!this.props.icon&&!this.props.text;return n.createElement("button",{title:this.props.title,className:i()("notebook-toggle-button",this.props.classNames,{selected:this.props.isSelected,"has-only-icon":e}),onClick:this.props.onClick},this.props.icon?n.createElement("i",{className:i()("fa",this.props.icon)}):null,this.props.text)},t}(n.Component),O=o(65605),P=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),R=function(e){function t(t){var o=e.call(this,t)||this;return o.toggleOpenIssues=o.toggleOpenIssues.bind(o),o.toggleClosedIssues=o.toggleClosedIssues.bind(o),o.toggleTagSelection=o.toggleTagSelection.bind(o),o.props.store.onFilterChange((function(){o.hasBeenMounted&&o.forceUpdate()})),o.props.store.onRootChange((function(){o.hasBeenMounted&&o.forceUpdate()})),o.handleStartDateChange=o.handleStartDateChange.bind(o),o.handleEndDateChange=o.handleEndDateChange.bind(o),o}return P(t,e),t.prototype.componentDidMount=function(){this.hasBeenMounted=!0},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1},t.prototype.render=function(){var e=this.props.store;return n.createElement("div",{className:"feedback-filter-root notebook-root"},n.createElement("div",{className:"feedback-filter-header"},n.createElement("div",{className:"feedback-filter-header-title-close-container"},n.createElement("div",{className:"feedback-filter-header-title"},"filter"),n.createElement("button",{className:i()("close-button","icon-button"),title:"close",onClick:this.props.onClose},n.createElement("i",{className:"fa fa-times"}))),n.createElement(E,{query:this.props.store.filter.searchQuery,onQueryChange:e.changeSearchQuery})),n.createElement("div",{className:"feedback-filter-body"},this.renderOpenClosedSection(),this.renderMonickersSection(),this.renderDateSection(),this.renderTagsSection()))},t.prototype.renderOpenClosedSection=function(){return n.createElement("div",{className:"feedback-filter-section feedback-filter-open-closed-section"},n.createElement("div",{className:"feedback-filter-section-header"},"issues"),n.createElement("div",null,n.createElement(I,{classNames:"green dark-border",isSelected:this.props.store.filter.showOpenReviewComments,text:"open",onClick:this.toggleOpenIssues}),n.createElement(I,{classNames:"red dark-border",isSelected:this.props.store.filter.showClosedReviewComments,text:"closed",onClick:this.toggleClosedIssues})))},t.prototype.renderMonickersSection=function(){var e=this;return null==this.props.store.filter.availableMonickers||0==this.props.store.filter.availableMonickers.length?null:n.createElement("div",{className:"feedback-filter-section feedback-filter-monickers-section"},n.createElement("div",{className:"feedback-filter-section-header"},"reviewers"),n.createElement("div",null,this.props.store.filter.availableMonickers.filter((function(e){return e})).map((function(t){return n.createElement(I,{classNames:"has-top-margin dark-border",key:t,isSelected:e.props.store.isFilterMonickerSelected(t),onClick:function(){return e.toggleMonickerSelection(t)},text:t})}))))},t.prototype.renderDateSection=function(){return n.createElement("div",{className:"feedback-filter-section feedback-filter-date-section"},n.createElement("div",{className:"feedback-filter-section-header"},"date"),n.createElement("label",null,"start date:",n.createElement("input",{type:"date",value:O.Z.formatDate(this.props.store.filter.startDate),onChange:this.handleStartDateChange})),n.createElement("label",null,"end date:",n.createElement("input",{type:"date",value:O.Z.formatDate(this.props.store.filter.endDate),onChange:this.handleEndDateChange})))},t.prototype.renderTagsSection=function(){var e=this;return null==this.props.store.filter.availableTags||0==this.props.store.filter.availableTags.length?null:n.createElement("div",{className:"feedback-filter-section feedback-filter-tags-section"},n.createElement("div",{className:"feedback-filter-section-header"},"tags"),n.createElement("div",null,this.props.store.filter.availableTags.map((function(t){return n.createElement(I,{classNames:"has-top-margin dark-border",key:t.id,isSelected:e.props.store.isFilterTagSelected(t),onClick:function(){return e.toggleTagSelection(t)},text:t.text})}))))},t.prototype.toggleMonickerSelection=function(e){this.props.store.toggleMonickerSelection(e)},t.prototype.toggleOpenIssues=function(){this.props.store.toggleOpenIssues()},t.prototype.toggleClosedIssues=function(){this.props.store.toggleClosedIssues()},t.prototype.toggleTagSelection=function(e){this.props.store.toggleTagSelection(e)},t.prototype.handleStartDateChange=function(e){this.props.store.setStartDate(e.target.value?new Date(e.target.value):null)},t.prototype.handleEndDateChange=function(e){this.props.store.setEndDate(e.target.value?new Date(e.target.value):null)},t}(n.Component)},73994:(e,t,o)=>{"use strict";o.d(t,{O:()=>Be});var n=o(67294),r=o(96168),i=o(83461),s=o(93379),a=o.n(s),c=o(7795),l=o.n(c),u=o(90569),p=o.n(u),d=o(3565),h=o.n(d),m=o(19216),f=o.n(m),g=o(44589),b=o.n(g),v=o(99616),y={};y.styleTagTransform=b(),y.setAttributes=h(),y.insert=p().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=f(),a()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals,o(806);var w=o(34670),k=o(56180),x=o(29176),C={};C.styleTagTransform=b(),C.setAttributes=h(),C.insert=p().bind(null,"head"),C.domAPI=l(),C.insertStyleElement=f(),a()(x.Z,C),x.Z&&x.Z.locals&&x.Z.locals;var E,S=o(65605),T=o(89095),A=(E=function(e,t){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},E(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),I=function(e){function t(t){var o=e.call(this,t)||this;return o.toggleExpand=o.toggleExpand.bind(o),o.state={},o}return A(t,e),t.prototype.render=function(){var e=this,t=this.props.questionFeedback,o=null!=t.answers&&t.answers.length,r=this.props.store.isExpanded(this.props.id);return n.createElement("div",{className:"question-answer-root"},n.createElement("div",{className:"question-answer-question-row"},n.createElement("div",{className:"question-answer-index-column"},n.createElement("strong",null,this.props.index)),n.createElement("div",{className:"question-answer-question-column",dangerouslySetInnerHTML:{__html:t.question}}),n.createElement("div",{className:"question-answer-commands-column"},o?n.createElement("span",{onClick:this.toggleExpand,className:"link-like toggle-expand-link"},r?"hide":"show"," ",t.answers.length," response",t.answers.length>1?"s":""):n.createElement("span",null,"no responses"))),n.createElement(k,{isOpened:r},n.createElement("div",{className:"question-answer-answers-row"},t.answers.map((function(t){return!t.date&&t.dateAsString&&(t.date=S.Z.getDateFromString(t.dateAsString)),n.createElement("div",{className:"question-answer-answer-container",key:t.id},n.createElement("div",{className:"question-answer-answer-body"},e.renderUserMonickerAndDate(t),null!=t.paragraphsToReread&&t.paragraphsToReread.length?t.paragraphsToReread.map((function(e){return n.createElement("span",{key:e.link+e.id},n.createElement("a",{href:e.link,key:e.link+e.id},n.createElement("i",{className:"fa fa-paragraph"}),e.id)," ")})):e.props.shouldUseMarkdown?n.createElement(T.Z,{className:"question-answer-answer-body-main-body",source:t.response,html_in_markdown:!1}):t.response,e.renderReviewerInfo(t)))})))))},t.prototype.renderReviewerInfo=function(e){return this.props.store.feedback&&this.props.store.feedback.reviewerIds&&0!=this.props.store.feedback.reviewerIds.length?-1==this.props.store.feedback.reviewerIds.indexOf(e.userId)?null:n.createElement("span",{className:"question-answer-reviewer-tag",title:"reviewer"},n.createElement("i",{className:"fa fa-user-edit"})):null},t.prototype.renderUserMonickerAndDate=function(e){var t=this;return this.props.store.isUserEditor()?n.createElement("span",null,n.createElement("strong",{className:"clickable-link-like",style:{textDecoration:"underline",cursor:"pointer"},onClick:function(o){return t.props.store.fetchAdditionalUserInfo({userId:e.userId,monicker:e.userMonicker})},"data-tip":this.renderTooltipMessage(e),title:this.getHoverTitle(e),"data-html":!0},e.userMonicker||"?"),null!=e.date?n.createElement("small",null," (",S.Z.formatDate(e.date),")"):null,n.createElement("span",null,": ")):n.createElement("span",null,n.createElement("strong",{"data-html":!0,title:this.getHoverTitle(e),"data-tip":this.renderTooltipMessage(e)},e.userMonicker||"?"),null!=e.date?n.createElement("small",null," (",S.Z.formatDate(e.date),")"):null,n.createElement("span",null,": "))},t.prototype.getHoverTitle=function(e){if("number"==typeof e.vote){if(e.vote>0)return"+1";if(e.vote<0)return"-1"}return"number"==typeof e.rating?"".concat(e.rating):""},t.prototype.renderTooltipMessage=function(e){var t="";return"number"==typeof e.vote&&(e.vote>0?t+="<i class='fa fa-thumbs-up'/>":e.vote<0&&(t+="<i class='fa fa-thumbs-down'/>")),"number"==typeof e.rating&&(t+=S.Z.createArrayFromItemsUpTo(e.rating).map((function(e){return"<i class='fa fa-star'/>"})).join(" ")),t},t.prototype.toggleExpand=function(){this.props.store.toggleExpanded(this.props.id)},t}(n.Component),O=o(59698),P={};P.styleTagTransform=b(),P.setAttributes=h(),P.insert=p().bind(null,"head"),P.domAPI=l(),P.insertStyleElement=f(),a()(O.Z,P),O.Z&&O.Z.locals&&O.Z.locals;var R=o(94184),_=o.n(R),N=o(9170),F={};F.styleTagTransform=b(),F.setAttributes=h(),F.insert=p().bind(null,"head"),F.domAPI=l(),F.insertStyleElement=f(),a()(N.Z,F),N.Z&&N.Z.locals&&N.Z.locals;var L=o(63098),M={};M.styleTagTransform=b(),M.setAttributes=h(),M.insert=p().bind(null,"head"),M.domAPI=l(),M.insertStyleElement=f(),a()(L.Z,M),L.Z&&L.Z.locals&&L.Z.locals;var D=o(40277),U=o(25106),j={};j.styleTagTransform=b(),j.setAttributes=h(),j.insert=p().bind(null,"head"),j.domAPI=l(),j.insertStyleElement=f(),a()(U.Z,j),U.Z&&U.Z.locals&&U.Z.locals;var Z=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),B=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o}return Z(t,e),t.prototype.render=function(){var e=this,t=this.props.userMonicker;return null==t?null:this.props.isCurrentUserEditor?t.email?n.createElement(n.Fragment,null,n.createElement("a",{className:"notebook-monicker-container",target:"_blank",style:{textDecoration:"underline",cursor:"pointer"},href:"mailto:".concat(t.email)},t.monicker||t.email),this.props.addVerticalSeparator&&n.createElement(n.Fragment,null,"  |  ")):n.createElement(n.Fragment,null,n.createElement("span",{className:"notebook-monicker-container clickable-link-like",style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){return e.props.onRequestEmailFetch&&e.props.onRequestEmailFetch(e.props.userMonicker)}},t.getDisplayName()),this.props.addVerticalSeparator&&n.createElement(n.Fragment,null,"  |  ")):t.getDisplayName()?n.createElement(n.Fragment,null,n.createElement("span",{className:_()("notebook-monicker-container")},t.getDisplayName()," "),this.props.addVerticalSeparator&&n.createElement(n.Fragment,null,"  |  ")):null},t}(n.Component),z=o(77318),q={};q.styleTagTransform=b(),q.setAttributes=h(),q.insert=p().bind(null,"head"),q.domAPI=l(),q.insertStyleElement=f(),a()(z.Z,q),z.Z&&z.Z.locals&&z.Z.locals;var H=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),W=function(e){function t(t){var o=e.call(this,t)||this;return o.handleDocumentClick=o.handleDocumentClick.bind(o),o.handleMenuRender=o.handleMenuRender.bind(o),o.handleKeyDown=o.handleKeyDown.bind(o),o.state={},o}return H(t,e),t.prototype.render=function(){return n.createElement("span",{className:_()("icon-button-with-menu-root",this.props.className)},n.createElement("button",{className:_()("icon-button",this.props.iconButtonClassName,{selected:this.props.isShowingMenu,"no-states":this.props.disableHoverStates}),onClick:this.props.onClick,title:this.props.title},n.createElement("i",{className:_()("fa",this.props.icon)}),this.props.text?this.props.text:null),this.renderMenu())},t.prototype.renderMenu=function(){return this.props.isShowingMenu?n.createElement("div",{className:"icon-button-menu",ref:this.handleMenuRender},this.props.children):(document.removeEventListener("click",this.handleDocumentClick),null)},t.prototype.handleMenuRender=function(e){!this.menu&&e&&(document.addEventListener(this.props.closeOnEvent||"click",this.handleDocumentClick),document.addEventListener("keydown",this.handleKeyDown)),this.menu&&!e&&(document.removeEventListener(this.props.closeOnEvent||"click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleKeyDown)),this.menu=e},t.prototype.componentDidMount=function(){this.hasBeenMounted=!0},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1},t.prototype.handleDocumentClick=function(e){null!=this.menu&&(this.menu==e.target||this.menu.contains(e.target)||this.props.onClose())},t.prototype.handleKeyDown=function(e){27==(e.keyCode||e.which)&&this.props.onClose()},t}(n.Component),V=o(12766),Q=o(13838),G={};G.styleTagTransform=b(),G.setAttributes=h(),G.insert=p().bind(null,"head"),G.domAPI=l(),G.insertStyleElement=f(),a()(Q.Z,G),Q.Z&&Q.Z.locals&&Q.Z.locals;var K=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),X=function(e){function t(t){var o=e.call(this,t)||this;return o.handleChange=o.handleChange.bind(o),o.state={},o}return K(t,e),t.prototype.render=function(){return n.createElement("div",{className:"notebook-tag-adder-root"},n.createElement("div",{className:"notebook-tag-adder-title"},"tags"),n.createElement(V.ZP,{defaultValue:this.getAlreadySelectedOptions(),isMulti:!0,options:this.getAllAvailableTags(),closeMenuOnScroll:!1,isClearable:!1,className:"basic-multi-select",onChange:this.handleChange,classNamePrefix:"select",ref:function(e){return e&&e.focus()}}))},t.prototype.getAlreadySelectedOptions=function(){return this.props.notebookItem.tags.map((function(e){return{value:e.id,label:e.text}}))},t.prototype.getAllAvailableTags=function(){return this.props.store.filter.availableTags.map((function(e){return{value:e.id,label:e.text}}))},t.prototype.handleChange=function(e,t){var o=this;if(console.log(t,t.action),"create-option"==t.action){var n=this.getNewlyCreatedTag(e);if(0==n.trim().length||n.length>30)return alert("Cannot create new empty tag or tag with more than 30 characters"),!1;this.props.store.createNewTag(this.props.notebookItem,n).then((function(e){o.props.store.addTagToNotebookItem(o.props.notebookItem,e.id)}))}else"select-option"==t.action?this.props.store.addTagToNotebookItem(this.props.notebookItem,t.option.value):"remove-value"!=t.action&&"pop-value"!=t.action||t.removedValue&&this.props.store.removeTagFromNotebookItem(this.props.notebookItem,t.removedValue.value)},t.prototype.getNewlyCreatedTag=function(e){for(var t=function(e){if(e.__isNew__&&null==o.props.store.filter.availableTags.find((function(t){return t.text==e.label})))return{value:e.label}},o=this,n=0,r=e;n<r.length;n++){var i=t(r[n]);if("object"==typeof i)return i.value}return""},t}(n.Component),J=o(29872),Y={};Y.styleTagTransform=b(),Y.setAttributes=h(),Y.insert=p().bind(null,"head"),Y.domAPI=l(),Y.insertStyleElement=f(),a()(J.Z,Y),J.Z&&J.Z.locals&&J.Z.locals;var $=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ee=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o}return $(t,e),t.prototype.render=function(){var e=this.props.notebookTag;return n.createElement("div",{className:"notebook-tag-root"},e.text)},t}(n.Component),te=o(23528),oe={};oe.styleTagTransform=b(),oe.setAttributes=h(),oe.insert=p().bind(null,"head"),oe.domAPI=l(),oe.insertStyleElement=f(),a()(te.Z,oe),te.Z&&te.Z.locals&&te.Z.locals;var ne=o(30676),re=o(12323),ie=o(13410),se=o(52533),ae={};ae.styleTagTransform=b(),ae.setAttributes=h(),ae.insert=p().bind(null,"head"),ae.domAPI=l(),ae.insertStyleElement=f(),a()(se.Z,ae),se.Z&&se.Z.locals&&se.Z.locals;var ce=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),le=function(e){function t(t){var o=e.call(this,t)||this;return o.handleTextAreaRef=o.handleTextAreaRef.bind(o),o.handleTextAreaChange=o.handleTextAreaChange.bind(o),o.handleKeyDown=o.handleKeyDown.bind(o),o.togglePreview=o.togglePreview.bind(o),o.handleNoteCreationRequest=o.handleNoteCreationRequest.bind(o),o.handleVisibilityInputChange=o.handleVisibilityInputChange.bind(o),o.state={isPreviewing:!1,shouldShowErrorsIfPresent:!1,isPublic:t.store&&t.store.isUserReviewer()},o}return ce(t,e),t.prototype.render=function(){var e=(this.props.text||"").trim().length>0;return n.createElement("div",{className:"notebook-item-note-input-root"},n.createElement("div",{className:_()("notebook-item-note-top-commands-container",{shown:e})},this.generateNoteVisiblityInputIfNecessary(),this.props.isEditing?n.createElement(n.Fragment,null,n.createElement("button",{className:"link-like-button",onClick:this.props.onCancel},"cancel"),"   |  "):null,n.createElement("button",{className:"link-like-button",onClick:this.togglePreview},this.state.isPreviewing?"code":"preview")),this.state.isPreviewing&&n.createElement(T.Z,{className:"markdown-preview-container",source:this.props.text,html_in_markdown:!1}),n.createElement(re.Z,{className:_()({"has-input":e,hidden:this.state.isPreviewing,"has-errors":this.state.shouldShowErrorsIfPresent&&this.isTextLengthInvalid()}),ref:this.handleTextAreaRef,placeholder:"add a note...",value:this.props.text,onChange:this.handleTextAreaChange,onKeyDown:this.handleKeyDown,minRows:1,maxRows:5}),n.createElement("span",{title:this.props.isEditing?"save":"create",className:_()("create-note-button",{shown:e&&!this.state.isPreviewing}),onClick:this.handleNoteCreationRequest},n.createElement("i",{className:_()("fa",{"fa-paper-plane":!this.props.isEditing,"fa-save":this.props.isEditing})})),n.createElement("div",{className:_()("notebook-item-note-input-help",{shown:e&&!this.state.isPreviewing})},n.createElement("a",{href:"https://guides.github.com/features/mastering-markdown/",target:"_blank"},"style with markdown"),n.createElement("span",null,ie.Z.isTouch?null:n.createElement("span",null,ie.Z.getCommandOrControl()," +  enter (",this.props.isEditing?"save":"create",") ",this.props.isEditing?n.createElement(n.Fragment,null,"  |   esc (cancel)"):null))))},t.prototype.generateNoteVisiblityInputIfNecessary=function(){if(null==this.props.store||null==this.props.reviewComment)return null;var e=this.props.reviewComment;return null!=e.userMonicker&&e.userMonicker.isReviewer?n.createElement("label",{className:"notebook-item-note-visibility-label"},n.createElement("input",{type:"checkbox",checked:this.state.isPublic,onChange:this.handleVisibilityInputChange}),"show note to reviewer  | "):null},t.prototype.handleNoteCreationRequest=function(e){if(this.isTextLengthInvalid())return alert("Note text shouldn't be empty or larger than 5000 characters"),void this.setState({shouldShowErrorsIfPresent:!0});this.setState({shouldShowErrorsIfPresent:!1}),this.props.onSave(this.state.isPublic)},t.prototype.isTextLengthInvalid=function(){return!(this.props.text||"").trim()||this.props.text.length>5e3},t.prototype.handleTextAreaChange=function(e){this.props.onTextChange(e.target.value)},t.prototype.handleKeyDown=function(e){var t=e.keyCode||e.which;13==t&&(e.metaKey||e.ctrlKey)?this.handleNoteCreationRequest():9!=t||e.shiftKey?27==t&&(this.textArea&&this.textArea.blur(),this.props.onCancel&&this.props.onCancel()):(e.preventDefault(),this.insertTextAtLocation("\t",""))},t.prototype.togglePreview=function(){this.setState({isPreviewing:!this.state.isPreviewing})},t.prototype.handleVisibilityInputChange=function(){this.setState({isPublic:!this.state.isPublic})},t.prototype.insertTextAtLocation=function(e,t,o){void 0===t&&(t=""),void 0===o&&(o={});var n=this.textArea,r=n.selectionStart,i=n.selectionEnd,s="";if(o.insertAtStartOfLine)for(var a=n.value,c=r;c>=0;c--)if(c<=0||"\n"==a[c]){r=c;break}r!=i&&(s=n.value.substring(r,i)),o.ignoreCurrentSelection&&(s=""),this.props.onTextChange(n.value.substring(0,r)+e+s+t+n.value.substring(i)),n.selectionEnd=r+s.length+1,n.focus()},t.prototype.handleTextAreaRef=function(e){this.textArea=e,this.textArea&&this.props.autoFocus&&this.textArea.focus()},t}(n.Component),ue=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),pe=function(e){function t(t){var o=e.call(this,t)||this;return o.toggleMenu=o.toggleMenu.bind(o),o.editNote=o.editNote.bind(o),o.deleteNote=o.deleteNote.bind(o),o.handleNoteSave=o.handleNoteSave.bind(o),o.handleEditNoteTextChange=o.handleEditNoteTextChange.bind(o),o.handleNoteEditCancel=o.handleNoteEditCancel.bind(o),o.state={isShowingMenu:!1,isBeingEdited:!1,editedText:""},o}return ue(t,e),t.prototype.render=function(){return n.createElement("div",{className:"notebook-item-note-root"},this.state.isBeingEdited?this.renderNoteForEditing():this.renderNoteForReading())},t.prototype.renderNoteForEditing=function(){return n.createElement(le,{text:this.state.editedText,onTextChange:this.handleEditNoteTextChange,onSave:this.handleNoteSave,onCancel:this.handleNoteEditCancel,isEditing:!0})},t.prototype.renderNoteForReading=function(){var e=this,t=this.props.notebookItemNote;return n.createElement(n.Fragment,null,n.createElement("div",{className:"notebook-item-note-header"},n.createElement("div",{className:"notebook-item-note-header-text-container"},n.createElement(B,{userMonicker:t.userMonicker,isCurrentUserEditor:this.props.store.isUserEditor(),addVerticalSeparator:!0,onRequestEmailFetch:function(t){return e.props.store.fetchAdditionalUserInfo(t)}}),n.createElement(ne.Z,{date:t.dateCreated})),this.props.notebookItemNote.userId==this.props.store.user.userId&&!this.state.isBeingEdited&&n.createElement(W,{className:_()("extra-menu-button"),icon:"fa-ellipsis-v",isShowingMenu:this.state.isShowingMenu,onClick:this.toggleMenu,onClose:this.toggleMenu},n.createElement("button",{className:"icon-button-list-menu-button",onClick:this.editNote},"edit"),n.createElement("button",{className:"icon-button-list-menu-button",onClick:this.deleteNote},"delete"))),n.createElement(T.Z,{className:"notebook-item-note-body",source:t.text,html_in_markdown:!1}))},t.prototype.toggleMenu=function(){this.props.notebookItemNote.isBeingSynced||this.setState({isShowingMenu:!this.state.isShowingMenu})},t.prototype.editNote=function(){this.setState({isShowingMenu:!this.state.isShowingMenu,isBeingEdited:!0,editedText:this.props.notebookItemNote.text})},t.prototype.handleNoteSave=function(e){var t=this,o=this.state.editedText;this.props.store.editNotebookItemNote(this.props.notebookItem,this.props.notebookItemNote,this.state.editedText).catch((function(e){t.setState({editedText:o,isBeingEdited:!0})})),this.setState({editedText:"",isBeingEdited:!1})},t.prototype.handleNoteEditCancel=function(){this.setState({editedText:"",isBeingEdited:!1})},t.prototype.handleEditNoteTextChange=function(e){this.setState({editedText:e})},t.prototype.deleteNote=function(){this.setState({isShowingMenu:!this.state.isShowingMenu}),this.props.store.deleteNotebookItemNote(this.props.notebookItem,this.props.notebookItemNote)},t}(n.Component),de=o(5038),he={};he.styleTagTransform=b(),he.setAttributes=h(),he.insert=p().bind(null,"head"),he.domAPI=l(),he.insertStyleElement=f(),a()(de.Z,he),de.Z&&de.Z.locals&&de.Z.locals;var me=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fe=function(e){function t(t){return e.call(this,t)||this}return me(t,e),t.prototype.render=function(){return n.createElement("div",{className:_()("review-comment-status-root",{"can-toggle":this.props.canToggle})},"status:",n.createElement("span",{className:"review-comment-status-action-link"},this.renderStatusLabel(),this.props.canToggle?n.createElement(W,{className:_()("open-close-menu-button"),icon:"fa-chevron-circle-down",isShowingMenu:this.props.isMenuOpen,onClick:this.props.onToggleMenu,onClose:this.props.onToggleMenu,disableHoverStates:!0},this.props.status==D.F.Open?n.createElement("button",{className:"icon-button-list-menu-button",onClick:this.props.onClose},"close"):n.createElement("button",{className:"icon-button-list-menu-button",onClick:this.props.onOpen},"open")):null))},t.prototype.renderStatusLabel=function(){return this.props.status==D.F.Undefined?null:this.props.status==D.F.Open?n.createElement("span",{className:"review-comment-status-open review-comment-status-label",onClick:this.props.onToggleMenu},"open"):this.props.status==D.F.Closed?n.createElement("span",{className:"review-comment-status-closed review-comment-status-label",onClick:this.props.onToggleMenu},"closed"):void 0},t}(n.Component),ge=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),be=function(e){function t(t){var o=e.call(this,t)||this;return o.toggleHiddenToAuthorsClick=o.toggleHiddenToAuthorsClick.bind(o),o.handleNoteTextChange=o.handleNoteTextChange.bind(o),o.handleNoteCreation=o.handleNoteCreation.bind(o),o.handleRootRef=o.handleRootRef.bind(o),o.setReviewCommentStateOpen=o.setReviewCommentStateOpen.bind(o),o.setReviewCommentStateClosed=o.setReviewCommentStateClosed.bind(o),o.toggleOpenCloseMenu=o.toggleOpenCloseMenu.bind(o),o.toggleAddTagMenu=o.toggleAddTagMenu.bind(o),o.toggleShowNoteInput=o.toggleShowNoteInput.bind(o),o.props.store.onProductFeedbackChange((function(){o.hasBeenMounted&&o.forceUpdate()})),o.props.store.onNotebookItemChange((function(e){null!=e&&o.hasBeenMounted&&e.id==o.props.reviewComment.id&&o.forceUpdate()})),o.state={isShowingOpenCloseMenu:!1,newNoteText:"",isShowingAddTagMenu:!1,isShowingNoteInput:!1},o}return ge(t,e),t.prototype.componentDidMount=function(){this.hasBeenMounted=!0},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1},t.prototype.render=function(){var e=this,t=this.props.reviewComment,o=t.notes[0],r=t.notes.slice(1,t.notes.length);return null==o?null:n.createElement("div",{className:"review-comment-root notebook-root",ref:this.handleRootRef},n.createElement("div",{className:"review-comment-header"},n.createElement("span",null,t.userMonicker?n.createElement(n.Fragment,null,n.createElement(B,{userMonicker:t.userMonicker,onRequestEmailFetch:function(t){return e.props.store.fetchAdditionalUserInfo(t)},isCurrentUserEditor:this.props.store.isUserEditor()})):null),n.createElement("span",{className:"review-comment-header-commands-container"},n.createElement("div",{className:"review-comment-tag-container"},t.tags.map((function(e){return n.createElement(ee,{key:e.id,notebookTag:e})})),n.createElement(W,{className:"add-tag-button",icon:"fa-tags",isShowingMenu:this.state.isShowingAddTagMenu,onClick:this.toggleAddTagMenu,onClose:this.toggleAddTagMenu,closeOnEvent:"mousedown",title:"edit tags"},n.createElement(X,{store:this.props.store,notebookItem:t}))),this.renderToggleAuthorVisibilityButtonIfNecessary(),this.renderToggleNoteButtonIfNecessary(),this.renderAppropriateOpenClosedButton(t))),n.createElement("div",{className:"review-comment-body"},n.createElement("div",{className:"review-comment-main-note-body"},n.createElement(T.Z,{source:o.text,html_in_markdown:!1})),n.createElement("div",{className:"review-comment-discussion-body"},r.map((function(o){return n.createElement(pe,{key:o.id,notebookItem:t,notebookItemNote:o,store:e.props.store})})),this.state.isShowingNoteInput?n.createElement(le,{text:this.state.newNoteText,onTextChange:this.handleNoteTextChange,onSave:this.handleNoteCreation,store:this.props.store,reviewComment:this.props.reviewComment,autoFocus:!0}):null)))},t.prototype.renderToggleAuthorVisibilityButtonIfNecessary=function(){if(!this.canToggleAuthorVisibility())return null;var e=this.props.reviewComment;return n.createElement("button",{className:_()("icon-button","author-visibility-button"),onClick:this.toggleHiddenToAuthorsClick,title:e.isHiddenToAuthors?"show to author":"hide from author"},n.createElement("i",{className:_()("fa",{"fa-eye":!e.isHiddenToAuthors,"fa-eye-slash":e.isHiddenToAuthors})}))},t.prototype.renderToggleNoteButtonIfNecessary=function(){return this.props.store.isUserEditorOrAuthor()?n.createElement("button",{className:_()("icon-button",{selected:this.state.isShowingNoteInput}),onClick:this.toggleShowNoteInput,title:"add note"},n.createElement("i",{className:"fa fa-sticky-note"})):null},t.prototype.renderAppropriateOpenClosedButton=function(e){return n.createElement(fe,{status:e.status,canToggle:this.props.store.isUserEditorOrAuthor(),onClose:this.setReviewCommentStateClosed,onOpen:this.setReviewCommentStateOpen,onToggleMenu:this.toggleOpenCloseMenu,isMenuOpen:this.state.isShowingOpenCloseMenu})},t.prototype.handleRootRef=function(e){this.root=e},t.prototype.canToggleAuthorVisibility=function(){if(!this.props.store.isUserEditor())return!1;var e=this.props.reviewComment;return!(null==e||null==e.userMonicker||!e.userMonicker.isReviewer)},t.prototype.setReviewCommentStateOpen=function(){this.props.store.setReviewCommentState(this.props.reviewComment,D.F.Open),this.setState({isShowingOpenCloseMenu:!1})},t.prototype.setReviewCommentStateClosed=function(){this.props.store.setReviewCommentState(this.props.reviewComment,D.F.Closed),this.setState({isShowingOpenCloseMenu:!1})},t.prototype.toggleOpenCloseMenu=function(){this.setState({isShowingOpenCloseMenu:!this.state.isShowingOpenCloseMenu})},t.prototype.handleNoteTextChange=function(e){this.setState({newNoteText:e})},t.prototype.handleNoteCreation=function(e){var t=this,o=this.state.newNoteText;this.props.store.addNote(this.props.reviewComment,this.state.newNoteText,e).then((function(){null!=t.root&&t.scrollToTheBottomOfNotes()})).catch((function(e){t.setState({newNoteText:o})})),this.setState({newNoteText:""})},t.prototype.toggleHiddenToAuthorsClick=function(){this.props.reviewComment&&!this.props.reviewComment.isBeingSynced&&this.props.store.toggleReviewCommentAuthorVisibility(this.props.reviewComment)},t.prototype.toggleAddTagMenu=function(){this.setState({isShowingAddTagMenu:!this.state.isShowingAddTagMenu})},t.prototype.scrollToTheBottomOfNotes=function(){var e=this.root.querySelector(".notebook-item-notes");if(null!=e)try{e.scrollBy({top:e.scrollHeight,behavior:"smooth"})}catch(t){e.scrollBy(0,e.scrollHeight)}},t.prototype.toggleShowNoteInput=function(){this.setState({isShowingNoteInput:!this.state.isShowingNoteInput})},t}(n.Component),ve=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ye=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o}return ve(t,e),t.prototype.render=function(){var e=this,t=this.props.annotatedContent.contentHTML.indexOf("browsable-container")>=0;return n.createElement("div",{className:"annotated-content-root"},n.createElement("a",{target:"_blank",className:_()("annotated-content-link",{"browsable-annotated-content-link":t}),href:this.props.store.getParagraphLink(this.props.annotatedContent)},n.createElement("i",{className:"fa fa-paragraph"})," ",this.props.annotatedContent.ordinal),n.createElement("div",{className:"annotated-content-body",dangerouslySetInnerHTML:{__html:this.props.annotatedContent.contentHTML}}),this.props.annotatedContent.reviewComments.map((function(t){return n.createElement(be,{key:t.id,reviewComment:t,store:e.props.store})})))},t}(n.Component),we=o(99453),ke={};ke.styleTagTransform=b(),ke.setAttributes=h(),ke.insert=p().bind(null,"head"),ke.domAPI=l(),ke.insertStyleElement=f(),a()(we.Z,ke),we.Z&&we.Z.locals&&we.Z.locals;var xe=o(1222),Ce={};Ce.styleTagTransform=b(),Ce.setAttributes=h(),Ce.insert=p().bind(null,"head"),Ce.domAPI=l(),Ce.insertStyleElement=f(),a()(xe.Z,Ce),xe.Z&&xe.Z.locals&&xe.Z.locals;var Ee=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Se=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o}return Ee(t,e),t.prototype.render=function(){return n.createElement("span",{className:"vote-informer-root"},n.createElement("span",{className:"vote-informer-likes"}," ",this.props.numberOfLikes,"  ",n.createElement("i",{className:"fa fa-thumbs-up"})),void 0!==this.props.numberOfNeutrals?n.createElement("span",{className:"vote-informer-neutrals"}," ",this.props.numberOfNeutrals,"  ",n.createElement("i",{className:"fa fa-fist-raised"})):null,n.createElement("span",{className:"vote-informer-dislikes"}," ",this.props.numberOfDislikes,"  ",n.createElement("i",{className:"fa fa-thumbs-down"})))},t}(n.Component),Te=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ae=function(e){function t(t){var o=e.call(this,t)||this;return o.toggleExpand=o.toggleExpand.bind(o),o.state={},o}return Te(t,e),t.prototype.render=function(){if(!this.hasContent())return null;var e=this.props.store.isExpanded(this.props.sectionFeedback.title);return n.createElement("div",{className:"section-feedback-root"},n.createElement("div",{className:"section-feedback-header"},n.createElement("h3",{id:S.Z.stringToSlug(this.props.sectionFeedback.title)},this.props.sectionFeedback.title),n.createElement("div",null,n.createElement(Se,{numberOfLikes:this.props.sectionFeedback.numberOfLikes,numberOfNeutrals:this.props.sectionFeedback.numberOfNeutrals,numberOfDislikes:this.props.sectionFeedback.numberOfDislikes}),n.createElement("span",{onClick:this.toggleExpand,className:"link-like toggle-expand-link"},e?"hide":"show"," comments"))),n.createElement(k,{isOpened:e},this.renderAnnotatedContent(),this.renderQuestionsAndAnswers()))},t.prototype.hasContent=function(){return this.props.sectionFeedback.annotatedContent.filter((function(e){return e.reviewComments.length>0})).length||null!=this.props.sectionFeedback.questionsAndAnswers&&this.props.sectionFeedback.questionsAndAnswers.length>0},t.prototype.renderAnnotatedContent=function(){var e=this;return this.props.sectionFeedback.annotatedContent.map((function(t){return t.reviewComments.length>0?n.createElement(ye,{key:t.reviewComments[0].id,annotatedContent:t,store:e.props.store}):null}))},t.prototype.renderQuestionsAndAnswers=function(){var e=this;return null==this.props.sectionFeedback.questionsAndAnswers||0==this.props.sectionFeedback.questionsAndAnswers.length?null:n.createElement("div",{className:"section-feedback-questions-and-answers"},n.createElement("h4",null,"Feedback on ",this.props.sectionFeedback.title),this.props.sectionFeedback.questionsAndAnswers.map((function(t,o){return n.createElement(I,{store:e.props.store,questionFeedback:t,index:o+1,id:e.props.sectionFeedback.title+t.question,key:e.props.sectionFeedback.title+t.question,shouldUseMarkdown:e.props.shouldUseMarkdown})})))},t.prototype.toggleExpand=function(){this.props.store.toggleExpanded(this.props.sectionFeedback.title)},t}(n.Component),Ie=o(19256),Oe={};Oe.styleTagTransform=b(),Oe.setAttributes=h(),Oe.insert=p().bind(null,"head"),Oe.domAPI=l(),Oe.insertStyleElement=f(),a()(Ie.Z,Oe),Ie.Z&&Ie.Z.locals&&Ie.Z.locals;var Pe=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Re=function(e){function t(t){return e.call(this,t)||this}return Pe(t,e),t.prototype.render=function(){var e=this.props.artifactFeedbackReport;return n.createElement("div",{className:"artifact-feedback-report-root"},n.createElement("div",{className:"artifact-feedback-artifact-container"},n.createElement("p",{className:"artifact-feedback-artifact-content-container"},e.text),n.createElement("div",{className:"artifact-feedback-votes-container"},n.createElement(Se,{numberOfDislikes:e.numberOfDislikes,numberOfNeutrals:void 0,numberOfLikes:e.numberOfLikes})),n.createElement("div",{className:"artifact-feedback-report-feedback-container"},e.feedback.map((function(e){return n.createElement("div",{className:"artifact-feedback-report-feedback-item",key:e.id},n.createElement("div",{className:"artifact-feedback-report-feedback-item-header"},n.createElement("span",{className:"artifact-feedback-report-user-monicker"},e.userMonicker)),n.createElement("p",null,e.feedback,e.feedback&&n.createElement("span",null," "),e.vote>0&&n.createElement("i",{className:"fa fa-thumbs-up"}),e.vote<0&&n.createElement("i",{className:"fa fa-thumbs-down"})))})))))},t}(n.Component),_e=o(4430),Ne={};Ne.styleTagTransform=b(),Ne.setAttributes=h(),Ne.insert=p().bind(null,"head"),Ne.domAPI=l(),Ne.insertStyleElement=f(),a()(_e.Z,Ne),_e.Z&&_e.Z.locals&&_e.Z.locals;var Fe=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Le=function(e){function t(t){return e.call(this,t)||this}return Fe(t,e),t.prototype.render=function(){for(var e=[],t=function(t){e.push({xValue:t,yValue:o.props.points.filter((function(e){return e==t})).length})},o=this,r=this.props.min;r<=this.props.max;r++)t(r);return n.createElement("div",{className:"histogram-root"},this.props.title?n.createElement("div",null,this.props.title):null,n.createElement("div",{className:"histogram-x-axis"},e.map((function(e){return n.createElement("div",{key:e.xValue+"x",className:"histogram-x-axis-value-container"},e.xValue)}))),n.createElement("div",{className:"histogram-y-axis"},e.map((function(e){return n.createElement("div",{className:"histogram-y-axis-container",key:"".concat(e.xValue,"-").concat(e.yValue)},0==e.yValue?n.createElement("div",{className:"histogram-item empty-histogram-item"}):S.Z.getNumbersFromTo(1,e.yValue).map((function(t){return n.createElement("div",{className:"histogram-item",key:"".concat(t,"-").concat(e.yValue,"y")})})))}))))},t}(n.Component),Me=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),De=function(e){function t(t){var o=e.call(this,t)||this;return o.toggleExpand=o.toggleExpand.bind(o),o.state={},o}return Me(t,e),t.prototype.render=function(){if(!this.hasContent())return null;var e=this.props.elementFeedback,t=this.props.store.isExpanded(e.title);return n.createElement("div",{className:"element-feedback-root"},n.createElement("div",{className:"element-feedback-header"},n.createElement("h2",{id:S.Z.stringToSlug(e.title)},e.title),n.createElement("div",null,this.renderRating(),n.createElement("span",{onClick:this.toggleExpand,className:"link-like toggle-expand-link"},t?"hide":"show"," comments"))),n.createElement(k,{isOpened:t},null!=e&&null!=e.ratings&&e.ratings.length&&e.ratings.filter((function(e){return e>0})).length&&n.createElement(Le,{points:(this.props.elementFeedback.ratings||[]).filter((function(e){return e>0})),min:1,max:5,title:"ratings distribution:"}),this.renderAnnotatedContent(),this.renderSectionsContent(),this.renderArtifactsContent(),this.renderQuestionsAndAnswers()))},t.prototype.renderRating=function(){var e=this.props.elementFeedback;return e.numberOfRatings>0?n.createElement("span",null,"rating: ",n.createElement("strong",null,S.Z.roundToTwoDecimalPlaces(e.averageRating)," (",e.numberOfRatings)," vote",e.numberOfRatings>1?"s":"",") "):n.createElement(Se,{numberOfLikes:e.numberOfLikes,numberOfNeutrals:this.props.elementFeedback.numberOfNeutrals,numberOfDislikes:this.props.elementFeedback.numberOfDislikes})},t.prototype.renderAnnotatedContent=function(){var e=this;return this.props.elementFeedback.annotatedContent.map((function(t){return n.createElement(ye,{key:t.reviewComments[0].id,annotatedContent:t,store:e.props.store})}))},t.prototype.renderSectionsContent=function(){var e=this;return this.props.elementFeedback.sectionFeedback.map((function(t){return n.createElement(Ae,{key:t.title,sectionFeedback:t,store:e.props.store,shouldUseMarkdown:e.props.shouldUseMarkdown})}))},t.prototype.renderArtifactsContent=function(){var e=this;if(null!=this.props.elementFeedback.artifactFeedback&&this.props.elementFeedback.artifactFeedback.length)return this.props.elementFeedback.artifactFeedback.map((function(t){return n.createElement(Re,{key:t.id,store:e.props.store,artifactFeedbackReport:t})}))},t.prototype.hasContent=function(){return null!=this.props.elementFeedback.questionsAndAnswers&&this.props.elementFeedback.questionsAndAnswers.length>0||null!=this.props.elementFeedback.annotatedContent&&this.props.elementFeedback.annotatedContent.length>0&&this.props.elementFeedback.annotatedContent.filter((function(e){return e.reviewComments.length>0})).length>0||null!=this.props.elementFeedback.sectionFeedback.find((function(e){return e.annotatedContent.filter((function(e){return e.reviewComments.length>0})).length||null!=e.questionsAndAnswers&&e.questionsAndAnswers.length>0}))||null!=this.props.elementFeedback.artifactFeedback&&this.props.elementFeedback.artifactFeedback.length>0},t.prototype.renderQuestionsAndAnswers=function(){var e=this;return null==this.props.elementFeedback.questionsAndAnswers||0==this.props.elementFeedback.questionsAndAnswers.length?null:n.createElement("div",{className:"element-feedback-questions-and-answers"},n.createElement("h4",null,"Feedback on ",this.props.elementFeedback.title),this.props.elementFeedback.questionsAndAnswers.map((function(t,o){return n.createElement(I,{store:e.props.store,questionFeedback:t,index:o+1,id:e.props.elementFeedback.title+t.question,key:e.props.elementFeedback.title+t.question,shouldUseMarkdown:e.props.shouldUseMarkdown})})))},t.prototype.toggleExpand=function(){this.props.store.toggleExpanded(this.props.elementFeedback.title)},t}(n.Component),Ue=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),je=[{label:"Title",key:"title"},{label:"Dislike",key:"numberOfDislikes"},{label:"Like",key:"numberOfLikes"},{label:"Neutral",key:"numberOfNeutrals"},{label:"Questions",key:"question"},{label:"Reviewer Name",key:"userMonicker"},{label:"Reviewer Email",key:"userEmail"},{label:"Answer",key:"response"},{label:"Feedback Date",key:"dateAsString"}],Ze=[{label:"Question",key:"question"},{label:"Rating",key:"rating"},{label:"Reviewer Name",key:"userMonicker"},{label:"Reviewer Email",key:"userEmail"},{label:"Answer",key:"response"},{label:"Feedback Date",key:"dateAsString"}],Be=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o.props.store.onProductFeedbackChange((function(){o.hasBeenMounted&&o.forceUpdate()})),o.props.store.onRootChange((function(){o.hasBeenMounted&&o.forceUpdate()})),o.props.store.onFilterChange((function(){o.hasBeenMounted&&o.forceUpdate()})),o.expandAll=o.expandAll.bind(o),o.hideAll=o.hideAll.bind(o),o.print=o.print.bind(o),o}return Ue(t,e),t.prototype.createCsvFilename=function(e){var t=this.props.store.feedback&&this.props.store.feedback.productTitle,o=this.props.store.feedback&&this.props.store.feedback.authors,n=(t||"").replaceAll(" ","_"),r=(o||"").replaceAll(" ","_"),i=new Date,s=i.getDate(),a=i.getMonth()+1,c=i.getFullYear();return"".concat(n,"-").concat(r,"-").concat(a,"-").concat(s,"-").concat(c).concat(e,".csv")},t.prototype.flatQAData=function(){return(this.props.store.feedback&&this.props.store.feedback.elementFeedback.map((function(e){return{question:e.questionsAndAnswers.map((function(t){return{answers:t.answers.map((function(o){return{title:e.title,numberOfDislikes:e.numberOfDislikes,numberOfLikes:e.numberOfLikes,numberOfNeutrals:e.numberOfNeutrals,question:t.question,response:o.response,dateAsString:o.dateAsString,userEmail:o.userEmail,userMonicker:o.userMonicker}}))}}))}}))).reduce((function(e,t){for(var o=0,n=t.question;o<n.length;o++){var r=n[o];e.push(r)}return e}),[]).reduce((function(e,t){for(var o=0,n=t.answers;o<n.length;o++){var r=n[o];e.push(r)}return e}),[]).map((function(e){return{title:e.title,question:e.question,numberOfLikes:e.numberOfLikes,numberOfDislikes:e.numberOfDislikes,numberOfNeutrals:e.numberOfNeutrals,response:e.response.replaceAll('"',""),userEmail:e.userEmail,userMonicker:e.userMonicker.toUpperCase(),dateAsString:e.dateAsString}}))},t.prototype.flatQAData_BT=function(){return(this.props.store.feedback&&this.props.store.feedback.questionsAndAnswers.map((function(e){return{answers:e.answers.map((function(t){return{question:e.question,rating:t.rating,userEmail:t.userEmail,userMonicker:t.userMonicker,response:t.response,dateAsString:t.dateAsString}}))}}))).reduce((function(e,t){for(var o=0,n=t.answers;o<n.length;o++){var r=n[o];e.push(r)}return e}),[]).map((function(e){return{question:e.question.replaceAll('"',""),rating:e.rating,userMonicker:e.userMonicker.toUpperCase(),userEmail:e.userEmail,response:e.response.replaceAll('"',""),dateAsString:e.dateAsString}}))},t.prototype.render=function(){var e=this.props.store.feedback;return n.createElement("div",{className:"product-feedback-root"},n.createElement("div",{className:"product-feedback-header"},n.createElement("h1",{id:"review-report"},"General feedback",null!=e&&e.averageRating?n.createElement("small",{className:"review-report-rating"}," avg rating: ",S.Z.roundToTwoDecimalPlaces(e.averageRating)):null),n.createElement("div",{className:"product-feedback-commands-header"},n.createElement("span",{onClick:this.expandAll,className:"link-like"},"show all"),"  ",n.createElement("span",{onClick:this.hideAll,className:"link-like"},"hide all"),"  ",n.createElement("span",{onClick:this.print,className:"link-like"},"print"),"  ",null!=this.props.store.feedback&&this.props.store.feedback.elementFeedback&&this.props.shouldEnableCSVExport&&n.createElement(i.CSVLink,{data:this.flatQAData(),className:"link-like",headers:je,filename:this.createCsvFilename(""),target:"_blank"},"export csv file")," ",null!=this.props.store.feedback&&this.props.store.feedback.questionsAndAnswers.length>0&&this.props.shouldEnableCSVExport&&n.createElement(i.CSVLink,{data:this.flatQAData_BT(),className:"link-like",headers:Ze,filename:this.createCsvFilename("-beta_testers"),target:"_blank"},"export csv file (beta t.)")," ")),null!=e&&null!=e.ratings&&e.ratings.length&&e.ratings.filter((function(e){return e>0})).length&&n.createElement(Le,{points:(e.ratings||[]).filter((function(e){return e>0})),min:1,max:5,title:"ratings distribution:"}),this.renderBody())},t.prototype.componentDidMount=function(){this.hasBeenMounted=!0},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1},t.prototype.renderBody=function(){return this.props.store.isLoadingFeedback?n.createElement(w.Z,{loadingSize:w.E.Medium}):null!=this.props.store.feedback?this.renderProductFeedback(this.props.store.getDisplayedFeedback()):null},t.prototype.renderProductFeedback=function(e){var t=this;return n.createElement(n.Fragment,null,e.productTitle&&n.createElement("h2",null,e.productTitle),e.authors&&n.createElement("div",{className:"author-container"},"by ",e.authors),this.renderProductQuestionsAndAnswers(e),this.props.store.offerShowBookContentFeedback&&n.createElement("div",{className:"show-feedback-container"},n.createElement("button",{onClick:function(){t.props.store.updateShowBookContentFeedback(!t.props.store.showBookContentFeedback)}},this.props.store.showBookContentFeedback?"hide":"show"," content level feedback")),(this.props.store.showBookContentFeedback||!this.props.store.offerShowBookContentFeedback)&&this.renderElementsFeedback(e),n.createElement(r.Z,{effect:"solid"}))},t.prototype.renderProductQuestionsAndAnswers=function(e){var t=this;return null==e||null==e.questionsAndAnswers||0==e.questionsAndAnswers.length||e.isRollingReview?null:n.createElement("div",{className:"product-feedback-questions-answers"},e.questionsAndAnswers.map((function(e,o){return n.createElement(I,{store:t.props.store,questionFeedback:e,index:o+1,id:"product-"+e.question,key:"product-"+e.question,shouldUseMarkdown:t.props.shouldUseMarkdown})})))},t.prototype.renderElementsFeedback=function(e){var t=this;return n.createElement("div",{className:"product-feedback-elements-feedback"},e.elementFeedback.map((function(e){return n.createElement(De,{key:e.title,store:t.props.store,elementFeedback:e,shouldUseMarkdown:t.props.shouldUseMarkdown})})))},t.prototype.expandAll=function(){this.props.store.triggerExpandAll()},t.prototype.hideAll=function(){this.props.store.triggerCollapse()},t.prototype.print=function(){this.props.store.triggerExpandAll(),setTimeout((function(){window.print()}),100)},t}(n.Component)},50413:(e,t,o)=>{"use strict";o.d(t,{k:()=>a});var n=o(32654),r=o(41839),i=o(35616),s=o(91647),a=function(){function e(e,t){this.webUtils=new n.Z(r.ZP.getConfig(e,t))}return e.prototype.getReviewerInfo=function(e,t,o){var n=this;return new Promise((function(r,i){n.webUtils.ajax(n.webUtils.getAbsoluteBackendUrl("notebookItem/getReviewerInfo"),(function(e){e&&e.success?r(e):i()}),(function(e){return i(e)}),{productId:e,reviewerId:t,reviewVersion:o},!1,!0)}))},e.prototype.getFullReviewerEmail=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("notebookItem/getFullReviewerEmail"),(function(e){e&&e.success&&e.email?n(e.email):r()}),(function(e){return r(e)}),{productId:e,reviewerId:t},!1,!0)}))},e.prototype.getProductFeedback=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("contentFeedback/getProductFeedback"),(function(e){e&&e.success&&e.feedback?n(s.L.convertBackendFeedback(e.feedback)):r()}),(function(e){return r(e)}),{productID:e,reviewVersion:t},!1,!0)}))},e.prototype.getReportStructure=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("contentFeedback/getReportStructure"),(function(e){e&&e.success&&e.reportStructure?n(e.reportStructure):r()}),(function(e){return r(e)}),{productID:e,reviewVersion:t},!1,!0)}))},e.prototype.getTags=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("notebookItem/getTags"),(function(e){o(i.X.convertRawNotebookItemTags(e))}),(function(e){console.log("Error getProductNotebookItems",e),o([])}),{productId:e},!1,!0)}))},e.prototype.addNotebookItem=function(e,t,o,n,r,i,s,a,c,l,u){var p=this;return new Promise((function(d,h){p.webUtils.ajax(p.webUtils.getAbsoluteBackendUrl("notebookItem/addNotebookItem"),(function(e){e&&e.success?d(e.id):h()}),(function(e){console.log("Error addNotebookItem",e),h()}),{productId:e,elementId:t,elementTitle:o,elementOrdinal:n,contentOrdinal:r,contentId:i,meapVersion:s,reviewVersion:a,text:c,highlightColor:l,textOffset:u},!1,!0)}))},e.prototype.addReviewComment=function(e,t,o,n,r,i,s,a,c,l){var u=this;return new Promise((function(p,d){u.webUtils.ajax(u.webUtils.getAbsoluteBackendUrl("notebookItem/addReviewComment"),(function(e){e&&e.success?p(e.id):d()}),(function(e){console.log("Error addReviewComment",e),d()}),{productId:e,elementId:t,elementTitle:o,elementOrdinal:n,contentOrdinal:r,contentId:i,meapVersion:s,reviewVersion:a,text:c,textOffset:l},!1,!0)}))},e.prototype.addReviewCommentWithNote=function(e,t,o,n,r,i,s,a,c,l,u){var p=this;return new Promise((function(d,h){p.webUtils.post(p.webUtils.getAbsoluteBackendUrl("notebookItem/addReviewCommentWithNote"),(function(e){e&&e.success?d({id:e.id,noteId:e.noteId}):h()}),(function(e){console.log("Error addReviewCommentWithNote",e),h()}),{productId:e,elementId:t,elementTitle:o,elementOrdinal:n,contentOrdinal:r,contentId:i,meapVersion:s,reviewVersion:a,text:c,textOffset:l,note:u})}))},e.prototype.getNotebookItems=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("notebookItem/getNotebookItems"),(function(e){o(i.X.convertRawNotebookItems(e))}),(function(e){console.log("Error getProductNotebookItems",e),o([])}),{productId:e},!1,!0)}))},e.prototype.getReviewComments=function(e,t,o){var n=this;return new Promise((function(t,r){n.webUtils.ajax(n.webUtils.getAbsoluteBackendUrl("notebookItem/getReviewComments"),(function(e){t(i.X.convertRawReviewComments(e))}),(function(e){console.log("Error getReviewComments",e),t([])}),{productId:e,reviewVersion:o},!1,!0)}))},e.prototype.deleteNotebookItem=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("notebookItem/deleteNotebookItem"),(function(e){e.success?o():n()}),(function(e){console.log("Error deleteNotebookItem",e),n()}),{id:e},!1,!0)}))},e.prototype.toggleReviewCommentAuthorVisibility=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("notebookItem/toggleReviewCommentIsHiddenToAuthors"),(function(e){e&&e.success?n():r()}),(function(e){console.log("Error toggleReviewCommentIsHiddenToAuthors",e),r()}),{id:e,value:t},!1,!0)}))},e.prototype.addNotebookItemNote=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("notebookItem/addNotebookItemNote"),(function(e){e&&e.success?n(e.id):r()}),(function(e){console.log("Error addNotebookItemNote",e),r()}),{id:e,text:t},!1,!0)}))},e.prototype.addReviewCommentNote=function(e,t,o){var n=this;return new Promise((function(r,i){n.webUtils.ajax(n.webUtils.getAbsoluteBackendUrl("notebookItem/addReviewCommentNote"),(function(e){e&&e.success?r(e.id):i()}),(function(e){console.log("Error reviewCommentId",e),i()}),{id:e,text:t,isPublic:o},!1,!0)}))},e.prototype.deleteNotebookItemNote=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("notebookItem/deleteNotebookItemNote"),(function(e){e&&e.success?o():n()}),(function(e){console.log("Error deleteNotebookItemNote",e),n()}),{id:e},!1,!0)}))},e.prototype.editNotebookItemNote=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("notebookItem/editNotebookItemNote"),(function(e){e&&e.success?n():r()}),(function(e){console.log("Error editNotebookItemNote",e),r()}),{id:e,text:t},!1,!0)}))},e.prototype.createNotebookItemTag=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("notebookItem/createNotebookItemTag"),(function(e){e&&e.success?n(e.id):r()}),(function(e){console.log("Error createNewTag",e),r()}),{notebookItemId:e,tag:t},!1,!0)}))},e.prototype.removeTagFromNotebookItem=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("notebookItem/removeTagFromNotebookItem"),(function(e){e&&e.success?n():r()}),(function(e){console.log("Error removeNotebookItemTag",e),r()}),{notebookItemId:e,tagId:t},!1,!0)}))},e.prototype.addTagToNotebookItem=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("notebookItem/addTagToNotebookItem"),(function(e){e&&e.success?n():r()}),(function(e){console.log("Error addNotebookItemTag",e),r()}),{notebookItemId:e,tagId:t},!1,!0)}))},e.prototype.addTagToReviewComment=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("notebookItem/addTagToReviewComment"),(function(e){e&&e.success?n():r()}),(function(e){console.log("Error addNotebookItemTag",e),r()}),{reviewCommentId:e,tagId:t},!1,!0)}))},e.prototype.removeTagFromReviewComment=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("notebookItem/removeTagFromReviewComment"),(function(e){e&&e.success?n():r()}),(function(e){console.log("Error removeNotebookItemTag",e),r()}),{reviewCommentId:e,tagId:t},!1,!0)}))},e.prototype.setReviewCommentStatus=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("notebookItem/setReviewCommentStatus"),(function(e){e&&e.success?n():r(e.reason||"")}),(function(e){console.log("Error setReviewCommentStatus",e),r(e)}),{id:e,status:t},!1,!0)}))},e}()},67054:(e,t,o)=>{"use strict";o.d(t,{j:()=>b});var n,r=o(26729),i=o(42631),s=o(51160),a=o(65605);!function(e){e[e.Undefined=0]="Undefined",e[e.Date=1]="Date",e[e.Product=2]="Product"}(n||(n={}));var c,l=o(39557),u=o(40277),p=o(203),d=o(35616),h=o(61711);!function(e){e[e.User=0]="User",e[e.Reviewer=1]="Reviewer",e[e.Editor=2]="Editor",e[e.Author=3]="Author"}(c||(c={}));var m=new(function(){function e(){}return e.prototype.getDisplayedNotebookItemsForNextPreviousProcessor=function(e,t,o,n){return this.filter=t,this.isRegularUser=o,this.lastAccessDate=n,this.sortNotebookItems(this.filterNotebookItemsByNew(this.filterNotebookItemsByMonickers(this.filterNotebookItemsByElements(this.filterNotebookItemsByTags(this.filterNotebookItemsByHighlightColors(this.filterNotebookItemsBySearchQuery((e||[]).concat([]))))))))},e.prototype.filterNotebookItems=function(e,t,o,n){return this.filter=t,this.isRegularUser=o,this.lastAccessDate=n,this.getSortedByProductOrder(this.filterNotebookItemsByNew(this.filterNotebookItemsByMonickers(this.filterNotebookItemsByReviewCommentStatus(this.filterNotebookItemsByTags(this.filterNotebookItemsByHighlightColors((e||[]).concat([])))))))},e.prototype.getDisplayedNotebookItems=function(e,t,o,n){return this.filter=t,this.isRegularUser=o,this.lastAccessDate=n,this.sortNotebookItems(this.filterNotebookItemsByNew(this.filterNotebookItemsByMonickers(this.filterNotebookItemsByReviewCommentStatus(this.filterNotebookItemsByElements(this.filterNotebookItemsByTags(this.filterNotebookItemsByHighlightColors(this.filterNotebookItemsBySearchQuery((e||[]).concat([])))))))))},e.prototype.filterNotebookItemsByMonickers=function(e){var t=this;return null==this.filter.selectedMonickers||0==this.filter.selectedMonickers.length?e:e.filter((function(e){return!!(e instanceof u.I&&e.userMonicker)&&t.filter.selectedMonickers.indexOf(e.userMonicker.getDisplayName())>=0}))},e.prototype.sortNotebookItems=function(e){return this.filter.sortBy==n.Date?this.getSortedByDate(e):this.filter.sortBy==n.Product?this.getSortedByProductOrder(e):e},e.prototype.getSortedByDate=function(e){return e.sort((function(e,t){return e.dateCreated>t.dateCreated?-1:e.dateCreated<t.dateCreated?1:0}))},e.prototype.getSortedByProductOrder=function(e){return e.sort((function(e,t){return e.notebookItemLocation.elementOrdinal>t.notebookItemLocation.elementOrdinal?1:e.notebookItemLocation.elementOrdinal<t.notebookItemLocation.elementOrdinal?-1:e.notebookItemLocation.contentOrdinal>t.notebookItemLocation.contentOrdinal?1:e.notebookItemLocation.contentOrdinal<t.notebookItemLocation.contentOrdinal?-1:e.notebookItemLocation.textOffset>t.notebookItemLocation.textOffset?1:e.notebookItemLocation.textOffset<t.notebookItemLocation.textOffset?-1:0}))},e.prototype.filterNotebookItemsByNew=function(e){var t=this;return this.filter.showOnlyNew?e.filter((function(e){return t.isNewReviewComment(e)})):e},e.prototype.filterNotebookItemsByReviewCommentStatus=function(e){var t=this;return this.isRegularUser?e:this.filter.showClosedReviewComments||this.filter.showOpenReviewComments?e.filter((function(e){return!!(t.filter.showClosedReviewComments&&e instanceof u.I&&e.status==u.F.Closed)||!!(t.filter.showOpenReviewComments&&e instanceof u.I&&e.status==u.F.Open)})):e},e.prototype.filterNotebookItemsByElements=function(e){var t=this.filter.selectedElements.map((function(e){return e.key}));return 0==t.length?e:e.filter((function(e){return t.indexOf(e.notebookItemLocation.elementId)>=0}))},e.prototype.filterNotebookItemsByTags=function(e){var t=this.filter.selectedTags.map((function(e){return e.id}));return 0==t.length?e:e.filter((function(e){return null!=e.tags.find((function(e){return t.indexOf(e.id)>=0}))}))},e.prototype.filterNotebookItemsByHighlightColors=function(e){var t=this.filter.highlightColors.filter((function(e){return e.isSelected})).map((function(e){return e.color}));return 0==t.length?e:e.filter((function(e){return!e.highlightColor||t.indexOf(e.highlightColor)>=0}))},e.prototype.filterNotebookItemsBySearchQuery=function(e){var t=this;return this.filter.searchQuery?e.filter((function(e){return t.containsSearchQuery(e)})):e},e.prototype.containsSearchQuery=function(e){var t=(this.filter.searchQuery||"").trim().toLowerCase();return e.text.toLowerCase().indexOf(t)>=0||null!=e.tags.find((function(e){return e.text.toLowerCase().indexOf(t)>=0}))||null!=e.notes.find((function(e){return e.text.toLowerCase().indexOf(t)>=0}))||e.notebookItemLocation.elementTitle.toLowerCase().indexOf(t)>=0||e.notebookItemLocation.contentId==t||e.notebookItemLocation.contentId==t.replace("p:","")},e.prototype.isNewReviewComment=function(e){return null!=this.lastAccessDate&&e instanceof u.I&&e.dateCreated>=this.lastAccessDate},e}()),f=o(91647),g=new(function(){function e(){this.filterAnswerBySearchQuery=this.filterAnswerBySearchQuery.bind(this),this.filterReviewCommentBySearchQuery=this.filterReviewCommentBySearchQuery.bind(this),this.filterAnnotatedContentBySearchQuery=this.filterAnnotatedContentBySearchQuery.bind(this),this.filterReviewCommentByOpenClosed=this.filterReviewCommentByOpenClosed.bind(this),this.filterAnnotatedContentByOpenClosed=this.filterAnnotatedContentByOpenClosed.bind(this),this.filterAnnotatedContentByTags=this.filterAnnotatedContentByTags.bind(this),this.filterReviewCommentByTags=this.filterReviewCommentByTags.bind(this),this.filterAnnotatedContentByMonickers=this.filterAnnotatedContentByMonickers.bind(this),this.filterReviewCommentByMonickers=this.filterReviewCommentByMonickers.bind(this),this.filterAnswerByUserMonicker=this.filterAnswerByUserMonicker.bind(this),this.filterAnswerByDate=this.filterAnswerByDate.bind(this),this.filterAnnotatedContentByDate=this.filterAnnotatedContentByDate.bind(this)}return e.prototype.getDisplayedFeedback=function(e,t){return this.filter=t,this.filterFeedbackByDate(this.filterFeedbackByReviewers(this.filterFeedbackByTags(this.filterFeedbackByOpenClosed(this.filterFeedbackBySearchQuery(f.L.createDeepCopy(e))))))},e.prototype.filterFeedbackByDate=function(e){var t=this;return null==this.filter.startDate&&null==this.filter.endDate||(e.questionsAndAnswers=this.filterQuestionsAndAnswers(e.questionsAndAnswers,this.filterAnswerByDate),e.elementFeedback.forEach((function(e){e.annotatedContent=t.filterAnnotatedContent(e.annotatedContent,t.filterAnnotatedContentByDate),e.questionsAndAnswers=t.filterQuestionsAndAnswers(e.questionsAndAnswers,t.filterAnswerByDate),e.sectionFeedback.forEach((function(o){o.annotatedContent=t.filterAnnotatedContent(e.annotatedContent,t.filterAnnotatedContentByDate),o.questionsAndAnswers=t.filterQuestionsAndAnswers(o.questionsAndAnswers,t.filterAnswerByDate)}))}))),e},e.prototype.filterFeedbackByReviewers=function(e){var t=this;return null==this.filter.selectedMonickers||0==this.filter.selectedMonickers.length||(e.questionsAndAnswers=this.filterQuestionsAndAnswers(e.questionsAndAnswers,this.filterAnswerByUserMonicker),e.elementFeedback.forEach((function(e){e.annotatedContent=t.filterAnnotatedContent(e.annotatedContent,t.filterAnnotatedContentByMonickers),e.questionsAndAnswers=t.filterQuestionsAndAnswers(e.questionsAndAnswers,t.filterAnswerByUserMonicker),e.sectionFeedback.forEach((function(e){e.annotatedContent=t.filterAnnotatedContent(e.annotatedContent,t.filterAnnotatedContentByMonickers),e.questionsAndAnswers=t.filterQuestionsAndAnswers(e.questionsAndAnswers,t.filterAnswerByUserMonicker)}))}))),e},e.prototype.filterFeedbackByTags=function(e){var t=this;return null==this.filter.selectedTags||0==this.filter.selectedTags.length||e.elementFeedback.forEach((function(e){e.annotatedContent=t.filterAnnotatedContent(e.annotatedContent,t.filterAnnotatedContentByTags),e.sectionFeedback.forEach((function(o){o.annotatedContent=t.filterAnnotatedContent(e.annotatedContent,t.filterAnnotatedContentByTags)}))})),e},e.prototype.filterFeedbackByOpenClosed=function(e){var t=this;return this.filter.showClosedReviewComments&&this.filter.showOpenReviewComments||!this.filter.showClosedReviewComments&&!this.filter.showOpenReviewComments||e.elementFeedback.forEach((function(e){e.annotatedContent=t.filterAnnotatedContent(e.annotatedContent,t.filterAnnotatedContentByOpenClosed),e.sectionFeedback.forEach((function(o){o.annotatedContent=t.filterAnnotatedContent(e.annotatedContent,t.filterAnnotatedContentByOpenClosed)}))})),e},e.prototype.filterFeedbackBySearchQuery=function(e){var t=this;return this.filter.searchQuery?(e.questionsAndAnswers=this.filterQuestionsAndAnswers(e.questionsAndAnswers,this.filterAnswerBySearchQuery),e.elementFeedback.forEach((function(e){e.questionsAndAnswers=t.filterQuestionsAndAnswers(e.questionsAndAnswers,t.filterAnswerBySearchQuery),e.annotatedContent=t.filterAnnotatedContent(e.annotatedContent,t.filterAnnotatedContentBySearchQuery),e.sectionFeedback.forEach((function(o){o.annotatedContent=t.filterAnnotatedContent(e.annotatedContent,t.filterAnnotatedContentBySearchQuery),o.questionsAndAnswers=t.filterQuestionsAndAnswers(e.questionsAndAnswers,t.filterAnswerBySearchQuery)}))})),e):e},e.prototype.filterAnswerByDate=function(e){return!!e&&this.isInDateRange(e.date,this.filter.startDate,this.filter.endDate)},e.prototype.filterAnswerByUserMonicker=function(e){return!!e&&(null==this.filter.selectedMonickers||0==this.filter.selectedMonickers.length||!!e.response&&this.filter.selectedMonickers.indexOf(e.userMonicker)>=0)},e.prototype.filterAnswerBySearchQuery=function(e){return!!e&&!!e.response&&e.response.toLowerCase().indexOf((this.filter.searchQuery||"").toLowerCase())>=0},e.prototype.filterQuestionsAndAnswers=function(e,t){return e&&0!=e.length?(e.forEach((function(e){e.answers=e.answers.filter((function(e){return t(e)}))})),e):e},e.prototype.filterAnnotatedContent=function(e,t){return e&&0!=e.length?e.filter(t):e},e.prototype.filterAnnotatedContentBySearchQuery=function(e){var t=this;return e.reviewComments.filter((function(e){return t.filterReviewCommentBySearchQuery(e)})).length>0},e.prototype.filterAnnotatedContentByOpenClosed=function(e){var t=this;return e.reviewComments.filter((function(e){return t.filterReviewCommentByOpenClosed(e)})).length>0},e.prototype.filterAnnotatedContentByTags=function(e){var t=this;return e.reviewComments.filter((function(e){return t.filterReviewCommentByTags(e)})).length>0},e.prototype.filterAnnotatedContentByDate=function(e){var t=this;return e.reviewComments.filter((function(e){return t.filterReviewCommentByDate(e)})).length>0},e.prototype.filterAnnotatedContentByMonickers=function(e){var t=this;return e.reviewComments.filter((function(e){return t.filterReviewCommentByMonickers(e)})).length>0},e.prototype.filterReviewCommentByDate=function(e){return!!e&&this.isInDateRange(e.dateCreated,this.filter.startDate,this.filter.endDate)},e.prototype.isInDateRange=function(e,t,o){return null!=e&&(null!=t&&null!=o?e>=t&&e<=o:null==t&&null!=o?e<=o:null==t||null!=o||e>=t)},e.prototype.filterReviewCommentByMonickers=function(e){var t=this;return!!e&&(null==this.filter.selectedMonickers||0==this.filter.selectedMonickers.length||null!=e.userMonicker&&(e.notes=(e.notes||[]).filter((function(e){return t.filter.selectedMonickers.indexOf(e.userMonicker.monicker)>=0})),this.filter.selectedMonickers.indexOf(e.userMonicker.monicker)>=0))},e.prototype.filterReviewCommentByTags=function(e){if(!e)return!1;if(null==this.filter.selectedTags||0==this.filter.selectedTags.length)return!0;var t=this.filter.selectedTags.map((function(e){return e.text}));return e.tags.filter((function(e){return t.indexOf(e.text)>=0})).length>0},e.prototype.filterReviewCommentByOpenClosed=function(e){return!!(e&&(this.filter.showOpenReviewComments&&this.filter.showClosedReviewComments||!this.filter.showOpenReviewComments&&!this.filter.showClosedReviewComments||this.filter.showOpenReviewComments&&e.status==u.F.Open||this.filter.showClosedReviewComments&&e.status==u.F.Closed))},e.prototype.filterReviewCommentBySearchQuery=function(e){if(!e)return!1;var t=(this.filter.searchQuery||"").toLowerCase();return e.text.toLowerCase().indexOf(t)>=0||e.notes.filter((function(e){return e.text.toLowerCase().indexOf(t)>=0})).length>0},e}()),b=function(){function e(e){this.newNotebookItemCounter=0,this.newNoteCounter=0,this.isSmallNotebook=!1,this.offerShowBookContentFeedback=!1,this.expandedMap={},this.defaultExpansion=!0,this.emitter=new r,this.provider=e,this.filter=this.getDefaultFilter(),this.changeSearchQuery=this.changeSearchQuery.bind(this)}return e.prototype.initialize=function(e,t,o,n){this.productId=e,this.reviewVersion=o,this.user=t,this.userType=this.getUserTypeFromUser(t),null!=t&&(this.filter=this.getDefaultFilter()),this.getNotebookItemLink=n,this.loadAppropriateItems(),this.loadAvailableTags(e)},e.prototype.fetchAdditionalUserInfo=function(e){var t=this;if(null!=e&&this.isUserEditor()&&!this.isFetchingAdditionalUserInfo&&(null==this.fetchAdditionalUserInfoOverrider||!this.fetchAdditionalUserInfoOverrider(e))){var o=window.$;this.isFetchingAdditionalUserInfo=!0,this.provider.getFullReviewerEmail(this.productId,e.userId).then((function(o){t.isFetchingAdditionalUserInfo=!1,prompt("Reviewer ".concat(e.monicker," email"),o)})).catch((function(n){t.isFetchingAdditionalUserInfo=!1,o&&o(document).trigger("requestNotification","Cannot fetch email for reviewer ".concat(e.monicker))})),o&&o(document).trigger("requestNotification","Fetching email for reviewer ".concat(e.monicker))}},e.prototype.getParagraphLink=function(e){var t="";return e.meapVersion>0?t="v-".concat(e.meapVersion,"/"):e.reviewVersion>0&&(t="r-".concat(e.reviewVersion,"/")),"/book/".concat(this.productId,"/").concat(e.elementId,"/").concat(t).concat(e.ordinal)},e.prototype.setUser=function(e){this.user=e,this.userType=this.getUserTypeFromUser(e),this.loadAppropriateItems()},e.prototype.getUserTypeFromUser=function(e){return e?this.user.isAuthor?c.Author:this.user.isEditor?c.Editor:e.isReviewer?c.Reviewer:c.User:c.User},e.prototype.setLastAccessDate=function(e){this.lastAccessDate=e,this.emitRootChange()},e.prototype.setIsSmallNotebook=function(e){this.isSmallNotebook=e,this.emitRootChange()},e.prototype.updateShowBookContentFeedback=function(e){this.showBookContentFeedback!=e&&(this.showBookContentFeedback=e,this.emitRootChange())},e.prototype.hasNewReviewComments=function(){var e=this;return!this.isRegularUser()&&null!=this.lastAccessDate&&(this.allNotebookItems||[]).filter((function(t){return e.isNewReviewComment(t)})).length>0},e.prototype.hasNonReviewComments=function(){return null!=this.allNotebookItems&&0!=this.allNotebookItems.length&&this.allNotebookItems.filter((function(e){return!(e instanceof u.I)})).length>0},e.prototype.isReviewUser=function(){switch(this.userType){case c.Reviewer:case c.Editor:case c.Author:return!0}return!1},e.prototype.isRegularUser=function(){return!this.isReviewUser()},e.prototype.isUserAuthor=function(){return this.userType==c.Author},e.prototype.isUserEditor=function(){return this.userType==c.Editor},e.prototype.isUserEditorOrAuthor=function(){return this.userType==c.Author||this.userType==c.Editor},e.prototype.isUserReviewer=function(){return this.userType==c.Reviewer},e.prototype.isNewReviewComment=function(e){return null!=this.lastAccessDate&&e instanceof u.I&&e.dateCreated>=this.lastAccessDate},e.prototype.loadAvailableTags=function(e){var t=this;this.filter.availableTags=[],this.provider.getTags(e).then((function(e){t.filter.availableTags=e})).catch((function(e){})).finally((function(){t.emitRootChange()})),this.emitRootChange()},e.prototype.loadProductFeedback=function(e,t){var o=this;this.isLoadingFeedback=!0,this.provider.getProductFeedback(e,t).then((function(e){o.isLoadingFeedback=!1,o.feedback=e,o.filter.availableMonickers=o.getAvailableMonickers(),o.emitRootChange()})).catch((function(e){o.isLoadingFeedback=!1,o.feedback=null,o.emitProductFeedbackChange()})),this.emitProductFeedbackChange()},e.prototype.loadNotebookItems=function(){var e=this;this.isLoadingNotebookItems=!0,this.allNotebookItems=null,this.resetFilters(),this.provider.getNotebookItems(this.productId).then((function(t){e.allNotebookItems=t,e.filter.availableElements=e.getAvailableElements(),e.emitNotebookItemsLoaded()})).catch((function(t){console.log(t),e.allNotebookItems=null})).finally((function(){e.isLoadingNotebookItems=!1,e.emitRootChange()})),this.emitRootChange()},e.prototype.loadReviewComments=function(){var e=this;this.isLoadingNotebookItems=!0,this.allNotebookItems=null,this.resetFilters(),this.provider.getReviewComments(this.productId,this.user.userId,this.reviewVersion).then((function(t){e.allNotebookItems=t,e.filter.availableElements=e.getAvailableElements(),e.filter.availableMonickers=e.getAvailableMonickers(),e.selectedReviewComment=e.allNotebookItems[0],e.emitNotebookItemsLoaded()})).catch((function(t){console.log(t),e.allNotebookItems=null})).finally((function(){e.isLoadingNotebookItems=!1,e.emitRootChange()})),this.emitRootChange()},e.prototype.resetFilters=function(){this.filter.availableElements=[],this.filter.selectedElements=[],this.filter.availableMonickers=[],this.filter.selectedMonickers=[],this.filter.selectedTags=[]},e.prototype.addNotebookItem=function(e,t,o,n,r,s,c,l,u,d,h){var m=this;return new Promise((function(f,g){var b=new i.f(--m.newNotebookItemCounter,m.user.userId,new p.M(e,t,o,n,s,r,c,l,h),new Date,u,[],[],d,h);b.isBeingSynced=!0,m.allNotebookItems.push(b),m.provider.addNotebookItem(e,t,o,n,r,s,c,l,u,d,h).then((function(e){b.id=e,b.isBeingSynced=!1,m.emitNotebookItemChange(b),f(b)})).catch((function(e){alert("Error creating a new notebook item. Please try later"),a.Z.removeItemFromArray(m.allNotebookItems,b),m.emitRootChange(),g(e)})),m.emitRootChange()}))},e.prototype.addReviewCommentWithNote=function(e,t,o,n,r,i,c,l,d,m,f){var g=this;return new Promise((function(b,v){var y=new u.I(--g.newNotebookItemCounter,g.user.userId,new p.M(e,t,o,n,i,r,c,l,m),new Date,d,[],[],"",m);y.status=u.F.Open,y.isBeingSynced=!0,y.userMonicker=h.e.fromMap(g.user);var w=new s.n(--g.newNoteCounter,g.user.userId,f,new Date,new Date);w.userMonicker=h.e.fromMap(g.user),y.notes=[w],g.allNotebookItems.push(y),g.provider.addReviewCommentWithNote(e,t,o,n,r,i,c,l,d,m,f).then((function(e){var t=e.id,o=e.noteId;y.id=t,y.isBeingSynced=!1,y.notes[0].id=o,g.emitNotebookItemChange(y),b(y)})).catch((function(e){a.Z.removeItemFromArray(g.allNotebookItems,y),g.emitRootChange(),v(e)})),g.emitRootChange()}))},e.prototype.addReviewComment=function(e,t,o,n,r,i,s,c,l,d){var m=this;return new Promise((function(f,g){var b=new u.I(--m.newNotebookItemCounter,m.user.userId,new p.M(e,t,o,n,i,r,s,c,d||0),new Date,l,[],[],"",d);b.status=u.F.Open,b.isBeingSynced=!0,b.userMonicker=h.e.fromMap(m.user),m.allNotebookItems.push(b),m.provider.addReviewComment(e,t,o,n,r,i,s,c,l,d).then((function(e){b.id=e,b.isBeingSynced=!1,m.emitNotebookItemChange(b),f(b)})).catch((function(e){a.Z.removeItemFromArray(m.allNotebookItems,b),m.emitRootChange(),g(e)})),m.emitRootChange()}))},e.prototype.setProductId=function(e){this.productId=e,this.loadAppropriateItems()},e.prototype.changeSearchQuery=function(e){this.filter.searchQuery=e,this.emitFilterChange(),this.emitRootChange()},e.prototype.loadAppropriateItems=function(){this.isReviewUser()?this.loadReviewComments():this.loadNotebookItems()},e.prototype.filterNotebookItems=function(e){return m.filterNotebookItems(e,this.filter,this.isRegularUser(),this.lastAccessDate)},e.prototype.getDisplayedNotebookItems=function(){return m.getDisplayedNotebookItems(this.allNotebookItems,this.filter,this.isRegularUser(),this.lastAccessDate)},e.prototype.getDisplayedNotebookItemsForNextPreviousProcessor=function(){return m.getDisplayedNotebookItemsForNextPreviousProcessor(this.allNotebookItems,this.filter,this.isRegularUser(),this.lastAccessDate)},e.prototype.getDisplayedFeedback=function(){return g.getDisplayedFeedback(this.feedback,this.filter)},e.prototype.deleteNotebookItem=function(e){var t=this,o=this.allNotebookItems.indexOf(e);a.Z.removeItemFromArray(this.allNotebookItems,e),this.provider.deleteNotebookItem(e.id).then((function(){t.emitNotebookItemDeleted(e)})).catch((function(n){alert("Error when deleting notebook item. Please try later"),a.Z.insertAtLocation(t.allNotebookItems,e,o),t.emitRootChange()})),this.emitRootChange()},e.prototype.toggleReviewCommentAuthorVisibility=function(e){var t=this;e.isBeingSynced=!0;var o=e.isHiddenToAuthors,n=!e.isHiddenToAuthors;e.isHiddenToAuthors=n,this.provider.toggleReviewCommentAuthorVisibility(e.id,n).then((function(){})).catch((function(){alert("Error while toggling author visibility, please try later"),e.isHiddenToAuthors=o})).finally((function(){e.isBeingSynced=!1,t.emitNotebookItemChange(e)})),this.emitNotebookItemChange(e)},e.prototype.export=function(){d.X.downloadObjectAsJson(this.allNotebookItems,this.isReviewUser()?"reviews":"notebook")},e.prototype.addNote=function(e,t,o){var n=this;e.isBeingSynced=!0;var r=new s.n(--this.newNoteCounter,this.user.userId,t,new Date,new Date);return r.isBeingSynced=!0,r.userMonicker=h.e.fromMap(this.user),e.notes.push(r),new Promise((function(i,s){(n.isRegularUser()?n.provider.addNotebookItemNote(e.id,t):n.provider.addReviewCommentNote(e.id,t,o)).then((function(e){r.id=e,r.isBeingSynced=!1,i()})).catch((function(t){alert("Error when adding note, please try later"),a.Z.removeItemFromArray(e.notes,r),s()})).finally((function(){e.isBeingSynced=!1,n.emitNotebookItemChange(e)})),n.emitNotebookItemChange(e)}))},e.prototype.deleteNotebookItemNote=function(e,t){var o=this;e.isBeingSynced=!0;var n=e.notes.indexOf(t);if(-1!=n)return a.Z.removeItemFromArray(e.notes,t),0==e.notes.length?(a.Z.removeItemFromArray(this.allNotebookItems,e),this.emitRootChange()):this.emitNotebookItemChange(e),new Promise((function(r,i){o.provider.deleteNotebookItemNote(t.id).then((function(){r()})).catch((function(o){alert("Error when deleting note, please try later"),a.Z.insertAtLocation(e.notes,t,n),i()})).finally((function(){e.isBeingSynced=!1,o.emitNotebookItemChange(e)}))}))},e.prototype.editNotebookItemNote=function(e,t,o){var n=this;e.isBeingSynced=!0,t.isBeingSynced=!0;var r=t.text;return t.text=o,new Promise((function(i,s){n.provider.editNotebookItemNote(t.id,o).then((function(){i()})).catch((function(e){t.text=r,s()})).finally((function(){e.isBeingSynced=!1,t.isBeingSynced=!1,n.emitNotebookItemChange(e)})),n.emitNotebookItemChange(e)}))},e.prototype.sortByDate=function(){this.filter.sortBy=n.Date,this.emitFilterChange(),this.emitRootChange()},e.prototype.sortByProductOrder=function(){this.filter.sortBy=n.Product,this.emitFilterChange(),this.emitRootChange()},e.prototype.toggleHighlightColorSelection=function(e){e.isSelected=!e.isSelected,this.emitFilterChange(),this.emitRootChange()},e.prototype.toggleTagSelection=function(e){this.isFilterTagSelected(e)?a.Z.removeItemFromArray(this.filter.selectedTags,e):this.filter.selectedTags.push(e),this.emitRootChange(),this.emitFilterChange()},e.prototype.toggleMonickerSelection=function(e){this.isFilterMonickerSelected(e)?a.Z.removeItemFromArray(this.filter.selectedMonickers,e):this.filter.selectedMonickers.push(e),this.emitRootChange(),this.emitFilterChange()},e.prototype.createNewTag=function(e,t){var o=this;return new Promise((function(n,r){return o.provider.createNotebookItemTag(e.id,t).then((function(e){var r=new l.y(e,t);o.filter.availableTags.push(r),o.emitFilterChange(),n(r)})).catch((function(e){alert("Error when creating new tag. Try later"),r()})).finally((function(){}))}))},e.prototype.addTagToNotebookItem=function(e,t){var o=this,n=this.filter.availableTags.find((function(e){return e.id==t}));if(null!=n)return e.tags.push(n),this.emitNotebookItemChange(e),new Promise((function(r,i){return(o.isRegularUser()?o.provider.addTagToNotebookItem(e.id,t):o.provider.addTagToReviewComment(e.id,t)).then((function(){r()})).catch((function(t){alert("Error when adding tag to notebook item. Try later"),a.Z.removeItemFromArray(e.tags,n),i(),o.emitNotebookItemChange(e)}))}))},e.prototype.removeTagFromNotebookItem=function(e,t){var o=this,n=this.filter.availableTags.find((function(e){return e.id==t||e.text=="".concat(t)}));if(null!=n){var r=e.tags.indexOf(n);return a.Z.removeItemFromArray(e.tags,n),this.emitNotebookItemChange(e),new Promise((function(i,s){return(o.isRegularUser()?o.provider.removeTagFromNotebookItem(e.id,t):o.provider.removeTagFromReviewComment(e.id,t)).then((function(){i()})).catch((function(t){alert("Error when removing tag from notebook item. Try later"),a.Z.insertAtLocation(e.tags,n,r),o.emitNotebookItemChange(e),s()}))}))}},e.prototype.hasActiveFilters=function(){return this.filter.selectedElements.length>0||this.filter.selectedMonickers.length>0||this.filter.selectedTags.length>0||this.filter.showOnlyNew||this.filter.showOpenReviewComments||this.filter.showClosedReviewComments},e.prototype.isFilterTagSelected=function(e){return this.filter.selectedTags.indexOf(e)>=0},e.prototype.isFilterMonickerSelected=function(e){return this.filter.selectedMonickers.indexOf(e)>=0},e.prototype.isFilterElementSelected=function(e){return this.filter.selectedElements.indexOf(e)>=0},e.prototype.toogleElementSelection=function(e){this.isFilterElementSelected(e)?a.Z.removeItemFromArray(this.filter.selectedElements,e):this.filter.selectedElements.push(e),this.emitRootChange(),this.emitFilterChange()},e.prototype.toggleClosedIssues=function(){this.filter.showClosedReviewComments=!this.filter.showClosedReviewComments,this.emitRootChange(),this.emitFilterChange()},e.prototype.toggleOpenIssues=function(){this.filter.showOpenReviewComments=!this.filter.showOpenReviewComments,this.emitRootChange(),this.emitFilterChange()},e.prototype.toggleNewFilter=function(){this.filter.showOnlyNew=!this.filter.showOnlyNew,this.emitRootChange(),this.emitFilterChange()},e.prototype.selectReviewComment=function(e){this.selectedReviewComment=e,this.emitSelectedReviewCommentChange(),this.emitRootChange()},e.prototype.setReviewCommentState=function(e,t){var o=this,n=e.status;e.isBeingSynced=!0,e.status=t,this.provider.setReviewCommentStatus(e.id,e.status==u.F.Open?"OPEN":"CLOSED").then((function(){o.emitReviewCommentStatusChanged(e)})).catch((function(t){alert("Error when toggling issue state. Please try later"),e.status=n})).finally((function(){e.isBeingSynced=!1,o.emitNotebookItemChange(e)})),this.emitNotebookItemChange(e)},e.prototype.toggleReviewCommentState=function(e){if(void 0!==e.status&&e.status!=u.F.Undefined){var t=u.F.Undefined;e.status==u.F.Open?t=u.F.Closed:e.status==u.F.Closed&&(t=u.F.Open),this.setReviewCommentState(e,t)}},e.prototype.showParagraphNotesAndEmphasizeNoteItem=function(e,t){var o=this;this.filter.searchQuery="p:"+e;var n=this.allNotebookItems.find((function(e){return e.id==t}));null!=n&&(n.isEmphasized=!0,setTimeout((function(){n.isEmphasized=!1,o.emitNotebookItemChange(n)}),2500)),this.emitFilterChange(),this.emitRootChange()},e.prototype.emphasizeNoteItem=function(e){var t=this,o=this.allNotebookItems.find((function(t){return t.id==e}));null!=o&&(o.isEmphasized=!0,setTimeout((function(){o.isEmphasized=!1,t.emitNotebookItemChange(o)}),2500),this.emitNotebookItemChange(o))},e.prototype.triggerNotebookItemLinkClick=function(e){this.emitter.emit("notebookItemLinkClick",e)},e.prototype.determineNotebookItemLink=function(e){return null!=this.getNotebookItemLink?this.getNotebookItemLink(e):""},e.prototype.getAvailableElements=function(){if(null==this.allNotebookItems||0==this.allNotebookItems.length)return[];for(var e={},t=0,o=this.allNotebookItems;t<o.length;t++){var n=o[t];e[n.notebookItemLocation.elementId]||(e[n.notebookItemLocation.elementId]={key:n.notebookItemLocation.elementId,label:n.notebookItemLocation.elementId.replace("-"," "),title:n.notebookItemLocation.elementTitle,ordinal:n.notebookItemLocation.elementOrdinal})}return a.Z.getArrayFromMap(e).sort((function(e,t){return e.ordinal-t.ordinal}))},e.prototype.getAvailableMonickers=function(){var e={};if(null!=this.allNotebookItems&&this.allNotebookItems.length>0)for(var t=0,o=this.allNotebookItems;t<o.length;t++){var n=o[t];n instanceof u.I&&n.userMonicker&&(e[n.userMonicker.getDisplayName()]=!0)}return null!=this.feedback&&(this.feedback.questionsAndAnswers.forEach((function(t){t.answers.forEach((function(t){e[t.userMonicker]=!0}))})),this.feedback.elementFeedback.forEach((function(t){t.annotatedContent.forEach((function(t){t.reviewComments.forEach((function(t){t.userMonicker&&(e[t.userMonicker.getDisplayName()]=!0)}))})),t.questionsAndAnswers.forEach((function(t){t.answers.forEach((function(t){e[t.userMonicker]=!0}))})),t.sectionFeedback.forEach((function(t){t.annotatedContent.forEach((function(t){t.reviewComments.forEach((function(t){t.userMonicker&&(e[t.userMonicker.getDisplayName()]=!0)}))})),t.questionsAndAnswers.forEach((function(t){t.answers.forEach((function(t){e[t.userMonicker]=!0}))}))}))}))),a.Z.getArrayFromMapKeys(e)},e.prototype.moveToPreviousReviewComment=function(e){if(null!=this.allNotebookItems){var t=this.getCurrentIndexAndNotebookItemsForNextPrevious(e);if(null!=t){var o=t.currentIndex,n=t.notebookItems;if(e instanceof u.I&&e.status==u.F.Closed&&!this.filter.showClosedReviewComments)for(var r=o-1;r>=0;r--){var i=n[r];if(!(i instanceof u.I&&i.status==u.F.Closed)){o=r;break}}else--o<0&&(o=n.length-1);this.selectReviewComment(n[o])}}},e.prototype.moveToNextReviewComment=function(e){if(null!=this.allNotebookItems){var t=this.getCurrentIndexAndNotebookItemsForNextPrevious(e);if(null!=t){var o=t.currentIndex,n=t.notebookItems;if(e instanceof u.I&&e.status==u.F.Closed&&!this.filter.showClosedReviewComments)for(var r=o+1;r<n.length;r++){var i=n[r];if(!(i instanceof u.I&&i.status==u.F.Closed)){o=r;break}}else++o>=n.length&&(o=0);this.selectReviewComment(n[o])}}},e.prototype.setDarkMode=function(e){this.darkMode!=e&&(this.darkMode=e,this.emitRootChange())},e.prototype.loadReportStructure=function(e,t){var o=this;this.isLoadingReportStructure=!0,this.reportStructure=null,this.provider.getReportStructure(e,t).then((function(e){o.isLoadingReportStructure=!1,o.reportStructure=e,o.emitReportStructureChange()})).catch((function(e){o.isLoadingReportStructure=!1,o.reportStructure=null,o.emitReportStructureChange()})),this.emitReportStructureChange()},e.prototype.getCurrentIndexAndNotebookItemsForNextPrevious=function(e){var t=m.getSortedByProductOrder(this.getDisplayedNotebookItems()).filter((function(t){return t.notebookItemLocation.elementId==e.notebookItemLocation.elementId})),o=t.indexOf(e);return o>=0||-1==o&&(o=(t=m.getSortedByProductOrder(this.getDisplayedNotebookItemsForNextPreviousProcessor()).filter((function(t){return t.notebookItemLocation.elementId==e.notebookItemLocation.elementId}))).indexOf(e))>=0?{currentIndex:o,notebookItems:t}:null},e.prototype.setStartDate=function(e){this.filter.startDate=e,this.emitFilterChange(),this.emitRootChange()},e.prototype.setEndDate=function(e){this.filter.endDate=e,this.emitFilterChange(),this.emitRootChange()},e.prototype.onRootChange=function(e){this.emitter.addListener("root",e)},e.prototype.offRootChange=function(e){this.emitter.removeListener("root",e)},e.prototype.emitRootChange=function(){this.emitter.emit("root")},e.prototype.onProductFeedbackChange=function(e){this.emitter.addListener("productFeedback",e)},e.prototype.offProductFeedbackChange=function(e){this.emitter.removeListener("productFeedback",e)},e.prototype.emitProductFeedbackChange=function(){this.emitter.emit("productFeedback")},e.prototype.emitReportStructureChange=function(){this.emitter.emit("reportStructure")},e.prototype.onReportStructureChange=function(e){this.emitter.addListener("reportStructure",e)},e.prototype.offReportStructureChange=function(e){this.emitter.removeListener("reportStructure",e)},e.prototype.emitNotebookItemsLoaded=function(){this.emitter.emit("notebookItemsLoaded",this.allNotebookItems)},e.prototype.emitSelectedReviewCommentChange=function(){this.emitter.emit("selectedReviewComment",this.selectedReviewComment)},e.prototype.onSelectedReviewCommentChange=function(e){this.emitter.addListener("selectedReviewComment",e)},e.prototype.offSelectedReviewCommentChange=function(e){this.emitter.removeListener("selectedReviewComment",e)},e.prototype.onReviewCommentStatusChanged=function(e){this.emitter.addListener("reviewCommentStatus",e)},e.prototype.offReviewCommentStatusChanged=function(e){this.emitter.removeListener("reviewCommentStatus",e)},e.prototype.emitReviewCommentStatusChanged=function(e){this.emitter.emit("reviewCommentStatus",e)},e.prototype.onNotebookItemChange=function(e){this.emitter.addListener("notebookItem",e)},e.prototype.offNotebookItemChange=function(e){this.emitter.removeListener("notebookItem",e)},e.prototype.emitNotebookItemChange=function(e){this.emitter.emit("notebookItem",e)},e.prototype.onNotebookItemDeleted=function(e){this.emitter.addListener("notebookItemDeleted",e)},e.prototype.offNotebookItemDeleted=function(e){this.emitter.removeListener("notebookItemDeleted",e)},e.prototype.emitNotebookItemDeleted=function(e){this.emitter.emit("notebookItemDeleted",e)},e.prototype.onNotebookItemsLoaded=function(e){this.emitter.addListener("notebookItemsLoaded",e)},e.prototype.offNotebookItemsLoaded=function(e){this.emitter.removeListener("notebookItemsLoaded",e)},e.prototype.onNotebookItemLinkClick=function(e){this.emitter.addListener("notebookItemLinkClick",e)},e.prototype.offNotebookItemLinkClick=function(e){this.emitter.removeListener("notebookItemLinkClick",e)},e.prototype.onFilterChange=function(e){this.emitter.addListener("filterChange",e)},e.prototype.offFilterChange=function(e){this.emitter.removeListener("filterChange",e)},e.prototype.emitFilterChange=function(){this.emitter.emit("filterChange")},e.prototype.triggerCollapse=function(){this.expandedMap={"*":!1},this.emitRootChange()},e.prototype.triggerExpandAll=function(){this.expandedMap={"*":!0},this.emitRootChange()},e.prototype.isExpanded=function(e){return void 0===this.expandedMap[e]?void 0===this.expandedMap["*"]?this.defaultExpansion:this.expandedMap["*"]:this.expandedMap[e]},e.prototype.toggleExpanded=function(e){this.expandedMap[e]=!this.isExpanded(e),this.emitRootChange()},e.prototype.shouldHideClosedReviewComments=function(){return!(null==this.filter||!this.filter.showClosedReviewComments&&!this.filter.showOpenReviewComments||this.filter.showClosedReviewComments)},e.prototype.hasFilters=function(){return this.filter.searchQuery||this.filter.selectedTags.length||this.filter.selectedElements.length||this.filter.sortBy!=n.Date||!this.filter.showOpenReviewComments&&this.filter.showClosedReviewComments||this.filter.showOpenReviewComments&&!this.filter.showClosedReviewComments||this.filter.showOnlyNew||this.filter.selectedMonickers.length||this.filter.startDate||this.filter.endDate},e.prototype.getDefaultFilter=function(){return{searchQuery:"",sortBy:n.Date,availableTags:[],availableElements:[],selectedElements:[],selectedTags:[],highlightColors:[{color:"yellow",isSelected:!1},{color:"green",isSelected:!1},{color:"red",isSelected:!1},{color:"pink",isSelected:!1},{color:"blue",isSelected:!1}],showOpenReviewComments:!1,showClosedReviewComments:!1,showOnlyNew:!1,availableMonickers:[],selectedMonickers:[],startDate:null,endDate:null}},e}()},42631:(e,t,o)=>{"use strict";o.d(t,{f:()=>n});var n=function(e,t,o,n,r,i,s,a,c){this.id=e,this.userId=t,this.notebookItemLocation=o,this.dateCreated=n,this.text=r,this.tags=i,this.notes=s,this.highlightColor=a,this.textOffset=c}},203:(e,t,o)=>{"use strict";o.d(t,{M:()=>n});var n=function(){function e(e,t,o,n,r,i,s,a,c){this.productId=e,this.elementId=t,this.elementTitle=o,this.elementOrdinal=n,this.contentId=r,this.contentOrdinal=i,this.meapVersion=s,this.reviewVersion=a,this.textOffset=c}return e.prototype.createCopy=function(){return new e(this.productId,this.elementId,this.elementTitle,this.elementOrdinal,this.contentId,this.contentOrdinal,this.meapVersion,this.reviewVersion,this.textOffset)},e}()},51160:(e,t,o)=>{"use strict";o.d(t,{n:()=>n});var n=function(){function e(e,t,o,n,r){this.id=e,this.userId=t,this.text=o,this.dateCreated=n,this.lastUpdated=r}return e.prototype.createCopy=function(){var t=new e(this.id,this.userId,this.text,this.dateCreated,this.lastUpdated);return null!=this.userMonicker&&(t.userMonicker=this.userMonicker.createCopy()),t},e}()},39557:(e,t,o)=>{"use strict";o.d(t,{y:()=>n});var n=function(){function e(e,t){this.id=e,this.text=t}return e.prototype.createCopy=function(){var t=new e(this.id,this.text);return t.isBeingSynced=this.isBeingSynced,t},e}()},40277:(e,t,o)=>{"use strict";o.d(t,{F:()=>r,I:()=>a});var n,r,i=o(42631),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});!function(e){e[e.Undefined=0]="Undefined",e[e.Open=1]="Open",e[e.Closed=2]="Closed"}(r||(r={}));var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.createCopy=function(){var e=new t(this.id,this.userId,this.notebookItemLocation.createCopy(),this.dateCreated,this.text,(this.tags||[]).map((function(e){return e.createCopy()})),(this.notes||[]).map((function(e){return e.createCopy()})),this.highlightColor,this.textOffset);return e.status=this.status,e.isHiddenToAuthors=this.isHiddenToAuthors,e.userMonicker=null!=this.userMonicker?this.userMonicker.createCopy():null,e},t}(i.f)},61711:(e,t,o)=>{"use strict";o.d(t,{e:()=>n});var n=function(){function e(e,t,o,n,r,i,s,a,c){this.userId=e,this.firstName=t||"",this.lastName=o||"",this.email=n||"",this.avatarUrl=r||"",this.monicker=i||"",this.isAuthor=!!s,this.isEditor=!!a,this.isReviewer=!!c}return e.prototype.getDisplayName=function(){return this.monicker||this.email||(this.firstName+" "+this.lastName).trim()||(this.isAuthor?"author":this.isEditor?"editor":"reviewer")},e.prototype.getFullName=function(){return(this.firstName+" "+this.lastName).trim()},e.prototype.getTitle=function(){return this.isAuthor?"author":this.isReviewer?"reviewer":this.isEditor?"editor":""},e.fromMap=function(t){return t?new e(t.userId,t.firstName,t.lastName,t.email,t.avatarUrl,t.monicker,t.isAuthor,t.isEditor,t.isReviewer):null},e.prototype.createCopy=function(){return new e(this.userId,this.firstName,this.lastName,this.email,this.avatarUrl,this.monicker,this.isAuthor,this.isEditor,this.isReviewer)},e}()},91647:(e,t,o)=>{"use strict";o.d(t,{L:()=>i});var n=o(65605),r=o(35616),i=new(function(){function e(){}return e.prototype.convertBackendFeedback=function(e){var t=this;return e?(e.questionsAndAnswers.forEach((function(e){return t.convertBackendQuestionAndAnswer(e)})),e.elementFeedback.forEach((function(e){return t.convertBackendElementFeedback(e)})),e):e},e.prototype.convertBackendElementFeedback=function(e){var t=this;e.questionsAndAnswers.forEach((function(e){return t.convertBackendQuestionAndAnswer(e)})),e.annotatedContent.forEach((function(e){return t.convertBackendAnnotatedContent(e)})),e.sectionFeedback.forEach((function(e){return t.convertBackendSectionFeedback(e)}))},e.prototype.convertBackendSectionFeedback=function(e){var t=this;e.questionsAndAnswers.forEach((function(e){return t.convertBackendQuestionAndAnswer(e)})),e.annotatedContent.forEach((function(e){return t.convertBackendAnnotatedContent(e)}))},e.prototype.convertBackendAnnotatedContent=function(e){e.contentHTML=e.contentHTML.replace(/{{BOOK_ROOT_FOLDER}}/g,null!=this.webUtils?this.webUtils.configuration.aws.livebook:"http://d1557jsc07ldhk.cloudfront.net"),e.reviewComments=r.X.convertRawReviewComments(e.reviewComments).filter((function(e){return e.notes&&e.notes.length}))},e.prototype.convertBackendQuestionAndAnswer=function(e){e.answers.forEach((function(e){e.date=n.Z.getDateFromString(e.dateAsString)}))},e.prototype.createDeepCopy=function(e){var t=this;return{isRollingReview:e.isRollingReview,productTitle:e.productTitle,authors:e.authors,averageRating:e.averageRating,ratings:e.ratings,numberOfRatingResponses:e.numberOfRatingResponses,elementFeedback:e.elementFeedback.map((function(e){return t.createElementFeedbackDeepCopy(e)})),questionsAndAnswers:e.questionsAndAnswers.map((function(e){return t.createQuestionAnswerDeepCopy(e)}))}},e.prototype.createElementFeedbackDeepCopy=function(e){var t=this;return{title:e.title,averageRating:e.averageRating,numberOfRatings:e.numberOfRatings,ratings:e.ratings,numberOfLikes:e.numberOfLikes,numberOfNeutrals:e.numberOfNeutrals,numberOfDislikes:e.numberOfDislikes,sectionFeedback:e.sectionFeedback.map((function(e){return t.createSectionFeedbackDeepCopy(e)})),annotatedContent:e.annotatedContent.map((function(e){return t.createAnnotatedContentDeepCopy(e)})),questionsAndAnswers:e.questionsAndAnswers.map((function(e){return t.createQuestionAnswerDeepCopy(e)})),artifactFeedback:e.artifactFeedback}},e.prototype.createQuestionAnswerDeepCopy=function(e){var t=this;return{question:e.question,answers:e.answers.map((function(e){return t.createAnswerDeepCopy(e)}))}},e.prototype.createSectionFeedbackDeepCopy=function(e){var t=this;return{title:e.title,numberOfLikes:e.numberOfLikes,numberOfNeutrals:e.numberOfNeutrals,numberOfDislikes:e.numberOfDislikes,annotatedContent:e.annotatedContent.map((function(e){return t.createAnnotatedContentDeepCopy(e)})),questionsAndAnswers:e.questionsAndAnswers.map((function(e){return t.createQuestionAnswerDeepCopy(e)}))}},e.prototype.createAnnotatedContentDeepCopy=function(e){return{contentHTML:e.contentHTML,elementId:e.elementId,hash:e.hash,meapVersion:e.meapVersion,ordinal:e.ordinal,reviewVersion:e.reviewVersion,reviewComments:e.reviewComments.map((function(e){return e.createCopy()}))}},e.prototype.createAnswerDeepCopy=function(e){return{id:e.id,dateAsString:e.dateAsString,date:e.date,response:e.response,userId:e.userId,userMonicker:e.userMonicker,userEmail:e.userEmail,isHiddenToAuthors:e.isHiddenToAuthors,associatedReviewCommentId:e.associatedReviewCommentId,paragraphsToReread:e.paragraphsToReread,rating:e.rating,vote:e.vote,question:e.question}},e}())},35616:(e,t,o)=>{"use strict";o.d(t,{X:()=>u});var n=o(40277),r=o(203),i=o(61711),s=o(51160),a=o(65605),c=o(39557),l=o(42631),u=new(function(){function e(){}return e.prototype.downloadObjectAsJson=function(e,t){var o="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),n=document.createElement("a");n.setAttribute("href",o),n.setAttribute("download",t+".json"),document.body.appendChild(n),n.click(),n.remove()},e.prototype.convertRawReviewComments=function(e){var t=this;return null!=e&&e.length?e.map((function(e){return t.convertRawReviewComment(e)})):[]},e.prototype.convertRawReviewComment=function(e){var t=this,o=new n.I(e.id,e.userId,new r.M(e.productId,e.elementId,e.elementTitle,e.elementOrdinal,e.contentId,e.contentOrdinal,e.meapVersion,e.reviewVersion,e.textOffset),a.Z.getDateFromString(e.dateCreated),e.text,e.tags.map((function(e){return t.convertRawNotebookItemTag(e)})),e.notes.map((function(e){return t.convertRawNotebookItemNote(e)})),e.highlightColor,e.textOffset);return o.userMonicker=i.e.fromMap(e.userMonicker),o.isHiddenToAuthors=e.isHiddenToAuthors||!1,"OPEN"==e.status?o.status=n.F.Open:"CLOSED"==e.status&&(o.status=n.F.Closed),o},e.prototype.convertRawNotebookItems=function(e){var t=this;return null!=e&&e.length?e.map((function(e){return t.convertRawNotebookItem(e)})):[]},e.prototype.convertRawNotebookItem=function(e){var t=this;return new l.f(e.id,e.userId,new r.M(e.productId,e.elementId,e.elementTitle,e.elementOrdinal,e.contentId,e.contentOrdinal,e.meapVersion,e.reviewVersion,e.textOffset),a.Z.getDateFromString(e.dateCreated),e.text,e.tags.map((function(e){return t.convertRawNotebookItemTag(e)})),e.notes.map((function(e){return t.convertRawNotebookItemNote(e)})),e.highlightColor,e.textOffset)},e.prototype.convertRawNotebookItemNote=function(e){var t=new s.n(e.id,e.userId,e.text,a.Z.getDateFromString(e.dateCreated),a.Z.getDateFromString(e.lastUpdated));return t.userMonicker=i.e.fromMap(e.userMonicker),t},e.prototype.convertRawNotebookItemTags=function(e){var t=this;return null!=e&&e.length?e.map((function(e){return t.convertRawNotebookItemTag(e)})):[]},e.prototype.convertRawNotebookItemTag=function(e){return new c.y(e.id,e.text)},e}())},26301:(e,t,o)=>{"use strict";o.d(t,{xH:()=>d,As:()=>p,ZP:()=>T});var n=o(26729),r=o(83885),i=o(41839),s=o(58641),a=function(){return a=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},c=function(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};const l=function(){function e(e){this.parentStore=e,this.changeEmitter=new n,this.state=this.constructEmptyState()}return e.prototype.empty=function(){var e=this.constructEmptyState();e.isDoneFetchingProducts=!1,this.updateState(e)},e.prototype.show=function(){this.state.isShown||this.updateState({isShown:!0})},e.prototype.hide=function(){this.state.isShown&&this.updateState({isShown:!1})},e.prototype.removeSelectedSuggestion=function(){this.updateState({selectedSuggestion:null})},e.prototype.setNewSuggestions=function(e){var t=this.state.isShown,o=this.constructEmptyState();o.autocompleteSuggestions=e,o.displayedAutocompleteSuggestions=new s.ZP(e.productSuggestions,e.conceptSuggestions.slice(0,10),e.displayedProductSuggestions),o.isDoneFetchingProducts=!0,o.isShown=t,this.updateState(o)},e.prototype.setNewSuggestion=function(e,t){this.updateState({selectedSuggestion:e,isShown:!1},t)},e.prototype.setIsDoneFetchingProducts=function(e){this.updateState({isDoneFetchingProducts:e})},e.prototype.selectPreviousSuggestion=function(e){void 0===e&&(e=!1);var t=this.state.selectedSuggestion,o=e?[]:this.state.displayedAutocompleteSuggestions.conceptSuggestions,n=this.state.displayedAutocompleteSuggestions.productSuggestions,r=c(c([],o,!0),n,!0),i=null;if(null==t)return!1;var s=r.indexOf(t)-1;return s<0?(this.updateState({selectedSuggestion:null}),!0):(i=r[s],this.updateState({selectedSuggestion:i}),!0)},e.prototype.selectNextSuggestion=function(e){void 0===e&&(e=!1);var t=this.state.selectedSuggestion,o=e?[]:this.state.displayedAutocompleteSuggestions.conceptSuggestions,n=this.state.displayedAutocompleteSuggestions.productSuggestions,r=c(c([],o,!0),n,!0),i=r.indexOf(t)+1;if(i>=r.length)return this.updateState({selectedSuggestion:null}),!0;var s=r[i];return this.updateState({selectedSuggestion:s}),!0},e.prototype.selectAlternativeTypeSuggestionOnSameLevel=function(){var e=this.state.selectedSuggestion;if(null!=e){var t=this.state.displayedAutocompleteSuggestions.conceptSuggestions,o=this.state.displayedAutocompleteSuggestions.productSuggestions,n=null;e instanceof s.xm?n=o[0]:e instanceof s.A7&&(n=t[0]),null!=n&&this.updateState({selectedSuggestion:n})}},e.prototype.hasAtLeastOneTypeOfAutocompletes=function(){return null!=this.state.autocompleteSuggestions&&(null!=this.state.autocompleteSuggestions.conceptSuggestions&&this.state.autocompleteSuggestions.conceptSuggestions.length>0||null!=this.state.autocompleteSuggestions.productSuggestions&&this.state.autocompleteSuggestions.productSuggestions.length>0)},e.prototype.hasBothProductsAndConcepts=function(){return null!=this.state.autocompleteSuggestions&&null!=this.state.autocompleteSuggestions.conceptSuggestions&&this.state.autocompleteSuggestions.conceptSuggestions.length>0&&null!=this.state.autocompleteSuggestions.productSuggestions&&this.state.autocompleteSuggestions.productSuggestions.length>0},e.prototype.constructEmptyState=function(){var e=s.ZP.createEmpty();return{isShown:!1,autocompleteSuggestions:e,displayedAutocompleteSuggestions:e,selectedSuggestion:null,isFullTextSearchSelected:!1,isDoneFetchingProducts:!1}},e.prototype.updateState=function(e,t){void 0===t&&(t=!0);var o=this.state;this.state=Object.assign({},this.state,e),t&&this.triggerChange(o,this.state)},e.prototype.onPropertyChanged=function(e){this.changeEmitter.addListener("change",e)},e.prototype.offPropertyChanged=function(e){this.changeEmitter.removeListener("change",e)},e.prototype.triggerRerender=function(){this.changeEmitter.emit("change",this.state,a(a({},this.state),{autocompleteSuggestions:s.ZP.createCopy(this.state.autocompleteSuggestions)}))},e.prototype.triggerChange=function(e,t){this.changeEmitter.emit("change",e,t)},e}();var u,p,d,h=o(36196),m=o(30705),f=(u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},u(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),g=function(){function e(e,t,o){this.type=e,this.label=t,this.resultCount=o}return e.groupSearchFiltersByType=function(e){if(!e||!e.length)return[];for(var t=[],o={},n=0,r=e;n<r.length;n++){var i=r[n];o[i.type]||(o[i.type]=[]),o[i.type].push(i)}for(var s in o)t.push(o[s]);return t},e}(),b=function(e){function t(t,o){return void 0===o&&(o=0),e.call(this,"category",t,o)||this}return f(t,e),t.prototype.matchesProduct=function(e){return!!(e&&e.tags&&e.tags.length)&&-1!=e.tags.indexOf(this.label)},t.prototype.matchesProductDescription=function(e){return!!(e&&e.tags&&e.tags.length)&&-1!=e.tags.indexOf(this.label)},t.prototype.matchesOwnedProduct=function(e){return console.log("Not yet implemented"),!0},t}(g),v=function(e){function t(t,o,n,r,i){void 0===r&&(r=o),void 0===i&&(i=n);var s=e.call(this,"price",t,0)||this;return s.min=o,s.max=n||100,s.lowerBound=r,s.upperBound=i,s}return f(t,e),t.prototype.isWithinBounds=function(e){return void 0===e||e>=(this.lowerBound||0)&&e<=(this.upperBound||1e4)},t.prototype.matchesProduct=function(e){return!!e&&this.isWithinBounds(e.getPrice())},t.prototype.matchesProductDescription=function(e){return console.log("Not yet implemented"),!1},t.prototype.matchesOwnedProduct=function(e){return console.log("Not yet implemented"),!0},t.createCopy=function(e,o,n){return new t(e.label,e.min,e.max,o,n)},t.createPriceSearchFilter=function(e,o){if(null==e||0==e.length)return null==o?new t("$0 - $400",0,400):o;for(var n=e[0].getPriceWithoutDiscount()||e[0].getPrice(),r=1;r<e.length;r++){var i=e[r],s=i.getPriceWithoutDiscount()||i.getPrice();s>n&&(n=s)}return(n<1||!n)&&(n=400),new t("$0 - $".concat(n),0,n,Math.min(null!=o?o.min:0,0),Math.max(null!=o?o.max:n,n))},t}(g),y=function(e){function t(t,o){return void 0===o&&(o=0),e.call(this,"product",t,o)||this}return f(t,e),t.createBookProductTypeSearchFilter=function(){return new t("book")},t.createVideoProductTypeSearchFilter=function(){return new t("liveVideo")},t.createBundleTypeSearchFilter=function(){return new t("bundle")},t.createLiveProjectTypeSearchFilter=function(){return new t("liveProject")},t.createEarlierEditionTypeSearchFilter=function(){return new t("Earlier editions")},t.prototype.matchesOwnedProduct=function(e){return null!=e&&e.productType==this.label},t.prototype.matchesProduct=function(e){return!!e&&("book"==this.label?!e.isLivevideo&&!e.isBundle&&!e.isEarlierEdition:"liveVideo"==this.label?e.isLivevideo:"bundle"==this.label?e.isBundle:"liveProject"==this.label?e.isLiveproject:"Earlier editions"==this.label&&e.isEarlierEdition)},t.prototype.matchesProductDescription=function(e){return!!e&&this.label==e.productType},t}(g),w=function(e){function t(t,o,n){void 0===n&&(n=0);var r=e.call(this,"customer rating",t,n)||this;return r.minimumRating=o,r}return f(t,e),t.prototype.matchesProduct=function(e){return!(e&&e.productInfo&&e.productInfo.additionalProductInfo&&e.productInfo.additionalProductInfo.rating)||Math.max(e.productInfo.additionalProductInfo.rating,0)>=this.minimumRating},t.prototype.matchesProductDescription=function(e){return console.log("Not yet implemented"),!1},t.prototype.matchesOwnedProduct=function(e){return console.log("Not yet implemented"),!1},t.create=function(e){return void 0===e&&(e=0),new t("customer rating",e)},t}(g),k=o(75911),x=o(25853),C=o(94017),E=o(65605),S=function(){return S=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},S.apply(this,arguments)};!function(e){e[e.BestMatch=0]="BestMatch",e[e.PriceFromLowest=1]="PriceFromLowest",e[e.PriceFromHighest=2]="PriceFromHighest",e[e.NewestFirst=3]="NewestFirst"}(p||(p={})),function(e){e[e.Products=0]="Products",e[e.Content=1]="Content",e[e.Questions=2]="Questions"}(d||(d={}));const T=function(){function e(t,o,r,i,s,a,c,u,p,d){void 0===p&&(p=!1),this.searchCategories=["Java",".NET","Web","Data","Mobile","Enterprise"],this.coverPlaceholder="assets/images/cover.png",this.bookshelfImage="assets/images/bookshelf.png",this.bookImage="assets/images/book.png",this.isCertificateFullyReleased=!1,this.changeEmitter=new n,this.searchProvider=r,this.sourceApp=t,this.deploymentType=o,this.getFullProductTreeResults=this.getFullProductTreeResults.bind(this),this.openSuggestion=i,this.onCloseMenu=s,this.onSearchMade=a,this.onDisplayProducts=u,this.autocompleteStore=new l(this),this.livebookViewerStore=new k.WB(this.sourceApp,this.deploymentType,x.C.createProvider(this.sourceApp,this.deploymentType),!0),this.livebookViewerStore.isUserLoggedIn=p,this.state=e.createInitialState(c),this.handleResizeEnd=this.handleResizeEnd.bind(this),this.closeMenu=this.closeMenu.bind(this),this.toggleShowFilter=this.toggleShowFilter.bind(this),this.toggleShowSort=this.toggleShowSort.bind(this),h.Z.registerResizeEndCallback(this.handleResizeEnd),m.Z.sourceApp=t,C.u.sourceApp=t,C.u.deploymentType=o,this.isCertificateFullyReleased=d||!1}return e.prototype.loadOwnership=function(){var e=this;this.searchProvider.getOwnershipInfo().then((function(t){C.u.userOwnedProducts=t,e.triggerOwnershipChange()}))},e.prototype.reportQAndALinkClick=function(e){this.onQAndALinkClick&&this.onQAndALinkClick(e)},e.prototype.changeSortOrder=function(e){this.updateState({sortOrder:e,isShowingSort:!1}),this.autocompleteStore.setNewSuggestions(new s.ZP(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions,this.autocompleteStore.state.autocompleteSuggestions.conceptSuggestions,this.getDisplayedProductSuggestions(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions)))},e.prototype.changeSearchFilterSelection=function(e,t){var o=null!=this.state.selectedSearchFilters&&this.state.selectedSearchFilters.find((function(t){return t.label==e.label})),n=[],r=!1;t?o||(n=this.state.selectedSearchFilters.concat([e]),r=!0):o&&(n=this.state.selectedSearchFilters.filter((function(t){return t.label!=e.label})),r=!0),r&&(this.updateState(S({selectedSearchFilters:n},this.getDerivedFiltersAndCategories(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions,n))),this.autocompleteStore.setNewSuggestions(new s.ZP(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions,this.autocompleteStore.state.autocompleteSuggestions.conceptSuggestions,this.getDisplayedProductSuggestions(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions))))},e.prototype.handleSearchInputKeyDown=function(e){var t=40==e.keyCode,o=38==e.keyCode,n=27==e.keyCode;if(t||o||n)return o?this.autocompleteStore.selectPreviousSuggestion():t?this.autocompleteStore.selectNextSuggestion():n&&this.autocompleteStore.hide(),e.preventDefault(),!1},e.prototype.isSearchingWithinContent=function(){return this.state.searchSource==d.Content},e.prototype.isSearchingWithinProducts=function(){return this.state.searchSource==d.Products},e.prototype.handleResizeEnd=function(){this.updateScreenSize(e.areScreenDimensionsSmall(),e.areScreenDimensionsMedium())},e.createInitialState=function(e){var t=null==e||void 0===e.tabs?[{title:"books"},{title:"inside books"}]:e.tabs,o=null==e||void 0===e.selectedTab?t[0]:e.selectedTab;return{currentProduct:null==e||void 0===e.currentProduct?null:e.currentProduct,isTyping:null!=e&&void 0!==e.isTyping&&e.isTyping,query:null==e||void 0===e.query?"":e.query,isSearchAllSelected:null==e||void 0===e.isSearchAllSelected||e.isSearchAllSelected,selectedSearchCategories:null==e||void 0===e.selectedSearchCategories?[]:e.selectedSearchCategories,isShowingResults:null!=e&&void 0!==e.isShowingResults&&e.isShowingResults,items:null==e||void 0===e.items?null:e.items,productTreeResults:null==e||(e.productTreeResults,1)?null:e.productTreeResults,isWaitingForResults:null!=e&&void 0!==e.isWaitingForResults&&e.isWaitingForResults,errorMessage:null==e||void 0===e.errorMessage?"":e.errorMessage,allCategories:null==e||void 0===e.allCategories?[]:e.allCategories,openLinksInNewTab:null!=e&&void 0!==e.openLinksInNewTab&&e.openLinksInNewTab,defaultShowTreeItemsWithoutResults:null!=e&&void 0!==e.defaultShowTreeItemsWithoutResults&&e.defaultShowTreeItemsWithoutResults,isMobileDisplayMode:null==e||void 0===e.isMobileDisplayMode?this.areScreenDimensionsSmall():e.isMobileDisplayMode,isTabletDisplayMode:null==e||void 0===e.isTabletDisplayMode?this.areScreenDimensionsMedium():e.isTabletDisplayMode,sortOrder:p.BestMatch,selectedSearchFilters:[],availableCategorySearchFilters:[],priceSearchFilter:null,availableProductTypeSearchFilers:[],searchSource:d.Products,isShowingFilter:!1,isShowingSort:!1,ratingSearchFilter:null,tabs:t,selectedTab:o,askManning:{suggestedQuestions:["What is deep learning?","How is PyTorch better than TensorFlow?","When should I use a NoSQL database?","What is GraphQL used for?","What is a hook in react?","What is a Bloom filter?","How does simulated annealing work?","How to prevent model overfitting?","What is a pod in Kubernetes?"],query:"",isProcessing:!1,results:null}}},e.prototype.getCurrentProductResultTypes=function(e){var t=this.state.items;if(null==t||0==t.length)return"";for(var o=!1,n=!1,r=!1,i=!1,s=0,a=this.state.items;s<a.length;s++){var c=a[s];if(c.productInfo.isLivebook?o=!0:c.productInfo.isLivevideo?n=!0:c.productInfo.isLiveproject?r=!0:i=!0,o&&n&&r)break}return(o||i)&&n?e?"books/videos":"books and videos":n?"videos":"books"},e.prototype.generateSearchMadeQuery=function(e){var t=e||this.state.query;return(t+=null!=this.state.currentProduct?"--".concat(this.state.currentProduct.externalId,"--"):"")+this.state.selectedSearchCategories.join("--")},e.prototype.updateState=function(e,t){void 0===t&&(t=!0);var o=this.state;this.state=Object.assign({},this.state,e),t&&this.triggerChange(o,this.state)},e.prototype.isInDemoApp=function(){return this.sourceApp==i.$X.demo},e.prototype.isInLivevideo=function(){return this.sourceApp==i.$X.livevideo},e.prototype.isInLivebook=function(){return this.sourceApp==i.$X.livebook},e.prototype.isInMarketplace=function(){return this.sourceApp==i.$X.marketplace},e.prototype.enterShowingResultsState=function(){this.state.isShowingResults||this.updateState({isShowingResults:!0})},e.prototype.leaveShowingResultsState=function(){var e=this;this.state.isShowingResults&&(this.updateState({isShowingResults:!1}),setTimeout((function(){return e.setTypingFinished(!0)}),100))},e.prototype.openLink=function(e,t,o){this.openSuggestion(null,e,t,o)},e.prototype.toggleShowFilter=function(){this.updateState({isShowingFilter:!this.state.isShowingFilter,isShowingSort:!1})},e.prototype.toggleShowSort=function(){this.updateState({isShowingFilter:!1,isShowingSort:!this.state.isShowingSort})},e.prototype.updateSearchSource=function(e){if(this.state.searchSource!=e){clearTimeout(this.tabsIdTimeout);var t=this.state.tabs[0];e==d.Products?t=this.state.tabs[0]:e==d.Content?t=this.state.tabs[1]:e==d.Questions&&(t=this.state.tabs[2],!this.state.askManning.query&&this.state.query&&(this.state.askManning.query=this.state.query)),this.updateState({searchSource:e,selectedTab:t}),this.onSearchSourceChange&&this.onSearchSourceChange(e)}},e.prototype.setProduct=function(e,t){var o=this;null==this.state.currentProduct&&null!=e||null!=this.state.currentProduct&&this.state.currentProduct.externalId!==e?(this.autocompleteStore.empty(),e?this.searchProvider.getProductInfo(e).then((function(e){o.updateState({currentProduct:e}),t&&t()})).catch((function(e){console.log("Error when fetching product info: ",e),t&&t()})):(this.updateState({currentProduct:null}),t&&t()),""!=this.state.query&&this.setTypingFinished(!0)):t&&t()},e.prototype.setIsTypingQuery=function(e){if(void 0===e&&(e=""),!this.state.isTyping||this.state.query!=e){if(this.cancelPromises(),""==e)return void this.clearSearch();this.autocompleteStore.removeSelectedSuggestion(),this.updateState({isTyping:!0,query:e})}},e.prototype.setTypingFinished=function(e){var t=this;void 0===e&&(e=!1),clearTimeout(this.saleInfoTimeout),this.state.searchSource==d.Content&&(this.autocompleteStore.show(),this.startSearch()),(this.state.isTyping||e)&&(this.autocompleteStore.removeSelectedSuggestion(),this.updateState({isTyping:!1}),this.cancelPromises(),this.autocompleteStore.setIsDoneFetchingProducts(!1),this.autocompleteSuggestionsPromise=(0,r.cancelable)(this.searchProvider.autocompleteProducts(this.state.query)),this.autocompleteSuggestionsPromise.then((function(e){t.state.hasAutocompleteProductsInfo||t.updateState({hasAutocompleteProductsInfo:!0}),t.deriveFiltersAndCategories(e,!1);var o=t.getDisplayedProductSuggestions(e);t.autocompleteStore.setNewSuggestions(new s.ZP(e,t.autocompleteStore.state.autocompleteSuggestions.conceptSuggestions,o)),t.onDisplayProducts&&t.onDisplayProducts(o.slice(0,15).map((function(e){var t="book";return e.isBundle&&(t="bundle"),e.isLiveaudio&&(t="liveAudio"),e.isLivebook&&(t="book"),e.isLiveproject&&(t="liveProject"),e.isLivevideo&&(t="liveVideo"),{id:e.id,title:e.title,category:e.tags.join(","),brand:t}}))),t.fillDisplayedProductsWithAdditionalInfo(e,o)})).catch((function(e){console.log("Error getting product autocompletions",e)})),this.state.query&&this.state.searchSource==d.Products&&(this.autocompleteProductsThroughFullTextSearchPromise=(0,r.cancelable)(this.searchProvider.fullTextAutocompleteProducts(this.state.query)),this.autocompleteProductsThroughFullTextSearchPromise.then((function(e){t.state.hasAutocompleteProductsInfo||t.updateState({hasAutocompleteProductsInfo:!0});var o=t.mergeAutocompleteProducts(t.autocompleteStore.state.autocompleteSuggestions.productSuggestions,e),n=t.getDisplayedProductSuggestions(o);t.autocompleteStore.setNewSuggestions(new s.ZP(o,t.autocompleteStore.state.autocompleteSuggestions.conceptSuggestions,n)),t.deriveFiltersAndCategories(o),t.fillDisplayedProductsWithAdditionalInfo(o,n),t.state.query&&t.onSearchMade&&t.onSearchMade(t.state.query,null!=t.state.currentProduct?t.state.currentProduct.id:"-1",!1,t.state.searchSource==d.Content),t.onDisplayProducts&&t.onDisplayProducts(n.slice(0,15).map((function(e){var t="book";return e.isBundle&&(t="bundle"),e.isLiveaudio&&(t="liveAudio"),e.isLivebook&&(t="book"),e.isLiveproject&&(t="liveProject"),e.isLivevideo&&(t="liveVideo"),{id:e.id,title:e.title,category:e.tags.join(","),brand:t}})))}))))},e.prototype.cancelPromises=function(){try{this.autocompleteSuggestionsPromise&&this.autocompleteSuggestionsPromise.cancel&&this.autocompleteSuggestionsPromise.isCanceled&&!this.autocompleteSuggestionsPromise.isCanceled()&&this.autocompleteSuggestionsPromise&&this.autocompleteSuggestionsPromise.cancel(),this.autocompleteProductsThroughFullTextSearchPromise&&this.autocompleteProductsThroughFullTextSearchPromise.cancel&&this.autocompleteProductsThroughFullTextSearchPromise.isCanceled&&!this.autocompleteProductsThroughFullTextSearchPromise.isCanceled()&&this.autocompleteProductsThroughFullTextSearchPromise.cancel(),this.autocompleteConceptsPromise&&this.autocompleteConceptsPromise.cancel&&this.autocompleteConceptsPromise.isCanceled&&!this.autocompleteConceptsPromise.isCanceled()&&this.autocompleteConceptsPromise.cancel()}catch(e){console.log("Error when canceling promises",e)}},e.prototype.fillDisplayedProductsWithAdditionalInfo=function(e,t){var o=this,n=this.state.query;this.searchProvider.fillWithAdditionalInfo(t.map((function(e){return e.productInfo}))).then((function(){n==o.state.query?(o.updateState(o.getDerivedFiltersAndCategories(e,o.state.selectedSearchFilters),!0),o.autocompleteStore.triggerRerender()):o.autocompleteStore.triggerRerender()}))},e.prototype.fillSearchContentResultsWithAdditionalInfo=function(e){var t=this,o=this.state.query;this.searchProvider.fillWithAdditionalInfo(e.map((function(e){return e.productInfo}))).then((function(){o==t.state.query&&t.updateState({items:(e||[]).concat([]),productTreeResults:(e||[]).map((function(e){return m.Z.convertToShellProductTreeResults(e)}))})}))},e.prototype.setQuery=function(e){if(this.state.query!=e){if(""==e)return void this.clearSearch();this.updateState({query:e})}},e.prototype.clearAutosuggestionsAndHide=function(){this.autocompleteStore.empty()},e.prototype.clearProduct=function(){this.updateState({currentProduct:null})},e.prototype.clearSearchAndProduct=function(){this.updateState({query:"",items:null,productTreeResults:null,isWaitingForResults:!1,isShowingResults:!1,currentProduct:null,errorMessage:null,isLastSearchDeep:!1,allCategories:[]}),this.autocompleteStore.empty(),this.cancelPromises()},e.prototype.clearSearchKeepQuery=function(){var e=this;this.autocompleteStore.empty(),this.updateState({items:null,productTreeResults:null,isWaitingForResults:!1,isShowingResults:!1,errorMessage:null,isLastSearchDeep:!1,allCategories:[]}),setTimeout((function(){return e.setTypingFinished(!0)}),100)},e.prototype.clearSearch=function(){this.cancelPromises(),this.autocompleteStore.empty(),this.updateState({query:"",items:null,productTreeResults:null,isWaitingForResults:!1,isShowingResults:!1,errorMessage:null,allCategories:[],isLastSearchDeep:!1,availableCategorySearchFilters:[],priceSearchFilter:null,ratingSearchFilter:null,availableProductTypeSearchFilers:[]})},e.prototype.clearSearchResults=function(){this.updateState({items:null,productTreeResults:null,isWaitingForResults:!1,errorMessage:null,isLastSearchDeep:!1,allCategories:[]})},e.prototype.selectSuggestionAndStartSearch=function(e){var t=this;e=this.getSuggestion(e),setTimeout((function(){t.onSuggestionSelected&&t.onSuggestionSelected(e)}),5),this.autocompleteStore.setNewSuggestion(e),e instanceof s.xm&&this.autocompleteStore.parentStore.setQuery(e.title),setTimeout((function(){return t.startSearch()}),100)},e.prototype.closeMenu=function(){this.onCloseMenu&&this.onCloseMenu()},e.prototype.selectSuggestion=function(e){this.autocompleteStore.setNewSuggestion(this.getSuggestion(e))},e.prototype.getSuggestion=function(e){return"string"==typeof e?this.autocompleteStore.state.autocompleteSuggestions.getSuggestion(e):e},e.prototype.getFullProductTreeResults=function(e){return(0,r.cancelable)(this.searchProvider.getFullProductTreeResults(e))},e.prototype.startSearch=function(e,t){var o=this;void 0===e&&(e=!1);var n="";n||(n=this.state.query.trim()),this.cancelPromises(),this.autocompleteStore.hide(),n?(this.searchProvider.search(n,this.getCurrentProductId(),this.state.selectedSearchCategories.join(";"),this.getBoostedProductType(),e).then((function(n){if(null!=o.state.currentProduct){var r=n.find((function(e){return null!=e.productInfo&&e.productInfo.id==o.state.currentProduct.id}));null!=r&&(E.Z.removeItemFromArray(n,r),n.unshift(r))}o.updateState({items:n,productTreeResults:(n||[]).map((function(e){return m.Z.convertToShellProductTreeResults(e)})),isWaitingForResults:!1,isLastSearchDeep:e,errorMessage:""}),o.fillSearchContentResultsWithAdditionalInfo(n||[]),t&&setTimeout((function(){t&&t(!0)}),100),o.onDisplayProducts&&o.onDisplayProducts(n.map((function(e){var t="book";return e.productInfo&&(e.productInfo.isBundle&&(t="bundle"),e.productInfo.isLiveaudio&&(t="liveAudio"),e.productInfo.isLivebook&&(t="book"),e.productInfo.isLiveproject&&(t="liveProject"),e.productInfo.isLivevideo&&(t="liveVideo")),{id:+e.productManningId,title:e.productTitle,category:null!=e.productInfo&&null!=e.productInfo.tags?e.productInfo.tags.join(","):"",brand:t}})))})).catch((function(e){o.updateState({items:null,productTreeResults:null,isWaitingForResults:!1,allCategories:o.state.allCategories||[],isLastSearchDeep:!1,errorMessage:e}),t&&setTimeout((function(){t&&t(!1)}),100)})),this.updateState({allCategories:this.state.allCategories||[],isShowingResults:!0,items:null,productTreeResults:null,isWaitingForResults:!0,errorMessage:""}),setTimeout((function(){o.onSearchMade&&o.onSearchMade(o.state.query,null!=o.state.currentProduct?o.state.currentProduct.externalId:"",e)}),50)):this.updateState({query:n})},e.prototype.getBoostedProductType=function(){return this.sourceApp==i.$X.livevideo?"liveVideo":this.sourceApp==i.$X.pbc?"liveProject":""},e.prototype.getCurrentProductId=function(){return null==this.state.currentProduct?"":this.state.currentProduct.externalId},e.prototype.updateScreenSize=function(e,t){this.state.isMobileDisplayMode==e&&this.state.isTabletDisplayMode==t||this.updateState({isMobileDisplayMode:e,isTabletDisplayMode:t})},e.prototype.changeCategorySelection=function(e,t){if("All"==e)this.updateState({isSearchAllSelected:t,selectedSearchCategories:t?[]:this.state.selectedSearchCategories});else{var o=this.state.selectedSearchCategories.concat([]),n=o.indexOf(e);if(n>-1!=t)if(t){var r=!1,i=o.concat([e]);i.length==this.searchCategories.length&&(i=[],r=!0),this.updateState({selectedSearchCategories:i,isSearchAllSelected:r})}else o.splice(n,1),this.updateState({selectedSearchCategories:o,isSearchAllSelected:0==o.length})}},e.prototype.mergeAutocompleteProducts=function(e,t){if(null==t||0==t.length)return e;if(null==e||0==e.length)return t;for(var o=(this.state.query||"").toLowerCase(),n=[],r={},s=0,a=e;s<a.length;s++){var c=a[s];(m.Z.containsQueryWord(c.title.toLowerCase(),o)||m.Z.containsQueryWord((c.authors||"").toLowerCase(),o)||m.Z.containsQueryWord((c.subtitle||"").toLowerCase(),o)||c.isLiteralResult)&&(n.push(c),r[c.externalId]=!0)}if(0==n.length&&o.length>=3)for(var l=0,u=e;l<u.length;l++)(-1!=(c=u[l]).title.toLowerCase().indexOf(o)||c.authors&&c.authors.toLowerCase&&-1!=c.authors.toLowerCase().indexOf(o))&&(n.push(c),r[c.externalId]=!0);if(this.sourceApp==i.$X.livevideo||this.sourceApp==i.$X.pbc){for(var p=t.slice(0,5),d=5;d<t.length;d++){var h=t[d];(this.sourceApp==i.$X.livevideo&&h.isLivevideo||this.sourceApp==i.$X.pbc&&h.isLiveproject)&&p.push(h)}t=p}else t=t.slice(0,10);for(var f=0,g=t;f<g.length;f++)r[(c=g[f]).externalId]||(n.push(c),r[c.externalId]=!0);for(var b=0,v=e;b<v.length;b++)r[(c=v[b]).externalId]||(n.push(c),r[c.externalId]=!0);return n},e.areScreenDimensionsMedium=function(){return window.innerWidth<=700},e.areScreenDimensionsSmall=function(){return window.innerWidth<=500},e.prototype.onPropertyChanged=function(e){this.changeEmitter.addListener("change",e)},e.prototype.offPropertyChanged=function(e){this.changeEmitter.removeListener("change",e)},e.prototype.onOwnershipChanged=function(e){this.changeEmitter.addListener("ownershipChange",e)},e.prototype.offOwnershipChanged=function(e){this.changeEmitter.removeListener("ownershipChange",e)},e.prototype.triggerOwnershipChange=function(){this.changeEmitter.emit("ownershipChange")},e.prototype.triggerChange=function(e,t){this.changeEmitter.emit("change",e,t)},e.prototype.onLayoutRecalc=function(e){this.changeEmitter.addListener("layout",e)},e.prototype.offLayoutRecalc=function(e){this.changeEmitter.removeListener("layout",e)},e.prototype.triggerLayoutRecalc=function(){this.changeEmitter.emit("layout")},e.prototype.initialAutocompleteProducts=function(){var e=this;this.searchProvider.autocompleteProducts("").then((function(){e.updateState({hasAutocompleteProductsInfo:!0})})),this.searchProvider.getBestsellers().then((function(e){m.Z.bestsellers=e}))},e.prototype.initialPopulateSynonyms=function(){this.searchProvider.getSynonymsMap().then((function(e){m.Z.synonyms=e}))},e.prototype.updatePriceRange=function(e,t){this.updateState({priceSearchFilter:v.createCopy(this.state.priceSearchFilter,e,t)}),this.autocompleteStore.setNewSuggestions(new s.ZP(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions,this.autocompleteStore.state.autocompleteSuggestions.conceptSuggestions,this.getDisplayedProductSuggestions(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions)))},e.prototype.updateRating=function(e){this.updateState({ratingSearchFilter:w.create(e)}),this.autocompleteStore.setNewSuggestions(new s.ZP(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions,this.autocompleteStore.state.autocompleteSuggestions.conceptSuggestions,this.getDisplayedProductSuggestions(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions)))},e.prototype.deriveFiltersAndCategories=function(e,t){this.updateState(this.getDerivedFiltersAndCategories(e,this.state.selectedSearchFilters),t)},e.prototype.getDerivedFiltersAndCategories=function(e,t){return{availableCategorySearchFilters:this.getAvailableCategorySearchFilters(e,t),priceSearchFilter:this.getPriceSearchFilter(e),ratingSearchFilter:this.getRatingSearchFilter(e),availableProductTypeSearchFilers:this.getAvailableProductTypeSearchFilters(e,t)}},e.prototype.getAvailableCategorySearchFilters=function(e,t){if(!e||0==e.length)return[];var o=t&&t[0];null==o||o instanceof b||(e=e.filter((function(e){return o.matchesProduct(e)})));for(var n={},r=0,i=e;r<i.length;r++){var s=i[r];if(s.tags&&s.tags.length&&!s.isEarlierEdition)for(var a=0,c=s.tags;a<c.length;a++)n[u=c[a]]||(n[u]=0),n[u]++}var l=[];for(var u in n)l.push(new b(u,n[u]));return 1==l.length?[]:l.sort((function(e,t){return t.resultCount-e.resultCount}))},e.prototype.getPriceSearchFilter=function(e){return v.createPriceSearchFilter(e,this.state.priceSearchFilter)},e.prototype.getRatingSearchFilter=function(e){return w.create(null!=this.state.ratingSearchFilter?this.state.ratingSearchFilter.minimumRating:0)},e.prototype.getAvailableProductTypeSearchFilters=function(e,t){if(!e||0==e.length)return[];var o=t&&t[0];null==o||o instanceof y||(e=e.filter((function(e){return o.matchesProduct(e)})));for(var n=y.createBookProductTypeSearchFilter(),r=y.createVideoProductTypeSearchFilter(),i=y.createBundleTypeSearchFilter(),s=y.createLiveProjectTypeSearchFilter(),a=y.createEarlierEditionTypeSearchFilter(),c=0,l=e;c<l.length;c++){var u=l[c];u.isBundle?i.resultCount++:u.isLivevideo?r.resultCount++:u.isLiveproject?s.resultCount++:u.isEarlierEdition||n.resultCount++,u.isEarlierEdition&&a.resultCount++}var p=[];return n.resultCount>0&&p.push(n),r.resultCount>0&&p.push(r),i.resultCount>0&&p.push(i),s.resultCount>0&&p.push(s),a.resultCount>0&&p.push(a),1==p.length?[]:p.sort((function(e,t){return t.resultCount-e.resultCount}))},e.prototype.getDisplayedProductSuggestions=function(e){var t=this,o=e.concat([]);if(null!=this.state.priceSearchFilter){var n=o.filter((function(e){return t.state.priceSearchFilter.matchesProduct(e)}));n.length>0&&(o=n)}if(null!=this.state.ratingSearchFilter){var r=o.filter((function(e){return t.state.ratingSearchFilter.matchesProduct(e)}));r.length>0&&(o=r)}if(null==this.state.selectedSearchFilters||0==this.state.selectedSearchFilters.length)return this.sortBySortOrder(this.removeEarlierEditions(o));for(var i=0,s=g.groupSearchFiltersByType(this.state.selectedSearchFilters);i<s.length;i++){for(var a={},c=[],l=0,u=s[i];l<u.length;l++)for(var p=u[l],d=0,h=o;d<h.length;d++){var m=h[d];p.matchesProduct(m)&&!a[m.id]&&(a[m.id]=!0,c.push(m))}o=c}return this.sortBySortOrder(o)},e.prototype.removeEarlierEditions=function(e){return e.filter((function(e){return!e.isEarlierEdition}))},e.prototype.sortBySortOrder=function(e){switch(this.state.sortOrder){case p.NewestFirst:return e.sort((function(e,t){return t.date.getTime()-e.date.getTime()}));case p.PriceFromHighest:return e.sort((function(e,t){return t.getPrice()-e.getPrice()}));case p.PriceFromLowest:return e.sort((function(e,t){return e.getPrice()-t.getPrice()}));case p.BestMatch:return e.sort((function(e,t){return e.searchOrder-t.searchOrder}));default:return e}},e.prototype.changeBaseUrl=function(e){var t=this.searchProvider;null!=t&&t.changeBaseUrl&&t.changeBaseUrl(e)},e.prototype.setAskManningQuery=function(e){this.state.askManning.query=e,this.triggerAskManningChange()},e.prototype.setAskManningQueryAndFindAnswer=function(e){this.state.askManning.query=e,this.findQAndAAnswer()},e.prototype.findQAndAAnswer=function(){var e=this;this.state.askManning.query.trim()&&(null!=this.previousAnswerQuestionRequest&&(this.previousAnswerQuestionRequest.cancel&&this.previousAnswerQuestionRequest.cancel(),this.previousAnswerQuestionRequest=null),this.state.askManning.isProcessing=!0,(this.previousAnswerQuestionRequest=(0,r.cancelable)(this.searchProvider.answerQuestion(this.state.askManning.query,null!=this.state.currentProduct?this.state.currentProduct.id:"-1"))).then((function(t){e.state.askManning.results=t})).finally((function(){e.state.askManning.isProcessing=!1,e.triggerAskManningChange()})),this.triggerAskManningChange())},e.prototype.onAskManningChanged=function(e){this.changeEmitter.addListener("askManning",e)},e.prototype.offAskManningChanged=function(e){this.changeEmitter.removeListener("askManning",e)},e.prototype.triggerAskManningChange=function(){this.changeEmitter.emit("askManning")},e}()},30705:(e,t,o)=>{"use strict";o.d(t,{Z:()=>b});var n=o(26735);const r=function(e,t,o){this.productId=e,this.productManningId=t,this.productTitle=o,this.results=[],this.score=0};var i,s=o(28079),a=o(59399);!function(e){e[e.library=0]="library",e[e.product=1]="product"}(i||(i={}));var c=o(97766),l=o(92438),u=o(41839),p=o(65605),d=o(58641),h=o(74221),m=o(94017),f=o(56781),g=o(61161);const b=new(function(){function e(){this.mobileBreakpoint=950,this.bestsellers=[],this.PRODUCT_PAGE_KEY="Product page",this.INTRO_KEY="Intro",this.synonyms={},this.numberedIndexRegExp=/(\d+\.?)+/,this.appendixIndexRegExp=/[A-Z]\.(\d+\.?)*/}return e.prototype.isDesktopWidth=function(){return window.innerWidth>this.mobileBreakpoint},e.prototype.getResultHtml=function(e){if(!e)return"";if(!e.fullText)return e.text;if(e.fullTextWithHighlights)return e.fullTextWithHighlights;var t=document.createElement("template");t.innerHTML=e.text;for(var o=t.content.querySelectorAll(".search-result"),n=[],r=0;r<o.length;r++){var i=o[r].textContent;-1==n.indexOf(i)&&n.push(i)}return e.fullTextWithHighlights=f.Z.highlightText(e.fullText,n,"search-result")},e.prototype.convertProductSuggestionToProductDescription=function(e,t){var o=this;return(e||[]).map((function(e){var n,r=m.u.getAppropriateLink(e.productInfo),i=(e.productInfo,c.Z.getShortTitle(e.title)),s=e.getPrice(),a="product";return e.isLivebook?a="book":e.isLivevideo?a="video":e.isLiveproject&&(a="project"),{id:e.externalId||e.id,manningId:e.productInfo.id,title:i,authors:e.productInfo.authors,link:t?"".concat(r,"?query=").concat(t):r,price:s,priceWithoutDiscount:e.getPriceWithoutDiscount(),coverPath:e.coverPath,description:o.getDescriptionHtml(e.productInfo),rating:null!=e.productInfo.additionalProductInfo?e.productInfo.additionalProductInfo.rating:0,date:e.dateDescription,dateObj:e.date,isWideCover:null!=e.productInfo&&(e.productInfo.isConference||e.productInfo.isAuthorTalk),isTwoLineTitle:i.length>=32,isExternalProduct:o.isExternalProduct(e.productInfo),isFreeProduct:null!=e.productInfo&&(e.productInfo.isConference||e.productInfo.isAuthorTalk||e.productInfo.free)||s<=0,productType:a,isLiveaudio:null!=e.productInfo&&e.productInfo.isLiveaudio,contrivedPriceBeforeDiscount:e.contrivedPriceBeforeDiscount,liveProjects:null===(n=e.liveProjects)||void 0===n?void 0:n.sort((function(e,t){return e.preTitle>t.preTitle?1:-1}))}}))},e.prototype.isExternalProduct=function(e){return null==e||this.sourceApp!=u.$X.livebook||!e.isLivebook},e.prototype.extractLinkReference=function(e){if(!e)return"";var t=e.lastIndexOf("/");return-1==t?"":e.substring(t+1).replace(/search-/gi,"")},e.prototype.getEmphasizedWords=function(e){if(!e||null==e.results||0==e.results.length)return[];for(var t={},o="<strong class='search-result'>",n=0,r=e.results;n<r.length;n++){var i=r[n],s=i.text.indexOf(o);if(-1!=s){var a=i.text.indexOf("</strong>",s);-1!=a&&(t[i.text.substring(s+o.length,a).toLowerCase()]=!0)}}var c=[];for(var l in t)c.push(l);return c.sort((function(e,t){return t.length-e.length}))},e.prototype.getDescriptionHtml=function(e,t){return void 0===t&&(t=3),m.u.getDescriptionHtml(e,t)},e.prototype.getAppropriateLinkFromProductInfo=function(e){return null==e?"":this.sourceApp==u.$X.livebook&&e.isLivebook?e.link:e.marketplaceLink||e.link},e.prototype.getMatchingProductSuggestions=function(e,t){var o=this.getMatchingProducts(e,t);return o.productInfos.map((function(e,t){var n=d.A7.fromProductInfo(e);return n.searchOrder=t,n.isLiteralResult=o.literalIdMatches[e.id],n}))},e.prototype.getMatchingProducts=function(e,t,o){var n=this;void 0===o&&(o=.45);var r={productInfos:[],literalIdMatches:{}};if(null==t||0==t.length)return r;if(""==e||0==e.length)return r;var i=[],s={},a=this.expandQueryWithSynonyms(e);if(a.length<=1)i=this.searchWithFuse(e,t,o);else for(var c=0;c<a.length;c++){var l=a[c],d=this.searchWithFuse(l,t,o);if(0==c)for(var h=0;h<d.length;h++){var m=d[h];i.push(m),s[m.item.id]={score:m.score,index:i.length-1}}else for(h=0;h<d.length;h++)s[(m=d[h]).item.id]?m.score>s[m.item.id].score&&(s[m.item.id].score=m.score,i[s[m.item.id].index].score=m.score):(i.push(m),s[m.item.id]={score:m.score,index:i.length-1})}var f=new Date;this.getBestsellersMap(),i.forEach((function(t){var o=t.item,n=p.Z.monthDiff(o.date,f);n>0&&(t.score+=n/(e.length<3?4e4:4e3),t.modifiedScore?t.modifiedScore+=n/(e.length<3?4e4:4e3):t.modifiedScore=t.score)})),i.forEach((function(e){var t=e.item;(n.isRunningInLp()&&(t.isLiveproject||n.isLpBundle(t))||n.sourceApp==u.$X.livevideo&&t.isLivevideo)&&(e.modifiedScore*=.01,e.modifiedScore>o&&(e.modifiedScore=o))}));var g=function(e,t){return e.modifiedScore&&t.modifiedScore?e.modifiedScore-t.modifiedScore:e.score-t.score};return i.sort((function(e,t){if(n.isRunningInLp()){var o=e.item,r=t.item,i=o.isLiveproject||n.isLpBundle(o),s=r.isLiveproject||n.isLpBundle(r);if(i&&!s){if(e.containsWholeQueryWord||e.containsQueryWord||e.containsWholeSeoKeyword)return-1}else if(!i&&s&&(t.containsWholeQueryWord||t.containsQueryWord||t.containsWholeSeoKeyword))return 1}return e.containsWholeQueryWord&&!t.containsWholeQueryWord?-1:!e.containsWholeQueryWord&&t.containsWholeQueryWord?1:e.containsWholeQueryWord&&t.containsWholeQueryWord?g(e,t):e.containsQueryWord&&!t.containsQueryWord?-1:!e.containsQueryWord&&t.containsQueryWord?1:e.containsQueryWord&&t.containsQueryWord?g(e,t):e.containsWholeSeoKeyword&&!t.containsWholeSeoKeyword?-1:!e.containsWholeSeoKeyword&&t.containsWholeSeoKeyword?1:(e.containsWholeSeoKeyword&&t.containsWholeSeoKeyword,g(e,t))})),r.productInfos=i.map((function(e){return e.item})),i.forEach((function(e){(e.containsWholeQueryWord||e.containsQueryWord||e.containsWholeSeoKeyword)&&(r.literalIdMatches[e.item.id]=!0)})),r},e.prototype.getBestsellersMap=function(){var e={};try{if(this.bestsellers&&this.bestsellers.length)for(var t=0;t<this.bestsellers.length;t++){var o=this.bestsellers[t];o.slug&&(e[o.slug]=t)}}catch(e){console.log(e)}return e},e.prototype.isLpBundle=function(e){return!!(e&&e.isBundle&&e.description)&&(e.description||"").toLowerCase().indexOf("liveproject")>=0},e.prototype.isRunningInLp=function(){return this.sourceApp==u.$X.pbc},e.prototype.expandQueryWithSynonyms=function(e){if(!e)return[];var t=[];t.push(e);var o=(e||"").toLowerCase();if(this.synonyms&&this.synonyms[o])for(var n=0,r=this.synonyms[o];n<r.length;n++){var i=r[n];t.push(i)}return t},e.prototype.searchWithFuse=function(e,t,o){var n,r=this,i=new h.Z(t,{includeScore:!0,shouldSort:!0,threshold:o,maxPatternLength:32,tokenize:e.length>=3,keys:[{name:"cleanTitle",weight:.15},{name:"cruftlessTitle",weight:.35},{name:"seoKeywords",weight:.1},{name:"authors",weight:.05},{name:"description",weight:.05},{name:"subtitle",weight:.2},{name:"tagsText",weight:.01},{name:"isbn",weight:.05},{name:"productTypeDescription",weight:.05}]}).search(e),s=(0,g.$)(e).toLowerCase(),a=p.Z.getWords(e.toLowerCase()),c=a.map((function(e){return(0,g.$)(e)}));i.forEach((function(t){var r=t.item;if(null!=r){var i=r.title||"";if(i){var l=r.subtitle||"",u=r.seoKeywords||"",d=p.Z.getWords(i.toLowerCase()),h=d.map((function(e){return(0,g.$)(e)})),m=p.Z.getWords(l.toLowerCase()),f=m.map((function(e){return(0,g.$)(e)})),b=p.Z.getWords(u.toLowerCase()),v=b.map((function(e){return(0,g.$)(e)}));if(t.modifiedScore=t.score,1==a.length)d.indexOf(e.toLowerCase())>=0?(t.modifiedScore*=1==e.length?.001:.6,t.modifiedScore=Math.min(t.modifiedScore,o),t.containsWholeQueryWord=!0):h.indexOf(s)>=0&&(t.modifiedScore*=1==e.length?.002:.7,t.modifiedScore=Math.min(t.modifiedScore,o),t.containsWholeQueryWord=!0),m.indexOf(e.toLowerCase())>=0?(t.modifiedScore*=1==e.length?.01:.8,t.modifiedScore=Math.min(t.modifiedScore,o),t.containsWholeQueryWord=!0):f.indexOf(s)>=0&&(t.modifiedScore*=1==e.length?.02:.9,t.modifiedScore=Math.min(t.modifiedScore,o),t.containsWholeQueryWord=!0),b.indexOf(e.toLowerCase())>=0?(t.modifiedScore*=1==e.length?.1:.95,t.modifiedScore=Math.min(t.modifiedScore,o),t.containsWholeSeoKeyword=!0):v.indexOf(s)>=0&&(t.modifiedScore*=1==e.length?.2:.99,t.modifiedScore=Math.min(t.modifiedScore,o),t.containsWholeSeoKeyword=!0);else{var y=a.filter((function(e){return d.indexOf(e)>=0})),w=c.filter((function(e){return h.indexOf(e)>=0})),k=y.length,x=1,C=1;y.length>0&&(x=.8/k,t.containsQueryWord=!0),w.length>0&&(C=.9/w.length,t.containsQueryWord=!0);var E=Math.min(x,C);E<1&&(t.modifiedScore*=E),k>=a.length?(t.containsWholeQueryWord=!0,t.modifiedScore*=.1):w.length>a.length&&(t.containsWholeQueryWord=!0,t.modifiedScore*=.2),(y.length>0||k>=a.length||w.length>0||w.length>c.length)&&(t.modifiedScore=Math.min(t.modifiedScore,o));var S=a.filter((function(e){return m.indexOf(e)>=0})),T=c.filter((function(e){return f.indexOf(e)>=0})),A=S.length;x=1,C=1,E=1,S.length>0&&(x=1/k,t.containsQueryWord=!0),T.length>0&&(C=1.2/T.length,t.containsQueryWord=!0),(E=Math.min(x,C))<1&&(t.modifiedScore*=E),A>=a.length?(t.modifiedScore*=.3,t.containsQueryWord=!0):T.length>=c.length&&(t.modifiedScore*=.35,t.containsQueryWord=!0)}if(r.authors&&r.authors.toLowerCase&&e.length>3){var I=r.authors.toLowerCase();-1!=I.indexOf(e)&&(t.modifiedScore*=.5),-1!=p.Z.getWords(I).indexOf(e)&&(t.containsWholeQueryWord=!0)}var O=0==i.indexOf("Exploring")||(r.authors||"").indexOf("selected by")>=0||r.isAuthorTalk||r.isConference;(O&&(i.toLowerCase()==e.toLowerCase()||"exploring"==e.toLowerCase())&&t.modifiedScore<o||O)&&(t.modifiedScore=o,t.score=o),(null==n||t.modifiedScore<n.modifiedScore)&&(n=t)}}}));for(var l={},d=0,m=i;d<m.length;d++){var f=m[d];l[f.item.id]=!0}var b=o,v=o;if(this.sourceApp==u.$X.livevideo){var y=i.filter((function(e){return e.item.isLivevideo})).sort((function(e,t){return e.modifiedScore-t.modifiedScore})),w=y.filter((function(e){return e.containsWholeQueryWord||e.containsQueryWord}));null!=(x=(k=y.filter((function(e){return e.containsWholeSeoKeyword})))[k.length-1]||w[w.length-1]||y[y.length-1])?v=b=Math.min(x.modifiedScore+.1,o):null!=n&&(v=n.modifiedScore+.01)}else if(this.isRunningInLp()){var k,x,C=i.filter((function(e){return e.item.isLiveproject||r.isLpBundle(e.item)})).sort((function(e,t){return e.modifiedScore-t.modifiedScore}));w=C.filter((function(e){return e.containsWholeQueryWord||e.containsQueryWord})),null!=(x=(k=C.filter((function(e){return e.containsWholeSeoKeyword})))[k.length-1]||w[w.length-1]||C[C.length-1])?v=b=Math.min(x.modifiedScore+.1,o):null!=n&&(v=n.modifiedScore+.01)}for(var E=function(t){var o=t.title||"";if(!o)return"continue";var n=t.subtitle||"",r=t.seoKeywords||"",d=p.Z.getWords(o.toLowerCase()),h=d.map((function(e){return(0,g.$)(e)})),m=p.Z.getWords(n.toLowerCase()),f=m.map((function(e){return(0,g.$)(e)})),y=p.Z.getWords(r.toLowerCase()),w=y.map((function(e){return(0,g.$)(e)}));if(1==a.length){var k=d.indexOf(e.toLowerCase())>=0||h.indexOf(s)>=0,x=m.indexOf(e.toLowerCase())>=0||f.indexOf(s)>=0,C=y.indexOf(e.toLowerCase())>=0||w.indexOf(s)>=0;if((k||x||C)&&!l[t.id]){l[t.id]=!0;var E={item:t,score:S.sourceApp==u.$X.livevideo&&t.isLivevideo||S.isRunningInLp()&&(t.isLiveproject||S.isLpBundle(t))?v:b,refIndex:-1};return i.push(E),E.modifiedScore=E.score,E.containsWholeQueryWord=k,E.containsQueryWord=x,E.containsWholeSeoKeyword=C,"continue"}}else{var T=a.filter((function(e){return d.indexOf(e)>=0})),A=c.filter((function(e){return h.indexOf(e)>=0}));if((T.length>0||A.length>0)&&!l[t.id])return l[t.id]=!0,E={item:t,score:S.sourceApp==u.$X.livevideo&&t.isLivevideo||S.isRunningInLp()&&(t.isLiveproject||S.isLpBundle(t))?v-.05:b-.05,refIndex:-1},i.push(E),E.modifiedScore=E.score,E.containsQueryWord=!0,"continue"}},S=this,T=0,A=t;T<A.length;T++)E(A[T]);var I=i.filter((function(e){return e.containsWholeQueryWord||e.containsQueryWord})).sort((function(e,t){return e.score-t.score}));if(I.length>=2)for(var O=I[I.length-1],P=0,R=I.filter((function(e){return p.Z.daysFromNow(e.item.date)>=1825}));P<R.length;P++){var _=R[P];_.score=O.score,_.modifiedScore=O.modifiedScore}return i},e.prototype.getAbsoluteLivebookLink=function(e,t){return this.getAbsolutePath(e.client.livebook,c.Z.adaptLinkFormat(t))},e.prototype.getAbsoluteLivevideoLink=function(e,t){return this.getAbsolutePath(e.client.livevideo,t)},e.prototype.getSearchResultsSourceString=function(e,t){switch(void 0===t&&(t=!1),e){case i.library:return"Everything";case i.product:return t?"This course":"This book";default:return"Everything"}},e.prototype.getSearchResultsSourceType=function(e){switch(e){case"This video":case"This book":return i.product;default:return i.library}},e.prototype.convertToShellProductSearchResults=function(e){for(var t={},o=[],n={},i=0,s=e;i<s.length;i++){var a=s[i],c=a.elementTitle||a.text,l=a.productId+a.elementTitle+a.text;if(!c||!n[l]){if(n[l]=!0,!t[a.productId]){var u=new r(a.productId,a.productManningId,a.productTitle);t[a.productId]=u,o.push(u)}var p=t[a.productId];p.results.push(a);var d=parseFloat(a.score);a.score=Number.isNaN(d)?0:d,p.score+=d}}return o},e.prototype.convertToProductSearchResults=function(e,t,o,n){for(var r=this.convertToShellProductSearchResults(e),i=[],s=0,a=r;s<a.length;s++){for(var c=a[s],l=0,u=t;l<u.length;l++){var p=u[l];if(c.productManningId==p.id||c.productId==p.externalId){c.productInfo=p,c.productTitle||(c.productTitle=p.title);break}}c.productInfo||i.push(c)}for(var d=0,h=i;d<h.length;d++){c=h[d];var m=r.indexOf(c);m>=0&&r.splice(m,1)}return this.sortProductSearchResults(r,o),this.insertSpecialResultsIfNecessary(r,o,n),this.updateProductSearchResultsLocations(r,n),r},e.prototype.containsQueryWord=function(e,t){var o=p.Z.getWords((e||"").toLowerCase()),n=p.Z.getWords((t||"").toLowerCase());return null!=o.find((function(e){return n.indexOf(e)>=0}))},e.prototype.sortProductSearchResults=function(e,t){void 0===t&&(t=""),t=(t||"").toLowerCase(),e.sort((function(e,t){return t.score-e.score}))},e.prototype.convertToShellProductTreeResults=function(e){return l.CF.constructShell(e)},e.prototype.convertToFullProductTreeResults=function(e,t){var o=this.getTitleSearchResultsMap("elementTitle",e.results,this.PRODUCT_PAGE_KEY),n=null,r=0;t&&0==t.length&&(e.children=null);for(var i=0,s=t;i<s.length;i++){var u=s[i],p=o[u.title],d=new l.Ff(u.title,c.Z.extractBookElementIndex(u.title),u.link,p,u.shortName);if(u.children&&p&&p.length>0){u.children.length>0&&"Intro"!=u.children[0].title&&u.children.unshift(new a.Z("intro",this.INTRO_KEY,"",[]));for(var h=null,m=0,f=0,g=u.children;f<g.length;f++){var b=g[f],v=this.getSearchResultsInTitle(b.title!=this.INTRO_KEY?b.title:"","subElementTitle",p),y=new l.gL(b.title,c.Z.extractBookElementIndex(b.title),b.link,v);if(b.children&&v.length>0){for(var w=null,k=0,x=0,C=b.children;x<C.length;x++){var E=C[x],S=new l.Y2(E.title,c.Z.extractBookElementIndex(E.title),E.link,this.getSearchResultsInTitle(E.title,"subSubElementTitle",v));y.addSubSubElementTreeResult(S);var T=S.getDisplayedResultsCount();T>k&&(k=T,w=S)}null!=w&&(w.hasMostResults=!0)}d.addSubElementTreeResult(y);var A=y.getDisplayedResultsCount();A>m&&(m=A,h=y)}null!=h&&(h.hasMostResults=!0)}e.addElementTreeResult(d);var I=d.getDisplayedResultsCount();I>r&&(r=I,n=d)}return null!=n&&(n.hasMostResults=!0),this.sortProductPageResultsSoonerAndInsertProductPageResult(e),e},e.prototype.sortProductPageResultsSoonerAndInsertProductPageResult=function(e){var t=this;try{var o=(e.children||[]).find((function(e){return e.name==t.PRODUCT_PAGE_KEY}));null!=o&&o.results&&o.results.sort((function(e,t){return e.productType==t.productType?t.score-e.score:"marketplaceProduct"==e.productType?-1:"marketplaceProduct"==t.productType?1:t.score-e.score}))}catch(e){console.log(e)}},e.prototype.getTitleSearchResultsMap=function(e,t,o){void 0===o&&(o="");for(var n={},r=0,i=t;r<i.length;r++){var s=i[r],a=s[e]||o;a&&(n[a]||(n[a]=[]),n[a].push(s))}return n},e.prototype.getSearchResultsInTitle=function(e,t,o){return o?o.filter((function(o){return o[t]===e})):[]},e.prototype.convertLivebookTocToTocItems=function(e,t){var o=[];if(e.parts)for(var n=0,r=e.parts;n<r.length;n++){var i=r[n];if(i.chapters)for(var s=0,a=i.chapters;s<a.length;s++){var c=a[s];o.push(this.convertLiveBookElementToTocItem(c,t))}}if(e.backMatter)for(var l=0,u=e.backMatter;l<u.length;l++){var p=u[l];0===(p.title||"").indexOf("Appendix")&&o.push(this.convertLiveBookElementToTocItem(p,t))}if(e.frontMatter)for(var d=0,h=e.frontMatter;d<h.length;d++){var m=h[d];0===(m.title||"").indexOf("Appendix")&&o.push(this.convertLiveBookElementToTocItem(m,t))}return o},e.prototype.convertLiveVideoTocToTocItems=function(e,t){if(!e||!e.length)return e;for(var o=0,n=e;o<n.length;o++){var r=n[o];this.convertLiveVideoTocItem(r,null,t)}return e.sort((function(e,t){return e.unitIndex-t.unitIndex})),e},e.prototype.convertLiveVideoTocItem=function(e,t,o){if(e.children){e.link=this.updateTocRelativeLinkPath(e.link,o),e.children.sort((function(e,t){return(e.unitIndex||e.moduleIndex)-(t.unitIndex||t.moduleIndex)}));for(var n=0,r=e.children;n<r.length;n++){var i=r[n];this.convertLiveVideoTocItem(i,e,o),i.link=this.updateTocRelativeLinkPath(i.link,o)}}},e.prototype.updateTocRelativeLinkPath=function(e,t){return e?e.startsWith("http")?e:t+e:t},e.prototype.updateProductSearchResultsLocations=function(e,t){for(var o=0,n=e;o<n.length;o++){var r=n[o],i=r.productInfo,s=i.isLivebook,a=i.isLivevideo||i.isConference||i.isAuthorTalk,l=i.isLiveproject;i.link&&i.link.startsWith("http")||c.Z.isOnDevice&&s||(i.link=this.getAbsolutePath(t.client.marketplace,"/".concat(a?"livevideo":"books","/").concat(i.slug)));for(var u=0,p=r.results;u<p.length;u++){var d=p[u];if(d.link&&(d.link=c.Z.adaptLinkFormat(d.link),!d.link.startsWith("http")&&!d.link.startsWith("file://"))){var h=d.link||"",m=0==h.indexOf("books/")||0==h.indexOf("livevideo/")||0==h.indexOf("liveproject/");-1!=h.indexOf("#!/book=")&&(h=h.replace("#!/book=","/book/")),-1!=h.indexOf("/book=")&&(h=h.replace("/book=","/book/")),-1!=h.indexOf("book/search-")&&(h=h.replace("book/search-","book/")),s&&!m?c.Z.isOnDevice?d.link=h:d.link=this.getAbsolutePath(t.client.livebook,h):d.link=a&&!m?this.getAbsolutePath(t.client.livevideo,h):l&&!m?this.getAbsolutePath(t.client.pbc,h):this.getAbsolutePath(t.client.marketplace,h)}}}},e.prototype.getAbsolutePath=function(e,t){var o=e;return o.endsWith("/")||t.startsWith("/")||(o+="/"),o+t},e.prototype.convertLiveBookElementToTocItem=function(e,t){return e.link=this.updateTocRelativeLinkPath(e.link,t),new a.Z(e.id,e.title,e.link,this.convertLivebookSectionsToTocItems(e.sections,t),e.shortName)},e.prototype.convertLivebookSectionsToTocItems=function(e,t){var o=this;return e?e.map((function(e){return e.link=o.updateTocRelativeLinkPath(e.link,t),new a.Z(e.id,e.title,e.link,o.convertLivebookSubSectionsToTocItems(e.subsections,t))})):[]},e.prototype.convertLivebookSubSectionsToTocItems=function(e,t){var o=this;return e?e.map((function(e){return e.link=o.updateTocRelativeLinkPath(e.link,t),new a.Z(e.id,e.title,e.link,[])})):[]},e.prototype.getLivebookLocation=function(e){var t={elementTitle:"",slug:"",element:""};if(null==e)return t;var o=null,n=null;return e instanceof l.Y2?o=(n=e.parent.parent).parent:e instanceof l.gL?o=(n=e.parent).parent:e instanceof l.Ff?(n=e,o=e.parent):e instanceof l.CF&&(n=null!=(o=e).children&&o.children.length?o.children[0]:null),null!=o&&(t.slug=o.productInfo.slug),null!=n&&(t.element=n.shortName,t.elementTitle=n.elementTitle),t},e.prototype.insertSpecialResultsIfNecessary=function(e,t,o){var r=[];this.isSpecialSearch(t,"meap")&&r.push(s.Z.createSpecialMeapProduct()),(this.isSpecialSearch(t,"book")||this.isSpecialSearch(t,"live"))&&r.push(s.Z.createSpecialLivebookProduct()),(this.isSpecialSearch(t,"video")||this.isSpecialSearch(t,"live"))&&r.push(s.Z.createSpecialLivevideoProduct()),(this.isSpecialSearch(t,"project")||this.isSpecialSearch(t,"live"))&&r.push(s.Z.createSpecialLiveprojectProduct()),(this.isSpecialSearch(t,"manning")||this.isSpecialSearch(t,"home")||this.isSpecialSearch(t,"site"))&&r.push(s.Z.createSpecialManningSiteProduct()),this.isSpecialSearch(t,"forum")&&r.push(s.Z.createSpecialForumProduct()),this.isSpecialSearch(t,"contact")&&r.push(s.Z.createSpecialContactProduct()),this.isSpecialSearch(t,"support")&&r.push(s.Z.createSpecialSupportProduct()),this.isSpecialSearch(t,"news")&&r.push(s.Z.createSpecialNewsletterProduct()),(this.isSpecialSearch(t,"free")||this.isSpecialSearch(t,"content"))&&r.push(s.Z.createSpecialFreeContentProduct()),this.isSpecialSearch(t,"catalog")&&r.push(s.Z.createSpecialCatalogProduct()),(this.isSpecialSearch(t,"deal")||this.isSpecialSearch(t,"day"))&&r.push(s.Z.createSpecialDealOfTheDayProduct()),this.isSpecialSearch(t,"token")&&r.push(s.Z.createSpecialTokenProduct());for(var i=0,a=r;i<a.length;i++){var c=a[i];e.unshift(this.createSpecialProductResults(c,n.Z.createSpecialResult(c.title,c.link,c.description)))}},e.prototype.createSpecialProductResults=function(e,t){var o=new r(e.title,e.title,e.title);return o.productInfo=e,o.isSpecialProduct=!0,o.toc=null,o.score=5e4,o.results=[t],o},e.prototype.isSpecialSearch=function(e,t){return-1!==(e=e||"").toLowerCase().indexOf(t)},e}())},58641:(e,t,o)=>{"use strict";o.d(t,{A7:()=>c,ZP:()=>u,xm:()=>l});var n,r=o(97766),i=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},a=function(e,t){this.title=e,this.link=t},c=function(e){function t(t,o,n,r,i,s,a,c,l,u,p,d,h,m,f,g,b,v){var y=e.call(this,n,"")||this;return y.externalId=t,y.slug=o,y.authors=r,y.dateDescription=i,y.date=v,y.coverPath=s,y.isLivebook=a,y.isLivevideo=c,y.isLiveproject=l,y.link=u,y.marketplaceLink=p||u,y.isLiveaudio=d,y.isBundle=h,y.id=m,y.price=f,y.priceWithoutDiscount=g,y.tags=b,y.isBundle&&!y.externalId&&(y.externalId="b-".concat(y.id)),y}return i(t,e),t.prototype.getPrice=function(){return null!=this.productInfo&&this.productInfo.additionalProductInfo&&this.productInfo.additionalProductInfo.price?this.productInfo.additionalProductInfo.price:this.price},t.prototype.getPriceWithoutDiscount=function(){var e;return null!=this.productInfo&&this.productInfo.additionalProductInfo&&this.productInfo.additionalProductInfo.priceWithoutDiscount&&0==(null===(e=this.productInfo.liveProjects)||void 0===e?void 0:e.length)?this.productInfo.additionalProductInfo.priceWithoutDiscount:this.productInfo.contrivedPriceBeforeDiscount?this.productInfo.contrivedPriceBeforeDiscount:this.priceWithoutDiscount},t.fromProductInfo=function(e){var o=new t(e.externalId,e.slug,e.title,e.authors,e.dateDescription,r.Z.adjustCoverPath(e.coverPath,172,216),e.isLivebook,e.isLivevideo,e.isLiveproject,e.link,e.marketplaceLink,e.isLiveaudio,e.isBundle,e.id,e.price,e.priceWithoutDiscount,e.tags,e.date);return o.isSpecial=e.isSpecialProduct,o.subtitle=e.subtitle,o.productInfo=e,o.isEarlierEdition=e.isEarlierEdition,o},t.fromPlainObjects=function(e){return e.map((function(e){var o=new t(e.externalId,e.slug,e.title,e.authors,e.date,e.coverPath,e.isLivebook,e.isLivevideo,e.isLiveproject,e.link,e.marketplaceLink,e.isLiveaudio,e.isBundle,e.id,e.price,e.priceWithoutDiscount,e.tags,e.date);return o.subtitle=e.subtitle||"",o}))},t.findAll=function(e,t){var o=t.map((function(e){return e.externalId}));return e.filter((function(e){return o.indexOf(e.externalId)>=0}))},t}(a),l=function(e){function t(t,o,n){var r=e.call(this,t,"")||this;r.titleHtml=r.title,r.childConcepts=n||[],r.links=o||[],null!=r.links&&r.links.length>0&&(r.link=r.links[0].link),!r.link&&r.childConcepts.length>0&&(r.link=r.getMostGeneralChildConceptLink());for(var i=0,s=r.childConcepts;i<s.length;i++)s[i].parentConcept=r;return r}return i(t,e),t.prototype.getLevel=function(){for(var e=this.parentConcept,t=0;null!=e;)t++,e=e.parentConcept;return t},t.prototype.isLastChildAndWithoutChildren=function(){return null!=this.parentConcept&&null!=this.parentConcept.childConcepts&&!(null!=this.childConcepts&&this.childConcepts.length>0)&&this==this.parentConcept.childConcepts[this.parentConcept.childConcepts.length-1]},t.prototype.directlyContainsQuery=function(e){return-1!=this.title.toLowerCase().indexOf(e)},t.prototype.startsWithQuery=function(e){return 0==this.title.toLowerCase().indexOf(e)},t.prototype.getQueryExcess=function(e){var t=(e||"").toLowerCase(),o=this.title.toLowerCase().indexOf(t);return 0!=o?"":this.title.substring(o+e.length)},t.prototype.containsQuery=function(e){if(!e)return!1;var t=(e||"").toLowerCase();if(this.directlyContainsQuery(t))return!0;if(null!=this.childConcepts)for(var o=0,n=this.childConcepts;o<n.length;o++)if(n[o].containsQuery(e))return!0;return!1},t.prototype.ancestorDirectlyContainsQuery=function(e){if(!e)return!1;var t=(e||"").toLowerCase();if(-1!=this.title.toLowerCase().indexOf(t))return!0;for(var o=this.parentConcept;null!=o;){if(o.directlyContainsQuery(t))return!0;o=o.parentConcept}return!1},t.prototype.highlightQueryMatch=function(e){if(e){var t=this.title.toLowerCase().indexOf(e.toLowerCase());if(t>-1){var o=this.title.substring(0,t),n=this.title.substring(t,t+e.length),r=this.title.substring(t+e.length,this.title.length);this.titleHtml="".concat(o,"<strong>").concat(n,"</strong>").concat(r)}if(null!=this.childConcepts)for(var i=0,s=this.childConcepts;i<s.length;i++)s[i].highlightQueryMatch(e)}},t.prototype.getAllDescendants=function(){var e=[];if(null!=this.childConcepts)for(var t=0,o=this.childConcepts;t<o.length;t++){var n=o[t];e.push(n);for(var r=0,i=n.getAllDescendants();r<i.length;r++){var s=i[r];e.push(s)}}return e},t.flatten=function(e){for(var t=[],o=0,n=e;o<n.length;o++){var r=n[o];t.push(r);for(var i=0,s=r.getAllDescendants();i<s.length;i++){var a=s[i];t.push(a)}}return t},t.fromRawData=function(e){return null==e||0==e.length?[]:e.map((function(e){return t.itemFromRawData(e)}))},t.itemFromRawData=function(e){return new t(e.term,e.locations||[],t.fromRawData(e.children))},t.prototype.getMostGeneralChildConceptLink=function(){var e=this.childConcepts;if(null==e||0==e.length)return"";if(1==e.length)return e[0].link;for(var t=0,o=e;t<o.length;t++){var n=o[t],r=(n.title||"").toLowerCase();if("overview"==r||"description"==r)return n.link}return e[0].link},t.fromPlainObjects=function(e){return e.map((function(e){return t.fromPlainObject(e)}))},t.fromPlainObject=function(e){return new t(e.title,e.links,t.fromPlainObjects(e.childConcepts))},t.findAll=function(e,t){var o=t.map((function(e){return e.title})),n=t.map((function(e){return e.link}));return e.filter((function(e){return o.indexOf(e.title)>=0&&n.indexOf(e.link)>=0}))},t}(a);const u=function(){function e(e,t,o){this.productSuggestions=e,this.conceptSuggestions=t,this.displayedProductSuggestions=o}return e.prototype.getSuggestion=function(e){return this.productSuggestions.find((function(t){return t.title==e}))||this.conceptSuggestions.find((function(t){return t.title==e}))},e.prototype.getNextSuggestion=function(e){var t=s(s([],this.conceptSuggestions,!0),this.productSuggestions,!0);if(null==e)return t[0];var o=t.indexOf(e)+1;return o<t.length?t[o]:null},e.prototype.getPreviousSuggestion=function(e){var t=s(s([],this.conceptSuggestions,!0),this.productSuggestions,!0);if(null==e)return t[t.length-1];var o=t.indexOf(e)-1;return o>=0?t[o]:null},e.prototype.getFirstMatchingConceptExcess=function(e){if(this.isEmpty()||!e)return"";for(var t,o=e.toLowerCase(),n=0,r=this.conceptSuggestions;n<r.length;n++){var i=r[n];if(i.startsWithQuery(o)){t=i;break}}return t?t.getQueryExcess(e):""},e.createEmpty=function(){return new e([],[],[])},e.createCopy=function(t){return new e(t.productSuggestions.concat([]),t.conceptSuggestions.concat([]),t.displayedProductSuggestions.concat([]))},e.prototype.isEmpty=function(){return!(null!=this.conceptSuggestions&&0!=this.conceptSuggestions.length||null!=this.productSuggestions&&0!=this.productSuggestions.length)},e.convert=function(t){return new e(c.fromPlainObjects(t.productSuggestions),l.flatten(l.fromPlainObjects(t.conceptSuggestions)),c.fromPlainObjects(t.displayedProductSuggestions))},e.findAllMatching=function(t,o){return new e(c.findAll(t.productSuggestions,o.productSuggestions),l.findAll(t.conceptSuggestions,o.conceptSuggestions),c.findAll(t.displayedProductSuggestions,o.displayedProductSuggestions))},e.findMatching=function(e,t){return t?t.externalId?e.productSuggestions.find((function(e){return e.externalId==t.externalId})):e.conceptSuggestions.find((function(e){return e.title==t.title&&e.link==t.link})):null},e}()},19999:(e,t,o)=>{"use strict";o.d(t,{Z:()=>Be});var n=o(67294),r=o(94184),i=o.n(r),s=o(34670),a=o(93379),c=o.n(a),l=o(7795),u=o.n(l),p=o(90569),d=o.n(p),h=o(3565),m=o.n(h),f=o(19216),g=o.n(f),b=o(44589),v=o.n(b),y=o(34146),w={};w.styleTagTransform=v(),w.setAttributes=m(),w.insert=d().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=g(),c()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var k,x=o(92438),C=o(49448),E=o(30705),S=o(83763),T=o(94017),A=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),I=function(e){function t(t){var o=e.call(this,t)||this;return o.handleClick=o.handleClick.bind(o),o.scrollIntoView=o.scrollIntoView.bind(o),o}return A(t,e),t.prototype.scrollIntoView=function(){this.root&&this.root.scrollIntoView({behavior:"smooth",inline:"center"})},t.prototype.render=function(){var e=this,t=this.props.productTreeResult.productInfo,o="product";return t.isLivebook&&(o="book"),t.isLivevideo&&(o="video"),t.isLiveproject&&(o="project"),n.createElement("div",{className:i()("search-content-product-root",{selected:this.props.isSelected},{"selected-neighbour":this.props.isSelectedNeighbour}),onClick:this.handleClick,ref:function(t){return e.root=t}},n.createElement("div",{className:"search-content-product-cover-container"},n.createElement(S.Z,{placeholderImage:this.props.coverPlaceholder,imageDisplayType:C.R.Image,fullImage:this.props.productTreeResult.coverPath,className:"book-cover",height:92,width:74,alt:this.props.productTreeResult.productTitle,placeholderOnlyOnFail:!0,isLiveaudio:this.props.productTreeResult.isLiveaudio})),n.createElement("div",{className:"search-content-product-info-container"},n.createElement("div",{className:"search-content-product-title",title:this.props.productTreeResult.productTitle},this.props.productTreeResult.productTitle),n.createElement("div",{className:"search-content-product-description",dangerouslySetInnerHTML:{__html:E.Z.getDescriptionHtml(t)}}),T.u.userOwnsProduct(t.externalId||t.id)&&this.getPrice(t)>=0&&n.createElement("span",{className:"product-ownership-label"},"you own this ",o," ")))},t.prototype.getPrice=function(e){return null!=e&&e.additionalProductInfo&&e.additionalProductInfo.price?e.additionalProductInfo.price:0},t.prototype.handleClick=function(){this.props.onSelectSearchTreeItem&&this.props.onSelectSearchTreeItem(this.props.productTreeResult)},t}(n.Component),O=o(58386),P={};P.styleTagTransform=v(),P.setAttributes=m(),P.insert=d().bind(null,"head"),P.domAPI=u(),P.insertStyleElement=g(),c()(O.Z,P),O.Z&&O.Z.locals&&O.Z.locals;var R=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_=function(e){function t(t){var o=e.call(this,t)||this;return o.handleSelectSearchTreeItem=o.handleSelectSearchTreeItem.bind(o),o.handleOwnershipChange=o.handleOwnershipChange.bind(o),o.props.store.onOwnershipChanged(o.handleOwnershipChange),o}return R(t,e),t.prototype.render=function(){var e=this;this.selectedProduct=null;var t=this.props.productTreeResults,o=this.shouldEmphasizeFirstResult();return n.createElement("div",{className:"search-content-products-list-root search-scroll-area"},t.map((function(t,r){var i=e.isItemSelected(t),s=n.createElement(I,{key:t.id,productTreeResult:t,isSelected:i,ref:function(t){i&&(e.selectedProduct=t)},coverPlaceholder:e.props.coverPlaceholder,onSelectSearchTreeItem:e.handleSelectSearchTreeItem});return!o||r>0?s:n.createElement(n.Fragment,{key:"search-content-product-lists-current-product-messages"},n.createElement("div",{key:"search-content-product-lists-current-product-message",className:"search-content-products-list-message"},"results inside '",t.productTitle,"'"),s,n.createElement("div",{key:"search-content-product-lists-rest-products-message",className:"search-content-products-list-message-rest"},"results inside other products"))})))},t.prototype.shouldEmphasizeFirstResult=function(){return!(null==this.props.store.state.currentProduct||null==this.props.productTreeResults||this.props.productTreeResults.length<=1||!this.props.productTreeResults[0]||!this.props.productTreeResults[0].productInfo)&&this.props.productTreeResults[0].productInfo.id==this.props.store.state.currentProduct.id},t.prototype.componentDidMount=function(){this.hasBeenMounted=!0},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1},t.prototype.handleOwnershipChange=function(){this.hasBeenMounted&&this.forceUpdate()},t.prototype.handleSelectSearchTreeItem=function(e){this.props.onSelectSearchTreeItem&&this.props.onSelectSearchTreeItem(e)},t.prototype.isItemSelected=function(e){return null!=e&&null!=this.props.selectedProductTreeResult&&e.productId==this.props.selectedProductTreeResult.productId},t}(n.Component),N=o(56180),F=o(97766),L=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),M=function(e){function t(t){var o=e.call(this,t)||this;return o.toggle=o.toggle.bind(o),o.state={isOpen:o.props.intialIsOpen},o}return L(t,e),t.prototype.render=function(){var e=this,t=this.props.elementTreeResult,o=t.parent.isLiveProduct()&&t.hasChildrenWithResults();return n.createElement("div",{className:i()("search-toc-element-root",{selected:this.props.selectedSearchTreeItem==t})},n.createElement("div",{className:i()("search-toc-element-header-container",{open:this.state.isOpen})},n.createElement("div",{className:"search-toc-element-title-container",title:t.elementTitle,onClick:function(){return e.props.onTreeItemSelected(t)}},F.Z.cleanBookElementTitle(t.elementTitle,!1)||t.elementTitle),o&&n.createElement("div",{className:"search-toc-element-toggle-container"},n.createElement("button",{className:i()("search-toc-toggle-button",{active:this.state.isOpen}),onClick:this.toggle},n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99999 0.666656C3.9499 0.666656 0.666656 3.9499 0.666656 7.99999C0.666656 12.0501 3.9499 15.3333 7.99999 15.3333C12.0501 15.3333 15.3333 12.0501 15.3333 7.99999C15.3333 3.9499 12.0501 0.666656 7.99999 0.666656ZM1.66666 7.99999C1.66666 4.50219 4.50219 1.66666 7.99999 1.66666C11.4978 1.66666 14.3333 4.50219 14.3333 7.99999C14.3333 11.4978 11.4978 14.3333 7.99999 14.3333C4.50219 14.3333 1.66666 11.4978 1.66666 7.99999Z",fill:"currentColor"}),n.createElement("path",{d:"M7.15234 11.1367L10.1523 8.13672L7.15234 5.13672",fill:"currentColor"}),n.createElement("path",{d:"M7.15234 11.1367L10.1523 8.13672L7.15234 5.13672V11.1367Z",stroke:"currentColor",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))))),o&&n.createElement(N,{isOpened:this.state.isOpen},t.children.filter((function(e){return e.hasResults()})).map((function(t){return n.createElement("div",{key:t.subElementTitle,className:i()("search-toc-sub-element-title-container",{selected:t==e.props.selectedSearchTreeItem}),onClick:function(){return e.props.onTreeItemSelected(t)}},t.subElementTitle)}))))},t.prototype.toggle=function(){this.setState({isOpen:!this.state.isOpen})},t}(n.Component),D=o(55204),U={};U.styleTagTransform=v(),U.setAttributes=m(),U.insert=d().bind(null,"head"),U.domAPI=u(),U.insertStyleElement=g(),c()(D.Z,U),D.Z&&D.Z.locals&&D.Z.locals;var j=o(13410),Z=o(96168),B=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),z=function(e){function t(t){var o=e.call(this,t)||this;return o.toggle=o.toggle.bind(o),o.handleResize=o.handleResize.bind(o),o.handleSpacerClick=o.handleSpacerClick.bind(o),o.state={isOpen:window.innerWidth>E.Z.mobileBreakpoint,isDetailed:!1},o}return B(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.selectedProductTreeResult!=e.selectedProductTreeResult&&this.state.isDetailed&&this.setState({isDetailed:!1})},t.prototype.componentDidMount=function(){this.isComponentMounted=!0,window.addEventListener("resize",this.handleResize)},t.prototype.componentWillUnmount=function(){this.isComponentMounted=!1,window.removeEventListener("resize",this.handleResize)},t.prototype.render=function(){return null==this.props.selectedProductTreeResult||null===this.props.selectedProductTreeResult.children?null:n.createElement("div",{className:"search-toc-root"},n.createElement("div",{className:"search-toc-wrapper"},this.renderHeader(),this.renderContent()),n.createElement("div",{className:"scroll-area-top-background"}))},t.prototype.renderHeader=function(){if(void 0===this.props.selectedProductTreeResult.children||null==this.props.selectedTreeItem)return null;var e=(this.props.selectedProductTreeResult.children||[]).filter((function(e){return e.hasResults()})).length>1;return n.createElement("div",{className:"search-toc-header"},n.createElement("div",{className:"search-toc-header-title"},this.props.selectedTreeItem instanceof x.Ff?F.Z.cleanBookElementTitle(this.props.selectedTreeItem.elementTitle,!1):"all results"),e&&n.createElement("div",{className:"search-toc-element-toggle-container"},n.createElement("button",{className:i()("search-toc-toggle-button",{active:this.state.isOpen}),onClick:this.toggle},n.createElement("svg",{width:"24",height:"24",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99999 0.666656C3.9499 0.666656 0.666656 3.9499 0.666656 7.99999C0.666656 12.0501 3.9499 15.3333 7.99999 15.3333C12.0501 15.3333 15.3333 12.0501 15.3333 7.99999C15.3333 3.9499 12.0501 0.666656 7.99999 0.666656ZM1.66666 7.99999C1.66666 4.50219 4.50219 1.66666 7.99999 1.66666C11.4978 1.66666 14.3333 4.50219 14.3333 7.99999C14.3333 11.4978 11.4978 14.3333 7.99999 14.3333C4.50219 14.3333 1.66666 11.4978 1.66666 7.99999Z",fill:"currentColor"}),n.createElement("path",{d:"M7.15234 11.1367L10.1523 8.13672L7.15234 5.13672",fill:"currentColor"}),n.createElement("path",{d:"M7.15234 11.1367L10.1523 8.13672L7.15234 5.13672V11.1367Z",stroke:"currentColor",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})))))},t.prototype.renderContent=function(){if(void 0===this.props.selectedProductTreeResult.children)return n.createElement(s.Z,null);var e=this.getTocChildren(this.state.isDetailed);return 0!=e.length||this.state.isDetailed||(e=this.getTocChildren(!0)),n.createElement(N,{isOpened:this.state.isOpen},n.createElement("div",{className:"search-toc-content"},e),!j.Z.isTouch&&n.createElement(Z.Z,{effect:"solid",place:"left"}))},t.prototype.getTocChildren=function(e){for(var t=[],o=this.props.selectedProductTreeResult.children,r="",i=0;i<o.length;i++){var s=o[i];s.hasResults()||e?(t.push(n.createElement(M,{key:s.id+i,elementTreeResult:s,selectedSearchTreeItem:this.props.selectedTreeItem,onTreeItemSelected:this.props.onSearchTreeItemSelected})),r="toc-element"):"toc-element"==r&&(t.push(n.createElement("div",{"data-tip":"click for full toc",key:"spacer-".concat(i),className:"search-tree-spacer",onClick:this.handleSpacerClick},n.createElement("div",{className:"search-tree-spacer-item"}),n.createElement("div",{className:"search-tree-spacer-item"}),n.createElement("div",{className:"search-tree-spacer-item"}))),r="spacer")}return"spacer"==r&&t.pop(),t.length>1&&t.unshift(n.createElement("div",{key:"toc-border",className:"search-toc-border"})),t},t.prototype.handleSpacerClick=function(){this.setState({isDetailed:!0})},t.prototype.toggle=function(){this.setState({isOpen:!this.state.isOpen})},t.prototype.handleResize=function(){this.isComponentMounted&&!this.state.isOpen&&window.innerWidth>E.Z.mobileBreakpoint&&this.setState({isOpen:!0})},t}(n.Component),q=o(44642),H=o(88738),W=o(65605),V=o(31215),Q={};Q.styleTagTransform=v(),Q.setAttributes=m(),Q.insert=d().bind(null,"head"),Q.domAPI=u(),Q.insertStyleElement=g(),c()(V.Z,Q),V.Z&&V.Z.locals&&V.Z.locals;var G=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),K=function(e){function t(t){return e.call(this,t)||this}return G(t,e),t.prototype.render=function(){var e=this,t=this.props.productTreeResult,o=t.productInfo,r=F.Z.getShortTitle(o.title),s=E.Z.getAppropriateLinkFromProductInfo(o),a=null!=o&&null!=o.additionalProductInfo?o.additionalProductInfo.price:o.price,c=null!=o&&null!=o.additionalProductInfo?o.additionalProductInfo.priceWithoutDiscount:o.priceWithoutDiscount;return n.createElement("div",{className:i()("selected-product-info-root"),ref:function(t){return e.root=t}},null!=t.productInfo.additionalProductInfo&&t.productInfo.additionalProductInfo.rating>0&&n.createElement(H.i,{rating:t.productInfo.additionalProductInfo.rating}),n.createElement("div",{className:"selected-product-info-price-date"},a>0?n.createElement("span",{className:"selected-product-info-price"},c>a?n.createElement("span",{className:"selected-product-info-original-price"},"$",W.Z.formatMoney(c)):null,"$",W.Z.formatMoney(a),","):null," ",n.createElement("span",{className:""},o.dateDescription)),n.createElement("div",{className:"selected-product-info-title",title:r},n.createElement("a",{href:s},r)),n.createElement("div",{className:"selected-product-info-description",dangerouslySetInnerHTML:{__html:E.Z.getDescriptionHtml(o)}}))},t}(n.Component),X=o(41839),J=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Y=function(e){function t(t){var o=e.call(this,t)||this;return o.handleChange=o.handleChange.bind(o),o.props.store.onChange(o.handleChange),o.props.store.onFreePreviewStateChange(o.handleChange),o}return J(t,e),t.prototype.render=function(){var e=this.getLink();if(!e)return null;var t=this.getLinkText();return t?n.createElement("a",{className:"livebook-viewer-go-to-livebook-link",href:e,target:"_blank",dangerouslySetInnerHTML:{__html:t}}):null},t.prototype.getLinkText=function(){return this.props.store.isFreePreviewRunning?this.props.store.sourceApp==X.$X.livebook?"go to book":"read in <strong>livebook</strong>":this.props.store.sourceApp==X.$X.livebook?this.props.store.isUserLoggedIn?"go to book":"go to book and login for more preview":"login to livebook for more preview"},t.prototype.getLink=function(){var e=this.props.store.lastChapterLocation;return null==e?null:"https://livebook.manning.com/".concat(e.slug,"/").concat(e.element,"?origin=").concat(this.props.origin)},t.prototype.handleChange=function(){this.hasBeenMounted&&this.forceUpdate()},t.prototype.componentDidMount=function(){this.hasBeenMounted=!0},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1},t}(n.Component),$=o(17013),ee={};ee.styleTagTransform=v(),ee.setAttributes=m(),ee.insert=d().bind(null,"head"),ee.domAPI=u(),ee.insertStyleElement=g(),c()($.Z,ee),$.Z&&$.Z.locals&&$.Z.locals;var te=o(98711),oe=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ne={lastUnmountedSelectedTreeItem:null,scrollOffset:0},re=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o.handleScroll=o.handleScroll.bind(o),o.handleRootRef=o.handleRootRef.bind(o),o}return oe(t,e),t.prototype.render=function(){var e=this;return null==this.props.selectedTreeItem?null:n.createElement("div",{className:"search-results-list-wrapper",ref:this.handleRootRef},n.createElement("ul",{className:i()("search-results-list",{"search-scroll-area":this.props.isScrollArea}),onScroll:this.handleScroll},n.createElement("li",{key:"heading",className:"search-results-list-heading search-result-item"},n.createElement("strong",null,"showing ",this.props.productTreeItem==this.props.selectedTreeItem?"all":""," results in ",this.getPreciseLocationDescription())),this.props.selectedTreeItem.results.map((function(t){return n.createElement("li",{key:t.id,className:"search-result-item"},n.createElement("div",{className:"search-result-item-header"},e.generateBreadcrumbs(t)),n.createElement("a",{className:e.props.overrideLinkClicks?"dont-propagate-click":"",href:t.link,dangerouslySetInnerHTML:{__html:e.getResultHtml(t)},onClick:function(o){return e.handleResultListClick(o,t)}}))}))))},t.prototype.getResultHtml=function(e){return E.Z.getResultHtml(e)},t.prototype.getPreciseLocationDescription=function(){return null==this.props.selectedTreeItem?"":this.props.selectedTreeItem==this.props.productTreeItem?n.createElement("em",null,this.props.productTreeItem.productTitle):this.props.selectedTreeItem.name?this.props.selectedTreeItem.name:""},t.prototype.handleRootRef=function(e){if(this.root=e,this.annotatedCodeListings=new te.Z(this.root),null!=this.root&&this.props.isScrollArea&&null!=ne.lastUnmountedSelectedTreeItem&&ne.lastUnmountedSelectedTreeItem==this.props.selectedTreeItem){var t=e.querySelector(".search-scroll-area");null!=t&&(t.scrollTop=ne.scrollOffset)}},t.prototype.handleScroll=function(e){ne.scrollOffset=e.target.scrollTop},t.prototype.componentDidMount=function(){},t.prototype.componentWillUnmount=function(){ne.lastUnmountedSelectedTreeItem=this.props.selectedTreeItem},t.prototype.generateBreadcrumbs=function(e){var t=[],o=this.props.selectedTreeItem;if(o instanceof x.CF){var r=this.getMaxWidth(1+(e.indexTerm?1:0)+(e.subElementTitle?1:0)+(e.subSubElementTitle?1:0));t=[e.elementTitle&&n.createElement("span",{className:"result-item-book-element-link",style:{maxWidth:r},title:e.elementTitle,key:"1"},e.elementTitle.replace("Chapter ","")),e.subElementTitle&&n.createElement("span",{className:"result-item-book-element-link",style:{maxWidth:r},title:e.subElementTitle,key:"2"},e.subElementTitle)]}else o instanceof x.Ff?(r=this.getMaxWidth((e.indexTerm?1:0)+(e.subElementTitle?1:0)+(e.subSubElementTitle?1:0)),t=[e.subElementTitle&&n.createElement("span",{className:"result-item-book-element-link",style:{maxWidth:r},title:e.subElementTitle,key:"1"},e.subElementTitle)]):o instanceof x.gL?(r=this.getMaxWidth((e.indexTerm?1:0)+(e.subSubElementTitle?1:0)),t=[e.subSubElementTitle&&n.createElement("span",{className:"result-item-book-element-link",style:{maxWidth:r},title:e.subSubElementTitle,key:"2"},e.subSubElementTitle)]):o instanceof x.Y2&&(t=[]);return t},t.prototype.getMaxWidth=function(e){var t="100%";return 2==e?t="calc(50% - 1em - 25px)":3==e?t="calc(33% - 1em - 18px)":4==e&&(t="calc(25% - 1em - 15px)"),t},t.prototype.getResultTypeLabel=function(e){var t="";switch((e.productType||"").toLowerCase()){case"livebook":t="livebook";break;case"livevideo":t="livevideo";break;default:t="product"}return this.props.sourceApp==X.$X.marketplace&&"product"==t||this.props.sourceApp==X.$X.livebook&&"livebook"==t||this.props.sourceApp==X.$X.livevideo&&"livevideo"==t?null:n.createElement("span",{key:"label-".concat(e.id),className:"".concat(t,"-label")},t)},t.prototype.handleResultListClick=function(e,t){if(!this.props.overrideLinkClicks)return!0;var o=this.getMatchingElementTreeResult(t);return null==o?(window.open(t.link,"_blank"),!0):(this.props.onLivebookLocationUpdate(o,{slug:null!=o.parent.productInfo?o.parent.productInfo.slug:"",element:o.shortName,elementTitle:o.elementTitle,location:this.getRefIdFromLink(t.link)}),e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),!1)},t.prototype.getRefIdFromLink=function(e){if(!e)return"1";var t=(e||"").lastIndexOf("search-");return-1==t?"1":(e||"").substring(t).substring("search-".length)||""},t.prototype.getMatchingElementTreeResult=function(e){var t=this.props.productTreeItem;if(null==t||null==e||!e.elementTitle)return null;for(var o=0,n=t.children;o<n.length;o++){var r=n[o];if((r.elementTitle||"").replace(/[\W_]+/g,"").toLowerCase().replace("chapter","").replace("appendix","")==(e.elementTitle||"").replace(/[\W_]+/g,"").toLowerCase().replace("chapter","").replace("appendix",""))return r}return null},t}(n.Component),ie=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),se=function(e){function t(t){var o=e.call(this,t)||this;return o.scrollLimit=140,o.handlePossibleSearchStoreUpdate=o.handlePossibleSearchStoreUpdate.bind(o),o.handleLivebookViewerStoreUpdate=o.handleLivebookViewerStoreUpdate.bind(o),o.updateSelectedTreeItem=o.updateSelectedTreeItem.bind(o),o.handleScroll=o.handleScroll.bind(o),o.updateLivebookLocation=o.updateLivebookLocation.bind(o),o.state=o.constructStateFromProps(t),o.updateLivebookViewerStore(),o}return ie(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.shouldUpdateOccur(this.props.store.state,e.store.state)},t.prototype.handlePossibleSearchStoreUpdate=function(e,t){this.shouldUpdateOccur(e,t)&&this.forceUpdate()},t.prototype.shouldUpdateOccur=function(e,t){return this.componentHasBeenMounted},t.prototype.componentDidMount=function(){this.componentHasBeenMounted=!0,this.props.store.onPropertyChanged(this.handlePossibleSearchStoreUpdate),this.props.store.livebookViewerStore.onChange(this.handleLivebookViewerStoreUpdate)},t.prototype.componentWillUnmount=function(){this.componentHasBeenMounted=!1,this.removeSearchContentTabClasses(),this.props.store.offPropertyChanged(this.handlePossibleSearchStoreUpdate),this.props.store.livebookViewerStore.offChange(this.handleLivebookViewerStoreUpdate)},t.prototype.UNSAFE_componentWillUpdate=function(){this.removeSearchContentTabClasses()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState(this.constructStateFromProps(e)),this.updateLivebookViewerStore()},t.prototype.render=function(){var e=this,t=this.props.store.state;return t.isWaitingForResults?(this.searchContentProductsList=null,t.query?n.createElement("div",{className:"search-content-tab-root"},n.createElement(s.Z,null)):n.createElement("div",{className:"search-initial-message-container"},"Type in the search bar to find anything")):t.errorMessage?(this.searchContentProductsList=null,n.createElement("div",{className:"search-initial-message-container search-message-container search-error-container"},t.errorMessage)):t.productTreeResults?0===t.productTreeResults.length?(this.searchContentProductsList=null,n.createElement("div",{className:"search-initial-message-container search-message-container"},"Search query yielded no results.")):n.createElement("div",{className:"search-content-tab-root"},n.createElement(_,{store:this.props.store,productTreeResults:this.props.store.state.productTreeResults,selectedProductTreeResult:this.state.selectedProductTreeResults,coverPlaceholder:this.props.store.coverPlaceholder,onSelectSearchTreeItem:this.updateSelectedTreeItem,ref:function(t){return e.searchContentProductsList=t}}),n.createElement("div",{className:"search-content-tab-body",onScroll:this.handleScroll},n.createElement(K,{productTreeResult:this.state.selectedProductTreeResults}),n.createElement(z,{selectedProductTreeResult:this.state.selectedProductTreeResults,selectedTreeItem:this.getLastSelectedTreeItem(),onSearchTreeItemSelected:this.updateSelectedTreeItem}),this.renderSearchResults())):(this.searchContentProductsList=null,n.createElement("div",null))},t.prototype.renderSearchResults=function(){var e=this.getLastSelectedTreeItem();return this.state.selectedProductTreeResults.isLivebook()?e instanceof x.CF?n.createElement(re,{isScrollArea:!0,sourceApp:this.props.store.sourceApp,selectedTreeItem:e,productTreeItem:this.state.selectedProductTreeResults,overrideLinkClicks:this.shouldProcessResultListClicks(),onLivebookLocationUpdate:this.updateLivebookLocation}):n.createElement("div",{className:"search-content-tab-livebook-viewer-wrapper"},n.createElement(q.Z,{className:"search-scroll-area",store:this.props.store.livebookViewerStore,freePreview:!0},n.createElement(re,{isScrollArea:!1,sourceApp:this.props.store.sourceApp,selectedTreeItem:e,productTreeItem:this.state.selectedProductTreeResults,overrideLinkClicks:this.shouldProcessResultListClicks(),onLivebookLocationUpdate:this.updateLivebookLocation}),";"),n.createElement(Y,{store:this.props.store.livebookViewerStore,origin:"search"})):n.createElement(re,{isScrollArea:!0,sourceApp:this.props.store.sourceApp,selectedTreeItem:e,productTreeItem:this.state.selectedProductTreeResults,overrideLinkClicks:this.shouldProcessResultListClicks(),onLivebookLocationUpdate:this.updateLivebookLocation})},t.prototype.updateLivebookLocation=function(e,t){this.setState({selectedElementTreeResult:e,selectedSubElementTreeResult:null}),this.updateLivebookViewerStore(t.location),this.props.store.livebookViewerStore.loadChapterInFreePreview(t,E.Z.getEmphasizedWords(this.state.selectedProductTreeResults),t.location)},t.prototype.handleLivebookViewerStoreUpdate=function(){var e=document.querySelector(".search-root");if(null!=e){var t=this.props.store.livebookViewerStore.lastChapterLocation,o=this.getLastSelectedTreeItem();if(null==t||!this.state.selectedProductTreeResults.isLivebook()||o instanceof x.CF)return e.classList.remove("is-showing-livebook-viewer"),null;e.classList.add("is-showing-livebook-viewer")}},t.prototype.removeSearchContentTabClasses=function(){var e=document.querySelector(".search-root");null!=e&&e.classList.remove("is-showing-livebook-viewer")},t.prototype.shouldProcessResultListClicks=function(){return!(null==this.state||null==this.state.selectedProductTreeResults||!this.state.selectedProductTreeResults.isLivebook())},t.prototype.constructStateFromProps=function(e){var t=e.store.state.productTreeResults;if(null==t||0==t.length)return{selectedProductTreeResults:null,selectedElementTreeResult:null,selectedSubElementTreeResult:null};var o=e.store.state.productTreeResults[0];if(null!=e.store.state.currentProduct){var n=e.store.state.currentProduct.externalId,r=t.find((function(e){return e.productId==n}));null!=r&&(o=r)}return this.fetchProductAdditionalInfoIfNecessary(o),{selectedProductTreeResults:o||t[0],selectedElementTreeResult:null,selectedSubElementTreeResult:null}},t.prototype.fetchProductAdditionalInfoIfNecessary=function(e){var t=this;return null!=this.getFullProductTreeResultsPromise&&this.getFullProductTreeResultsPromise.cancel(),null==e||e.children?Promise.resolve(!0):null!=e.productSearchResults&&e.productSearchResults.isSpecialProduct?(e.children=[],Promise.resolve(!0)):new Promise((function(o,n){t.getFullProductTreeResultsPromise=t.props.store.getFullProductTreeResults(e),t.getFullProductTreeResultsPromise.then((function(e){t.getFullProductTreeResultsPromise=null,t.componentHasBeenMounted&&t.forceUpdate(),o(!0)})).catch((function(e){t.getFullProductTreeResultsPromise=null,t.componentHasBeenMounted&&t.forceUpdate(),o(!1)}))}))},t.prototype.getLastSelectedTreeItem=function(){var e=this.state;return e.selectedSubElementTreeResult||e.selectedElementTreeResult||e.selectedProductTreeResults},t.prototype.resetToCurrentProductTreeResults=function(){this.updateSelectedTreeItem(null)},t.prototype.updateSelectedTreeItem=function(e){e instanceof x.gL?(this.setState({selectedSubElementTreeResult:e}),this.updateLivebookViewerStore("Intro"==e.name?"1":E.Z.extractLinkReference(e.link))):e instanceof x.Ff?(this.setState({selectedElementTreeResult:e,selectedSubElementTreeResult:null}),this.updateLivebookViewerStore(E.Z.extractLinkReference(e.results&&e.results[0]&&e.results[0].link))):e instanceof x.CF?(this.setState({selectedProductTreeResults:e,selectedElementTreeResult:null,selectedSubElementTreeResult:null}),this.fetchProductAdditionalInfoIfNecessary(e),this.updateLivebookViewerStore()):null==e&&this.setState({selectedElementTreeResult:null,selectedSubElementTreeResult:null})},t.prototype.updateLivebookViewerStore=function(e){var t=this;void 0===e&&(e=""),setTimeout((function(){var o=t.getLastSelectedTreeItem();t.props.store.livebookViewerStore.loadChapterInFreePreview(E.Z.getLivebookLocation(o),E.Z.getEmphasizedWords(t.state.selectedProductTreeResults),e)}),16)},t.prototype.handleScroll=function(e){var t=e.target,o=t.scrollTop;(this.lastScrollTop||0)<=this.scrollLimit&&o>this.scrollLimit?t.classList.add("scroll-top-background-shown"):o<this.scrollLimit&&this.lastScrollTop>=this.scrollLimit&&t.classList.remove("scroll-top-background-shown"),this.lastScrollTop=o},t}(n.Component),ae=o(26301),ce=o(12793),le={};le.styleTagTransform=v(),le.setAttributes=m(),le.insert=d().bind(null,"head"),le.domAPI=u(),le.insertStyleElement=g(),c()(ce.Z,le),ce.Z&&ce.Z.locals&&ce.Z.locals;var ue=o(58975),pe={};pe.styleTagTransform=v(),pe.setAttributes=m(),pe.insert=d().bind(null,"head"),pe.domAPI=u(),pe.insertStyleElement=g(),c()(ue.Z,pe),ue.Z&&ue.Z.locals&&ue.Z.locals;var de=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),he=function(e){function t(t){var o=e.call(this,t)||this;return o.toggle=o.toggle.bind(o),o.state={isOpen:o.props.initialIsOpen},o}return de(t,e),t.prototype.render=function(){var e=this;return n.createElement("div",{className:i()("search-filters-group-root",{"has-heading":!this.props.hideHeading})},!this.props.hideHeading&&n.createElement("div",{className:i()("search-filters-group-heading","search-filters-group-heading-".concat((this.props.categoryTitle||"").replace(/\s+/,"-")))},n.createElement("div",null,this.props.categoryTitle),n.createElement("button",{className:i()("search-filter-toggle-button",{active:this.state.isOpen}),onClick:this.toggle},n.createElement("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M3.57556 6L0.111461 -1.75695e-07L7.03966 4.29987e-07L3.57556 6Z",fill:"#828282"})))),n.createElement(N,{isOpened:this.state.isOpen},n.createElement("div",{className:"search-filters-group-items-container"},this.props.searchFilters.map((function(t){return n.createElement("div",{key:t.label,className:"search-filters-group-item",onClick:function(o){return e.handleSearchFilterClick(t)}},n.createElement("div",null,n.createElement("input",{type:"checkbox",checked:e.isSelected(t),onChange:function(e){}}),n.createElement("span",{className:"search-filters-group-label"},t.label)),n.createElement("span",{className:"search-filters-group-count"},t.resultCount))})))))},t.prototype.shouldComponentUpdate=function(e,t){return this.props.alwaysUpdate||this.props.categoryTitle!=e.categoryTitle||this.props.searchFilters!=e.searchFilters||this.props.selectedSearchFilters!=e.selectedSearchFilters||this.state.isOpen!=t.isOpen},t.prototype.handleSearchFilterClick=function(e){this.props.onSelectionChange&&this.props.onSelectionChange(e,!this.isSelected(e))},t.prototype.isSelected=function(e){return null!=this.props.selectedSearchFilters&&0!=this.props.selectedSearchFilters.length&&null!=e&&null!=this.props.selectedSearchFilters.find((function(t){return t.label==e.label}))},t.prototype.toggle=function(){this.setState({isOpen:!this.state.isOpen})},t}(n.Component),me=o(4894),fe={};fe.styleTagTransform=v(),fe.setAttributes=m(),fe.insert=d().bind(null,"head"),fe.domAPI=u(),fe.insertStyleElement=g(),c()(me.Z,fe),me.Z&&me.Z.locals&&me.Z.locals;var ge=o(94502),be=(o(13541),function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}()),ve=(0,ge.ZP.createSliderWithTooltip)(ge.ZP.Range),ye=function(e){function t(t){var o=e.call(this,t)||this;return o.toggle=o.toggle.bind(o),o.handleRangeChange=o.handleRangeChange.bind(o),o.state={isOpen:!1},o}return be(t,e),t.prototype.render=function(){var e,t=Math.floor(this.props.priceFilter.lowerBound),o=Math.ceil(this.props.priceFilter.upperBound),r=Math.floor(this.props.priceFilter.min),s=Math.ceil(this.props.priceFilter.max);return n.createElement("div",{className:"search-filters-group-root has-heading"},n.createElement("div",{className:"search-filters-group-heading"},n.createElement("div",null,"price"),n.createElement("button",{className:i()("search-filter-toggle-button",{active:this.state.isOpen}),onClick:this.toggle},n.createElement("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M3.57556 6L0.111461 -1.75695e-07L7.03966 4.29987e-07L3.57556 6Z",fill:"#828282"})))),n.createElement(N,{isOpened:this.state.isOpen},n.createElement("div",{className:"search-filters-range-container"},n.createElement(ve,{min:r,max:s,defaultValue:[t,o],tipFormatter:function(e){return"$".concat(e)},marks:(e={},e[t]="$".concat(t),e[o]="$".concat(o),e),onAfterChange:this.handleRangeChange}),n.createElement("div",{className:"search-filters-range-limits-container"},t>r+10?n.createElement("span",{className:"search-filter-range-lower"},"$",r):null,o<s-10?n.createElement("span",{className:"search-filter-range-upper"},"$",s):null))))},t.prototype.toggle=function(){this.setState({isOpen:!this.state.isOpen})},t.prototype.handleRangeChange=function(e){this.props.onPriceRangeChange(Math.min.apply(Math,e),Math.max.apply(Math,e))},t}(n.Component),we=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ke=function(e){function t(t){var o=e.call(this,t)||this;return o.toggle=o.toggle.bind(o),o.onRatingChange=o.onRatingChange.bind(o),o.state={isOpen:!1},o}return we(t,e),t.prototype.render=function(){return n.createElement("div",{className:"search-filters-group-root has-heading"},n.createElement("div",{className:"search-filters-group-heading"},n.createElement("div",null,"customer rating"),n.createElement("button",{className:i()("search-filter-toggle-button",{active:this.state.isOpen}),onClick:this.toggle},n.createElement("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M3.57556 6L0.111461 -1.75695e-07L7.03966 4.29987e-07L3.57556 6Z",fill:"#828282"})))),n.createElement(N,{isOpened:this.state.isOpen},n.createElement("div",{className:"search-filters-rating-container"},n.createElement(H.i,{rating:this.props.ratingFilter.minimumRating,onRatingChange:this.onRatingChange}))))},t.prototype.toggle=function(){this.setState({isOpen:!this.state.isOpen})},t.prototype.onRatingChange=function(e){this.props.onRatingChange(e)},t}(n.Component),xe=o(15648),Ce=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ee=function(e){function t(t){var o=e.call(this,t)||this;return o.handleSelectionChange=o.handleSelectionChange.bind(o),o.handlePriceRangeChange=o.handlePriceRangeChange.bind(o),o.handleRatingChange=o.handleRatingChange.bind(o),o}return Ce(t,e),t.prototype.render=function(){var e=null!=this.props.categoryFilters&&this.props.categoryFilters.length>0,t=null!=this.props.productTypeFilters&&this.props.productTypeFilters.length>0,o=null!=this.props.priceFilter,r=null!=this.props.ratingsFilter;return n.createElement("div",{className:"search-filters-root"},n.createElement(xe.f,{icon:"fa fa-filter",title:"filter",onClose:this.props.store.toggleShowFilter},e&&n.createElement(he,{initialIsOpen:!0,categoryTitle:"category",hideHeading:!0,onSelectionChange:this.handleSelectionChange,searchFilters:this.props.categoryFilters,selectedSearchFilters:this.props.selectedSearchFilters}),t&&n.createElement(he,{initialIsOpen:!0,categoryTitle:"product type",onSelectionChange:this.handleSelectionChange,searchFilters:this.props.productTypeFilters,selectedSearchFilters:this.props.selectedSearchFilters}),o&&n.createElement(ye,{priceFilter:this.props.priceFilter,onPriceRangeChange:this.handlePriceRangeChange}),r&&n.createElement(ke,{ratingFilter:this.props.ratingsFilter,onRatingChange:this.handleRatingChange})))},t.prototype.handleSelectionChange=function(e,t){this.props.onSearchFilterSelectionChange&&this.props.onSearchFilterSelectionChange(e,t)},t.prototype.handlePriceRangeChange=function(e,t){this.props.onPriceRangeChange(e,t)},t.prototype.handleRatingChange=function(e){this.props.onRatingChange(e)},t}(n.Component),Se=o(54711),Te={};Te.styleTagTransform=v(),Te.setAttributes=m(),Te.insert=d().bind(null,"head"),Te.domAPI=u(),Te.insertStyleElement=g(),c()(Se.Z,Te),Se.Z&&Se.Z.locals&&Se.Z.locals;var Ae=o(59159),Ie=o(67790),Oe={};Oe.styleTagTransform=v(),Oe.setAttributes=m(),Oe.insert=d().bind(null,"head"),Oe.domAPI=u(),Oe.insertStyleElement=g(),c()(Ie.Z,Oe),Ie.Z&&Ie.Z.locals&&Ie.Z.locals;var Pe=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Re=function(e){function t(t){var o=e.call(this,t)||this;return o.handleClick=o.handleClick.bind(o),o}return Pe(t,e),t.prototype.render=function(){var e=this.props.store.state.sortOrder;return n.createElement("div",{className:"search-sort-root"},n.createElement(xe.f,{title:"sort",icon:"fa fa-sort-alt",onClose:this.props.store.toggleShowSort},n.createElement("ul",null,n.createElement("li",{className:i()({selected:e==ae.As.BestMatch}),onClick:this.handleClick},"default"),n.createElement("li",{className:i()({selected:e==ae.As.NewestFirst}),onClick:this.handleClick},"newest"),n.createElement("li",{className:i()({selected:e==ae.As.PriceFromLowest}),onClick:this.handleClick},"lowest price"),n.createElement("li",{className:i()({selected:e==ae.As.PriceFromHighest}),onClick:this.handleClick},"highest price"))))},t.prototype.handleClick=function(e){switch(e.target.textContent){case"lowest price":this.props.store.changeSortOrder(ae.As.PriceFromLowest);break;case"highest price":this.props.store.changeSortOrder(ae.As.PriceFromHighest);break;case"newest":this.props.store.changeSortOrder(ae.As.NewestFirst);break;default:this.props.store.changeSortOrder(ae.As.BestMatch)}},t}(n.Component),_e=o(38797),Ne=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fe=function(e){function t(t){var o=e.call(this,t)||this;return o.handleSearchFilterSelectionChange=o.handleSearchFilterSelectionChange.bind(o),o.handleSortChange=o.handleSortChange.bind(o),o.handleFilterButtonClick=o.handleFilterButtonClick.bind(o),o.handlePriceRangeChange=o.handlePriceRangeChange.bind(o),o.handleRatingChange=o.handleRatingChange.bind(o),o.handlePossibleSearchStoreUpdate=o.handlePossibleSearchStoreUpdate.bind(o),o.handlePossibleAutocompleteStoreUpdate=o.handlePossibleAutocompleteStoreUpdate.bind(o),o.handleProductSelected=o.handleProductSelected.bind(o),o.handleOwnershipChanged=o.handleOwnershipChanged.bind(o),o.props.store.onPropertyChanged(o.handlePossibleSearchStoreUpdate),o.props.store.autocompleteStore.onPropertyChanged(o.handlePossibleAutocompleteStoreUpdate),o.props.store.onOwnershipChanged(o.handleOwnershipChanged),o}return Ne(t,e),t.prototype.componentDidMount=function(){this.hasBeenMounted=!0},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1},t.prototype.render=function(){if(!this.props.store.state.hasAutocompleteProductsInfo)return this.props.store.state.query?this.renderLoadingSpinner():n.createElement("div",{className:"search-initial-message-container search-message-container"},"Type in the search bar to find anything");if(!this.props.store.state.query)return n.createElement("div",{className:"search-initial-message-container search-message-container"},"Type in the search bar to find anything");var e=this.props.store.autocompleteStore.state.autocompleteSuggestions.displayedProductSuggestions;if(null==e||0==e.length&&this.props.store.state.query&&this.props.store.autocompleteStore){if(this.props.store.state.isTyping)return this.renderLoadingSpinner();if(0==this.props.store.autocompleteStore.state.autocompleteSuggestions.productSuggestions.length)return n.createElement("div",{className:"search-initial-message-container search-message-container"},"No results found for query: ",n.createElement("strong",null,"'",this.props.store.state.query,"'"),". Try a different query or visit our ",n.createElement("a",{href:"https://www.manning.com/catalog"},"catalog"),".")}return n.createElement("div",{className:"search-products-tab-root"},this.props.store.state.isShowingFilter&&n.createElement(Ee,{categoryFilters:this.props.store.state.availableCategorySearchFilters,ratingsFilter:this.props.store.state.ratingSearchFilter,priceFilter:this.props.store.state.priceSearchFilter,productTypeFilters:this.props.store.state.availableProductTypeSearchFilers,selectedSearchFilters:this.props.store.state.selectedSearchFilters,onSearchFilterSelectionChange:this.handleSearchFilterSelectionChange,onPriceRangeChange:this.handlePriceRangeChange,onRatingChange:this.handleRatingChange,show:this.props.store.state.isShowingFilter,store:this.props.store}),this.props.store.state.isShowingSort&&n.createElement(Re,{store:this.props.store}),this.renderProductResults(e))},t.prototype.renderLoadingSpinner=function(){return n.createElement("div",{style:{textAlign:"center",marginTop:"20px"},className:"search-loading"},n.createElement("i",{className:"fa fa-circle-notch fa-spin fa-3x fa-fw"}))},t.prototype.renderProductResults=function(e){return n.createElement(Ae.n,{products:E.Z.convertProductSuggestionToProductDescription(e,this.props.store.state.query),coverPlaceholder:this.props.store.coverPlaceholder,emphasizedWord:this.props.store.state.query,onProductSelected:this.handleProductSelected,additionalInfoType:_e.Pb.Rating,isCertificateFullyReleased:this.props.store.isCertificateFullyReleased})},t.prototype.handleProductSelected=function(e){var t=this.props.store.autocompleteStore.state.autocompleteSuggestions.displayedProductSuggestions;this.props.store.openSuggestion(t.find((function(t){return t.id==e.id})))},t.prototype.handleSearchFilterSelectionChange=function(e,t){void 0===t&&(t=!1),this.hasBeenMounted&&this.props.store.changeSearchFilterSelection(e,t)},t.prototype.handleOwnershipChanged=function(){this.hasBeenMounted&&this.forceUpdate()},t.prototype.handlePossibleSearchStoreUpdate=function(e,t){this.hasBeenMounted&&(e.selectedSearchFilters==t.selectedSearchFilters&&e.availableCategorySearchFilters==t.availableCategorySearchFilters&&e.priceSearchFilter==t.priceSearchFilter&&e.ratingSearchFilter==t.ratingSearchFilter&&e.availableProductTypeSearchFilers==t.availableProductTypeSearchFilers&&e.sortOrder==t.sortOrder&&e.hasAutocompleteProductsInfo==t.hasAutocompleteProductsInfo&&e.isTyping==t.isTyping&&e.isShowingFilter==t.isShowingFilter||this.forceUpdate())},t.prototype.handlePossibleAutocompleteStoreUpdate=function(e,t){this.hasBeenMounted&&(e.autocompleteSuggestions.productSuggestions==t.autocompleteSuggestions.productSuggestions&&e.autocompleteSuggestions.displayedProductSuggestions==t.autocompleteSuggestions.displayedProductSuggestions||this.forceUpdate())},t.prototype.handleSortChange=function(e){this.hasBeenMounted&&this.props.store.changeSortOrder(parseInt(e.currentTarget.value))},t.prototype.handleFilterButtonClick=function(){this.props.store.toggleShowFilter()},t.prototype.handlePriceRangeChange=function(e,t){this.props.store.updatePriceRange(e,t)},t.prototype.handleRatingChange=function(e){this.props.store.updateRating(e)},t}(n.Component),Le=o(46884),Me=o(73321),De={};De.styleTagTransform=v(),De.setAttributes=m(),De.insert=d().bind(null,"head"),De.domAPI=u(),De.insertStyleElement=g(),c()(Me.Z,De),Me.Z&&Me.Z.locals&&Me.Z.locals;var Ue=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),je=function(e){function t(t){var o=e.call(this,t)||this;return o.handleInputChange=o.handleInputChange.bind(o),o.handleStoreChange=o.handleStoreChange.bind(o),o.handleSuggestionClick=o.handleSuggestionClick.bind(o),o.handleAskClick=o.handleAskClick.bind(o),o.handleKeyDown=o.handleKeyDown.bind(o),o.handleRootRef=o.handleRootRef.bind(o),o.handleLinkClick=o.handleLinkClick.bind(o),o}return Ue(t,e),t.prototype.componentDidMount=function(){this.hasBeenMounted=!0,this.props.store.onAskManningChanged(this.handleStoreChange)},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1,this.props.store.offAskManningChanged(this.handleStoreChange)},t.prototype.render=function(){var e=this,t=this.props.store.state.askManning;return n.createElement("div",{className:"ask-manning-root",ref:this.handleRootRef},n.createElement("div",{className:"close-button",onClick:function(){return e.props.store.closeMenu()}},n.createElement("i",{className:"fa fa-times"})),n.createElement("div",{className:"ask-manning-search-wrapper"},n.createElement("div",{className:"ask-manning-search-container"},n.createElement("input",{type:"text",placeholder:"have a question? ASK Manning here...",value:t.query,disabled:t.isProcessing,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown}),n.createElement("button",{disabled:t.isProcessing,onClick:this.handleAskClick},t.isProcessing?n.createElement("i",{className:"fa fa-circle-notch fa-spin"}):"ASK")),n.createElement("div",{className:"ask-manning-info-container"},null!=this.props.store.state.currentProduct?"we'll search this title to answer your question":"we'll search our titles to answer your question")),n.createElement("div",{className:"ask-manning-suggestions-results-wrapper"},n.createElement("div",{className:"ask-manning-suggestions-results-container"},this.renderSuggestionsResultsContainer())))},t.prototype.handleRootRef=function(e){if(null!=e){var t=e.querySelector("input[type='text']");null==t||j.Z.isTouch||t.focus()}},t.prototype.renderSuggestionsResultsContainer=function(){var e=this.props.store.state.askManning;return e.isProcessing?n.createElement(s.Z,null):null==e.results||0==e.results.length?this.renderSuggestions():this.renderAnswers()},t.prototype.handleInputChange=function(e){this.props.store.setAskManningQuery(e.target.value)},t.prototype.renderSuggestions=function(){var e=this,t=this.props.store.state.askManning;return n.createElement(n.Fragment,null,n.createElement("div",{className:"ask-manning-suggestions-label"},null!=t.results&&0==t.results.length?n.createElement(n.Fragment,null,"We weren't able to find any answers to this question ",n.createElement("br",null)):n.createElement(n.Fragment,null,"or "),"try these questions ..."),n.createElement("div",{className:"ask-manning-suggestions-container"},this.props.store.state.askManning.suggestedQuestions.map((function(t){return n.createElement("button",{key:t,onClick:e.handleSuggestionClick},t)}))))},t.prototype.renderAnswers=function(){var e=this,t=this.props.store.state.askManning;return n.createElement("div",{className:"ask-manning-answers-container"},t.results.map((function(t){return n.createElement("div",{key:t.link,className:"ask-manning-answer-container"},n.createElement("div",{className:"ask-manning-answer-product-title"},n.createElement("a",{href:t.marketplaceLink,target:"_blank","data-qanda-link":!0,onClick:e.handleLinkClick},t.productTitle)),n.createElement("div",{className:"ask-manning-answer-product-authors"},"By ",n.createElement("span",{dangerouslySetInnerHTML:{__html:t.productAuthors}})),n.createElement("p",{className:"ask-manning-answer-text-holder",dangerouslySetInnerHTML:{__html:t.text}}),n.createElement("div",{className:"ask-manning-answer-link-holder"},n.createElement("a",{href:t.link,target:"_blank",onClick:e.handleLinkClick,"data-qanda-link":!0},"read in livebook ",n.createElement("i",{className:"fa fa-chevron-right"}))))})))},t.prototype.handleLinkClick=function(e){this.props.store.reportQAndALinkClick(e.target.href)},t.prototype.handleSuggestionClick=function(e){this.props.store.setAskManningQueryAndFindAnswer(e.target.textContent)},t.prototype.handleStoreChange=function(){this.hasBeenMounted&&this.forceUpdate()},t.prototype.handleAskClick=function(){this.props.store.findQAndAAnswer()},t.prototype.handleKeyDown=function(e){13==e.keyCode&&this.props.store.findQAndAAnswer()},t}(n.Component),Ze=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const Be=function(e){function t(t){var o=e.call(this,t)||this;return o.handleSearchClick=o.handleSearchClick.bind(o),o.handleSelectTab=o.handleSelectTab.bind(o),o.handleViewInLivebookClick=o.handleViewInLivebookClick.bind(o),o.handleBackToAllResultsLink=o.handleBackToAllResultsLink.bind(o),o.props.store.onPropertyChanged((function(e,t){return o.handlePossibleSearchStoreUpdate(e,t)})),o.props.store.autocompleteStore.onPropertyChanged((function(e,t){return o.handlePossibleAutocompleteStoreUpdate(e,t)})),o}return Ze(t,e),t.prototype.handleSelectTab=function(e){e==this.props.store.state.tabs[0]?(this.props.store.updateSearchSource(ae.xH.Products),this.props.store.autocompleteStore.state.isShown&&this.props.store.autocompleteStore.hide()):this.props.store.state.tabs.length>2&&e==this.props.store.state.tabs[2]&&"ask manning"==e.title?(this.props.store.updateSearchSource(ae.xH.Questions),this.props.store.autocompleteStore.state.isShown&&this.props.store.autocompleteStore.hide()):(this.props.store.updateSearchSource(ae.xH.Content),this.props.store.startSearch())},t.prototype.render=function(){var e=this,t=this.props.store.state;return n.createElement("div",{className:"search-root",ref:function(t){return e.root=t}},n.createElement(Le.K,{tabs:t.tabs,selectedTab:t.selectedTab,additionalClass:this.props.store.state.searchSource==ae.xH.Content?"content-tab-selected":"products-tab-selected",onSelectTab:this.handleSelectTab},this.renderTabButtons()),this.renderContent())},t.prototype.renderTabButtons=function(){return this.props.store.state.searchSource==ae.xH.Products?n.createElement(n.Fragment,null,n.createElement("button",{className:i()("advanced-tab-filter-button",{selected:this.props.store.state.isShowingFilter}),onClick:this.props.store.toggleShowFilter},n.createElement("span",null,"filter"),n.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10.8795 0H0.191091C0.0828062 0 0 0.0804252 0 0.185597V1.71367C0 1.81885 0.0573274 1.96114 0.127394 2.04156L4.41421 6.84851V11.8782C4.41421 11.9834 4.49064 12.0267 4.58619 11.9834L6.49073 11.0801C6.58628 11.0368 6.66272 10.9131 6.66272 10.8141V6.8547L10.9495 2.04775C11.0196 1.96732 11.0769 1.82503 11.0769 1.71986V0.185597C11.0706 0.0866117 10.9877 0 10.8795 0Z",fill:"currentColor",fillOpacity:"0.85"}))),n.createElement("button",{className:i()("advanced-tab-sort-button",{selected:this.props.store.state.isShowingSort}),onClick:this.props.store.toggleShowSort},n.createElement("span",null,"sort"),n.createElement("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M-3.53763e-07 3.90685L0.902108 4.87901L2.97357 2.62572L2.98228 12L4.25508 11.9986L4.24639 2.65001L6.3021 4.86535L7.2 3.88864L3.59158 -1.56993e-07L-3.53763e-07 3.90685Z",fill:"currentColor"}),n.createElement("path",{d:"M15.6 8.09315L14.6979 7.12099L12.6264 9.37428L12.6177 -1.3036e-07L11.3449 0.00138667L11.3536 9.34998L9.29787 7.13465L8.39997 8.11136L12.0084 12L15.6 8.09315Z",fill:"currentColor"})))):this.props.store.state.searchSource==ae.xH.Questions?null:n.createElement(n.Fragment,null,n.createElement("button",{className:i()("search-view-in-livebook-button"),onClick:this.handleViewInLivebookClick},n.createElement("span",null,"go to ",this.props.store.sourceApp==X.$X.marketplace?"book":"livebook")),n.createElement("button",{className:i()("search-back-to-results-button"),onClick:this.handleBackToAllResultsLink},n.createElement("i",{className:"fa fa-arrow-left"})," ",n.createElement("span",null,"all results")))},t.prototype.handleViewInLivebookClick=function(){var e=this.props.store.livebookViewerStore.lastChapterLocation;if(null==e)return null;if(this.props.store.sourceApp==X.$X.marketplace&&e.slug)window.open("https://www.manning.com/books/".concat(e.slug),"_blank");else if(this.props.store.sourceApp==X.$X.livebook)try{var t=window;t.page&&t.$&&(t.$(document).trigger("searchHideRequested"),t.page(this.getChapterLocationRelativeLink(e)))}catch(t){document.location.href=this.getLivebookLocationLink(e)}else window.open(this.getLivebookLocationLink(e),"_blank")},t.prototype.getLivebookLocationLink=function(e){if(null==e)return null;var t="https://livebook.manning.com";return document.location.href.indexOf("livebook-qa.manning.com")>=0&&(t="https://livebook-qa.manning.com"),"".concat(t).concat(this.getChapterLocationRelativeLink(e))},t.prototype.getChapterLocationRelativeLink=function(e){return null==e?"":"/book/".concat(e.slug,"/").concat(e.element,"?origin=search")},t.prototype.handleBackToAllResultsLink=function(){this.searchContentTab&&this.searchContentTab.resetToCurrentProductTreeResults?this.searchContentTab&&this.searchContentTab.resetToCurrentProductTreeResults():this.forceUpdate()},t.prototype.renderContent=function(){var e=this;return this.props.store.state.searchSource==ae.xH.Products?n.createElement(Fe,{store:this.props.store}):this.props.store.state.searchSource==ae.xH.Questions?n.createElement(je,{store:this.props.store}):n.createElement(se,{ref:function(t){return e.searchContentTab=t},store:this.props.store})},t.prototype.handlePossibleSearchStoreUpdate=function(e,t){(e.query!==t.query||e.selectedSearchCategories!==t.selectedSearchCategories||e.isSearchAllSelected!==t.isSearchAllSelected||e.currentProduct!==t.currentProduct||e.items!==t.items||e.hasAutocompleteProductsInfo!=t.hasAutocompleteProductsInfo||e.isWaitingForResults!=t.isWaitingForResults||e.searchSource!=t.searchSource||e.selectedTab!=t.selectedTab||e.isShowingFilter!=t.isShowingFilter||e.isShowingSort!=t.isShowingSort)&&this.isComponentMounted&&this.forceUpdate()},t.prototype.handlePossibleAutocompleteStoreUpdate=function(e,t){(e.selectedSuggestion!==t.selectedSuggestion||e.autocompleteSuggestions!==t.autocompleteSuggestions)&&this.isComponentMounted&&this.forceUpdate()},t.prototype.componentDidMount=function(){this.isComponentMounted=!0},t.prototype.componentWillUnmount=function(){this.isComponentMounted=!1},t.prototype.handleSearchClick=function(e){var t=this;this.isStartSearchDisabled||(this.props.store.startSearch(e),this.isStartSearchDisabled=!0,setTimeout((function(){return t.isStartSearchDisabled=!1}),1e3))},t}(n.Component)},26735:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var n=o(97766);const r=function(){function e(){}return e.isIndexResult=function(e){return!!e&&!!e.indexTerm},e.isTocRangeResult=function(e){if(!e)return!1;var t=e.text.replace("<strong class='search-result'>","").replace("</strong>","");return t==e.elementTitle||(e.elementTitle||"").indexOf(t)>=0||t==e.subElementTitle||(e.subElementTitle||"").indexOf(t)>=0||t==e.subSubElementTitle||(e.subSubElementTitle||"").indexOf(t)>=0},e.getElementLink=function(e){return null!=e&&e.elementTitle?n.Z.getElementLink(e.link):""},e.getSubElementLink=function(e){return null!=e&&e.subElementTitle?n.Z.getSectionLink(e.link,e.subElementTitle):""},e.getSubSubElementLink=function(e){return null!=e&&e.subSubElementTitle?n.Z.getSectionLink(e.link,e.subSubElementTitle):""},e.createSpecialResult=function(e,t,o){return{id:e,score:.8,productId:e,productManningId:e,productType:"",productTitle:e,elementTitle:"",subElementTitle:"",subSubElementTitle:"",elementLink:"",subElementLink:"",subSubElementLink:"",link:t,priority:"",text:o,tags:""}},e}()},92438:(e,t,o)=>{"use strict";o.d(t,{CF:()=>u,Ff:()=>p,Y2:()=>h,gL:()=>d});var n,r=o(26735),i=o(97766),s=o(30705),a=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});function c(e){var t=!1,o=!1;if(null!=e&&e.length>0)for(var n=0,i=e;n<i.length;n++){var s=i[n];if(t=t||r.Z.isIndexResult(s),o=o||r.Z.isTocRangeResult(s),t&&o)break}return{containsIndexResult:t,containsTocRangeResult:o}}var l=function(){function e(){}return e.prototype.isSpecialOrHasResults=function(){return!!(this instanceof u&&null!=this.productSearchResults&&this.productSearchResults.isSpecialProduct)||this.hasResults()},e.prototype.hasResults=function(){return null!=this.results&&this.results.length>0},e.prototype.hasNonProductPageResults=function(){return this.hasResults()&&null!=this.results.find((function(e){return!!(e.elementTitle||e.subElementTitle||e.subSubElementTitle)}))},e.prototype.hasChildrenWithResults=function(){return null!=this.getFirstChildWithResults()},e.prototype.getChildWithMostResults=function(){if(null==this.children||0==this.children.length)return null;for(var e=null,t=0,o=this.children;t<o.length;t++){var n=o[t];null==e&&(e=n),null!=n.results&&n.results.length>e.results.length&&(e=n)}return null!=e&&e.hasResults()?e:null},e.prototype.getFirstChildWithResults=function(){if(null==this.children||0==this.children.length)return null;for(var e=0,t=this.children;e<t.length;e++){var o=t[e];if(o.hasResults())return o}return null},e.prototype.getRoot=function(){for(var e=this;null!=e.parent;)e=e.parent;return e},e.prototype.isLiveProduct=function(){var e=this.getRoot();return null!=e&&e instanceof u&&null!=e.productSearchResults&&null!=e.productSearchResults.productInfo&&(e.productSearchResults.productInfo.isLivevideo||e.productSearchResults.productInfo.isLivebook)},e.prototype.isLivevideo=function(){var e=this.getRoot();return null!=e&&e instanceof u&&null!=e.productSearchResults&&null!=e.productSearchResults.productInfo&&e.productSearchResults.productInfo.isLivevideo},e.prototype.isLivebook=function(){var e=this.getRoot();return null!=e&&e instanceof u&&null!=e.productSearchResults&&null!=e.productSearchResults.productInfo&&e.productSearchResults.productInfo.isLivebook},e.prototype.isProductPageElement=function(){return this instanceof p&&this.name==s.Z.PRODUCT_PAGE_KEY},e.prototype.getDisplayedResultsCount=function(){return null!=this.results?this.results.length:0},e}(),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.constructShell=function(e){var o=new t;if(o.id=e.productId,o.productId=e.productId,o.productTitle=e.productTitle,o.productSearchResults=e,o.name=e.productTitle,o.results=e.results,o.link=e.productInfo&&e.productInfo.link,o.marketplaceLink=e.productInfo&&e.productInfo.marketplaceLink,o.coverPath=i.Z.adjustCoverPath(e.productInfo.coverPath,120,150),o.isLiveaudio=e.productInfo&&e.productInfo.isLiveaudio,o.productInfo=e.productInfo,o.results&&o.results.length){var n=c(o.results);o.containsIndexResult=n.containsIndexResult,o.containsTocRangeResult=n.containsTocRangeResult}return o},t.prototype.addElementTreeResult=function(e){this.children||(this.children=[]),this.children.push(e),e.parent=this},t.prototype.findDescendantWithTitle=function(e){if(!e)return null;for(var t=0,o=this.children;t<o.length;t++){var n=o[t],r=n.elementTitle==e?n:n.findDescendantWithTitle(e);if(r)return r}return null},t.prototype.getStrongestElementTitle=function(){if(null==this.results||0==this.results.length)return"";for(var e={},t=0,o=this.results;t<o.length;t++){var n=o[t].elementTitle;n&&(e[n]||(e[n]=0),e[n]++)}var r="",i=0;for(var s in e)r?e[s]>i&&(r=s,i=e[s]):(r=s,i=e[s]);return r},t}(l),p=function(e){function t(t,o,n,r,i){var s=e.call(this)||this;return s.name=t,s.index=o,s.id=t,s.elementTitle=t,s.link=n,s.children=[],s.results=r||[],s.shortName=i,s}return a(t,e),t.prototype.addSubElementTreeResult=function(e){e.containsIndexResult&&(this.containsIndexResult=!0),e.containsTocRangeResult&&(this.containsTocRangeResult=!0),e.parent=this,this.children.push(e)},t.prototype.findDescendantWithTitle=function(e){if(!e)return null;for(var t=0,o=this.children;t<o.length;t++){var n=o[t],r=n.subElementTitle==e?n:n.findDescendantWithTitle(e);if(r)return r}return null},t}(l),d=function(e){function t(t,o,n,r){var i=e.call(this)||this;if(i.name=t,i.index=o,i.id=t,i.subElementTitle=t,i.link=n,i.children=[],i.results=r||[],r&&r.length){var s=c(r);i.containsIndexResult=s.containsIndexResult,i.containsTocRangeResult=s.containsTocRangeResult}return i}return a(t,e),t.prototype.addSubSubElementTreeResult=function(e){e.containsIndexResult&&(this.containsIndexResult=!0),e.containsTocRangeResult&&(this.containsTocRangeResult=!0),e.parent=this,this.children.push(e)},t.prototype.findDescendantWithTitle=function(e){if(!e)return null;for(var t=0,o=this.children;t<o.length;t++){var n=o[t],r=n.subSubElementTitle==e?n:null;if(r)return r}return null},t}(l),h=function(e){function t(t,o,n,r){var i=e.call(this)||this;if(i.name=t,i.id=t,i.index=o,i.subSubElementTitle=t,i.link=n,i.children=[],i.results=r||[],r&&r.length){var s=c(r);i.containsIndexResult=s.containsIndexResult,i.containsTocRangeResult=s.containsTocRangeResult}return i}return a(t,e),t}(l)},59399:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n=function(e,t,o,n,r){void 0===r&&(r=""),this.id=e,this.title=t,this.link=o,this.children=n,this.shortName=r}},3291:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});var n=o(58641),r=o(30705),i=o(65605),s=o(41839),a=o(32654),c=o(71696),l=o(87772),u=o(21448),p=function(){function e(e){this.sampleCategories=[{name:".NET"},{name:"Android"},{name:"Calculators"},{name:"Data"},{name:"Web"}],this.config=e,this.webUtils=new a.Z(this.config),this.isSearchDemoProvider=!0,this.productProvider=new l.G(new c.s(this.webUtils))}return e.prototype.search=function(e,t,o,n){var r=this;return new Promise((function(i,s){setTimeout((function(){Promise.all([r.getProductInfos(),r.getSearchResults(e,t,o,n,!0)]).then((function(e){for(var t=e[0],o=e[1].results||[],n=r.findUniqueProductIdsInResults(o),s=0,a=o;s<a.length;s++){var c=a[s];c.fullText&&(c.fullText=u.i.fixHtml(c.fullText,r.config.client.livebook,r.config.aws.livebook,!1))}i({results:o,products:t.filter((function(e){return n.productIdMap[e.externalId]||n.productManningIdMap[e.id]}))})})).catch((function(e){return s(e)}))}),500)}))},e.prototype.getProductInfos=function(){return this.productProvider.getProductInfos(!0)},e.prototype.findUniqueProductIdsInResults=function(e){var t={},o={};if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];t[i.productManningId]=!0,o[i.productId]=!0}return{productManningIdMap:t,productIdMap:o}},e.prototype.getSearchResults=function(e,t,o,n,r){var i=this;return new Promise((function(s,a){var c="search.json";switch((e||"").toLowerCase()){case"es6":c="search-es6.json";break;case"language models":c="search-language-models.json";break;case"android":c="search-android.json";break;case"ninja":c="search-ninja.json";break;case"python":c="search-python.json";break;case"everywhere":c="search-js-everywhere.json"}i.webUtils.ajax(i.webUtils.getAbsoluteBackendUrl("data/search/".concat(c)),(function(e){return s(e)}),(function(e){return a(e)}),{query:e,product:t,categories:o,boostedProductType:n,isDeep:r})}))},e.prototype.getSynonymsMap=function(){var e=this;return new Promise((function(t,o){e.webUtils.ajax(e.webUtils.getAbsoluteBackendUrl("data/search-synonyms.json"),(function(e){return t(e)}),(function(e){return t({})}),{},!1,!1)}))},e.prototype.getBestsellers=function(){var e=this;return new Promise((function(t,o){e.webUtils.ajax(e.webUtils.getAbsoluteBackendUrl("data/search/bestsellers.json"),(function(e){return t(e)}),(function(e){return t([])}),{},!1,!1)}))},e.prototype.autocompleteProducts=function(e){var t=this;return e=(e||"").trim(),new Promise((function(o,n){t.getProductInfos().then((function(t){o(r.Z.getMatchingProductSuggestions(e,t))})).catch((function(e){return n(e)}))}))},e.prototype.autocompleteConcepts=function(e,t){var o=this;return""==(e||"").trim()?Promise.resolve([]):(e=e.toLowerCase(),new Promise((function(n,r){var i=t?o.getSampleProductConceptsSuggestions():o.getSampleConceptsSuggestions();setTimeout((function(){return n(i.filter((function(t){return t.containsQuery(e)||t.ancestorDirectlyContainsQuery(e)})))}),300)})))},e.prototype.fullTextAutocompleteProducts=function(e){var t=this;return new Promise((function(o,n){Promise.all([t.getProductInfos(),t.getShallowSearchResults(e)]).then((function(e){var n=e[0],r=t.findUniqueProductIdsInResults(e[1].results||[]);o({results:e[1].results,products:n.filter((function(e){return r.productIdMap[e.externalId]||r.productManningIdMap[e.id]}))})})).catch((function(e){return n(e)}))}))},e.prototype.getShallowSearchResults=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("data/search/shallowSearch.json"),(function(e){return o(e)}),(function(e){return n(e)}),{query:e})}))},e.prototype.getProductInfo=function(e){var t=this;return e?new Promise((function(o,n){setTimeout((function(){t.getProductInfos().then((function(t){o(t.find((function(t){return t.externalId==e})))}))}),100)})):Promise.reject("Empty externalId")},e.prototype.getProductToc=function(e){var t=this;return e?new Promise((function(o,n){setTimeout((function(){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("data/search/toc/".concat(e,".json")),(function(e){e.toc?o(e.toc):o(e)}),(function(e){return n(e)}),{})}),250)})):Promise.reject("Empty product id")},e.prototype.getSampleProductConceptsSuggestions=function(){return n.xm.flatten([new n.xm("Closing in on closures",[{link:"http://livebook-qa.manning.com"}]),new n.xm("attribute",[],[new n.xm("class",[{link:"http://livebook-qa.manning.com"}])]),new n.xm("clone node",[],[new n.xm("overview",[{link:"http://livebook-qa.manning.com"}],[new n.xm("conceptual",[{link:"http://livebook-qa.manning.com"}]),new n.xm("method",[{link:"http://livebook-qa.manning.com"}])]),new n.xm("clodeNode()",[{link:"http://livebook-qa.manning.com"}])]),new n.xm("clearfix",[{link:"http://livebook-qa.manning.com"}]),new n.xm("Introducing the class attribute",[{link:"http://livebook-qa.manning.com"}])])},e.prototype.answerQuestion=function(e,t){return new Promise((function(e,t){setTimeout((function(){e([{text:'<b><i>Functions are first-class objects—</i></b> In JavaScript, functions coexist with, and can be treated like, any other JavaScript object. They can be created through literals, referenced by variables, passed around as function arguments, and even returned as function return values. We devote much of <a href="/book/secrets-of-the-javascript-ninja-second-edition/chapter-3/ch03">chapter 3</a> to exploring some of the wonderful benefit<span class="highlighted-text highlight-655480 highlight-color-yellow">s that functions as first-class objects bring to our JavaScript code.</span>',marketplaceLink:"https://www.manning.com/books/secrets-of-the-javascript-ninja-second-edition",link:"https://livebook.manning.com/book/secrets-of-the-javascript-ninja-second-edition/chapter-1/21",productTitle:"Secrets of the JavaScript Ninja, 2nd edition",productAuthors:"John Resig"},{text:'<b><i>Function closures—</i></b> The concept of function closures is generally poorly understood, but at the same time it fundamentally and irrevocably exemplifies the importance of functions to JavaScript. For now, it’s enough to know that a function is <i>a closure when it actively maintains (“closes over”) the external variables used in its body</i>. Don’t worry for now if you don’t see the many benefits of closures; we’ll make sure all is crystal clear in <a href="/book/secrets-of-the-javascript-ninja-second-edition/chapter-5/ch05">chapter 5</a>. In addition to closures, we’ll thoroughly explore the many aspects of functions themselves in <a href="/book/secrets-of-the-javascript-ninja-second-edition/chapter-3/ch03">chapters 3</a> and <a href="/book/secrets-of-the-javascript-ninja-second-edition/chapter-4/ch04">4</a>, as well as identifier scopes in <a href="/book/secrets-of-the-javascript-ninja-second-edition/chapter-5/ch05">chapter 5</a>.',marketplaceLink:"https://livebook.manning.com/book/secrets-of-the-javascript-ninja-second-edition/chapter-1/22",link:"https://livebook.manning.com/book/secrets-of-the-javascript-ninja-second-edition/chapter-1/22",productTitle:"Secrets of the JavaScript Ninja, 2nd edition",productAuthors:"John Resig"},{text:"<b><i>Prototype-based object orientation—</i></b> Unlike other mainstream programming languages (such as C#, Java, and Ruby), which use class-based object orientation, JavaScript uses prototypes. Often, when developers come to JavaScript from class-based languages (such as Java), they try to use JavaScript as if it were Java, essentially writing Java’s class-based code using the syntax of JavaScript. Then, for some reason, they’re surprised when the results differ from what they expect. This is why we’ll go deep into prototypes, how prototype-based object-orientation works, and how it’s implemented in JavaScript.",marketplaceLink:"https://livebook.manning.com/book/secrets-of-the-javascript-ninja-second-edition/chapter-1/24",link:"https://livebook.manning.com/book/secrets-of-the-javascript-ninja-second-edition/chapter-1/24",productTitle:"Secrets of the JavaScript Ninja, 2nd edition",productAuthors:"John Resig"},{text:'<b><i>The Document Object Model (DOM)—</i></b> The DOM is a structured representation of the UI of a client-side web application that is, at least initially, built from the HTML code of a web application. To develop great applications, you need to not only have a deep understanding of the core JavaScript mechanics, but also study how the DOM is constructed (<a href="/book/secrets-of-the-javascript-ninja-second-edition/chapter-2/ch02">chapter 2</a>) and how to write effective code that manipulates the DOM (<a href="/book/secrets-of-the-javascript-ninja-second-edition/chapter-12/ch12">chapter 12</a>). This will put the creation of advanced, highly dynamic UIs at your fingertips.',marketplaceLink:"https://www.manning.com/books/secrets-of-the-javascript-ninja-second-edition/chapter-1/52",link:"https://livebook.manning.com/book/secrets-of-the-javascript-ninja-second-edition/chapter-1/52",productTitle:"Secrets of the JavaScript Ninja, 2nd edition",productAuthors:"John Resig"}])}),500)}))},e.prototype.getSampleConceptsSuggestions=function(){return[new n.xm("cloud"),new n.xm("closures"),new n.xm("clojure"),new n.xm("cloud computing"),new n.xm("class"),new n.xm("classical"),new n.xm("close"),new n.xm("clean"),new n.xm("clone"),new n.xm("cloneNode"),new n.xm("clamp"),new n.xm("closures, in JavaScript"),new n.xm("compounds"),new n.xm("compound connection"),new n.xm("connection"),new n.xm("closing in on closures"),new n.xm("closures and private variables"),new n.xm("closures and private variables 1"),new n.xm("closures and private variables 2"),new n.xm("closures and private variables 3"),new n.xm("closures and private variables 4"),new n.xm("closures and private variables 5"),new n.xm("closures and private variables 6"),new n.xm("closures and private variables 7"),new n.xm("closures and private variables 8"),new n.xm("closures and private variables 9")]},e}();new p(s.ZP.getConfig(s.$X.demo,s.mO.dev));var d=o(97766),h=o(59399),m=o(94017);const f=function(){function e(e){this.provider=e,this.productProvider=this.provider.productProvider}return e.prototype.getOwnershipInfo=function(){return this.productProvider.getOwnershipInfo()},e.prototype.fillWithAdditionalInfo=function(e){var t=this;return new Promise((function(o,n){t.productProvider.getAdditionalProductInfoMap(e.filter((function(e){return!e.isBundle})).map((function(e){return+e.id}))).then((function(t){m.u.assignAdditionalInfoToProductInfos(e,t),o()})).catch((function(e){n(e)}))}))},e.prototype.isUsingDemoProvider=function(){return this.provider instanceof p},e.prototype.getSynonymsMap=function(){var e=this;return new Promise((function(t,o){e.provider.getSynonymsMap().then((function(e){t(e)})).catch((function(e){t({})}))}))},e.prototype.search=function(e,t,o,n,i){var s=this;return new Promise((function(a,c){s.provider.search(e,t,o,n,i).then((function(t){a(r.Z.convertToProductSearchResults(t.results,t.products,e,s.provider.config))})).catch((function(e){c(e)}))}))},e.prototype.fullTextAutocompleteProducts=function(e){var t=this;return new Promise((function(o,i){t.provider.fullTextAutocompleteProducts(e).then((function(i){var s=r.Z.convertToProductSearchResults(i.results||[],i.products,e,t.provider.config);o(s.map((function(e){return n.A7.fromProductInfo(e.productInfo)})))})).catch((function(e){return i(e)}))}))},e.prototype.getFullProductTreeResults=function(e){var t=this;return new Promise((function(o,n){var s=e.productSearchResults;t.provider.getProductToc(s.productId,s.productInfo.isLivebook,s.productInfo.isLivevideo,s.productInfo.isLiveproject).then((function(t){if(!t)return console.log("Couldn't load product TOC -  then"),void n("Couldn't load product TOC");var i=t.frontMatter||t.parts||t.backMatter?r.Z.convertLivebookTocToTocItems(t,"http://livebook-test.com/"):r.Z.convertLiveVideoTocToTocItems(t,"http://livevideo-test.com/");o(r.Z.convertToFullProductTreeResults(e,i))})).catch((function(t){if(null!=e&&e.results&&e.results.length){for(var s={},a=[],c=0,l=e.results;c<l.length;c++){var u=l[c];u.elementTitle&&!s[u.elementTitle]&&(a.push({title:u.elementTitle,link:u.elementLink,index:d.Z.extractBookElementIndex(u.elementTitle)}),s[u.elementTitle]=!0)}a.sort((function(e,t){var o=""!=e.index&&i.Z.isNumber(e.index),n=""!=t.index&&i.Z.isNumber(t.index);return o&&n?+e.index-+t.index:!o&&n?d.Z.isChapterOrAppendix(e.title)?1:-1:o&&!n?d.Z.isChapterOrAppendix(t.title)?-1:1:e.title<t.title?-1:1}));var p=a.map((function(e,t){return new h.Z("".concat(t),e.title,e.link,[],d.Z.extractBookElementShortName(e.title))}));o(r.Z.convertToFullProductTreeResults(e,p))}else console.log("Couldn't load product TOC -  catch"),n("Couldn't load product TOC")}))}))},e.prototype.autocompleteProducts=function(e){return this.provider.autocompleteProducts(e)},e.prototype.autocompleteConcepts=function(e,t,o,n){return this.provider.autocompleteConcepts(e,t,o,n)},e.prototype.getProductInfo=function(e){return this.provider.getProductInfo(e)},e.prototype.getBestsellers=function(){return this.provider.getBestsellers()},e.prototype.answerQuestion=function(e,t){return this.provider.answerQuestion(e,t)},e}()},16884:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(32654),r=o(58641),i=o(41839),s=o(30705),a=o(26735),c=o(87298),l=o(7297),u=o(87772),p=o(21448);const d=function(){function e(e,t,o){void 0===o&&(o={}),this.config=i.ZP.getConfig(e,t),this.webUtils=new n.Z(this.config),this.additionalParams=o,this.sourceApp=e,this.productProvider=new u.G(new l.G(this.webUtils,null),this.additionalParams)}return e.prototype.getProductInfos=function(){return this.productProvider.getProductInfos(!0)},e.prototype.answerQuestion=function(e,t){var o=this;return new Promise((function(n,r){o.getProductInfos().then((function(r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("/search/answer"),(function(e){return n(o.convertMisoResponseToAnswers(e,r))}),(function(e){return n([])}),{question:e,productId:t},!1,!1)}))}))},e.prototype.convertMisoResponseToAnswers=function(e,t){if(!(e&&e.data&&e.data.answers&&e.data.answers.length))return[];var o={};return e.data.answers.map((function(e){var n=e.product_id.split("_"),r=n[0],i=n[1],s=t.find((function(e){return e.id==r}));if(null==s)return null;var a="https://livebook.manning.com/".concat(s.slug,"/").concat(i,"/answer-").concat(e.answer.css_selector);return o[a]?null:(o[a]=!0,{text:e.answer.html||e.answer.text,productAuthors:s.authors,productTitle:s.title,marketplaceLink:"https://www.manning.com/books/".concat(s.slug),link:a})})).filter((function(e){return null!=e}))},e.prototype.getBestsellers=function(){var e=this;return new Promise((function(t,o){e.webUtils.ajax(e.webUtils.getAbsoluteBackendUrl("/search/bestsellers"),(function(e){return t(e)}),(function(e){return t([])}),{},!1,!1)}))},e.prototype.getSynonymsMap=function(){var e=this;return new Promise((function(t,o){e.webUtils.ajax(e.webUtils.getAwsPublic("/search-synonyms.json"),(function(e){t(e)}),(function(e){t({})}),{},!1,!1)}))},e.prototype.getProductInfo=function(e){var t=this;return new Promise((function(o,n){t.getProductInfos().then((function(t){o(t.find((function(t){return t.externalId==e})))})).catch((function(e){return n(e)}))}))},e.prototype.search=function(e,t,o,n,r){var i=this;return new Promise((function(s,a){Promise.all([i.getProductInfos(),i.getSearchResults(e,t,o,n,r),t?Promise.resolve([]):i.getProductsAsSearchResults(e)]).then((function(e){for(var t=e[0],o=(e[1].results||[]).concat(e[2]),n=i.findUniqueProductIdsInResults(o),r=0,a=o;r<a.length;r++){var c=a[r];c.fullText&&(c.fullText=p.i.fixHtml(c.fullText,i.config.client.livebook,i.config.aws.livebook,!1))}s({results:o,products:t.filter((function(e){return n.productIdMap[e.externalId]||n.productManningIdMap[e.id]}))})})).catch((function(e){return a(e)}))}))},e.prototype.getSearchResults=function(e,t,o,n,r){var i=this;return new Promise((function(s,a){i.webUtils.isOnline()||null==i.additionalParams||null==i.additionalParams.getSearchResultsFallback?i.webUtils.ajax(i.webUtils.getAbsoluteBackendUrl("/api/search/search"),(function(o){s(o);try{var n=window.$;n&&n(document).trigger("fullSearch",[e,t])}catch(e){}}),(function(e){return a(e)}),{query:e,boostedProduct:t,categories:o,boostedProductType:n,isDeep:r,new:!0}):i.additionalParams.getSearchResultsFallback(e,t).then((function(e){return s(e)})).catch((function(e){return a(e)}))}))},e.prototype.getShallowSearchResults=function(e){var t=this;return new Promise((function(o,n){t.webUtils.isOnline()||null==t.additionalParams||null==t.additionalParams.getSearchResultsFallback?t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("/api/search/shallowSearch"),(function(t){o(t);try{var n=window.$;n&&n(document).trigger("shallowSearch",[e])}catch(e){}}),(function(e){return n(e)}),{query:e,boostedProduct:t.sourceApp==i.$X.pbc?"liveProject":t.sourceApp==i.$X.livevideo?"liveVideo":"",new:!0}):t.additionalParams.getSearchResultsFallback(e).then((function(e){return o(e)})).catch((function(e){return n(e)}))}))},e.prototype.autocompleteProducts=function(e){var t=this;return e=(e||"").trim(),new Promise((function(o,n){t.getProductInfos().then((function(t){o(s.Z.getMatchingProductSuggestions(e,t))})).catch((function(e){return n(e)}))}))},e.prototype.getProductsAsSearchResults=function(e){var t=this;return e=(e||"").trim(),new Promise((function(o,n){t.getProductInfos().then((function(n){o(t.getMatchingSearchResults(e,n))}))}))},e.prototype.getMatchingSearchResults=function(e,t){return s.Z.getMatchingProducts(e,t,.3).productInfos.slice(0,10).map((function(e){var t=new a.Z;return t.id="product-".concat(e.id),t.elementLink="",t.elementTitle="",t.indexTerm="",t.link=e.marketplaceLink,t.productId=e.externalId,t.productManningId=e.id,t.productTitle=e.title,t.productType="marketplaceProduct",t.score=50,t.subElementLink="",t.subElementTitle="",t.subSubElementLink="",t.subSubElementTitle="",t.tags="",t.text=e.title,t}))},e.prototype.autocompleteConcepts=function(e,t,o,n){return(e||"").trim().length<1?Promise.resolve([]):null==t||""==t.trim()?this.autocompleteLibraryConcepts(e):this.autocompleteProductConcepts(e,t,o,n)},e.prototype.fullTextAutocompleteProducts=function(e){var t=this;return new Promise((function(o,n){Promise.all([t.getProductInfos(),t.getShallowSearchResults(e)]).then((function(e){var n=e[0],r=t.findUniqueProductIdsInResults(e[1].results||[]);o({results:e[1].results,products:n.filter((function(e){return r.productIdMap[e.externalId]||r.productManningIdMap[e.id]}))})})).catch((function(e){return n(e)}))}))},e.prototype.getProductToc=function(e,t,o,n){var r=this;return t&&!this.webUtils.isOnline()&&null!=this.additionalParams&&null!=this.additionalParams.getLivebookTocFallback?new Promise((function(t,o){r.additionalParams.getLivebookTocFallback(e).then((function(e){return t(e)})).catch((function(e){return o(e)}))})):c.r.getProductToc(this.webUtils,e,t,o,n)},e.prototype.autocompleteLibraryConcepts=function(e){var t=this;return this.webUtils.isOnline()?new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("/api/search/autocompleteConcepts"),(function(e){e&&e.length?o(t.cleanConcepts(e).map((function(e){return new r.xm(e)}))):o([])}),(function(e){return n(e)}),{query:e})})):Promise.resolve([])},e.prototype.cleanConcepts=function(e){for(var t={},o=!1,n=0,r=e;n<r.length;n++){var i=r[n];"__proto__"==(i=(i||"").replace(/(\.\s*;)|(;\s*\.)/g,"").trim())&&(o=!0),t[i]=!0}var s=[];for(var a in o&&s.push("__proto__"),t)!0===t[a]&&s.push(a);return s},e.prototype.autocompleteProductConcepts=function(e,t,o,n){var r=this;return new Promise((function(i,s){r.getProductConcepts(t,o,n).then((function(t){var o=e.split(" "),n=t.filter((function(t){if(t.containsQuery(e)||t.ancestorDirectlyContainsQuery(e))return!0;for(var n=0,r=o;n<r.length;n++){var i=r[n];if(t.containsQuery(i)||t.ancestorDirectlyContainsQuery(i))return!0}})).slice(0,30);n.length>0?i(n):r.autocompleteLibraryConcepts(e).then((function(e){return i(e)})).catch((function(e){return s(e)}))})).catch((function(e){return s(e)}))}))},e.prototype.getProductConcepts=function(e,t,o){if(this.currentProduct==e&&null!=this.productConcepts)return this.productConcepts;var n=Promise.resolve([]);return t?n=this.getLivebookConcepts(e):o&&(n=this.getLivevideoConcepts(e)),this.productConcepts=n,this.currentProduct=e,this.productConcepts},e.prototype.getLivebookConcepts=function(e){var t=this;return new Promise((function(o,n){t.webUtils.isOnline()||null==t.additionalParams||null==t.additionalParams.getLivebookConceptsFallback?t.webUtils.ajax(t.webUtils.getAbsoluteLivebookAwsUrl("".concat(e,"/concepts.json")),(function(e){return o(t.updateLivebookConceptLinks(r.xm.flatten(r.xm.fromRawData(e))))}),(function(e){return n(e)})):t.additionalParams.getLivebookConceptsFallback(e).then((function(e){return o(t.updateLivebookConceptLinks(r.xm.flatten(r.xm.fromRawData(e))))})).catch((function(e){return n(e)}))}))},e.prototype.updateLivebookConceptLinks=function(e){if(null==e||0==e.length)return e;for(var t=0,o=e;t<o.length;t++){var n=o[t];if(n.link=s.Z.getAbsoluteLivebookLink(this.config,n.link),null!=n.links&&n.link.length>0)for(var r=0,i=n.links;r<i.length;r++){var a=i[r];a.link=s.Z.getAbsoluteLivebookLink(this.config,a.link)}}return e},e.prototype.getLivevideoConcepts=function(e){var t=this;return new Promise((function(o,n){c.r.getLivevideoToc(t.webUtils,e).then((function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];t.processLiveVideoTocItemToCreateConceptSuggestions(s,n)}o(n)})).catch((function(e){return n(e)}))}))},e.prototype.processLiveVideoTocItemToCreateConceptSuggestions=function(e,t){if(null!=e&&(t.push(new r.xm(e.title,[{link:s.Z.getAbsoluteLivevideoLink(this.config,e.link)}])),null!=e.children))for(var o=0,n=e.children;o<n.length;o++){var i=n[o];this.processLiveVideoTocItemToCreateConceptSuggestions(i,t)}},e.prototype.findUniqueProductIdsInResults=function(e){for(var t={},o={},n=0,r=e;n<r.length;n++){var i=r[n];t[i.productManningId]=!0,o[i.productId]=!0}return{productManningIdMap:t,productIdMap:o}},e.prototype.changeBaseUrl=function(e){this.config.backend.base=e},e}()},32654:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var n=o(19755);const r=function(){function e(e){this.configuration=e}return e.prototype.isOnline=function(){return navigator.onLine},e.prototype.ajax=function(e,t,o,n,r,i,s){void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===s&&(s=!0),this.get(e,(function(e){return t(e)}),(function(e){return o(e)}),n,r,i,s)},e.getS3FileContent=function(e,t,o){if(window.fetch)fetch(e,{mode:"cors",method:"get"}).then((function(e){e.text().then((function(e){return t(e)})).catch((function(e){return o(e)}))})).catch((function(e){return o(e)}));else if(window.$)n.ajax({url:e,crossDomain:!0}).done((function(e){return t(e)})).fail((function(e){return o(e)}));else{var r=new XMLHttpRequest;r.open("get",e,!0),r.setRequestHeader("Content-Type","application/html;charset=UTF-8"),r.setRequestHeader("accept","*/*"),r.setRequestHeader("accept-encoding","gzip, deflate, br"),r.setRequestHeader("cache-control","no-cache"),r.setRequestHeader("sec-fetch-dest","empty"),r.setRequestHeader("sec-fetch-mode","cors"),r.setRequestHeader("sec-fetch-site","cross-site"),r.onreadystatechange=function(){4==r.readyState&&(200==r.status?t&&t(r.responseText):o&&o(status))},r.send()}},e.prototype.post=function(e,t,o,n,r,i){void 0===r&&(r=!0),void 0===i&&(i=!0);var s=new XMLHttpRequest;s.open("post",e,!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),r&&(s.withCredentials=!0),s.onreadystatechange=function(){var e,n;if(4==s.readyState)if(200==(e=s.status)){try{n=i?JSON.parse(s.responseText):s.responseText}catch(e){return void(o&&o(e))}t&&t(n)}else o&&o(e)};var a="";for(var c in n)a&&(a+="&"),a+="".concat(c,"=").concat(encodeURIComponent(n[c]));s.send(a)},e.prototype.get=function(e,t,o,n,r,i,s){void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===s&&(s=!0);var a=new XMLHttpRequest;n&&n instanceof Object&&!r&&(e+="?"+this.serializeObject(n)),r?a.open("post",e,!0):a.open("get",e,!0),r?a.setRequestHeader("Content-Type","application/json;charset=UTF-8"):a.setRequestHeader("Content-Type","application/text;charset=UTF-8"),i&&(a.withCredentials=!0),a.onreadystatechange=function(){var e,n;if(4==a.readyState)if(200==(e=a.status)){try{n=s?JSON.parse(a.responseText):a.responseText}catch(e){return void(o&&o(e))}t&&t(n)}else o&&o(e)},r?a.send(JSON.stringify(n)):a.send()},e.prototype.configure=function(e){this.configuration=e},e.prototype.getAbsoluteLivebookAwsUrl=function(e){return this.getAbsoluteUrl(this.configuration.aws.livebook,e)},e.prototype.getAbsoluteBackendUrl=function(e){return this.getAbsoluteUrl(this.configuration.backend.base,e)},e.prototype.getAbsoluteBackendLivebookUrl=function(e){return this.getAbsoluteUrl(this.configuration.backend.livebook,e)},e.prototype.getAbsoluteBackendLivevideoUrl=function(e){return this.getAbsoluteUrl(this.configuration.backend.livevideo,e)},e.prototype.getAbsoluteUrl=function(e,t){var o=e;return o.endsWith("/")||t.startsWith("/")||(o+="/"),o+t},e.getAbsoluteLink=function(e,t){if(!e)return t;if(!t)return e;var o=e;return e.endsWith("/")||t.startsWith("/")?e.endsWith("&")&&t.startsWith("/")&&(o=o.substr(0,o.length-1)):o+="/",o+t},e.isLivebookLink=function(e){return!!e&&-1!=e.indexOf("/book/")},e.isLivevideoLink=function(e){return!!e&&-1!=e.indexOf("module/")},e.prototype.getAwsPublic=function(e){return void 0===e&&(e=""),this.configuration.aws.livebook+(e||"")},e.prototype.serializeObject=function(e){if(!e)return"";var t=[];for(var o in e)e.hasOwnProperty(o)&&void 0!==e[o]&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")},e}()},86378:(e,t,o)=>{"use strict";o.d(t,{D:()=>x,Z:()=>O});var n=o(67294),r=o(94184),i=o.n(r),s=o(56781),a=o(93379),c=o.n(a),l=o(7795),u=o.n(l),p=o(90569),d=o.n(p),h=o(3565),m=o.n(h),f=o(19216),g=o.n(f),b=o(44589),v=o.n(b),y=o(36820),w={};w.styleTagTransform=v(),w.setAttributes=m(),w.insert=d().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=g(),c()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var k,x,C=o(4124),E=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});!function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(x||(x={}));var S=["#4788d9","#e6194b","#3cb44b","#0082c8","#f58231","#911eb4","#f032e6","#008080","#aa6e28","#800000","#808000","#000080","#000000"],T=0,A={};function I(e,t){return t?S[0]:(A[e]||(A[e]=S[T],++T>=S.length&&(T=0)),A[e])}const O=function(e){function t(t){var o=e.call(this,t)||this;return o.handleImageLoadingError=o.handleImageLoadingError.bind(o),o.handleAvatarChangeImageClick=o.handleAvatarChangeImageClick.bind(o),o.state={hasFailedLoadingImage:!o.isAbsolutePath(o.props.user.avatarUrl)},o}return E(t,e),t.getDistinctColor=function(e){return I(e,!1)},t.getInitials=function(e){var t=(e||"").trim();if(!t)return"NN";var o=t.split(/\s+/);return o&&0!=o.length?1==o.length?(o[0][0]||"").toUpperCase():(o[0][0]||"").toUpperCase()+(o[1][0]||"").toUpperCase():(t[0]||"N").toUpperCase()},t.prototype.render=function(){return n.createElement("div",{className:i()("avatar-container",{"avatar-large":this.props.size==x.Large,"avatar-medium":this.props.size==x.Medium})},this.state.hasFailedLoadingImage||!this.props.user.avatarUrl?n.createElement("span",{className:"avatar-image",style:{backgroundColor:I(this.props.user.name,this.props.useDefaultColor)},title:this.props.user&&this.props.user.name},this.getInitials()):n.createElement("img",{className:"avatar-image",onError:this.handleImageLoadingError,alt:this.props.user.name,src:this.props.user.avatarUrl}),(this.props.isAuthor||this.props.isModerator)&&n.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"star","data-tip":this.props.isAuthor?"author":"moderator",className:"star-icon",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},n.createElement("path",{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"})),this.props.isCurrentUser&&null!=this.props.onChangeAvatar&&this.renderChangeAvatarButton(),this.renderOnlineStatusIfPossible(),this.renderDeleteLinkIfNecessary())},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.user.avatarUrl!=this.props.user.avatarUrl&&this.setState({hasFailedLoadingImage:""==e.user.avatarUrl})},t.prototype.renderChangeAvatarButton=function(){return n.createElement("div",{className:i()("avatar-container-change-profile",{"change-profile-side-icon":this.props.size==x.Large}),onClick:this.handleAvatarChangeImageClick,"data-tip":"change your profile image"},n.createElement("i",{className:"fa fa-camera"}))},t.prototype.renderOnlineStatusIfPossible=function(){if(C.y.shouldShowOnlineStatus&&void 0!==this.props.isOnline&&!this.props.isCurrentUser)return n.createElement("div",{className:i()("user-online-status",{online:this.props.isOnline},{"user-online-status-large":this.props.size==x.Large},{"user-online-status-medium":this.props.size==x.Medium})})},t.prototype.renderDeleteLinkIfNecessary=function(){if(this.props.hasDelete)return n.createElement("span",{className:"avatar-delete-link",onClick:this.props.onDeleteAvatar},n.createElement("i",{className:"fa fa-trash"}),n.createElement("span",{className:"clickable-link-like"},"delete"))},t.prototype.handleImageLoadingError=function(){this.setState({hasFailedLoadingImage:!0})},t.prototype.getInitials=function(){return t.getInitials(this.props.user.name)},t.prototype.isAbsolutePath=function(e){return!!e&&(e||"").startsWith("http")},t.prototype.handleAvatarChangeImageClick=function(e){return e&&e.preventDefault(),e&&e.stopPropagation(),this.props.onChangeAvatar&&this.props.onChangeAvatar(),s.Z.triggerEvent(document,"changeProfileImage"),!1},t}(n.Component)},7424:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n,r=o(67294),i=o(39339),s=(o(38976),n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const a=function(e){function t(t){var o=e.call(this,t)||this;return o.handleActionClicked=o.handleActionClicked.bind(o),o}return s(t,e),t.prototype.render=function(){var e=this;return r.createElement(i.Z,{title:"add a link",isOpen:this.props.isShown,onClose:this.props.onClose,theme:i.Q.standard,onActionClicked:this.handleActionClicked,onCancelationClicked:this.props.onClose,actionMessageHTML:"add"},r.createElement("form",{className:"social-modal-form",ref:function(t){return e.root=t}},r.createElement("label",null,r.createElement("span",{className:"label-text"},"Link text:"),r.createElement("input",{className:"social-modal-form-link-text",type:"text",defaultValue:this.props.defaultValue||""})),r.createElement("label",null,r.createElement("span",{className:"label-text"},"Link url:"),r.createElement("input",{className:"social-modal-form-link-url",type:"text"}))))},t.prototype.handleActionClicked=function(){if(this.props.onAccept&&this.root){var e=this.root.querySelector(".social-modal-form-link-url").value;0!=e.indexOf("http://")&&0!=e.indexOf("https://")&&(e="http://"+e),this.props.onAccept(this.root.querySelector(".social-modal-form-link-text").value,e)}},t}(r.Component)},82958:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n,r=o(67294),i=o(94184),s=o.n(i),a=o(96120),c=o.n(a),l=o(39339),u=o(14265),p=(o(38976),o(49163),n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),d=function(){return d=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},d.apply(this,arguments)};const h=function(e){function t(t){var o=e.call(this,t)||this;return o.onImageLoaded=function(e,t){o.imageRef=e,o.imageRef.setAttribute&&o.imageRef.setAttribute("crossOrigin","anonymous")},o.onCropComplete=function(e,t){o.makeClientCrop(e,t)},o.handleActionClicked=o.handleActionClicked.bind(o),o.handleFilesDropped=o.handleFilesDropped.bind(o),o.handleFileUploaded=o.handleFileUploaded.bind(o),o.onImageLoaded=o.onImageLoaded.bind(o),o.onCropComplete=o.onCropComplete.bind(o),o.onCropChange=o.onCropChange.bind(o),o.state={imageUrl:"",imageLoading:!1,crop:{aspect:o.props.aspectRatio,x:0,y:0,width:o.props.maxWidth||50}},o}return p(t,e),t.prototype.componentDidMount=function(){this.hasBeenMounted=!0},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1,this.imageRef=null,this.fileUrl=null,this.imageName=""},t.prototype.render=function(){var e=this;return r.createElement(l.Z,{mainContainerClassName:this.props.mainContainerClassName,title:this.props.title||"upload image",isOpen:this.props.isShown,onClose:this.props.onClose,theme:l.Q.standard,onActionClicked:this.handleActionClicked,onCancelationClicked:this.props.onClose,actionMessageHTML:this.state.isPerformingAction?'adding <i class="fa fa-circle-notch fa-spin fa-fw"></i>':"add"},r.createElement("div",{className:"social-modal-form image-upload-form",ref:function(t){return e.root=t}},this.state.imageUrl?this.generateImagePreview():r.createElement(u.ZP,{accept:"image/png, image/jpeg, image/jpg",onDrop:this.handleFilesDropped,multiple:!1},(function(t){var o=t.getRootProps,n=t.getInputProps;return t.isDragActive,t.isDragAccept,t.isDragReject,r.createElement("div",d({},o(),{className:"dropzone image-upload-container"}),r.createElement("input",d({},n())),e.state.imageLoading?"Please wait...":"Drop an image here (or click to select files to upload).")}))))},t.prototype.generateImagePreview=function(){return this.props.aspectRatio?r.createElement("div",{className:"social-modal-cropp-container"},r.createElement("div",{className:"social-modal-cropp-column"},r.createElement("div",null,"Original"),r.createElement(c(),{src:this.state.imageUrl,crop:this.state.crop,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange})),r.createElement("div",{className:"social-modal-cropp-column"},r.createElement("div",null,"Preview"),this.state.croppedImageUrl&&r.createElement("img",{className:s()({"social-modal-form-round-image":this.props.isRoundImagePreview}),alt:"cropped image",crossOrigin:"anonymous",style:{maxWidth:"100%"},src:this.state.croppedImageUrl}))):r.createElement("img",{className:"social-modal-form-image",crossOrigin:"anonymous",src:this.state.imageUrl,alt:"image"})},t.prototype.handleFilesDropped=function(e){var t=this;if(null!=e&&0!==e.length){if(!this.hasBeenMounted)return!1;var o=e[0],n=new FileReader;this.setState({imageLoading:!0}),n.onload=function(){var e=n.result.split(","),r=e[0],i=e[1];t.imageName=o.name,t.props.forcedFileName&&(t.imageName=t.replaceFileName(t.imageName)),t.props.aspectRatio?t.handleFileUploaded(r+","+i):null!=t.props.uploadImage?t.props.uploadImage(i,t.imageName,t.handleFileUploaded,r):window.handleUploadImageToS3&&window.handleUploadImageToS3(i,t.imageName,t.handleFileUploaded,r)},n.onabort=function(){if(!t.hasBeenMounted)return!1;t.setState({imageLoading:!1})},n.onerror=function(){if(!t.hasBeenMounted)return!1;t.setState({imageLoading:!1})},n.readAsDataURL(o)}},t.prototype.handleFileUploaded=function(e){if(!this.hasBeenMounted)return!1;this.setState({imageUrl:e,imageLoading:!1})},t.prototype.handleActionClicked=function(){this.props.onAccept&&this.root&&(this.state.isPerformingAction||(this.state.croppedImageUrl?this.saveCroppedImageAndClose():this.state.imageUrl&&(this.props.onAccept&&this.props.onAccept(this.state.imageUrl),this.setState({imageLoading:!1,imageUrl:"",croppedImageUrl:""}))))},t.prototype.saveCroppedImageAndClose=function(){var e=this,t=(this.state.croppedImageUrl||"").split(","),o=t[0],n=t[1],r=function(t){e.setState(d(d({},e.state),{isPerformingAction:!1})),e.props.onAccept&&e.props.onAccept(t)},i=!1;null!=this.props.uploadImage?(this.props.uploadImage(n,this.imageName,r,o),i=!0):window.handleUploadImageToS3&&(window.handleUploadImageToS3(n,this.imageName,r,o),i=!0),i&&this.setState(d(d({},this.state),{isPerformingAction:i}))},t.prototype.replaceFileName=function(e){try{if(this.props.forcedFileName){var t=e.lastIndexOf(".");return-1==t?e:e.replace(e.substr(0,t),this.props.forcedFileName)}}catch(e){}return e},t.prototype.onCropChange=function(e){this.setState(d(d({},this.state),{crop:e}))},t.prototype.makeClientCrop=function(e,t){return o=this,n=void 0,i=function(){var t;return function(e,t){var o,n,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(o){switch(o.label){case 0:return this.imageRef&&e.width&&e.height?[4,this.getCroppedImg(this.imageRef,e)]:[3,2];case 1:t=o.sent(),this.setState(d(d({},this.state),{croppedImageUrl:t})),o.label=2;case 2:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,t){function s(e){try{c(i.next(e))}catch(e){t(e)}}function a(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var o;t.done?e(t.value):(o=t.value,o instanceof r?o:new r((function(e){e(o)}))).then(s,a)}c((i=i.apply(o,n||[])).next())}));var o,n,r,i},t.prototype.getCroppedImg=function(e,t){var o=this,n=document.createElement("canvas"),r=e.naturalWidth/e.width,i=e.naturalHeight/e.height;return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*r,t.y*i,t.width*r,t.height*i,0,0,t.width,t.height),new Promise((function(e,t){n.toBlob((function(t){o.blobToDataURL(t,(function(t){return e(t)}))}),"image/jpeg")}))},t.prototype.blobToDataURL=function(e,t){var o=new FileReader;o.onload=function(e){t(e.target.result)},o.readAsDataURL(e)},t}(r.Component)},2092:(e,t,o)=>{"use strict";o.d(t,{Z:()=>T});var n=o(67294),r=o(94184),i=o.n(r),s=o(74095),a=o(93379),c=o.n(a),l=o(7795),u=o.n(l),p=o(90569),d=o.n(p),h=o(3565),m=o.n(h),f=o(19216),g=o.n(f),b=o(44589),v=o.n(b),y=o(87032),w={};w.styleTagTransform=v(),w.setAttributes=m(),w.insert=d().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=g(),c()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var k,x=o(56781),C=o(30676),E=o(4124),S=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const T=function(e){function t(t){var o=e.call(this,t)||this;return o.handleToggleThread=o.handleToggleThread.bind(o),o.handleDeleteClick=o.handleDeleteClick.bind(o),o.handleReplyClicked=o.handleReplyClicked.bind(o),o.handleEditClick=o.handleEditClick.bind(o),o.handleUpVoteClick=o.handleUpVoteClick.bind(o),o.handleDownVoteClick=o.handleDownVoteClick.bind(o),o.handleToggleSpam=o.handleToggleSpam.bind(o),o.handleNotifyAuthor=o.handleNotifyAuthor.bind(o),o.handleEditingSuggestionToggle=o.handleEditingSuggestionToggle.bind(o),o}return S(t,e),t.prototype.render=function(){var e=this,t=this.props.post instanceof s.jz,o=t?this.props.post.posts:[],r=this.props.post.id,a=[],c=E.y.canModerateInProduct(this.props.currentUser,this.props.post.productId);if(t){var l=this.props.post;null==this.props.currentUser||l.isBeingEdited||a.push(n.createElement("span",{className:"clickable-link-like _item",key:"".concat(r,"-reply"),onClick:this.handleReplyClicked},n.createElement("span",null,"reply")))}if(this.props.post.isBeingEdited)a.push(n.createElement("span",{className:"clickable-link-like _item",key:"".concat(r,"-save"),onClick:this.props.onSaveRequested},n.createElement("span",null,"save"))),a.push(n.createElement("span",{className:"clickable-link-like _item",key:"".concat(r,"-cancel"),onClick:this.props.onCancelRequested},n.createElement("span",null,"cancel (esc)")));else{if(!this.props.post.link||this.props.post.link.startsWith("/comment-")||this.props.post.link.includes("/null/?")||a.push(n.createElement("a",{className:"open-post-location-link _item",href:this.props.post.link,key:"".concat(r,"-location")},n.createElement("span",{className:"go-to-location-label"},"go to location"),n.createElement("i",{className:"go-to-location-icon fa fa-map-marker","data-tip":"go to location"}))),null!=this.props.currentUser&&(this.props.post.user.id==this.props.currentUser.id?0==o.length&&(a.push(n.createElement("span",{className:"clickable-link-like _item",key:"".concat(r,"-edit"),onClick:this.handleEditClick},n.createElement("span",null,"edit"))),a.push(n.createElement("span",{className:"clickable-link-like _item",key:"".concat(r,"-delete"),onClick:this.handleDeleteClick},n.createElement("span",null,"delete")))):this.props.disableVoting||(a.push(n.createElement("span",{key:"".concat(r,"-upvote"),className:i()("clickable-link-like _item",{selected:this.hasAlreadyBeenUpvoted()}),onClick:this.handleUpVoteClick},n.createElement("span",{className:"upvote-downvote-label"},"upvote"),n.createElement("i",{className:"upvote-downvote-icon fa fa-thumbs-up","data-tip":"upvote"}))),a.push(n.createElement("span",{key:"".concat(r,"-downvote"),className:i()("clickable-link-like _item",{selected:this.hasAlreadyBeenDownvoted()}),onClick:this.handleDownVoteClick},n.createElement("span",{className:"upvote-downvote-label"},"downvote"),n.createElement("i",{className:"upvote-downvote-icon fa fa-thumbs-down","data-tip":"downvote"}))))),this.props.post.dateCreated&&(E.y.isNewPostDate(this.props.post.dateCreated)||E.y.showOldPostsDates||c)&&a.push(n.createElement(C.Z,{className:"_item",key:"".concat(r,"-time"),date:this.props.post.dateCreated})),null!=this.props.currentUser&&this.props.post.user.id!=this.props.currentUser.id){var u=this.hasAlreadyBeenMarkedAsSpam(),p=u?"not spam":"report spam";a.push(n.createElement("span",{className:"post-footer-spam-container _item",key:"post-footer-spam"},n.createElement("span",{className:i()("clickable-link-like",{selected:u}),onClick:this.handleToggleSpam},n.createElement("i",{className:"fa fa-exclamation-triangle spam-icon","aria-hidden":"true","data-tip":p}))))}var d=this.props.post.isEditingSuggestion,h=c&&!this.props.isAuthor;if((c||this.props.post.isEditingSuggestion)&&a.push(n.createElement("span",{className:i()("edit-suggestion-link clickable-link-like _item",{selected:this.props.post.isEditingSuggestion,"not-clickable":!c}),key:"".concat(r,"-edit-suggestion"),onClick:this.handleEditingSuggestionToggle,"data-tip":c?d?"unmark suggestion":"acknowledge suggestion":d?"suggestion acknowledged":""},n.createElement("i",{className:"fa fa-check-circle edit-suggestion-icon","aria-hidden":"true"}))),h&&a.push(n.createElement("span",{className:"notify-author-link clickable-link-like _item",key:"".concat(r,"-notify-author"),onClick:this.handleNotifyAuthor,"data-tip":"notify author"},n.createElement("i",{className:"fa fa-envelope notify-author-icon","aria-hidden":"true"}))),this.props.post.isSyncingVotes)0!=this.props.post.votes&&null!=this.props.post.votes&&a.push(n.createElement("span",{className:i()("post-footer-upvote-counter"),key:"".concat(r,"-upvotes")},n.createElement("i",{className:"fa fa-spinner fa-spin"})));else if(0!=this.props.post.votes&&null!=this.props.post.votes){var m=this.props.post.votes;a.push(n.createElement("span",{className:i()("post-footer-upvote-counter",{negative:m<0,positive:m>0}),key:"".concat(r,"-upvotes")},n.createElement("i",{className:i()("fa post-footer-votes-icon",{"fa-thumbs-down":m<0,"fa-thumbs-up":m>0}),"aria-hidden":"true"}),this.props.post.votes))}}return n.createElement("div",{className:"post-footer-root",ref:function(t){return e.root=t}},a)},t.prototype.handleToggleThread=function(){this.props.post instanceof s.jz&&(this.props.post.isOpen?this.props.onCloseRequested&&this.props.onCloseRequested(this.props.post):this.props.onOpenRequested&&this.props.onOpenRequested(this.props.post))},t.prototype.handleDeleteClick=function(){this.props.onDeletePostRequested&&this.props.onDeletePostRequested(this.props.post)},t.prototype.handleEditClick=function(){this.props.onStartEdit&&this.props.onStartEdit(this.props.post)},t.prototype.handleReplyClicked=function(){if(this.props.post instanceof s.jz)if(this.props.post.isOpen){var e=x.Z.closest(this.root,".thread-root-container");if(null!=e){var t=e.querySelector("input, textarea");null!=t&&t.focus()}}else this.props.onOpenRequested&&this.props.onOpenRequested(this.props.post)},t.prototype.handleUpVoteClick=function(){this.hasAlreadyBeenUpvoted()?this.props.onRevokeVoteRequested&&this.props.onRevokeVoteRequested(this.props.post):this.props.onVoteRequested&&this.props.onVoteRequested(this.props.post,1)},t.prototype.handleDownVoteClick=function(){this.hasAlreadyBeenDownvoted()?this.props.onRevokeVoteRequested&&this.props.onRevokeVoteRequested(this.props.post):this.props.onVoteRequested&&this.props.onVoteRequested(this.props.post,-1)},t.prototype.hasAlreadyBeenUpvoted=function(){var e=this.props.post,t=this.props.currentUser.votes.find((function(t){return t.commentId==e.id}));return null!=t&&t.isUpVote},t.prototype.hasAlreadyBeenDownvoted=function(){var e=this.props.post,t=this.props.currentUser.votes.find((function(t){return t.commentId==e.id}));return null!=t&&!t.isUpVote},t.prototype.handleToggleSpam=function(){this.props.onToggleSpamRequested&&this.props.onToggleSpamRequested(this.props.post)},t.prototype.hasAlreadyBeenMarkedAsSpam=function(){return E.y.hasAlreadyBeenMarkedAsSpam(this.props.currentUser,this.props.post)},t.prototype.handleNotifyAuthor=function(){this.props.onNotifyAuthorRequested&&this.props.onNotifyAuthorRequested(this.props.currentUser,this.props.post)},t.prototype.handleEditingSuggestionToggle=function(){E.y.canModerateInProduct(this.props.currentUser,this.props.post.productId)&&this.props.onToggleEditingSuggestionRequested&&this.props.onToggleEditingSuggestionRequested(this.props.post)},t}(n.Component)},45010:(e,t,o)=>{"use strict";o.d(t,{Z:()=>I});var n=o(67294),r=o(94184),i=o.n(r),s=o(12323),a=o(89095),c=o(93379),l=o.n(c),u=o(7795),p=o.n(u),d=o(90569),h=o.n(d),m=o(3565),f=o.n(m),g=o(19216),b=o.n(g),v=o(44589),y=o.n(v),w=o(92617),k={};k.styleTagTransform=y(),k.setAttributes=f(),k.insert=h().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=b(),l()(w.Z,k),w.Z&&w.Z.locals&&w.Z.locals;var x,C=o(4124),E=o(2092),S=(x=function(e,t){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},x(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),T=function(){return T=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},T.apply(this,arguments)},A=function(e){function t(t){var o=e.call(this,t)||this;return o.handleTextAreaChange=o.handleTextAreaChange.bind(o),o.handleKeyDown=o.handleKeyDown.bind(o),o.handleRootRef=o.handleRootRef.bind(o),o.handleRootClick=o.handleRootClick.bind(o),o.state={value:o.props.initialText||""},o}return S(t,e),t.prototype.render=function(){var e=this,t=i()({"previewable-markdown-editor-preview-container":!0,"previewable-markdown-editor-preview-container-hidden":!this.props.isPreviewing}),o=i()({"previewable-markdown-editor-textarea-container-hidden":this.props.isPreviewing});return n.createElement("div",{className:i()("previewable-markdown-editor-root"),ref:this.handleRootRef},n.createElement("div",{className:i()("previewable-markdown-editor-wrapper",{"has-arrow-tip":this.props.hasTip,"has-error":this.props.hasError,"is-previewing":this.props.isPreviewing})},n.createElement(n.Fragment,null,n.createElement(a.Z,{className:t,source:this.props.user?C.y.expendCommentWithUserText(this.state.value,this.props.user&&this.props.user.name):this.state.value,html_in_markdown:!1}),n.createElement(s.Z,{className:o,ref:function(t){return e.textArea=t},placeholder:this.props.placeholder,value:this.state.value,onChange:this.handleTextAreaChange,onKeyDown:this.handleKeyDown,minRows:this.props.minRows||1,maxRows:this.props.maxRows||5})),this.props.hasTextareaCommands&&n.createElement("div",{className:"previewable-markdown-editor-input-commands-container"},n.createElement("i",{className:i()("fa fa-font post-input-show-text-commands-icon",{selected:this.props.isShowingTextEditor}),"data-tip":"toggle text edit controls","aria-hidden":"true",onClick:this.props.onTextEditToggle}),n.createElement("i",{className:"fa ".concat(this.props.saveIcon||"fa-paper-plane"),"data-tip":this.props.saveLabel,title:this.props.saveLabel,onClick:this.props.onSave,"aria-hidden":"true"}))),this.props.isEditing&&n.createElement(E.Z,{post:this.props.post,currentUser:this.props.user,isAuthor:C.y.isAuthor(this.props.user,this.props.authorIdMap),disableVoting:this.props.post.disableVoting,onSaveRequested:this.props.onSave,onCancelRequested:this.props.onCancel}))},t.prototype.handleRootRef=function(e){this.root=e},t.prototype.componentDidMount=function(){null!=this.root&&this.root.addEventListener("click",this.handleRootClick),this.props.dontFocusOnMounted||this.textArea&&this.textArea.focus()},t.prototype.componentDidUpdate=function(e,t){this.state.value!=t.value&&this.props.onTextChange&&this.props.onTextChange(this.state.value)},t.prototype.componentWillUnmount=function(){null!=this.root&&this.root.removeEventListener("click",this.handleRootClick)},t.prototype.handleRootClick=function(e){var t=e.target;null!=t&&"IMG"==t.tagName&&t.src&&this.props.onLargeImageRequested&&this.props.onLargeImageRequested(t.src)},t.prototype.getText=function(){return this.textArea.value.trim()},t.prototype.clearText=function(){this.setState(T(T({},this.state),{value:""}))},t.prototype.getSelectedText=function(){return this.textArea.value.substring(this.textArea.selectionStart,this.textArea.selectionEnd)},t.prototype.focus=function(){this.textArea.focus()},t.prototype.insertTextAtLocation=function(e,t,o){void 0===t&&(t=""),void 0===o&&(o={});var n=this.textArea,r=n.selectionStart,i=n.selectionEnd,s="";if(o.insertAtStartOfLine)for(var a=n.value,c=r;c>=0;c--)if(c<=0||"\n"==a[c]){r=c;break}r!=i&&(s=n.value.substring(r,i)),o.ignoreCurrentSelection&&(s="");var l=n.value.substring(0,r)+(r==i&&o.insertEmptyLineIfNoSelection?"\n\n":"")+e;this.setState(T(T({},this.state),{value:l+s+t+n.value.substring(i)}));var u=l.length+(s.length?s.length+t.length:0);setTimeout((function(){n.selectionEnd=u,n.focus()}),16)},t.prototype.handleTextAreaChange=function(e){this.setState(T(T({},this.state),{value:e.target.value}))},t.prototype.handleKeyDown=function(e){var t=e.keyCode||e.which;13==t&&(e.metaKey||e.ctrlKey)?this.props.onSave&&this.props.onSave():27==t?this.props.onCancel&&this.props.onCancel():9!=t||e.shiftKey||(e.preventDefault(),this.insertTextAtLocation("\t",""))},t}(n.Component);const I=A},24987:(e,t,o)=>{"use strict";o.d(t,{Z:()=>w});var n=o(67294),r=o(93379),i=o.n(r),s=o(7795),a=o.n(s),c=o(90569),l=o.n(c),u=o(3565),p=o.n(u),d=o(19216),h=o.n(d),m=o(44589),f=o.n(m),g=o(5576),b={};b.styleTagTransform=f(),b.setAttributes=p(),b.insert=l().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=h(),i()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals;var v,y=(v=function(e,t){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},v(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const w=function(e){function t(t){return e.call(this,t)||this}return y(t,e),t.prototype.render=function(){return n.createElement("div",{className:"text-edit-controls-root",style:{maxHeight:this.props.isShowingTextEditor?"70px":0}},n.createElement("div",{className:"text-edit-controls-commands-container"},n.createElement("i",{className:"fa fa-bold","data-tip":"bold","aria-hidden":"true",onClick:this.props.onBoldClick}),n.createElement("i",{className:"fa fa-italic","data-tip":"italic","aria-hidden":"true",onClick:this.props.onItalicClick}),n.createElement("i",{className:"fa fa-link","data-tip":"add a link","aria-hidden":"true",style:{marginLeft:"1.5em"},onClick:this.props.onAddLinkClick}),n.createElement("i",{className:"fa fa-quote-right","data-tip":"quote","aria-hidden":"true",onClick:this.props.onAddQuoteClick}),n.createElement("i",{className:"fa fa-code","data-tip":"code fragment","aria-hidden":"true",onClick:this.props.onAddCodeClick}),n.createElement("i",{className:"fa fa-picture-o","data-tip":"insert image","aria-hidden":"true",onClick:this.props.onAddImageClick}),n.createElement("span",{className:"text-edit-controls-preview-link clickable-link-like",tabIndex:-1,onClick:this.props.onTogglePreviewClick},this.props.isPreviewing?"code":"preview")))},t}(n.Component)},30676:(e,t,o)=>{"use strict";o.d(t,{Z:()=>T});var n=o(67294),r=o(94184),i=o.n(r),s=o(21177),a=o(5690),c=o.t(a,2),l=o(93379),u=o.n(l),p=o(7795),d=o.n(p),h=o(90569),m=o.n(h),f=o(3565),g=o.n(f),b=o(19216),v=o.n(b),y=o(44589),w=o.n(y),k=o(17056),x={};x.styleTagTransform=w(),x.setAttributes=g(),x.insert=m().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=v(),u()(k.Z,x),k.Z&&k.Z.locals&&k.Z.locals;var C,E=(C=function(e,t){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},C(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});s.Z.locale(c);var S=new s.Z("en-US");const T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t.prototype.render=function(){var e=this.props.mini?S.format(this.props.date,"mini"):S.format(this.props.date);return e&&("string"==typeof e||e instanceof String)&&e.includes(" NaN")&&(e=null),n.createElement("span",{className:i()("time-ago-label",this.props.className)},e)},t}(n.Component)},61248:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var n=function(){return n=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};const r=function(){function e(e,t,o,n,r){this.title=e,this.forumLocation=t,this.threads=o,this.authorIdMap=n||{},this.moderatorIdMap=r||{}}return e.createCopy=function(t){return new e(t.title,t.forumLocation,t.threads.concat([]),n({},t.authorIdMap),n({},t.moderatorIdMap))},e.createCopyWithNewThreads=function(t,o){return new e(t.title,t.forumLocation,o,n({},t.authorIdMap),n({},t.moderatorIdMap))},e.prototype.getCommentCount=function(){for(var e=0,t=0,o=this.threads;t<o.length;t++)e+=o[t].posts.length+1;return e},e.prototype.countNotSeenPosts=function(){for(var e=0,t=0,o=this.threads;t<o.length;t++)e+=o[t].countNotSeenPosts();return e},e.prototype.hasPostsNewerThan=function(e){for(var t=0,o=this.threads;t<o.length;t++)if(o[t].hasPostsNewerThan(e))return!0;return!1},e.prototype.containsThreadWithId=function(e){for(var t=0,o=this.threads;t<o.length;t++)if(o[t].id==e)return!0;return!1},e.prototype.containsThreadOrPostWithId=function(e){for(var t=0,o=this.threads;t<o.length;t++){var n=o[t];if(n.id==e)return!0;for(var r=0,i=n.posts;r<i.length;r++)if(i[r].id==e)return!0}return!1},e.prototype.getCommentIds=function(){for(var e=[],t=0,o=this.threads;t<o.length;t++){var n=o[t];e.push(n.id);for(var r=0,i=n.posts;r<i.length;r++){var s=i[r];e.push(s.id)}}return e},e}()},81612:(e,t,o)=>{"use strict";var n;o.d(t,{o:()=>n}),function(e){e[e.MostRecent=0]="MostRecent",e[e.Alphabetical=1]="Alphabetical",e[e.CommentCount=2]="CommentCount"}(n||(n={}))},34594:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var n=o(97766);const r=function(){function e(e,t,o,r,i,s,a,c,l,u){void 0===a&&(a=""),void 0===c&&(c=!0),void 0===l&&(l=!1),void 0===u&&(u=!1),this.isBeingEdited=!1,this.isBeingSynced=!1,this.isSyncingVotes=!1,this.isEditingSuggestion=!1,this.id=e,this.text=t,this.user=o,this.votes=r,this.dateCreated=i,this.dateUpdated=s,this.link=n.Z.adaptLinkFormat(a||""),this.isSeen=c,this.isEditingSuggestion=l,this.disableVoting=u}return e.prototype.isCreatedByUser=function(e){return!(!e||!this.user)&&e.id==this.user.id},e.createCopy=function(t){var o=new e(t.id,t.text,t.user,t.votes,t.dateCreated,t.dateUpdated,t.link,t.isSeen,t.isEditingSuggestion,t.disableVoting);return o.isBeingEdited=t.isBeingEdited,o.isBeingSynced=t.isBeingSynced,o.isSyncingVotes=t.isSyncingVotes,o.productId=t.productId,o.isEditingSuggestion=t.isEditingSuggestion,o.meapVersion=t.meapVersion,o.oldForumId=t.oldForumId,o.disableVoting=t.disableVoting,o},e}()},2211:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n,r,i=o(34594),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});!function(e){e[e.Private=0]="Private",e[e.Public=1]="Public",e[e.Question=2]="Question"}(r||(r={}));const a=function(e){function t(t,o,n,r,i,s,a,c,l,u,p){void 0===c&&(c=""),void 0===p&&(p=!1);var d=e.call(this,t,n,r,i,s,a,c)||this;return d.isOpen=!1,d.title=o,d.isEditingSuggestion=l,d.posts=u||[],d.disableVoting=p,d}return s(t,e),t.prototype.countNotSeenPosts=function(){for(var e=0,t=0,o=this.posts;t<o.length;t++)o[t].isSeen||e++;return e},t.prototype.hasPostsNewerThan=function(e){if(this.dateCreated>e)return!0;for(var t=0,o=this.posts;t<o.length;t++)if(o[t].dateCreated>e)return!0;return!1},t.prototype.containsUnseen=function(){if(!this.isSeen)return!0;for(var e=0,t=this.posts;e<t.length;e++)if(!t[e].isSeen)return!0;return!1},t.prototype.containsCommentId=function(e){if(!e)return!1;if(this.id==e)return!0;for(var t=0,o=this.posts;t<o.length;t++)if(o[t].id==e)return!0;return!1},t.prototype.isCreatedByUser=function(e){return!(!e||!this.user)&&e.id==this.user.id},t.prototype.containsCommentsByUser=function(e){if(!e)return!1;if(null!=this.user&&this.user.id==e.id)return!0;for(var t=0,o=this.posts;t<o.length;t++)if(o[t].isCreatedByUser(e))return!0;return!1},t.createCopy=function(e,o){void 0===o&&(o=!0);var n=o?e.posts.concat([]):e.posts,r=new t(e.id,e.title,e.text,e.user,e.votes,e.dateCreated,e.dateUpdated,e.link,e.isEditingSuggestion,n,e.disableVoting);return r.isOpen=e.isOpen,r.isBeingSynced=e.isBeingSynced,r.isBeingEdited=e.isBeingEdited,r.productExternalId=e.productExternalId,r.productId=e.productId,r.element=e.element,r.location=e.location,r.isEditingSuggestion=e.isEditingSuggestion,r.meapVersion=e.meapVersion,r.oldForumId=e.oldForumId,r.disableVoting=e.disableVoting,r},t}(i.Z)},70826:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n=function(){function e(e,t,o){void 0===o&&(o=""),this.id=e,this.name=t,this.avatarUrl=o,this.votes=[],this.spamCommentIds=[]}return e.createCopy=function(t,o,n){void 0===o&&(o=!0),void 0===n&&(n=!0);var r=o?t.votes.concat([]):t.votes,i=n?t.spamCommentIds.concat([]):t.spamCommentIds,s=new e(t.id,t.name,t.avatarUrl);return s.votes=r,s.spamCommentIds=i,s.authorizedProductIds=t.authorizedProductIds,s},e}()},74095:(e,t,o)=>{"use strict";o.d(t,{XF:()=>i,lW:()=>r.Z,QO:()=>l,SO:()=>a.Z,LV:()=>n,jz:()=>s.Z,n5:()=>c.Z});const n=function(){function e(e,t,o,n,r,i,s,a,c,l,u,p){this.authorIdMap={},this.moderatorIdMap={},this.productId=e,this.productExternalId=t,this.productMeapVersion=o,this.productTitle=r,this.productSlug=n,this.numberOfComments=i,this.numberOfNewComments=s,this.lastCommentDate=a,this.elementForums=c,this.isLivebook=l,this.isLivevideo=u,this.isLiveProject=p}return e.prototype.getAllThreads=function(){for(var e=[],t=0,o=this.elementForums;t<o.length;t++){var n=o[t];e.push.apply(e,n.forum.threads)}return e},e.createCopy=function(t){var o=new e(t.productId,t.productExternalId,t.productMeapVersion,t.productSlug,t.productTitle,t.numberOfComments,t.numberOfNewComments,t.lastCommentDate,null!=t.elementForums?(t.elementForums||[]).concat([]):null,t.isLivebook,t.isLivevideo,t.isLiveProject);return o.authorIdMap=t.authorIdMap,o.moderatorIdMap=t.moderatorIdMap,o},e}();var r=o(61248);const i=function(){function e(e,t,o,n,r){void 0===r&&(r=0),this.element=e,this.elementTitle=t,this.forum=o,this.lastCommentDate=n,this.numberOfNewComments=r}return e.createCopy=function(t){return new e(t.element,t.elementTitle,r.Z.createCopy(t.forum),t.lastCommentDate,t.numberOfNewComments)},e.prototype.keepUniqueThreads=function(){if(this.forum&&this.forum.threads&&0!=this.forum.threads.length){for(var e={},t=[],o=0,n=this.forum.threads;o<n.length;o++){var r=n[o];e[r.id]||(t.push(r),e[r.id]=!0)}this.forum.threads=t}},e}();var s=o(2211),a=o(34594),c=o(70826);const l=function(e,t,o,n,r){this.productExternalId=e,this.element=t,this.location=o,this.baseLink=n,this.meapVersion=r}},4124:(e,t,o)=>{"use strict";o.d(t,{y:()=>h});var n=o(26729),r=o(74221),i=o(74095),s=o(81612),a=o(41839),c=o(87060),l=o(65605),u="Errata",p="Meeting arrangement",d="Author Online Forum Legacy Posts",h=function(){function e(){}return e.isNewPostDate=function(e){return null!=e&&l.Z.daysFromNow(e)<62},e.setSourceApp=function(t){e.sourceApp=t},e.setDeploymentType=function(t){e.deploymentType=t},e.getSourceApp=function(){return e.sourceApp},e.getNextEndDate=function(e,t){return void 0===t&&(t=0),e?new Date(e.getTime()-7*Math.pow(2,t)*24*60*60*1e3):new Date(Date.now()-7*Math.pow(2,t)*24*60*60*1e3)},e.getProductForumLink=function(t){if(t.isLivebook){var o="/book/".concat(t.productSlug,"/discussion");return e.sourceApp==a.$X.livebook?o:e.deploymentType==a.mO.qa?"https://livebook-qa.manning.com".concat(o):"https://livebook.manning.com".concat(o)}return t.isLivevideo?(o="/course/".concat(t.productExternalId,"/").concat(t.productSlug,"?discussions=true"),e.sourceApp==a.$X.livevideo?o:e.deploymentType==a.mO.qa?"https://livevideo-qa.manning.com".concat(o):"https://livevideo.manning.com".concat(o)):t.isLiveProject?(o="/project/".concat(t.productExternalId,"/").concat(t.productSlug,"?discussions=true"),e.sourceApp==a.$X.pbc?o:e.deploymentType==a.mO.qa?"https://liveproject-qa.manning.com".concat(o):"https://liveproject.manning.com".concat(o)):""},e.getElementForumLink=function(t,o){if(null==t)return"";if(null==o)return e.getProductForumLink(t);if(t.isLivebook){var n="/book/".concat(t.productSlug,"/").concat(o.element,"/discussion");return e.sourceApp==a.$X.livebook?n:e.deploymentType==a.mO.qa?"https://livebook-qa.manning.com".concat(n):"https://livebook.manning.com".concat(n)}return t.isLivevideo?o.element==c.R||o.element==u||o.element==d||o.element==p?e.getProductForumLink(t):(n="/module/".concat(o.element,"?discussions=true"),e.sourceApp==a.$X.livevideo?n:e.deploymentType==a.mO.qa?"https://livevideo-qa.manning.com".concat(n):"https://livevideo.manning.com".concat(n)):t.isLiveProject?o.element==c.R||o.element==u||o.element==d||o.element==p?e.getProductForumLink(t):(n="/module/".concat(o.element,"?discussions=true"),e.sourceApp==a.$X.pbc?n:e.deploymentType==a.mO.qa?"https://liveproject-qa.manning.com".concat(n):"https://liveproject.manning.com".concat(n)):""},e.sortProductForums=function(e,t){t==s.o.Alphabetical?e.sort((function(e,t){return e.productTitle<t.productTitle?-1:e.productTitle>t.productTitle?1:0})):t==s.o.MostRecent?e.sort((function(e,t){return t.lastCommentDate==e.lastCommentDate?0:t.lastCommentDate<e.lastCommentDate?-1:1})):t==s.o.CommentCount&&e.sort((function(e,t){return t.numberOfComments-e.numberOfComments}))},e.sortElementForums=function(e,t){var o=this;t==s.o.Alphabetical?e.sort((function(e,t){return o.compareByTitle(e.element||"",t.element||"")})):t==s.o.MostRecent?e.sort((function(e,t){return t.lastCommentDate==e.lastCommentDate?0:t.lastCommentDate<e.lastCommentDate?-1:1})):t==s.o.CommentCount&&e.sort((function(e,t){return t.forum.getCommentCount()-e.forum.getCommentCount()}))},e.compareByTitle=function(e,t){if(e=(e||"").toLowerCase(),t=(t||"").toLowerCase(),"general"==e)return-1;if("general"==t)return 1;if("errata"==e)return-1;if("errata"==t)return 1;if("meeting arrangement"==e)return-1;if("meeting arrangement"==t)return 1;if(-1!=e.indexOf("chapter")&&-1!=t.indexOf("chapter")){var o=e.match(/\d+/),n=t.match(/\d+/);if(o&&n)return parseInt(o[0])-parseInt(n[0])}else if(-1!=e.indexOf("appendix")&&-1!=t.indexOf("appendix")){if(o=e.match(/\d+/),n=t.match(/\d+/),o&&n)return parseInt(o[0])-parseInt(n[0])}else{if(-1!=e.indexOf("chapter")&&-1!=t.indexOf("appendix"))return-1;if(-1!=e.indexOf("appendix")&&-1!=t.indexOf("chapter"))return 1}return e<t?-1:e>t?1:0},e.getMatchingProductForums=function(e,t){if(!(t=(t||"").trim()))return e;var o=new r.Z(e,{includeScore:!0,shouldSort:!0,threshold:.2,keys:[{name:"productTitle",weight:1}]}).search(t).map((function(e){return e.item}));if(0==o.length){var n=t.toLowerCase();o=e.filter((function(e){return-1!=e.productTitle.toLowerCase().indexOf(n)}))}return o},e.isAuthor=function(e,t){return!(!e||!t||!t[e.id])},e.isModerator=function(e,t){return!(!e||!t||!t[e.id])},e.updateOnlineStatus=function(e){this.onlineIdMap=e||{}},e.isOnline=function(e){return!(!e||!this.onlineIdMap)&&this.onlineIdMap[e.id]},e.canModerateInProduct=function(e,t){return!(!e||!e.authorizedProductIds)&&(e.authorizedProductIds["*"]||e.authorizedProductIds[t])},e.getUniqueUsers=function(e){if(!e||!e.length)return[];for(var t=[],o={},n=0,r=e;n<r.length;n++){var i=r[n];o[i.user.id]||(t.push(i.user),o[i.user.id]=!0)}return t},e.hasAlreadyBeenMarkedAsSpam=function(e,t){return!!(e&&e.spamCommentIds&&e.spamCommentIds.length&&t)&&null!=e.spamCommentIds.find((function(e){return e==t.id}))},e.hasProductForumVisitNotifications=function(e,t){if(!e||!t)return!1;var o=e[t.productId];return!!o&&t.lastCommentDate>o.lastVisitDate},e.hasElementForumVisitNotifications=function(e,t,o){if(!e||!t)return!1;var n=e[t.productId];return!!n&&!n.visitedElements[o.element]&&o.forum.hasPostsNewerThan(n.lastVisitDate)},e.on=function(e,t){this.emitter.addListener(e,t)},e.off=function(e,t){this.emitter.removeListener(e,t)},e.trigger=function(e,t){var o=this;setTimeout((function(){var n;return(n=o.emitter).emit.apply(n,function(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}([e],t,!1))}),16)},e.addLocationReplacementMapItem=function(e,t){this.locationReplacementMap[e]=t},e.getFromLocationReplacementMap=function(e){return this.locationReplacementMap[e]||e},e.setCurrentLocation=function(e){this.forumLocation=e},e.getCurrentLocation=function(){return this.forumLocation},e.getDefaultForumTitle=function(){return"Discussion"},e.adjustElementTitle=function(e){return(e||"").replace(/-/," ")},e.getNotificationsCount=function(e){for(var t=0,o=0,n=e;o<n.length;o++)t+=n[o].countNotSeenPosts();return t},e.expendCommentWithUserText=function(e,t){return e||(e=""),0!=e.indexOf("#")&&0!=e.indexOf("<")&&0!=e.indexOf("`")&&0!=e.indexOf(">")||(e="\r\n\r\n"+e),"".concat(t,": ").concat(e)},e.getMatchingThreads=function(e,t){for(var o={},n={},s=[],a=[],c=0,l=t;c<l.length;c++){var u=l[c];a.push(u),o[u.id]=u;for(var p=0,d=u.posts;p<d.length;p++){var h=d[p];n[h.id]=u,a.push(h)}}for(var m=0,f=new r.Z(a,{includeScore:!0,shouldSort:!0,threshold:.6,keys:[{name:"text",weight:1}]}).search(e);m<f.length;m++){var g=f[m].item;if(g instanceof i.jz)s.push(g);else{var b=n[g.id];b&&s.push(b)}}return s},e.getAllThreads=function(e){var t=[];if(!e)return t;for(var o=0,n=e;o<n.length;o++){var r=n[o];t.push.apply(t,r.threads)}return t},e.twoForumsShareTheSameRootThread=function(e,t){return!!(e&&t&&e.threads&&t.threads&&e.threads.length&&t.threads.length)&&e.threads[0].id==t.threads[0].id},e.areTwoForumsSame=function(e,t){return this.areThreadsSame(e.threads,t.threads)},e.areForumsSame=function(e,t){return this.areThreadsSame(this.getAllThreads(e),this.getAllThreads(t))},e.areThreadsSame=function(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var o={},n=0,r=e;n<r.length;n++){var i=r[n];o[i.id]=i}for(var s=0,a=t;s<a.length;s++){var c=a[s],l=e[c.id];if(!l)return!1;if(l.posts.length!=c.posts.length)return!1}return!0},e.storeShouldShowLivebooks=function(e){this.setItemToLocalStorage("DISCUSSION_SHOW_LIVEBOOKS",e?"1":"")},e.shouldShowLivebooks=function(){return!!this.getItemFromLocalStorage("DISCUSSION_SHOW_LIVEBOOKS")},e.getTomorrowsDate=function(){var e=new Date,t=new Date;return t.setDate(e.getDate()+1),t},e.getItemFromLocalStorage=function(e){try{return localStorage.getItem(e)}catch(t){return console.log("Error getting item from local storage",e),""}},e.setItemToLocalStorage=function(e,t){try{return t?localStorage.setItem(e,t):localStorage.removeItem(e)}catch(t){return console.log("Error setting item to local storage",e),""}},e.locationReplacementMap={},e.emitter=new n,e.shouldScrollToEndOfThreads=!1,e.shouldShowErrata=!0,e.shouldShowGroupChat=!1,e.shouldShowMaximizeButton=!1,e.shouldShowMinimizeButton=!1,e.shouldShowOnlineStatus=!0,e.showOldPostsDates=!0,e.onlineIdMap={},e.groupId=0,e.globalDisablePosting=!1,e.storedInputText="",e.getCurrentWithinElementLocation=null,e.paginationStartDate=new Date,e.paginationEndDate=new Date,e.paginationIncrement=0,e}();h.paginationEndDate=h.getNextEndDate()},14186:(e,t,o)=>{"use strict";o.d(t,{JH:()=>h,RB:()=>v,T2:()=>f,TE:()=>d,T_:()=>w,Vx:()=>y,WJ:()=>m,Y5:()=>l,ZP:()=>s,_3:()=>g,ck:()=>u,dK:()=>b,ib:()=>c,jD:()=>p,vY:()=>a});var n,r=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=function(e){void 0===e&&(e=a.Unknown),this.hasBeenConsumed=!1,this.type=e};const s=i;var a,c=function(e){function t(){return e.call(this,a.ResetExerciseAnswer)||this}return r(t,e),t}(i),l=function(e){function t(){return e.call(this,a.CheckAnswer)||this}return r(t,e),t}(i),u=function(e){function t(){return e.call(this,a.ShowAnswer)||this}return r(t,e),t}(i),p=function(e){function t(t,o){var n=e.call(this,a.EditExercise)||this;return n.exercise=t,n.exerciseGroupStore=o,n}return r(t,e),t}(i),d=function(e){function t(t){var o=e.call(this,a.DecrementExercisePosition)||this;return o.exercise=t,o}return r(t,e),t}(i),h=function(e){function t(t){var o=e.call(this,a.IncrementExercisePosition)||this;return o.exercise=t,o}return r(t,e),t}(i),m=function(e){function t(t){var o=e.call(this,a.ImportExercises)||this;return o.exercises=t,o}return r(t,e),t}(i),f=function(e){function t(t){var o=e.call(this,a.DeleteExercise)||this;return o.exercise=t,o}return r(t,e),t}(i),g=function(e){function t(t){var o=e.call(this,a.UpdateExerciseGroupTitle)||this;return o.title=t,o}return r(t,e),t}(i),b=function(e){function t(t){var o=e.call(this,a.UpdateExerciseGroupDescription)||this;return o.description=t,o}return r(t,e),t}(i),v=function(e){function t(t,o,n){var r=e.call(this,a.UpdateExerciseData)||this;return r.exercise=t,r.exerciseInfo=o,r.exerciseGroupStore=n,r}return r(t,e),t}(i),y=function(e){function t(t){var o=e.call(this,a.NewExercise)||this;return o.exerciseGroupStore=t,o}return r(t,e),t}(i),w=function(e){function t(t,o){var n=e.call(this,a.SaveNewExercise)||this;return n.exerciseInfo=t,n.exerciseGroupStore=o,n}return r(t,e),t}(i);!function(e){e[e.Unknown=0]="Unknown",e[e.ResetExerciseAnswer=1]="ResetExerciseAnswer",e[e.CheckAnswer=2]="CheckAnswer",e[e.ShowAnswer=3]="ShowAnswer",e[e.DeleteExercise=4]="DeleteExercise",e[e.EditExercise=5]="EditExercise",e[e.CloseModal=6]="CloseModal",e[e.UpdateExerciseData=7]="UpdateExerciseData",e[e.DecrementExercisePosition=8]="DecrementExercisePosition",e[e.IncrementExercisePosition=9]="IncrementExercisePosition",e[e.NewExercise=10]="NewExercise",e[e.SaveNewExercise=11]="SaveNewExercise",e[e.UpdateExerciseGroupTitle=12]="UpdateExerciseGroupTitle",e[e.UpdateExerciseGroupDescription=13]="UpdateExerciseGroupDescription",e[e.ImportExercises=14]="ImportExercises"}(a||(a={}))},48752:(e,t,o)=>{"use strict";o.d(t,{Z:()=>nn});var n,r=o(67294),i=o(46458),s=o(32654);const a=function(){return n};function c(e){return function(t){var o=t.dispatch,n=t.getState;return function(t){return function(r){return"function"==typeof r?r(o,n,e):t(r)}}}}var l=c();l.withExtraArgument=c;const u=l;var p,d=o(23828),h=o(74095),m=o(4124),f=function(){return f=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},f.apply(this,arguments)};!function(e){e.SET_FORUM="SET_FORUM",e.SET_PRODUCT_FORUM="SET_PRODUCT_FORUM",e.SET_CURRENT_USER="SET_CURRENT_USER",e.SET_AUTHORS_AND_MODERATORS="SET_AUTHORS_AND_MODERATORS",e.SET_TITLE="SET_TITLE",e.OPEN_THREAD="OPEN_THREAD",e.CLOSE_THREAD="CLOSE_THREAD",e.CREATE_THREAD="CREATE_THREAD",e.CREATE_THREAD_START="CREATE_THREAD_START",e.CREATE_THREAD_SUCCESS="CREATE_THREAD_SUCCESS",e.CREATE_THREAD_ERROR="CREATE_THREAD_ERROR",e.DELETE_POST="DELETE_POST",e.DELETE_POST_START="DELETE_POST_START",e.DELETE_POST_SUCCESS="DELETE_POST_SUCCESS",e.DELETE_POST_ERROR="DELETE_POST_ERROR",e.CREATE_POST="CREATE_POST",e.CREATE_POST_START="CREATE_POST_START",e.CREATE_POST_SUCCESS="CREATE_POST_SUCCESS",e.CREATE_POST_ERROR="CREATE_POST_ERROR",e.START_EDIT_POST="START_EDIT_POST",e.CANCEL_EDIT_POST="CANCEL_EDIT_POST",e.SAVE_EDIT_POST="SAVE_EDIT_POST",e.SAVE_EDIT_POST_START="SAVE_EDIT_POST_START",e.SAVE_EDIT_POST_SUCCESS="SAVE_EDIT_POST_SUCCESS",e.SAVE_EDIT_POST_ERROR="SAVE_EDIT_POST_ERROR",e.VOTE_POST="VOTE_POST",e.VOTE_POST_START="VOTE_POST_START",e.VOTE_POST_SUCCESS="VOTE_POST_SUCCESS",e.VOTE_POST_ERROR="VOTE_POST_ERROR",e.REVOKE_VOTE_POST="REVOKE_VOTE_POST",e.REVOKE_VOTE_POST_START="REVOKE_VOTE_POST_START",e.REVOKE_VOTE_POST_SUCCESS="REVOKE_VOTE_POST_SUCCESS",e.REVOKE_VOTE_POST_ERROR="REVOKE_VOTE_POST_ERROR",e.TOGGLE_SPAM="TOGGLE_SPAM",e.TOGGLE_SPAM_START="TOGGLE_SPAM_START",e.TOGGLE_SPAM_SUCCESS="TOGGLE_SPAM_SUCCESS",e.TOGGLE_SPAM_ERROR="TOGGLE_SPAM_ERROR",e.TOGGLE_EDITING_SUGGESTION="TOGGLE_EDITING_SUGGESTION",e.TOGGLE_EDITING_SUGGESTION_START="TOGGLE_EDITING_SUGGESTION_START",e.TOGGLE_EDITING_SUGGESTION_SUCCESS="TOGGLE_EDITING_SUGGESTION_SUCCESS",e.TOGGLE_EDITING_SUGGESTION_ERROR="TOGGLE_EDITING_SUGGESTION_ERROR",e.NOTIFICATIONS_ARRIVED="NOTIFICATIONS_ARRIVED",e.REMOVE_THREADS="REMOVE_THREADS",e.CHANGE_AVATAR_URL="CHANGE_AVATAR_URL",e.NOTIFY_AUTHOR="NOTIFY_AUTHOR",e.CHANGE_USER_GROUP_ID="CHANGE_GROUP_ID"}(p||(p={}));var g=function(e,t,o){return void 0===o&&(o={}),f({type:p.CREATE_THREAD_START,title:e,text:t},o)},b=function(e,t,o,n){return void 0===n&&(n={}),f({type:p.CREATE_THREAD_SUCCESS,thread:e,id:t,link:o},n)},v=function(e,t){return void 0===t&&(t={}),f({type:p.CREATE_THREAD_ERROR,thread:e},t)},y=function(e,t,o){return void 0===o&&(o={}),f({type:p.DELETE_POST_START,thread:e,post:t},o)},w=function(e,t,o){return void 0===o&&(o={}),f({type:p.DELETE_POST_SUCCESS,thread:e,post:t},o)},k=function(e,t,o){return void 0===o&&(o={}),f({type:p.DELETE_POST_ERROR,thread:e,post:t},o)},x=function(e,t,o){return void 0===o&&(o={}),f({type:p.CREATE_POST_START,thread:e,text:t},o)},C=function(e,t,o,n,r){return void 0===r&&(r={}),f({type:p.CREATE_POST_SUCCESS,thread:e,post:t,id:o,link:n},r)},E=function(e,t,o){return void 0===o&&(o={}),f({type:p.CREATE_POST_ERROR,thread:e,post:t},o)},S=function(e,t,o,n,r){return void 0===r&&(r={}),f({type:p.SAVE_EDIT_POST_START,thread:e,post:t,text:o,title:n},r)},T=function(e,t,o){return void 0===o&&(o={}),f({type:p.SAVE_EDIT_POST_SUCCESS,thread:e,post:t},o)},A=function(e,t,o,n,r,i,s){return void 0===s&&(s={}),f({type:p.SAVE_EDIT_POST_ERROR,thread:e,post:t,oldText:o,newText:n,oldTitle:r,newTitle:i},s)},I=function(e,t,o,n){return void 0===n&&(n={}),f({type:p.VOTE_POST_START,thread:e,post:t,amount:o},n)},O=function(e,t,o,n,r,i){return void 0===i&&(i={}),f({type:p.VOTE_POST_SUCCESS,thread:e,post:t,totalAmount:o,userVoteAmount:n,userVotes:r},i)},P=function(e,t,o){return void 0===o&&(o={}),f({type:p.VOTE_POST_ERROR,thread:e,post:t},o)},R=function(e,t,o){return void 0===o&&(o={}),f({type:p.REVOKE_VOTE_POST_START,thread:e,post:t},o)},_=function(e,t,o,n,r){return void 0===r&&(r={}),f({type:p.REVOKE_VOTE_POST_SUCCESS,thread:e,post:t,totalAmount:o,votes:n},r)},N=function(e,t,o){return void 0===o&&(o={}),f({type:p.REVOKE_VOTE_POST_ERROR,thread:e,post:t},o)},F=function(e,t,o,n){return void 0===n&&(n={}),f({type:p.TOGGLE_SPAM_START,user:e,thread:t,post:o},n)},L=function(e,t,o,n,r){return void 0===r&&(r={}),f({type:p.TOGGLE_SPAM_SUCCESS,user:e,thread:t,post:o,spamCommentIds:n},r)},M=function(e,t,o){return void 0===o&&(o={}),f({type:p.TOGGLE_SPAM_ERROR,thread:e,post:t},o)},D=function(e,t,o,n){return void 0===n&&(n={}),f({type:p.TOGGLE_EDITING_SUGGESTION_START,user:e,thread:t,post:o},n)},U=function(e,t,o,n,r){return void 0===r&&(r={}),f({type:p.TOGGLE_EDITING_SUGGESTION_SUCCESS,user:e,thread:t,post:o,isEditingSuggestion:n},r)},j=function(e,t,o){return void 0===o&&(o={}),f({type:p.TOGGLE_EDITING_SUGGESTION_ERROR,thread:e,post:t},o)},Z={setForum:function(e){return{type:p.SET_FORUM,forum:e}},setCurrentUser:function(e){return{type:p.SET_CURRENT_USER,user:e}},setAuthorsAndModerators:function(e,t){return{type:p.SET_AUTHORS_AND_MODERATORS,authorIdMap:e,moderatorIdMap:t}},setTitle:function(e){return{type:p.SET_TITLE,title:e}},openThread:function(e,t){return void 0===t&&(t={}),f({type:p.OPEN_THREAD,thread:e},t)},closeThread:function(e,t){return void 0===t&&(t={}),f({type:p.CLOSE_THREAD,thread:e},t)},createThread:function(e,t,o){return void 0===o&&(o={}),function(n,r){n(g(e,t,o));var i=(null!=o.elementForum?r().productForum.elementForums.find((function(e){return e.element==o.elementForum.element})).forum:r().forum).threads.find((function(e){return e.isBeingSynced&&e.text===t&&+e.id<0}));a().createThread(i).then((function(e){n(b(i,e.id,e.link,o))})).catch((function(){n(v(i,o))}))}},createThreadStart:g,createThreadSuccess:b,createThreadError:v,deletePost:function(e,t,o){return void 0===o&&(o={}),function(n,r){n(y(e,t));var i=(null!=o.elementForum?r().productForum.elementForums.find((function(e){return e.element==o.elementForum.element})).forum:r().forum).threads.find((function(t){return t.id==e.id})),s=t instanceof h.jz?i:i.posts.find((function(e){return e.id==t.id}));a().deletePost(s||i).then((function(){n(w(i,s,o))})).catch((function(){n(k(i,s,o))}))}},deletePostStart:y,deletePostSuccess:w,deletePostError:k,createPost:function(e,t,o){return void 0===o&&(o={}),function(n,r){n(x(e,t));var i=(null!=o.elementForum?r().productForum.elementForums.find((function(e){return e.element==o.elementForum.element})).forum:r().forum).threads.find((function(t){return t.id==e.id})),s=i.posts.find((function(e){return e.isBeingSynced&&e.text==t&&+e.id<0}));a().createPost(e,s).then((function(e){n(C(i,s,e.id,e.link,o))})).catch((function(){n(E(i,s,o))}))}},createPostStart:x,createPostSuccess:C,createPostError:E,startEditPost:function(e,t,o){return void 0===o&&(o={}),f({type:p.START_EDIT_POST,thread:e,post:t},o)},cancelEditPost:function(e,t,o){return void 0===o&&(o={}),f({type:p.CANCEL_EDIT_POST,thread:e,post:t},o)},saveEditPost:function(e,t,o,n,r){return void 0===r&&(r={}),function(i,s){i(S(e,t,o,n));var c=(null!=r.elementForum?s().productForum.elementForums.find((function(e){return e.element==r.elementForum.element})).forum:s().forum).threads.find((function(t){return t.id==e.id})),l=t instanceof h.jz?c:c.posts.find((function(e){return e.isBeingSynced&&e.id==t.id}));a().saveEditedPost(l).then((function(){i(T(c,l,r))})).catch((function(){i(A(c,t,t.text,o,t.title,n,r))}))}},saveEditPostStart:S,saveEditPostSuccess:T,saveEditPostError:A,votePost:function(e,t,o,n,r){return void 0===r&&(r={}),function(i,s){i(I(t,o,n));var c=(null!=r.elementForum?s().productForum.elementForums.find((function(e){return e.element==r.elementForum.element})).forum:s().forum).threads.find((function(e){return e.id==t.id})),l=o instanceof h.jz?c:c.posts.find((function(e){return e.id==o.id}));a().votePost(e,l,n).then((function(e){i(O(c,l,e.voteScore,n,e.votes,r))})).catch((function(){i(P(c,o,r))}))}},votePostStart:I,votePostSuccess:O,votePostError:P,revokeVotePost:function(e,t,o,n){return void 0===n&&(n={}),function(r,i){r(R(t,o));var s=(null!=n.elementForum?i().productForum.elementForums.find((function(e){return e.element==n.elementForum.element})).forum:i().forum).threads.find((function(e){return e.id==t.id})),c=o instanceof h.jz?s:s.posts.find((function(e){return e.id==o.id}));a().revokeVote(e,c).then((function(e){r(_(s,c,e.voteScore,e.votes,n))})).catch((function(){r(N(s,o,n))}))}},revokeVotePostStart:R,revokeVotePostSuccess:_,revokeVotePostError:N,toggleSpam:function(e,t,o,n){return void 0===n&&(n={}),function(r,i){r(F(e,t,o));var s=(null!=n.elementForum?i().productForum.elementForums.find((function(e){return e.element==n.elementForum.element})).forum:i().forum).threads.find((function(e){return e.id==t.id})),c=o instanceof h.jz?s:s.posts.find((function(e){return e.id==o.id}));a().toggleSpam(e,c.id,!m.y.hasAlreadyBeenMarkedAsSpam(e,c)).then((function(t){r(L(e,s,c,t.spamCommentIds,n))})).catch((function(){r(M(s,o,n))}))}},toggleSpamStart:F,toggleSpamSuccess:L,toggleSpamError:M,toggleEditingSuggestion:function(e,t,o,n){return void 0===n&&(n={}),function(r,i){r(D(e,t,o));var s=(null!=n.elementForum?i().productForum.elementForums.find((function(e){return e.element==n.elementForum.element})).forum:i().forum).threads.find((function(e){return e.id==t.id})),c=o instanceof h.jz?s:s.posts.find((function(e){return e.id==o.id}));a().toggleEditSuggestion(e,c.id,!c.isEditingSuggestion).then((function(t){r(U(e,s,c,t,n))})).catch((function(){r(j(s,o,n))}))}},toggleEditingSuggestionStart:D,toggleEditingSuggestionSuccess:U,toggleEditingSuggestionError:j,notificationsArrived:function(e){return{type:p.NOTIFICATIONS_ARRIVED,notificationForums:e}},removeThreads:function(e){return{type:p.REMOVE_THREADS,threads:e}},changeAvatarUrl:function(e,t){return{type:p.CHANGE_AVATAR_URL,user:e,avatarUrl:t}},notifyAuthor:function(e,t,o){return{type:p.NOTIFY_AUTHOR,user:e,post:t,message:o}}};const B=Z;var z=o(56781);function q(e){return function(e){return function(t){var o=e(t);switch(t.type){case p.CREATE_THREAD_ERROR:null!=document.activeElement&&(document.activeElement.value=t.thread.text);break;case p.CREATE_POST_ERROR:null!=document.activeElement&&(document.activeElement.value=t.post.text);break;case p.SAVE_EDIT_POST_ERROR:null!=document.activeElement&&(document.activeElement.value=t.newText,Object.getOwnPropertyDescriptor(HTMLTextAreaElement.prototype,"value").set.call(document.activeElement,t.newText),z.Z.triggerTextAreaChange(document.activeElement))}return o}}}var H,W=o(13876);!function(e){e.INITIALIZE="INITIALIZE",e.SET_CURRENT_USER="SET_CURRENT_USER",e.SET_IS_LOADING="SET_IS_LOADING",e.SET_ELEMENT_FORUM="SET_ELEMENT_FORUM",e.CREATE_AND_SET_ELEMENT_FORUM="CREATE_AND_SET_ELEMENT_FORUM",e.SET_LOCATION_FORUM="SET_LOCATION_FORUM",e.FETCH_PRODUCT_FORUM="FETCH_PRODUCT_FORUM",e.FETCH_PRODUCT_FORUM_START="FETCH_PRODUCT_FORUM_START",e.FETCH_PRODUCT_FORUM_SUCCESS="FETCH_PRODUCT_FORUM_SUCCESS",e.FETCH_PRODUCT_FORUM_ERROR="FETCH_PRODUCT_FORUM_ERROR",e.FETCH_PRODUCT_FORUMS="FETCH_PRODUCTS_FORUMS",e.FETCH_PRODUCT_FORUMS_START="FETCH_PRODUCTS_FORUMS_START",e.FETCH_PRODUCT_FORUMS_SUCCESS="FETCH_PRODUCTS_FORUMS_SUCCESS",e.FETCH_PRODUCT_FORUMS_ERROR="FETCH_PRODUCTS_FORUMS_ERROR",e.FETCH_ADDITIONAL_PRODUCT_FORUMS="FETCH_ADDITIONAL_PRODUCTS",e.FETCH_ADDITIONAL_PRODUCT_FORUMS_START="FETCH_ADDITIONAL_PRODUCTS_START",e.FETCH_ADDITIONAL_PRODUCT_FORUMS_SUCCESS="FETCH_ADDITIONAL_PRODUCTS_SUCCESS",e.FETCH_ADDITIONAL_PRODUCT_FORUMS_ERROR="FETCH_ADDITIONAL_PRODUCTS_ERROR",e.REFRESH_ELEMENT_FORUM="REFRESH_CURRENT_FORUM",e.REFRESH_ELEMENT_FORUM_START="REFRESH_CURRENT_FORUM_START",e.REFRESH_ELEMENT_FORUM_SUCCESS="REFRESH_CURRENT_FORUM_SUCCESS",e.REFRESH_ELEMENT_FORUM_ERROR="REFRESH_CURRENT_FORUM_ERROR",e.REFRESH_ELEMENT_FORUM_SKIP="REFRESH_CURRENT_FORUM_SKIP",e.SEARCH="SEARCH",e.SEARCH_START="SEARCH_START",e.SEARCH_SUCCESS="SEARCH_SUCCESS",e.SEARCH_ERROR="SEARCH_ERROR",e.CLEAR_SEARCH="CLEAR_SEARCH",e.SET_SEARCH_QUERY="SET_SEARCH_QUERY",e.SET_SORT_TYPE="SET_SORT_TYPE",e.CLEAR_LOCATION_FORUM="CLEAR_LOCATION_FORUM",e.CLEAR_LOCATION_FORUM_CLEAR="CLEAR_LOCATION_FORUM_CLEAR",e.CLEAR_ELEMENT_FORUM="CLEAR_ELEMENT_FORUM",e.CLEAR_ELEMENT_FORUM_CLEAR="CLEAR_ELEMENT_FORUM_CLEAR",e.CLEAR_PRODUCT_FORUM="CLEAR_PRODUCT_FORUM",e.CLEAR_PRODUCT_FORUM_CLEAR="CLEAR_PRODUCT_FORUM_CLEAR",e.GO_TO_ROOT="GO_TO_ROOT",e.FETCH_FULL_PATH_TO_LOCATION_FORUM="FETCH_FULL_PATH_TO_LOCATION_FORUM",e.FETCH_FULL_PATH_TO_LOCATION_FORUM_START="FETCH_FULL_PATH_TO_LOCATION_FORUM_START",e.FETCH_FULL_PATH_TO_LOCATION_FORUM_SUCCESS="FETCH_FULL_PATH_TO_LOCATION_FORUM_SUCCESS",e.FETCH_FULL_PATH_TO_LOCATION_FORUM_ERROR="FETCH_FULL_PATH_TO_LOCATION_FORUM_ERROR",e.SET_VERTICAL_PADDING="SET_VERTICAL_PADDING",e.SHOW_COMMENT="SHOW_COMMENT",e.SET_DIRECT_NOTIFICATIONS="SET_DIRECT_NOTIFICATIONS",e.SET_FORUM_VISIT_INFO="SET_FORUM_VISIT_INFO",e.SHOW_ALL_NOTIFICATIONS_REQUESTED="SHOW_ALL_NOTIFICATIONS_REQUESTED",e.SHOW_ALL_NOTIFICATIONS_LOADING="SHOW_ALL_NOTIFICATIONS_LOADING",e.SHOW_ALL_NOTIFICATIONS="SHOW_ALL_NOTIFICATIONS",e.CLEAR_THREAD_NOTIFICATIONS="CLEAR_THREAD_NOTIFICATIONS",e.CLEAR_NOTIFICATIONS="CLEAR_NOTIFICATIONS",e.CHANGE_AVATAR_URL="CHANGE_AVATAR_URL",e.CHANGE_USER_GROUP_ID="CHANGE_GROUP_ID",e.SET_ONLINE_STATUS="SET_ONLINE_STATUS"}(H||(H={}));var V,Q=function(e,t){return{type:H.SET_ELEMENT_FORUM,productForum:t,elementForum:e}},G=function(e,t){return void 0===t&&(t="-1"),{type:H.SHOW_COMMENT,commentId:e,threadId:t}},K=function(){return{type:H.REFRESH_ELEMENT_FORUM_SKIP}},X=function(e){return{type:H.FETCH_PRODUCT_FORUM_START,productExternalId:e}},J=function(e){return{type:H.FETCH_PRODUCT_FORUM_SUCCESS,productForum:e}},Y=function(){return{type:H.FETCH_PRODUCT_FORUM_ERROR}},$=function(e){return function(t,o){t(ee()),a().getProductForums(m.y.getTomorrowsDate(),m.y.paginationEndDate,e).then((function(e){t(te(e))})).catch((function(){t(oe())}))}},ee=function(){return{type:H.FETCH_PRODUCT_FORUMS_START}},te=function(e){return{type:H.FETCH_PRODUCT_FORUMS_SUCCESS,productForums:e}},oe=function(){return{type:H.FETCH_PRODUCT_FORUMS_ERROR}},ne=function(){return{type:H.FETCH_ADDITIONAL_PRODUCT_FORUMS_START}},re=function(e){return{type:H.FETCH_ADDITIONAL_PRODUCT_FORUMS_SUCCESS,productForums:e}},ie=function(){return{type:H.FETCH_ADDITIONAL_PRODUCT_FORUMS_ERROR}},se=function(){return{type:H.CLEAR_LOCATION_FORUM_CLEAR}},ae=function(){return{type:H.CLEAR_ELEMENT_FORUM_CLEAR}},ce=function(){return{type:H.CLEAR_PRODUCT_FORUM_CLEAR}},le=function(e,t){return{type:H.SEARCH_START,productForum:t,query:e}},ue=function(e,t,o){return{type:H.SEARCH_SUCCESS,query:e,results:t,productForum:o}},pe=function(e){return{type:H.SEARCH_ERROR}},de=function(){return{type:H.FETCH_FULL_PATH_TO_LOCATION_FORUM_START}},he=function(e,t,o){return{type:H.FETCH_FULL_PATH_TO_LOCATION_FORUM_SUCCESS,locationForum:e,elementForum:t,productForum:o}},me=function(){return{type:H.FETCH_FULL_PATH_TO_LOCATION_FORUM_ERROR}},fe=function(e){return{type:H.SHOW_ALL_NOTIFICATIONS_LOADING,notificationForums:e}},ge=function(e){return{type:H.SHOW_ALL_NOTIFICATIONS,notificationForums:e}},be={initialize:function(e,t){return{type:H.INITIALIZE,user:e,verticalPadding:t}},setCurrentUser:function(e){return{type:H.SET_CURRENT_USER,user:e}},setIsLoading:function(e){return{type:H.SET_IS_LOADING,isLoading:e}},setSearchQuery:function(e){return{type:H.SET_SEARCH_QUERY,searchQuery:e}},setSortType:function(e){return{type:H.SET_SORT_TYPE,sortType:e}},setElementForum:Q,createAndSetElementForum:function(e,t,o,n){return{type:H.CREATE_AND_SET_ELEMENT_FORUM,productForum:n,element:e,elementTitle:t,meapVersion:o}},clearElementForum:function(e){return function(t,o){t(ae()),a().getProductForum(e).then((function(e){t(J(e))})).catch((function(e){console.log("fetchProductForumError",e),t(Y())}))}},clearElementForumClear:ae,setLocationForum:function(e){return{type:H.SET_LOCATION_FORUM,locationForum:e}},clearLocationForum:function(e,t){return function(o,n){o(se()),a().getProductForum(e).then((function(e){var n=e.elementForums.find((function(e){return e.element==t}));o(Q(n,e))})).catch((function(e){console.log("fetchProductForumError",e),o(Y())}))}},clearLocationForumClear:se,fetchProductForum:function(e){return function(t,o){t(X(e)),a().getProductForum(e).then((function(e){t(J(e))})).catch((function(e){console.log("fetchProductForumError",e),t(Y())}))}},fetchProductForumStart:X,fetchProductForumSuccess:J,fetchProductForumError:Y,fetchProductForums:$,fetchProductForumsStart:ee,fetchProductForumsSuccess:te,fetchProductForumsError:oe,fetchAdditionalProductForums:function(e){return void 0===e&&(e=!0),function(t,o){t(ne()),clearTimeout(V),V=setTimeout((function(){!function(e,t){void 0===t&&(t=!0),t&&(m.y.paginationIncrement++,m.y.paginationStartDate=m.y.paginationEndDate,m.y.paginationEndDate=m.y.getNextEndDate(m.y.paginationStartDate,m.y.paginationIncrement)),a().getProductForums(m.y.paginationStartDate,m.y.paginationEndDate).then((function(t){e(re(t))})).catch((function(){e(ie())}))}(t,e)}),2e3)}},fetchAdditionalProductForumsStart:ne,fetchAdditionalProductForumsSuccess:re,fetchAdditionalProductForumsError:ie,clearProductForum:function(e){return function(t,o){t(ce()),a().getProductForums(m.y.getTomorrowsDate(),m.y.paginationEndDate,e).then((function(e){t(te(e))})).catch((function(){t(oe())}))}},clearProductForumClear:ce,search:function(e,t){return function(o,n){o(le(e,t)),a().search(e,t).then((function(n){o(ue(e,n,t))})).catch((function(){o(pe())}))}},searchStart:le,searchSuccess:ue,searchError:pe,clearSearch:function(){return{type:H.CLEAR_SEARCH}},goToRootAndLoadProductForums:function(){return function(e,t){e({type:H.GO_TO_ROOT}),e($())}},fetchFullPathToLocationForum:function(e,t,o,n,r,i){return function(s,c){s(de()),a().getFullPathToLocationForum(e,t,o,n,r,i).then((function(e){s(he(e.locationForum,e.elementForum,e.productForum))})).catch((function(){s(me())}))}},fetchFullPathToLocationForumStart:de,fetchFullPathToLocationForumSuccess:he,fetchFullPathToLocationForumError:me,setVerticalPadding:function(e){return{type:H.SET_VERTICAL_PADDING,verticalPadding:e}},fetchProductForumAndShowComment:function(e,t,o){return void 0===o&&(o="-1"),function(n,r){n(X(e)),a().getProductForum(e).then((function(e){n(J(e));var r=e.elementForums.find((function(e){return null!=e&&null!=e.forum&&e.forum.containsThreadOrPostWithId(t)}));null!=r&&n(Q(r,e)),n(G(t,o))})).catch((function(e){console.log("fetchProductForumError",e),n(Y())}))}},fetchFullPathToLocationForumAndShowComment:function(e,t,o,n,r,i,s){return function(c,l){c(de()),a().getFullPathToLocationForum(e,t,o,n,r,i).then((function(e){c(he(e.locationForum,e.elementForum,e.productForum)),c(G(s))})).catch((function(){c(me())})),c(X(e))}},fetchProductAndElementForum:function(e,t,o,n){return function(r,i){r(X(e)),a().getProductForum(e).then((function(i){r(J(i));var s=i.elementForums.find((function(e){return null!=e&&e.element==t}));null==s&&(s=new h.XF(t,o||t,new h.lW(m.y.adjustElementTitle(o||t),new h.QO(e,t,"","",n),[],i.authorIdMap,i.moderatorIdMap),new Date(1970)),i.elementForums.push(s)),r(Q(s,i))})).catch((function(e){console.log("fetchProductForumError",e),r(Y())}))}},setDirectNotifications:function(e,t){return{type:H.SET_DIRECT_NOTIFICATIONS,notificationForums:e,updateCurrentlyDisplayedForum:t}},showNotificationsRequested:function(e){return function(t,o){t(fe(e)),setTimeout((function(){t(ge(e))}),500)}},showNotificationsLoading:fe,showAllNotifications:ge,clearNotifications:function(){return{type:H.CLEAR_NOTIFICATIONS}},clearThreadNotifications:function(e){return{type:H.CLEAR_THREAD_NOTIFICATIONS,threadIds:e}},setForumVisitInfo:function(e){return{type:H.SET_FORUM_VISIT_INFO,forumVisitInfo:e}},changeAvatarUrl:function(e){return{type:H.CHANGE_AVATAR_URL,avatarUrl:e}},refreshElementForum:function(e,t,o){return function(o,n){var r,i,s,c,l,u,p=(r=n(),i={},s=null!=r.locationForumStore&&r.locationForumStore.getState(),c=null!=r.elementForumStore&&r.elementForumStore.getState(),l=s&&s.forum,u=c&&c.forum,null==l&&null==u||(l||u).threads.forEach((function(e){e.isOpen&&(i[e.id]=!0)})),i),d=function(e){var t={},o=null!=e.locationForumStore&&e.locationForumStore.getState(),n=null!=e.elementForumStore&&e.elementForumStore.getState(),r=o&&o.forum,i=n&&n.forum;return null==r&&null==i||(r||i).threads.forEach((function(e){e.isBeingEdited&&(t[e.id]=!0),e.posts&&e.posts.length&&e.posts.forEach((function(e){e.isBeingEdited&&(t[e.id]=!0)}))})),t}(n());o(function(e,t){return{type:H.REFRESH_ELEMENT_FORUM_START,productExternalId:e,element:t}}(e,t)),"visible"==W.state()?a().refreshProductForum(e).then((function(e){var n=e.elementForums.find((function(e){return null!=e&&e.element==t}));n&&n.forum&&n.forum.threads&&(n.forum.threads.forEach((function(e){p[e.id]&&(e.isOpen=!0),d[e.id]&&(e.isBeingEdited=!0),e.posts&&e.posts.length&&e.posts.forEach((function(e){d[e.id]&&(e.isBeingEdited=!0)}))})),o(Q(n,e))),setTimeout((function(){o(function(e){return{type:H.REFRESH_ELEMENT_FORUM_SUCCESS,productForum:e}}(e))}),16)})).catch((function(){o({type:H.REFRESH_ELEMENT_FORUM_ERROR})})):setTimeout((function(){o(K())}),16)}},refreshProductForumSkip:K};const ve=be;var ye=o(41839),we=!1,ke="";function xe(e){return function(t){return function(o){var n,r;o.type==H.CLEAR_NOTIFICATIONS&&null!=e&&(n=e.getState(),(r=m.y.getAllThreads((n.notificationStores||[]).map((function(e){return e.getState().forum}))).map((function(e){return e.id}))).length&&a().markAsSeen(r));var i=t(o);switch(o.type){case H.CLEAR_SEARCH:var s=document.querySelector(".forum-header-search-input");s&&(s.value="");break;case H.SHOW_COMMENT:Ce(o.commentId,o.threadId);break;case H.SET_ELEMENT_FORUM:case H.SET_LOCATION_FORUM:m.y.trigger("VIEWING_FORUM_START",[]);break;case H.CLEAR_ELEMENT_FORUM:case H.CLEAR_ELEMENT_FORUM_CLEAR:case H.CLEAR_LOCATION_FORUM:case H.CLEAR_LOCATION_FORUM_CLEAR:case H.CLEAR_PRODUCT_FORUM:case H.CLEAR_PRODUCT_FORUM_CLEAR:m.y.trigger("VIEWING_FORUM_STOP",[]);break;case H.REFRESH_ELEMENT_FORUM_START:!function(){var e=document.querySelector(".social-scrollable-container");if(we=z.Z.isScrolledToBottom(e),e){var t=e.querySelector(".thread-root-container:last-of-type");ke=null!=t?t.getAttribute("data-comment-id"):""}}();break;case H.REFRESH_ELEMENT_FORUM_SKIP:case H.REFRESH_ELEMENT_FORUM_SUCCESS:!function(){if(we){var e=document.querySelector(".social-scrollable-container");if(e){var t=e.querySelector(".thread-root-container:last-of-type"),o=null!=t?t.getAttribute("data-comment-id"):"";ke!=o&&z.Z.scrollElementTop(e,z.Z.getTopOffsetForBottomPosition(e),250)}}}();case H.REFRESH_ELEMENT_FORUM_ERROR:m.y.trigger(o.type,[])}return i}}}function Ce(e,t){try{var o=document.querySelector("[data-comment-id='".concat(e,"'] .user-comment-text-container"));if(null!=o){if(m.y.getSourceApp()!=ye.$X.livevideo&&m.y.getSourceApp()!=ye.$X.pbc||null==window.jQuery)o.scrollIntoView();else{var n=window.jQuery(".social-scrollable-container");n.animate({scrollTop:n.scrollTop()+window.jQuery(o).offset().top},1e3)}o.classList.add("emphasized"),setTimeout((function(){o.classList.remove("emphasized")}),3e3)}else if(t&&"-1"!=t&&e!=t){var r=document.querySelector("[data-comment-id='".concat(t,"'] .open-thread-icon"));if(null!=r)try{null!=window.$&&(window.$(r).click(),setTimeout((function(){Ce(e,"-1")}),1e3))}catch(e){console.log(e)}}}catch(e){}}var Ee=o(81612),Se=function(){return Se=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Se.apply(this,arguments)},Te=0,Ae=0,Ie=window.$;function Oe(e,t){try{switch(t.type){case p.CREATE_THREAD_SUCCESS:case p.CREATE_POST_SUCCESS:case p.DELETE_POST_SUCCESS:case p.REVOKE_VOTE_POST_SUCCESS:case p.VOTE_POST_SUCCESS:Ie&&Ie(document).trigger("socialEvent",[t.type,t.forum&&t.forum.forumLocation||t.elementForum&&t.elementForum.forum&&t.elementForum.forum.forumLocation,t.elementForum&&t.elementForum.elementTitle||t.forum&&t.forum.title])}}catch(e){}switch(t.type){case p.SET_FORUM:return Se(Se({},e),{forum:t.forum});case p.SET_CURRENT_USER:return Se(Se({},e),{currentUser:t.user});case p.SET_TITLE:return Se(Se({},e),{title:t.title});case p.OPEN_THREAD:case p.CLOSE_THREAD:return function(e,t){var o=h.jz.createCopy(t.thread,!1);o.isOpen=!t.thread.isOpen;var n=e.forum.threads.concat([]);return n.splice(n.indexOf(t.thread),1,o),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,n)})}(e,t);case p.CREATE_THREAD_START:return function(e,t){var o=new h.jz("-".concat(++Te),t.title,t.text,e.currentUser,0,new Date,new Date,"",!1,[]);return o.isBeingSynced=!0,Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,e.forum.threads.concat([o]))})}(e,t);case p.CREATE_THREAD_SUCCESS:return function(e,t){var o=h.jz.createCopy(t.thread);o.id=t.id,o.isBeingSynced=!1,o.link=t.link;var n=e.forum.threads.concat([]);return n.splice(n.indexOf(t.thread),1,o),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,n)})}(e,t);case p.CREATE_THREAD_ERROR:return function(e,t){var o=e.forum.threads.concat([]);return o.splice(o.indexOf(t.thread)),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o)})}(e,t);case p.DELETE_POST_START:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread);if(t.post instanceof h.jz)n.isBeingSynced=!0;else{var r=h.SO.createCopy(t.post);r.isBeingSynced=!0,n.posts.splice(n.posts.indexOf(t.post),1,r)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o)})}(e,t);case p.DELETE_POST_SUCCESS:return function(e,t){var o=e.forum.threads.concat([]);if(t.post instanceof h.jz)o.splice(o.indexOf(t.thread),1);else{var n=h.jz.createCopy(t.thread);n.posts.splice(n.posts.indexOf(t.post),1),o.splice(o.indexOf(t.thread),1,n)}return Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o)})}(e,t);case p.DELETE_POST_ERROR:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread);if(t.post instanceof h.jz)n.isBeingSynced=!1;else{var r=h.SO.createCopy(t.post);r.isBeingSynced=!1,n.posts.splice(n.posts.indexOf(t.post),1,r)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o)})}(e,t);case p.CREATE_POST_START:return function(e,t){var o=h.jz.createCopy(t.thread),n=new h.SO("-".concat(++Ae),t.text,e.currentUser,0,new Date,new Date);n.isBeingSynced=!0,o.posts.push(n),o.isOpen=!0;var r=e.forum.threads.concat([]);return r.splice(r.indexOf(t.thread),1,o),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,r)})}(e,t);case p.CREATE_POST_SUCCESS:return function(e,t){var o=h.jz.createCopy(t.thread);o.isOpen=!0,o.link=t.link;var n=h.SO.createCopy(t.post);n.isBeingSynced=!1,n.id=t.id,o.posts.splice(o.posts.indexOf(t.post),1,n);var r=e.forum.threads.concat([]);return r.splice(r.indexOf(t.thread),1,o),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,r)})}(e,t);case p.CREATE_POST_ERROR:return function(e,t){var o=h.jz.createCopy(t.thread);o.posts.splice(o.posts.indexOf(t.post),1),o.isOpen=t.thread.isOpen;var n=e.forum.threads.concat([]);return n.splice(n.indexOf(t.thread),1,o),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,n)})}(e,t);case p.START_EDIT_POST:return function(e,t){var o=e.forum.threads.concat([]),n=t.thread,r=h.jz.createCopy(n);if(t.post instanceof h.jz)r.isBeingEdited=!0;else{var i=h.SO.createCopy(t.post);i.isBeingEdited=!0,r.posts.splice(r.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(n),1,r),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o)})}(e,t);case p.CANCEL_EDIT_POST:return function(e,t){var o=e.forum.threads.concat([]),n=t.thread,r=h.jz.createCopy(n);if(t.post instanceof h.jz)r.isBeingEdited=!1;else{var i=h.SO.createCopy(t.post);i.isBeingEdited=!1,r.posts.splice(r.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(n),1,r),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o)})}(e,t);case p.SAVE_EDIT_POST_START:return function(e,t){var o=e.forum.threads.concat([]),n=t.thread,r=h.jz.createCopy(n);if(t.post instanceof h.jz)r.isBeingEdited=!1,r.isBeingSynced=!0,r.text=t.text,r.title=t.title;else{var i=h.SO.createCopy(t.post);i.text=t.text,i.isBeingEdited=!1,i.isBeingSynced=!0,r.posts.splice(r.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(n),1,r),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o)})}(e,t);case p.SAVE_EDIT_POST_SUCCESS:return function(e,t){var o=e.forum.threads.concat([]),n=t.thread,r=h.jz.createCopy(n);if(t.post instanceof h.jz)r.isBeingSynced=!1,r.isBeingEdited=!1;else{var i=h.SO.createCopy(t.post);i.isBeingSynced=!1,i.isBeingEdited=!1,r.posts.splice(r.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(n),1,r),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o)})}(e,t);case p.SAVE_EDIT_POST_ERROR:return function(e,t){var o=e.forum.threads.concat([]),n=t.thread,r=h.jz.createCopy(n);if(t.post instanceof h.jz)r.isBeingEdited=!0,r.isBeingSynced=!1,r.text=t.oldText;else{var i=h.SO.createCopy(t.post);i.text=t.oldText,i.isBeingEdited=!0,i.isBeingSynced=!1,r.posts.splice(r.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(n),1,r),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o)})}(e,t);case p.VOTE_POST_START:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread),r=h.n5.createCopy(e.currentUser);if(t.post instanceof h.jz)n.isBeingSynced=!0,n.isSyncingVotes=!0;else{var i=h.SO.createCopy(t.post);i.isBeingSynced=!0,i.isSyncingVotes=!0,n.posts.splice(n.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o),currentUser:r})}(e,t);case p.VOTE_POST_SUCCESS:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread),r=h.n5.createCopy(e.currentUser);if(t.post instanceof h.jz)n.votes=t.totalAmount,n.isBeingSynced=!1,n.isSyncingVotes=!1,Pe(r,n,t.userVoteAmount);else{var i=h.SO.createCopy(t.post);i.votes=t.totalAmount,i.isBeingSynced=!1,i.isSyncingVotes=!1,Pe(r,i,t.userVoteAmount),n.posts.splice(n.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o),currentUser:r})}(e,t);case p.VOTE_POST_ERROR:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread),r=h.n5.createCopy(e.currentUser);if(t.post instanceof h.jz)n.isBeingSynced=!1,n.isSyncingVotes=!1;else{var i=h.SO.createCopy(t.post);i.isBeingSynced=!1,i.isSyncingVotes=!1,n.posts.splice(n.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o),currentUser:r})}(e,t);case p.REVOKE_VOTE_POST_START:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread),r=h.n5.createCopy(e.currentUser);if(t.post instanceof h.jz)n.isBeingSynced=!0,n.isSyncingVotes=!0;else{var i=h.SO.createCopy(t.post);i.isBeingSynced=!0,i.isSyncingVotes=!0,n.posts.splice(n.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o),currentUser:r})}(e,t);case p.REVOKE_VOTE_POST_SUCCESS:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread),r=h.n5.createCopy(e.currentUser);if(t.post instanceof h.jz)n.votes=t.totalAmount,n.isBeingSynced=!1,n.isSyncingVotes=!1,r.votes=t.votes;else{var i=h.SO.createCopy(t.post);i.votes=t.totalAmount,i.isBeingSynced=!1,i.isSyncingVotes=!1,r.votes=t.votes,n.posts.splice(n.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o),currentUser:r})}(e,t);case p.REVOKE_VOTE_POST_ERROR:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread),r=h.n5.createCopy(e.currentUser);if(t.post instanceof h.jz)n.isBeingSynced=!1,n.isSyncingVotes=!1;else{var i=h.SO.createCopy(t.post);i.isBeingSynced=!1,i.isSyncingVotes=!1,n.posts.splice(n.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o),currentUser:r})}(e,t);case p.TOGGLE_SPAM_START:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread),r=h.n5.createCopy(e.currentUser);if(t.post instanceof h.jz)n.isBeingSynced=!0;else{var i=h.SO.createCopy(t.post);i.isBeingSynced=!0,n.posts.splice(n.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o),currentUser:r})}(e,t);case p.TOGGLE_SPAM_SUCCESS:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread),r=h.n5.createCopy(e.currentUser);if(t.post instanceof h.jz)n.isBeingSynced=!1,r.spamCommentIds=t.spamCommentIds;else{var i=h.SO.createCopy(t.post);i.isBeingSynced=!1,r.spamCommentIds=t.spamCommentIds,n.posts.splice(n.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o),currentUser:r})}(e,t);case p.TOGGLE_SPAM_ERROR:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread),r=h.n5.createCopy(e.currentUser);if(t.post instanceof h.jz)n.isBeingSynced=!1;else{var i=h.SO.createCopy(t.post);i.isBeingSynced=!1,n.posts.splice(n.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o),currentUser:r})}(e,t);case p.NOTIFICATIONS_ARRIVED:return function(e,t){for(var o=m.y.getAllThreads(t.notificationForums),n=[],r=[],i=function(e){var t=o.find((function(t){return t.id==e.id}));t?(n.push(h.jz.createCopy(t)),r.push(t)):n.push(e)},s=0,a=e.forum.threads;s<a.length;s++)i(a[s]);return r.length?Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,n)}):e}(e,t);case p.TOGGLE_EDITING_SUGGESTION_START:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread),r=h.n5.createCopy(e.currentUser);if(t.post instanceof h.jz)n.isBeingSynced=!0;else{var i=h.SO.createCopy(t.post);i.isBeingSynced=!0,n.posts.splice(n.posts.indexOf(t.post),1,i)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o),currentUser:r})}(e,t);case p.TOGGLE_EDITING_SUGGESTION_SUCCESS:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread);if(t.post instanceof h.jz)n.isBeingSynced=!1,n.isEditingSuggestion=t.isEditingSuggestion;else{var r=h.SO.createCopy(t.post);r.isBeingSynced=!1,r.isEditingSuggestion=t.isEditingSuggestion,n.posts.splice(n.posts.indexOf(t.post),1,r)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o)})}(e,t);case p.TOGGLE_EDITING_SUGGESTION_ERROR:return function(e,t){var o=e.forum.threads.concat([]),n=h.jz.createCopy(t.thread);if(t.post instanceof h.jz)n.isBeingSynced=!1;else{var r=h.SO.createCopy(t.post);r.isBeingSynced=!1,n.posts.splice(n.posts.indexOf(t.post),1,r)}return o.splice(o.indexOf(t.thread),1,n),Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o)})}(e,t);case p.REMOVE_THREADS:return function(e,t){var o=t.threads||[],n=e.forum.threads.filter((function(e){return!o.find((function(t){return t.id==e.id}))}));return Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,n)})}(e,t);case p.CHANGE_AVATAR_URL:return function(e,t){var o=[];if(null==e||null==e.forum)return e;for(var n=0,r=e.forum.threads;n<r.length;n++){var i=r[n];if(i.containsCommentsByUser(t.user)){for(var s=h.jz.createCopy(i),a=[],c=0,l=s.posts;c<l.length;c++){var u=l[c];if(u.isCreatedByUser(t.user)){var p=h.SO.createCopy(u);p.user=t.user,a.push(p)}else a.push(u)}s.posts=a,s.isCreatedByUser(t.user)&&(s.user=t.user),o.push(s)}else o.push(i)}return Se(Se({},e),{forum:h.lW.createCopyWithNewThreads(e.forum,o)})}(e,t);case p.NOTIFY_AUTHOR:return function(e,t){return a().notifyAuthor(t.user,t.post,t.message),Se({},e)}(e,t);default:return e}}function Pe(e,t,o){var n=e.votes.find((function(e){return e.commentId==t.id}));n?n.isUpVote?o<0?n.isUpVote=!1:e.votes.splice(e.votes.indexOf(n),1):o>0?n.isUpVote=!0:e.votes.splice(e.votes.indexOf(n),1):e.votes.push({commentId:t.id,isUpVote:o>0})}function Re(e){return function(e){return function(t){var o=e(t);switch(t.type){case p.CREATE_THREAD_SUCCESS:_e(t.thread.id);break;case p.CREATE_POST_SUCCESS:_e(t.post.id)}return o}}}function _e(e){try{var t=document.querySelector("[data-comment-id='".concat(e,"']"));if(!t)return;t.scrollIntoView({behavior:"smooth"})}catch(e){}}function Ne(e){return function(e){return function(t){var o=e(t);switch(t.type){case p.OPEN_THREAD:!function(e){m.y.trigger(e.type,[e.thread])}(t);break;case p.CREATE_POST_SUCCESS:case p.CREATE_THREAD_SUCCESS:m.y.trigger(t.type,[t.id]);break;case p.CREATE_POST_START:case p.CREATE_THREAD_START:case p.CREATE_POST_ERROR:case p.CREATE_THREAD_ERROR:m.y.trigger(t.type,[])}return o}}}var Fe=function(){return Fe=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Fe.apply(this,arguments)},Le={searchQuery:null,notificationStores:null,locationForumStore:null,elementForumStore:null,searchForumStore:null,forumVisitInfo:null};function Me(e,t){switch(void 0===e&&(e=Le),t.type){case H.INITIALIZE:return function(e,t){var o=(0,d.createStore)(Oe,(0,d.applyMiddleware)(u,q,Re,Ne)),n=(0,d.createStore)(Oe,(0,d.applyMiddleware)(u)),r=(0,d.createStore)(Oe,(0,d.applyMiddleware)(u,q,Re,Ne));return null!=t.user&&(o.dispatch(B.setCurrentUser(t.user)),r.dispatch(B.setCurrentUser(t.user))),Fe(Fe({},e),{isLoadingMoreProductResults:!1,hasRunOutOfProductsToLoad:!1,sortType:Ee.o.MostRecent,currentUser:t.user,verticalPadding:t.verticalPadding,elementForumStore:o,searchForumStore:n,locationForumStore:r})}(e,t);case H.SET_CURRENT_USER:return function(e,t){return null!=t.user&&(e.elementForumStore&&e.elementForumStore.dispatch(B.setCurrentUser(t.user)),e.locationForumStore&&e.locationForumStore.dispatch(B.setCurrentUser(t.user)),e.searchForumStore&&e.searchForumStore.dispatch(B.setCurrentUser(t.user))),Fe(Fe({},e),{currentUser:t.user})}(e,t);case H.CHANGE_AVATAR_URL:return function(e,t){var o=Fe(Fe({},e.currentUser),{avatarUrl:t.avatarUrl});return null!=e.elementForumStore&&(e.elementForumStore.dispatch(B.changeAvatarUrl(o,t.avatarUrl)),e.elementForumStore.dispatch(B.setCurrentUser(o))),null!=e.locationForumStore&&(e.locationForumStore.dispatch(B.changeAvatarUrl(o,t.avatarUrl)),e.locationForumStore.dispatch(B.setCurrentUser(o))),null!=e.searchForumStore&&(e.searchForumStore.dispatch(B.changeAvatarUrl(o,t.avatarUrl)),e.searchForumStore.dispatch(B.setCurrentUser(o))),Fe(Fe({},e),{currentUser:o})}(e,t);case H.CREATE_AND_SET_ELEMENT_FORUM:return function(e,t){var o=t.productForum.elementForums&&t.productForum.elementForums.find((function(e){return e.element==t.element})),n=t.productForum;null==o&&(o=new h.XF(t.element,t.elementTitle,new h.lW(m.y.adjustElementTitle(t.elementTitle),new h.QO(t.productForum.productExternalId,t.element,"","",t.meapVersion),[],t.productForum.authorIdMap,t.productForum.moderatorIdMap),new Date(1970)),(n=h.LV.createCopy(n)).elementForums.push(o)),null!=o&&(e.elementForumStore.dispatch(B.setForum(o.forum)),m.y.setCurrentLocation(o.forum.forumLocation));var r=e.forumVisitInfo;return null!=r&&r[t.productForum.productId]&&((r=Fe({},e.forumVisitInfo))[t.productForum.productId]={lastVisitDate:r[t.productForum.productId].lastVisitDate,visitedElements:Fe({},r[t.productForum.productId].visitedElements||{})},r[t.productForum.productId].visitedElements[t.element]=!0),Fe(Fe({},e),{productForum:n,searchQuery:"",isShowingElementForum:!0,isShowingLocationForum:!1,title:o.elementTitle,isLoading:!1,forumVisitInfo:r})}(e,t);case H.SET_ELEMENT_FORUM:return function(e,t){var o=t.elementForum;null!=o&&(e.elementForumStore&&e.elementForumStore.dispatch(B.setForum(o.forum)),m.y.setCurrentLocation(o.forum.forumLocation));var n=e.forumVisitInfo;return null!=n&&n[t.productForum.productId]&&((n=Fe({},e.forumVisitInfo))[t.productForum.productId]={lastVisitDate:n[t.productForum.productId].lastVisitDate,visitedElements:Fe({},n[t.productForum.productId].visitedElements||{})},n[t.productForum.productId].visitedElements[t.elementForum.element]=!0),Fe(Fe({},e),{searchQuery:"",isShowingElementForum:!0,isShowingLocationForum:!1,title:o.elementTitle,isLoading:!1,forumVisitInfo:n})}(e,t);case H.SET_LOCATION_FORUM:return function(e,t){return null!=t.locationForum&&(e.locationForumStore.dispatch(B.setForum(t.locationForum)),m.y.setCurrentLocation(t.locationForum.forumLocation)),Fe(Fe({},e),{isShowingLocationForum:!0})}(e,t);case H.FETCH_PRODUCT_FORUM_START:return function(e,t){return Fe(Fe({},e),{searchQuery:"",searchResultsForum:null,isLoading:!0})}(e);case H.FETCH_PRODUCT_FORUM_SUCCESS:return function(e,t){var o=t.productForum,n=qe(e).filter((function(e){return e.forumLocation.productExternalId==o.productExternalId}));return n.length>0&&(o=Be(o,n)),Fe(Fe({},e),{productForum:o,isLoading:!1,title:t.productForum.productTitle})}(e,t);case H.FETCH_PRODUCT_FORUM_ERROR:return function(e,t){return Fe(Fe({},e),{productForum:null,isLoading:!1,title:m.y.getDefaultForumTitle()})}(e);case H.FETCH_PRODUCT_FORUMS_START:return function(e,t){return Fe(Fe({},e),{isLoading:!0,title:m.y.getDefaultForumTitle()})}(e);case H.FETCH_PRODUCT_FORUMS_SUCCESS:return function(e,t){var o=t.productForums,n=qe(e);return n.length>0&&(o=Ze(o,n)),Fe(Fe({},e),{productForums:o,isLoading:!1,title:m.y.getDefaultForumTitle()})}(e,t);case H.FETCH_PRODUCT_FORUMS_ERROR:return function(e,t){return Fe(Fe({},e),{productForums:[],isLoading:!1,title:m.y.getDefaultForumTitle()})}(e);case H.FETCH_ADDITIONAL_PRODUCT_FORUMS_START:return function(e,t){return Fe(Fe({},e),{isLoading:!1,isLoadingMoreProductResults:!0})}(e);case H.FETCH_ADDITIONAL_PRODUCT_FORUMS_SUCCESS:return function(e,t){var o=e.productForums.concat([]),n=t.productForums,r=qe(e);r.length>0&&(n=Ze(n,r));var i={};if(null!=o&&o.length>0)for(var s=0,a=o;s<a.length;s++)i[a[s].productId]=!0;for(var c=0,l=n;c<l.length;c++){var u=l[c];i[u.productId]||(i[u.productId]=!0,o.push(u))}return Fe(Fe({},e),{productForums:o,isLoadingMoreProductResults:!1,hasRunOutOfProductsToLoad:null==n||0==n.length})}(e,t);case H.FETCH_ADDITIONAL_PRODUCT_FORUMS_ERROR:return function(e,t){return Fe(Fe({},e),{isLoadingMoreProductResults:!1})}(e);case H.REFRESH_ELEMENT_FORUM_START:case H.REFRESH_ELEMENT_FORUM_SUCCESS:case H.REFRESH_ELEMENT_FORUM_SKIP:case H.REFRESH_ELEMENT_FORUM_ERROR:return function(e,t){return Fe({},e)}(e);case H.CLEAR_LOCATION_FORUM_CLEAR:return Fe(Fe({},e),{isShowingLocationForum:!1,isLoading:!0});case H.CLEAR_ELEMENT_FORUM_CLEAR:return Fe(Fe({},e),{isShowingLocationForum:!1,isShowingElementForum:!1,title:null!=e.productForum&&e.productForum.productTitle||m.y.getDefaultForumTitle(),isLoading:!0});case H.CLEAR_PRODUCT_FORUM_CLEAR:return function(e,t){return Fe(Fe({},e),{productForum:null,title:m.y.getDefaultForumTitle(),forumVisitInfo:De(e),isLoading:!0})}(e);case H.SEARCH_START:return Fe(Fe({},e),{isLoading:!0,searchResultsForum:null});case H.SEARCH_SUCCESS:return function(e,t){var o=new h.lW("search results",null,t.results,{},{});return e.searchForumStore.dispatch(B.setForum(o)),e.searchForumStore.dispatch(B.setCurrentUser(e.currentUser)),Fe(Fe({},e),{isLoading:!1,searchResultsForum:o})}(e,t);case H.SEARCH_ERROR:return Fe(Fe({},e),{isLoading:!1,searchResultsForum:null});case H.CLEAR_SEARCH:return Fe(Fe({},e),{searchQuery:"",isLoading:!1,searchResultsForum:null});case H.SET_SEARCH_QUERY:return Fe(Fe({},e),{searchQuery:t.searchQuery});case H.GO_TO_ROOT:return function(e,t){return Fe(Fe({},e),{isShowingLocationForum:!1,isShowingElementForum:!1,productForum:null,productForums:null,isLoading:!0,searchResultsForum:null,forumVisitInfo:De(e)})}(e);case H.FETCH_FULL_PATH_TO_LOCATION_FORUM_START:return Fe(Fe({},e),{isLoading:!0,searchResultsForum:null});case H.FETCH_FULL_PATH_TO_LOCATION_FORUM_SUCCESS:return function(e,t){var o=t.locationForum,n=t.elementForum,r=t.productForum,i=qe(e).filter((function(e){return e.forumLocation.productExternalId==t.productForum.productExternalId}));return i.length>0&&(null!=o&&(o=ze(o,i)),null!=n&&(n=ze(n,i)),null!=r&&(r=Be(r,i))),null!=o&&null!=e.locationForumStore&&(e.locationForumStore.dispatch(B.setForum(o)),m.y.setCurrentLocation(o.forumLocation)),null!=n&&null!=e.elementForumStore&&e.elementForumStore.dispatch(B.setForum(n)),Fe(Fe({},e),{isLoading:!1,isShowingLocationForum:null!=o,isShowingElementForum:null!=n,productForum:r})}(e,t);case H.FETCH_FULL_PATH_TO_LOCATION_FORUM_ERROR:return Fe(Fe({},e),{isLoading:!1});case H.SET_VERTICAL_PADDING:return Fe(Fe({},e),{verticalPadding:t.verticalPadding});case H.SHOW_COMMENT:return function(e,t){return Fe(Fe({},e),{commentIdToShow:t.commentId})}(e,t);case H.SET_SORT_TYPE:return function(e,t){return Fe(Fe({},e),{sortType:t.sortType})}(e,t);case H.SET_DIRECT_NOTIFICATIONS:return function(e,t){return Ue(e,t.notificationForums,t.updateCurrentlyDisplayedForum)}(e,t);case H.SHOW_ALL_NOTIFICATIONS_LOADING:return Fe(Fe({},e),{isShowingNotificationsForum:!1,isLoading:!0});case H.SHOW_ALL_NOTIFICATIONS:return function(e,t){var o=e.productForum,n=e.productForums;return null!=o&&(o=je(o)),null!=n&&(n=n.map((function(e){return je(e)}))),Fe(Fe({},e),{productForum:o,productForums:n,isShowingNotificationsForum:!0,isLoading:!1})}(e);case H.CLEAR_NOTIFICATIONS:return function(e,t){return Fe(Fe({},Ue(e,[])),{isShowingNotificationsForum:!1})}(e);case H.CLEAR_THREAD_NOTIFICATIONS:return function(e,t){for(var o=e.notificationStores||[],n=[],r=(t.threadIds||[]).map((function(e){return+e})),i=(t.threadIds||[]).map((function(e){return e+""})),s=0,a=o;s<a.length;s++){var c=a[s];if(null!=c){var l=c.getState().forum,u=l.threads.filter((function(e){return-1!=r.indexOf(e.id)||-1!=i.indexOf(e.id)}));u.length>0?u.length<l.threads.length&&c.dispatch(B.removeThreads(u)):n.push(c)}}return Ue(e,n.map((function(e){return e.getState().forum})))}(e,t);case H.SET_FORUM_VISIT_INFO:return function(e,t){return Fe(Fe({},e),{forumVisitInfo:t.forumVisitInfo})}(e,t)}return e}function De(e){var t=e.forumVisitInfo;return null!=t&&null!=e.productForum&&t[e.productForum.productId]&&((t=Fe({},t))[e.productForum.productId]={lastVisitDate:new Date,visitedElements:t[e.productForum.productId].visitedElements}),t}function Ue(e,t,o){void 0===o&&(o=!0);var n=e.notificationStores||[],r=m.y.getNotificationsCount(t),i=t.map((function(t){var o=n.find((function(e){return m.y.areTwoForumsSame(e.getState().forum,t)}));return null==o&&(null==(o=n.find((function(e){return m.y.twoForumsShareTheSameRootThread(e.getState().forum,t)})))&&(o=(0,d.createStore)(Oe,(0,d.applyMiddleware)(u,q,Re))).dispatch(B.setCurrentUser(e.currentUser)),o.dispatch(B.setForum(t))),o})),s=e.locationForumStore&&e.locationForumStore.getState().forum,a=e.elementForumStore&&e.elementForumStore.getState().forum,c=e.productForum,l=e.productForums;return o&&(null!=s&&(s=ze(s,t),null!=e.locationForumStore&&e.locationForumStore.getState().forum!=s&&e.locationForumStore.dispatch(B.setForum(s))),null!=a&&(a=ze(a,t),null!=e.elementForumStore&&e.elementForumStore.getState().forum!=a&&e.elementForumStore.dispatch(B.setForum(a))),null!=c&&(c=Be(c,t)),null!=l&&(l=Ze(l,t))),Fe(Fe({},e),{notificationsCount:r,notificationStores:i,isShowingLocationForum:e.isShowingLocationForum,isShowingElementForum:e.isShowingElementForum,productForum:c,productForums:l})}function je(e){if(null==e||!e.numberOfNewComments)return e;var t=h.LV.createCopy(e);return t.numberOfNewComments=0,t.elementForums=function(e){for(var t=[],o=0,n=e;o<n.length;o++){var r=n[o];if(r.numberOfNewComments){var i=h.XF.createCopy(r);i.numberOfNewComments=0,t.push(i)}else t.push(r)}return t}(e.elementForums),t}function Ze(e,t){return e.map((function(e){return Be(e,t)}))}function Be(e,t){var o=t.filter((function(t){return t.forumLocation.productExternalId==e.productExternalId}));return 0!=o.length||e.numberOfNewComments?((e=h.LV.createCopy(e)).numberOfNewComments=m.y.getNotificationsCount(o),null!=e.elementForums&&(e.elementForums=function(e,t){for(var o=[],n=function(e){var n=t.filter((function(t){return t.forumLocation.element==e.element}));if(0!=n.length||e.numberOfNewComments){var r=h.XF.createCopy(e);r.forum=ze(r.forum,n),r.numberOfNewComments=m.y.getNotificationsCount(n),o.push(r)}else o.push(e)},r=0,i=e;r<i.length;r++)n(i[r]);return o}(e.elementForums,o)),e):e}function ze(e,t){if(!e||!e.forumLocation)return e;var o=e.forumLocation,n=t.filter((function(e){var t=e.forumLocation;return!!t&&t.productExternalId==o.productExternalId&&(t.element||"general").toLowerCase()==(o.element||"general").toLowerCase()}));if(0==n.length)return e;var r=h.lW.createCopy(e);return r.threads=function(e,t){for(var o=[],n=[],r={},i=0,s=t;i<s.length;i++){for(var a=s[i],c=0,l=a.threads;c<l.length;c++)r[(d=l[c]).id]=d;n.push.apply(n,a.threads)}for(var u=0,p=e;u<p.length;u++){var d,m,f=r[(d=p[u]).id];null==f?((m=h.jz.createCopy(d)).isOpen=!1,o.push(m)):((m=h.jz.createCopy(f)).isOpen=!0,o.push(m))}return o}(r.threads,n),r}function qe(e){return e&&e.notificationStores&&e.notificationStores.length?e.notificationStores.map((function(e){return e.getState().forum})):[]}var He=o(94184),We=o.n(He),Ve=o(96168),Qe=o(93379),Ge=o.n(Qe),Ke=o(7795),Xe=o.n(Ke),Je=o(90569),Ye=o.n(Je),$e=o(3565),et=o.n($e),tt=o(19216),ot=o.n(tt),nt=o(44589),rt=o.n(nt),it=o(48951),st={};st.styleTagTransform=rt(),st.setAttributes=et(),st.insert=Ye().bind(null,"head"),st.domAPI=Xe(),st.insertStyleElement=ot(),Ge()(it.Z,st),it.Z&&it.Z.locals&&it.Z.locals;var at=o(67766),ct={};ct.styleTagTransform=rt(),ct.setAttributes=et(),ct.insert=Ye().bind(null,"head"),ct.domAPI=Xe(),ct.insertStyleElement=ot(),Ge()(at.Z,ct),at.Z&&at.Z.locals&&at.Z.locals;var lt,ut=(lt=function(e,t){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},lt(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}lt(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ut(t,e),t.prototype.render=function(){return r.createElement("span",{className:"label-separator"}," · ")},t}(r.Component);var dt=o(30676),ht=o(63682),mt={};mt.styleTagTransform=rt(),mt.setAttributes=et(),mt.insert=Ye().bind(null,"head"),mt.domAPI=Xe(),mt.insertStyleElement=ot(),Ge()(ht.Z,mt),ht.Z&&ht.Z.locals&&ht.Z.locals;var ft=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ft(t,e),t.prototype.render=function(){return r.createElement(r.Fragment,null,r.createElement("span",{className:"notifications-indicator-root","data-for":"notification-indicator-tooltip","data-tip":this.props.tooltip||"view notifications",onClick:this.props.onClick},r.createElement("span",{className:"notifications-indicator-label"},this.props.count)))},t}(r.Component);var bt=o(13410),vt=o(87060),yt=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wt=function(e){function t(t){var o=e.call(this,t)||this;return o.handleOpenElementForum=o.handleOpenElementForum.bind(o),o}return yt(t,e),t.prototype.render=function(){var e=this.props.elementForum,t=e.forum.threads,o=this.countComments(t),n=e.elementTitle||(e.element||"").replace("-"," ");this.props.productForum&&this.props.productForum.isLiveProject&&n&&(n=(n+"").replace(/^([\d]+[\.][\d]+[\.] )([\d]+[\.][\d]+[\.])/g,"$2"));var i=m.y.getElementForumLink(this.props.productForum,e);return null!=t&&t.length,r.createElement("div",{className:"element-forum-root",onClick:this.handleOpenElementForum},r.createElement("div",null,r.createElement("div",{className:"element-forum-header"},r.createElement("div",{className:"element-forum-title",title:n},r.createElement("a",{href:i,className:"dont-propagate-click",onClick:function(e){return e.preventDefault()}},n))),r.createElement("div",{className:"element-forum-footer"},t[t.length-1]?r.createElement(r.Fragment,null,(!this.props.productForum.isLiveProject||n===vt.R)&&r.createElement("a",{href:i,onClick:function(e){return e.preventDefault()}},o," ",o>1?"comments":"comment"),e&&e.lastCommentDate&&(m.y.showOldPostsDates||m.y.isNewPostDate(e.lastCommentDate))&&r.createElement(r.Fragment,null,r.createElement(pt,null),r.createElement(dt.Z,{date:e.lastCommentDate}))):r.createElement("span",{className:"inconspicuous-text"},"start a new thread in here"))),r.createElement("div",null,this.generateNotificationsContent()),!bt.Z.isTouch&&r.createElement(Ve.Z,{effect:"solid",place:"top"}))},t.prototype.generateNotificationsContent=function(){return this.props.elementForum.numberOfNewComments>0?r.createElement(gt,{count:this.props.elementForum.numberOfNewComments,tooltip:"".concat(this.props.elementForum.numberOfNewComments," new comment").concat(this.props.elementForum.numberOfNewComments>1?"s":"")}):m.y.hasElementForumVisitNotifications(this.props.forumVisitInfo,this.props.productForum,this.props.elementForum)?r.createElement("div",{className:"forum-not-seen-indicator","data-tip":"contains new comments"}):void 0},t.prototype.handleOpenElementForum=function(){this.props.openElementForum&&this.props.openElementForum(this.props.elementForum)},t.prototype.countComments=function(e){var t=0;if(!e||0==e.length)return t;for(var o=0,n=e;o<n.length;o++){var r=n[o];t+=(null!=r.posts?r.posts.length:0)+1}return t},t}(r.Component);const kt=wt;var xt=o(23165),Ct=o(66467),Et={};Et.styleTagTransform=rt(),Et.setAttributes=et(),Et.insert=Ye().bind(null,"head"),Et.domAPI=Xe(),Et.insertStyleElement=ot(),Ge()(Ct.Z,Et),Ct.Z&&Ct.Z.locals&&Ct.Z.locals;var St=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Tt=function(){return Tt=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Tt.apply(this,arguments)};const At=function(e){function t(t){var o=e.call(this,t)||this;return o.handleRootReady=o.handleRootReady.bind(o),o.handleSearchClick=o.handleSearchClick.bind(o),o.handleClearSearchClick=o.handleClearSearchClick.bind(o),o.handleKeyPress=o.handleKeyPress.bind(o),o.handleSetSearchQuery=o.handleSetSearchQuery.bind(o),o.handleSetSortType=o.handleSetSortType.bind(o),o.toggleSortTooltip=o.toggleSortTooltip.bind(o),o.handlePopupClick=o.handlePopupClick.bind(o),o.handlePopupRef=o.handlePopupRef.bind(o),o.state={isSortTooltipOpened:!1},o}return St(t,e),t.prototype.componentDidUpdate=function(e,t){this.props.hasBackButton===e.hasBackButton&&this.props.leftIconTooltip===e.leftIconTooltip&&this.props.isLiveProject===e.isLiveProject||Ve.Z.rebuild()},t.prototype.render=function(){var e=this,t=this.props.leftIconTooltip;return r.createElement("div",{className:We()("forum-header-root",{"forum-header-showing-search":this.props.isShowingSearchResults}),ref:this.handleRootReady},r.createElement("div",{className:"forum-header"},r.createElement("span",{className:"forum-header-left-side-container"},this.props.hasBackButton?r.createElement("i",{className:"fa fa-fw fa-arrow-left back-button forum-header-button",onClick:this.props.onBack,"data-place":"right","data-tip":t,"data-for":"forum-header-tooltip"}):r.createElement("i",{className:We()("fa fa-fw",{"fa-comments forum-header-button":this.props.hasRootIcon}),"data-place":"right","data-tip":t,"data-for":"forum-header-tooltip",onClick:this.props.onGoToRoot}),this.props.notificationsCount&&this.props.notificationsCount>0?r.createElement(gt,{count:this.props.notificationsCount,onClick:this.props.onShowNotifications}):r.createElement("span",{className:"forum-header-empty-icon"})),r.createElement("span",{className:"forum-header-middle-container"},r.createElement("span",{className:"forum-header-title",dangerouslySetInnerHTML:{__html:this.props.title}}),this.props.offerSearch&&!this.props.isShowingSearchResults&&!this.props.isLoading&&r.createElement(xt.Z,{ref:this.handlePopupRef,trigger:function(){return r.createElement("span",{className:"forum-header-sort",onClick:e.toggleSortTooltip},"sort ",r.createElement("i",{className:"fa fa-sort","aria-hidden":"true"}))},position:"bottom center",open:this.state.isSortTooltipOpened,contentStyle:{border:"none",background:"black",width:"auto"},arrowStyle:{background:"black"},onOpen:this.props.onRequiresAllResults},r.createElement("div",{onClick:this.handlePopupClick},r.createElement("div",{className:We()("forum-header-sort-tooltip-item",{selected:this.props.sortType==Ee.o.MostRecent}),onClick:this.handleSetSortType,"data-value":Ee.o.MostRecent}," date "),r.createElement("div",{className:We()("forum-header-sort-tooltip-item",{selected:this.props.sortType==Ee.o.Alphabetical}),onClick:this.handleSetSortType,"data-value":Ee.o.Alphabetical}," alphabetical "),!this.props.isLiveProject&&r.createElement("div",{className:We()("forum-header-sort-tooltip-item",{selected:this.props.sortType==Ee.o.CommentCount}),onClick:this.handleSetSortType,"data-value":Ee.o.CommentCount}," number of comments ")))),r.createElement("span",{className:"forum-header-right-side-container"},r.createElement("span",{className:"forum-header-empty-icon"}),m.y.shouldShowMaximizeButton&&r.createElement("i",{className:"fa fa-window-maximize forum-header-button",onClick:this.props.onMaximize,"data-place":"left","data-tip":"maximize discussions","data-for":"forum-header-tooltip"}),m.y.shouldShowMinimizeButton&&r.createElement("i",{className:"fa fa-window-minimize forum-header-button",onClick:this.props.onMinimize,"data-place":"left","data-tip":"minimize discussions","data-for":"forum-header-tooltip"}),!this.props.disableClose&&r.createElement("i",{className:"fa fa-times forum-header-button",onClick:this.props.onClose,"data-place":"left","data-tip":"close discussion","data-for":"forum-header-tooltip"}))),this.props.offerSearch&&r.createElement("div",{className:"forum-header-input-container"},r.createElement("input",{onFocus:this.props.onRequiresAllResults,value:this.props.searchQuery||"",placeholder:this.props.searchPlaceholder,className:"forum-header-search-input",onKeyPress:this.handleKeyPress,onChange:this.handleSetSearchQuery}),this.props.isShowingSearchResults?r.createElement("i",{className:"fa fa-times search-icon",onClick:this.handleClearSearchClick,"data-place":"left","data-tip":"clear search","data-for":"forum-header-tooltip"}):r.createElement("i",{className:"fa fa-search search-icon",onClick:this.handleSearchClick,"data-place":"left","data-tip":"search","data-for":"forum-header-tooltip"})),!bt.Z.isTouch&&r.createElement(Ve.Z,{effect:"solid",place:"top",id:"forum-header-tooltip",html:!0}))},t.prototype.handleRootReady=function(e){this.root=e},t.prototype.handlePopupRef=function(e){this.popup=e},t.prototype.handlePopupClick=function(){this.popup&&this.popup.closePopup(),this.setState(Tt(Tt({},this.state),{isSortTooltipOpened:!1}))},t.prototype.handleClearSearchClick=function(){this.props.onClearSearch&&this.props.onClearSearch()},t.prototype.handleSetSearchQuery=function(e){this.props.onSetSearchQuery&&this.props.onSetSearchQuery(e.target.value)},t.prototype.handleSetSortType=function(e){var t=e.target;this.setState(Tt(Tt({},this.state),{isSortTooltipOpened:!1})),this.props.onSetSortType&&this.props.onSetSortType(t.getAttribute("data-value"))},t.prototype.handleSearchClick=function(){this.triggerOnSearchIfNeeded()},t.prototype.handleKeyPress=function(e){"Enter"==e.key&&this.triggerOnSearchIfNeeded()},t.prototype.triggerOnSearchIfNeeded=function(){if(this.root){var e=this.root.querySelector(".forum-header-search-input");if(e){var t=(e.value||"").trim();t&&this.props.onSearch&&this.props.onSearch(t)}}},t.prototype.toggleSortTooltip=function(){this.state.isSortTooltipOpened||this.props.onRequiresAllResults&&this.props.onRequiresAllResults(),this.setState(Tt(Tt({},this.state),{isSortTooltipOpened:!this.state.isSortTooltipOpened}))},t}(r.Component);var It=o(10298),Ot={};Ot.styleTagTransform=rt(),Ot.setAttributes=et(),Ot.insert=Ye().bind(null,"head"),Ot.domAPI=Xe(),Ot.insertStyleElement=ot(),Ge()(It.Z,Ot),It.Z&&It.Z.locals&&It.Z.locals;var Pt=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const Rt=function(e){function t(t){var o=e.call(this,t)||this;return o.handleProductForumSelected=o.handleProductForumSelected.bind(o),o}return Pt(t,e),t.prototype.render=function(){var e=this.props.productForum;return r.createElement("div",{className:"product-forum-summary-root",onClick:this.handleProductForumSelected},r.createElement("div",{className:"product-forum-summary-container"},r.createElement("div",{className:"product-forum-summary-title",title:e.productTitle},r.createElement("a",{href:m.y.getProductForumLink(e),className:"dont-propagate-click",onClick:function(e){return e.preventDefault()}},e.productTitle)),m.y.getSourceApp()!=ye.$X.pbc&&r.createElement("div",{className:"product-forum-summary-footer"},r.createElement("span",{className:"clickable-link-like"},e.numberOfComments," ",e.numberOfComments>1?"comments":"comment"),e.lastCommentDate&&(m.y.showOldPostsDates||m.y.isNewPostDate(e.lastCommentDate))&&r.createElement(r.Fragment,null,r.createElement(pt,null),r.createElement(dt.Z,{date:e.lastCommentDate})))),r.createElement("div",{className:"product-forum-summary-notifications"},this.generateNotificationsIndicator()))},t.prototype.generateNotificationsIndicator=function(){return this.props.productForum.numberOfNewComments>0?r.createElement(gt,{count:this.props.productForum.numberOfNewComments,tooltip:"".concat(this.props.productForum.numberOfNewComments," new comment").concat(this.props.productForum.numberOfNewComments>1?"s":"")}):m.y.hasProductForumVisitNotifications(this.props.forumVisitInfo,this.props.productForum)?r.createElement("div",{className:"forum-not-seen-indicator","data-tip":"contains new comments"}):void 0},t.prototype.handleProductForumSelected=function(){this.props.onProductForumSelected&&this.props.onProductForumSelected(this.props.productForum)},t}(r.Component);var _t=o(73935),Nt=o(55537),Ft={};Ft.styleTagTransform=rt(),Ft.setAttributes=et(),Ft.insert=Ye().bind(null,"head"),Ft.domAPI=Xe(),Ft.insertStyleElement=ot(),Ge()(Nt.Z,Ft),Nt.Z&&Nt.Z.locals&&Nt.Z.locals;var Lt=o(2092),Mt=o(24397),Dt={};Dt.styleTagTransform=rt(),Dt.setAttributes=et(),Dt.insert=Ye().bind(null,"head"),Dt.domAPI=Xe(),Dt.insertStyleElement=ot(),Ge()(Mt.Z,Dt),Mt.Z&&Mt.Z.locals&&Mt.Z.locals;var Ut=o(89095),jt=o(86378),Zt=o(24262),Bt={};Bt.styleTagTransform=rt(),Bt.setAttributes=et(),Bt.insert=Ye().bind(null,"head"),Bt.domAPI=Xe(),Bt.insertStyleElement=ot(),Ge()(Zt.Z,Bt),Zt.Z&&Zt.Z.locals&&Zt.Z.locals;var zt=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qt=function(e){function t(t){var o=e.call(this,t)||this;return o.handleCommentTextRef=o.handleCommentTextRef.bind(o),o.handleRootClick=o.handleRootClick.bind(o),o}return zt(t,e),t.prototype.render=function(){return r.createElement("div",{className:"user-comment-root-container"},r.createElement(jt.Z,{onChangeAvatar:this.props.onChangeAvatar,isCurrentUser:this.isCommentByCurrentUser(),user:this.props.post.user,isAuthor:m.y.isAuthor(this.props.post.user,this.props.authorIdMap),isModerator:m.y.isModerator(this.props.post.user,this.props.moderatorIdMap),isOnline:m.y.isOnline(this.props.post.user)}),r.createElement("div",{className:"user-comment-content-container"},r.createElement("div",{className:We()("user-comment-text-container",{"has-not-been-seen":this.props.isUnseen}),ref:this.handleCommentTextRef},this.renderContent(),this.props.isUnseen&&r.createElement("div",{className:"forum-not-seen-indicator extra-noticable-indicator","data-tip":this.props.post instanceof h.jz?"contains new comments":"new comment"})),this.props.children))},t.prototype.renderContent=function(){var e=this.props.post;return e instanceof h.jz&&e.title?r.createElement(r.Fragment,null,r.createElement("div",{className:"user-comment-thread-header"},r.createElement("span",null,e.user.name,": ")," ",r.createElement("span",{className:"user-comment-thread-title"},e.title)),r.createElement(Ut.Z,{source:e.text,html_in_markdown:!1})):r.createElement(Ut.Z,{source:m.y.expendCommentWithUserText(e.text,e.user.name),html_in_markdown:!1})},t.prototype.handleCommentTextRef=function(e){this.textRoot=e},t.prototype.componentDidMount=function(){null!=this.textRoot&&this.textRoot.addEventListener("click",this.handleRootClick)},t.prototype.componentWillUnmount=function(){null!=this.textRoot&&this.textRoot.removeEventListener("click",this.handleRootClick)},t.prototype.handleRootClick=function(e){var t=e.target;null!=t&&"IMG"==t.tagName&&this.props.onLargeImageRequested&&this.props.onLargeImageRequested(t.src)},t.prototype.isCommentByCurrentUser=function(){return null!=this.props.currentUser&&null!=this.props.post&&null!=this.props.post.user&&this.props.currentUser.id==this.props.post.user.id},t}(r.Component);const Ht=qt;o(35629);var Wt=o(40089),Vt={};Vt.styleTagTransform=rt(),Vt.setAttributes=et(),Vt.insert=Ye().bind(null,"head"),Vt.domAPI=Xe(),Vt.insertStyleElement=ot(),Ge()(Wt.Z,Vt),Wt.Z&&Wt.Z.locals&&Wt.Z.locals;var Qt=o(7424),Gt=o(82958),Kt=o(45010),Xt=o(24987),Jt=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Yt=function(){return Yt=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Yt.apply(this,arguments)};const $t=function(e){function t(t){var o=e.call(this,t)||this;return o.handleCancelClick=o.handleCancelClick.bind(o),o.triggerSave=o.triggerSave.bind(o),o.handleTextEditToggle=o.handleTextEditToggle.bind(o),o.handleHeaderClick=o.handleHeaderClick.bind(o),o.handleBoldClick=o.handleBoldClick.bind(o),o.handleItalicClick=o.handleItalicClick.bind(o),o.handleStrikethroughClick=o.handleStrikethroughClick.bind(o),o.handleAddLinkClick=o.handleAddLinkClick.bind(o),o.handleAddQuoteClick=o.handleAddQuoteClick.bind(o),o.handleAddCodeClick=o.handleAddCodeClick.bind(o),o.handleAddImageClick=o.handleAddImageClick.bind(o),o.handleAddUnorderedListClick=o.handleAddUnorderedListClick.bind(o),o.handleAddOrderedListClick=o.handleAddOrderedListClick.bind(o),o.handleTogglePreviewClick=o.handleTogglePreviewClick.bind(o),o.handleAddLinkConfirmed=o.handleAddLinkConfirmed.bind(o),o.handleAddLinkClosed=o.handleAddLinkClosed.bind(o),o.handleAddImageConfirmed=o.handleAddImageConfirmed.bind(o),o.handleAddImageClosed=o.handleAddImageClosed.bind(o),o.handleRestore=o.handleRestore.bind(o),o.state={isShowingTextEditor:!1,isPreviewing:!1},o}return Jt(t,e),t.prototype.render=function(){var e=this;return m.y.globalDisablePosting?null:null==this.props.user?r.createElement("div",{className:"post-input-root post-input-sign-in-root"},r.createElement("div",{className:"discussion-sign-in-container"},r.createElement("div",{className:"discussion-sign-in-button"},"sign in to join the discussion"))):this.props.disablePosting?r.createElement("div",{className:"post-input-root post-input-sign-in-root"},r.createElement("div",{className:"discussion-not-allowed-container"},r.createElement("div",{className:"discussion-not-allowed-container-button"},this.props.disablePostingMessage||"You are not allowed to post here"))):r.createElement("div",{className:"post-input-root",ref:function(t){return e.root=t},onClick:this.props.onClick},r.createElement(Xt.Z,{isShowingTextEditor:this.state.isShowingTextEditor,isPreviewing:this.state.isPreviewing,onBoldClick:this.handleBoldClick,onItalicClick:this.handleItalicClick,onAddLinkClick:this.handleAddLinkClick,onAddQuoteClick:this.handleAddQuoteClick,onAddCodeClick:this.handleAddCodeClick,onAddImageClick:this.handleAddImageClick,onTogglePreviewClick:this.handleTogglePreviewClick}),r.createElement("div",{className:"post-input-content-container"},r.createElement(jt.Z,{onChangeAvatar:this.props.onChangeAvatar,isCurrentUser:!0,user:this.props.user,isAuthor:m.y.isAuthor(this.props.user,this.props.authorIdMap),isModerator:m.y.isModerator(this.props.user,this.props.moderatorIdMap),isOnline:m.y.isOnline(this.props.user)}),r.createElement(Kt.Z,{ref:function(t){return e.previewableMarkdownEditor=t},user:this.props.user,post:this.props.post,initialText:this.props.initialText,isPreviewing:this.state.isPreviewing,isShowingTextEditor:this.state.isShowingTextEditor,placeholder:this.props.placeholder,hasTip:!0,hasTextareaCommands:!this.props.dontShowCommands,dontFocusOnMounted:this.props.dontFocusOnInput,isEditing:this.props.isEditing,saveLabel:this.props.saveLabel,authorIdMap:this.props.authorIdMap,onCancel:this.handleCancelClick,onSave:this.triggerSave,onTextEditToggle:this.handleTextEditToggle,onLargeImageRequested:this.props.onLargeImageRequested})),m.y.storedInputText&&r.createElement("span",{className:"clickable-link-like",style:{marginLeft:"46px"},onClick:this.handleRestore},"restore text"))},t.prototype.handleRestore=function(){m.y.storedInputText&&(this.previewableMarkdownEditor.insertTextAtLocation(m.y.storedInputText),m.y.storedInputText="",this.forceUpdate())},t.prototype.handleCancelClick=function(){this.props.onCancel&&this.props.onCancel()},t.prototype.triggerSave=function(){this.previewableMarkdownEditor.getText().length>5e3?alert("Comment is too long, maximum length is 5000 characters."):0!=this.previewableMarkdownEditor.getText().trim().length&&(this.props.onSave&&this.props.onSave(this.previewableMarkdownEditor.getText()),this.previewableMarkdownEditor.clearText())},t.prototype.handleTextEditToggle=function(){this.props.onTextEditToggle?this.props.onTextEditToggle():this.setState(Yt(Yt({},this.state),{isShowingTextEditor:!this.state.isShowingTextEditor}))},t.prototype.handleHeaderClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("# ","",{insertAtStartOfLine:!0})},t.prototype.handleBoldClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("**","**")},t.prototype.handleItalicClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("*","*")},t.prototype.handleStrikethroughClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("~~","~~")},t.prototype.handleAddLinkClick=function(){this.root&&this.renderAddLinkModal(!0,this.previewableMarkdownEditor.getSelectedText())},t.prototype.handleAddLinkConfirmed=function(e,t){this.previewableMarkdownEditor.insertTextAtLocation("[".concat(e,"](").concat(t,")"),"",{ignoreCurrentSelection:!0}),this.renderAddLinkModal(!1)},t.prototype.renderAddLinkModal=function(e,t){void 0===t&&(t=""),_t.render(r.createElement(Qt.Z,{isShown:e,defaultValue:t,onAccept:this.handleAddLinkConfirmed,onClose:this.handleAddLinkClosed}),document.getElementById("full-screen-modal"))},t.prototype.handleAddImageClick=function(){this.renderUploadImageModal(!0)},t.prototype.renderUploadImageModal=function(e){_t.render(r.createElement(Gt.Z,{isShown:e,onAccept:this.handleAddImageConfirmed,onClose:this.handleAddImageClosed}),document.getElementById("full-screen-modal"))},t.prototype.handleAddImageConfirmed=function(e){this.previewableMarkdownEditor.insertTextAtLocation("![](".concat(e,")")),this.renderUploadImageModal(!1)},t.prototype.handleAddImageClosed=function(){this.renderUploadImageModal(!1)},t.prototype.handleAddQuoteClick=function(){this.previewableMarkdownEditor.insertTextAtLocation(">","",{insertAtStartOfLine:!0})},t.prototype.handleAddCodeClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("`","`")},t.prototype.handleAddUnorderedListClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("- ","",{insertAtStartOfLine:!0})},t.prototype.handleAddOrderedListClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("1. ","",{insertAtStartOfLine:!0})},t.prototype.handleTogglePreviewClick=function(){this.setState(Yt(Yt({},this.state),{isPreviewing:!this.state.isPreviewing}))},t.prototype.handleAddLinkClosed=function(){this.renderAddLinkModal(!1)},t}(r.Component);var eo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const to=function(e){function t(t){var o=e.call(this,t)||this;return o.handlePostEdit=o.handlePostEdit.bind(o),o.handlePostEditCancel=o.handlePostEditCancel.bind(o),o.handlePostSave=o.handlePostSave.bind(o),o}return eo(t,e),t.prototype.render=function(){return r.createElement("div",{className:We()("post-root-container",{"is-being-synced":this.props.post&&this.props.post.isBeingSynced}),"data-comment-id":this.props.post.id},this.props.post.isBeingEdited?r.createElement($t,{post:this.props.post,initialText:this.props.post.text,user:this.props.currentUser,saveIcon:"fa-check",saveLabel:"save",onSave:this.handlePostSave,onCancel:this.handlePostEditCancel,isEditing:this.props.post.isBeingEdited,authorIdMap:this.props.authorIdMap,moderatorIdMap:this.props.moderatorIdMap,onChangeAvatar:this.props.onChangeAvatar,onLargeImageRequested:this.props.onLargeImageRequested}):r.createElement(Ht,{currentUser:this.props.currentUser,post:this.props.post,onLargeImageRequested:this.props.onLargeImageRequested,onChangeAvatar:this.props.onChangeAvatar,isUnseen:this.props.isUnseen,authorIdMap:this.props.authorIdMap,moderatorIdMap:this.props.moderatorIdMap},r.createElement(Lt.Z,{post:this.props.post,isAuthor:m.y.isAuthor(this.props.currentUser,this.props.authorIdMap),disableVoting:this.props.post.disableVoting,currentUser:this.props.currentUser,onStartEdit:this.handlePostEdit,onDeletePostRequested:this.props.onDeletePostRequested,onVoteRequested:this.props.onVoteRequested,onNotifyAuthorRequested:this.props.onNotifyAuthorRequested,onRevokeVoteRequested:this.props.onRevokeVoteRequested,onToggleSpamRequested:this.props.onToggleSpamRequested,onToggleEditingSuggestionRequested:this.props.onToggleEditingSuggestionRequested})),this.props.post.isBeingSynced&&r.createElement("div",{className:"syncing-frame"}))},t.prototype.handlePostEdit=function(){this.props.onEditRequested&&this.props.onEditRequested(this.props.post)},t.prototype.handlePostEditCancel=function(){this.props.onEditCancelRequested&&this.props.onEditCancelRequested(this.props.post)},t.prototype.handlePostSave=function(e){this.props.onSaveRequested&&this.props.onSaveRequested(this.props.post,e)},t}(r.Component);var oo=o(28622),no={};no.styleTagTransform=rt(),no.setAttributes=et(),no.insert=Ye().bind(null,"head"),no.domAPI=Xe(),no.insertStyleElement=ot(),Ge()(oo.Z,no),oo.Z&&oo.Z.locals&&oo.Z.locals;var ro=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),io=function(e){function t(t){var o=e.call(this,t)||this;return o.handleOpenThread=o.handleOpenThread.bind(o),o}return ro(t,e),t.prototype.render=function(){var e=this.props.thread;if(null==e||null==e.posts||0==e.posts.length)return null;var t=e.posts[e.posts.length-1];return r.createElement("div",{className:"thread-post-summary-root"},r.createElement("i",{className:"fa fa-reply open-thread-icon","aria-hidden":"true",onClick:this.handleOpenThread}),r.createElement("span",{className:"thread-post-summary-open-thread-link",onClick:this.handleOpenThread},r.createElement(jt.Z,{user:t.user,isAuthor:m.y.isAuthor(t.user,this.props.authorIdMap),isModerator:m.y.isModerator(t.user,this.props.moderatorIdMap),isOnline:m.y.isOnline(t.user)}),r.createElement("span",{className:"clickable-link-like thread-post-summary-user-name"},t.user.name," replied"),"  ·  ",r.createElement("span",{className:"clickable-link-like"},e.posts.length," ",e.posts.length>1?"responses":"response")),t&&t.dateCreated&&(m.y.showOldPostsDates||m.y.isNewPostDate(t.dateCreated))&&r.createElement(r.Fragment,null,r.createElement(pt,null),r.createElement(dt.Z,{date:t.dateCreated})))},t.prototype.handleOpenThread=function(){this.props.onOpenRequested&&this.props.onOpenRequested(this.props.thread)},t}(r.Component);const so=io;var ao=o(54064),co={};co.styleTagTransform=rt(),co.setAttributes=et(),co.insert=Ye().bind(null,"head"),co.domAPI=Xe(),co.insertStyleElement=ot(),Ge()(ao.Z,co),ao.Z&&ao.Z.locals&&ao.Z.locals;var lo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),uo=function(){return uo=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},uo.apply(this,arguments)};const po=function(e){function t(t){var o=e.call(this,t)||this;return o.handleCancelClick=o.handleCancelClick.bind(o),o.triggerSave=o.triggerSave.bind(o),o.handleTitleChange=o.handleTitleChange.bind(o),o.handleHeaderClick=o.handleHeaderClick.bind(o),o.handleBoldClick=o.handleBoldClick.bind(o),o.handleItalicClick=o.handleItalicClick.bind(o),o.handleStrikethroughClick=o.handleStrikethroughClick.bind(o),o.handleAddLinkClick=o.handleAddLinkClick.bind(o),o.handleAddQuoteClick=o.handleAddQuoteClick.bind(o),o.handleAddCodeClick=o.handleAddCodeClick.bind(o),o.handleAddImageClick=o.handleAddImageClick.bind(o),o.handleAddUnorderedListClick=o.handleAddUnorderedListClick.bind(o),o.handleAddOrderedListClick=o.handleAddOrderedListClick.bind(o),o.handleTogglePreviewClick=o.handleTogglePreviewClick.bind(o),o.handleAddLinkConfirmed=o.handleAddLinkConfirmed.bind(o),o.handleAddLinkClosed=o.handleAddLinkClosed.bind(o),o.handleAddImageConfirmed=o.handleAddImageConfirmed.bind(o),o.handleAddImageClosed=o.handleAddImageClosed.bind(o),o.handleRestoreInputText=o.handleRestoreInputText.bind(o),o.state={title:o.props.thread?o.props.thread.title:"",isPreviewing:!1,shouldShowMarkdownError:!1,shouldShowTitleError:!1},o}return lo(t,e),t.prototype.render=function(){var e=this;if(m.y.globalDisablePosting)return null;if(null==this.props.user)return r.createElement("div",{className:"thread-input-root thread-input-sign-in-root"},r.createElement("div",{className:"discussion-sign-in-container"},r.createElement("div",{className:"discussion-sign-in-button"},"sign in to join the discussion")));if(this.props.disablePosting)return r.createElement("div",{className:"thread-input-root thread-input-sign-in-root"},r.createElement("div",{className:"discussion-not-allowed-container"},r.createElement("div",{className:"discussion-not-allowed-container-button"},this.props.disablePostingMessage||"You are not allowed to post here")));var t="Ask a question or share an example. Please, stay with the subject of this book.";return this.props.isLiveProject?t="Ask a question or share an example. Please stay within the subject of this project.":this.props.isLivevideo&&(t="Ask a question or share an example. Please, stay with the subject of this course."),r.createElement("div",{className:"thread-input-root",ref:function(t){return e.root=t}},r.createElement(jt.Z,{onChangeAvatar:this.props.onChangeAvatar,isCurrentUser:!0,user:this.props.user,isAuthor:m.y.isAuthor(this.props.user,this.props.authorIdMap),isModerator:m.y.isModerator(this.props.user,this.props.moderatorIdMap),isOnline:m.y.isOnline(this.props.user)}),r.createElement("div",{className:"thread-input-wrapper"},r.createElement("input",{className:We()("thread-input-title-input",{"has-error":this.state.shouldShowTitleError}),placeholder:"subject",value:this.state.title,onChange:this.handleTitleChange,ref:function(t){return e.titleInput=t}}),r.createElement(Xt.Z,{isShowingTextEditor:!0,isPreviewing:this.state.isPreviewing,onBoldClick:this.handleBoldClick,onItalicClick:this.handleItalicClick,onAddLinkClick:this.handleAddLinkClick,onAddQuoteClick:this.handleAddQuoteClick,onAddCodeClick:this.handleAddCodeClick,onAddImageClick:this.handleAddImageClick,onTogglePreviewClick:this.handleTogglePreviewClick}),r.createElement(Kt.Z,{ref:function(t){return e.previewableMarkdownEditor=t},initialText:null!=this.props.thread?this.props.thread.text:"",saveLabel:this.props.saveLabel,isPreviewing:this.state.isPreviewing,isShowingTextEditor:!0,hasError:this.state.shouldShowMarkdownError,onCancel:this.handleCancelClick,onSave:this.triggerSave,placeholder:t,user:this.props.user,authorIdMap:this.props.authorIdMap,dontFocusOnMounted:!0,onLargeImageRequested:this.props.onLargeImageRequested,minRows:4}),r.createElement("div",{className:"thread-create-post-footer"},r.createElement("div",null,this.props.isEditing?r.createElement("span",{className:"clickable-link-like",tabIndex:-1,onClick:this.props.onCancel},"cancel"):r.createElement("a",{href:"https://guides.github.com/features/mastering-markdown/",className:"info-link",target:"_blank",tabIndex:-1},"style with markdown"),m.y.storedInputText?r.createElement("span",{className:"clickable-link-like",tabIndex:-1,onClick:this.handleRestoreInputText},"restore text "):null),r.createElement("div",null,this.props.hasCancel&&r.createElement("span",{className:"discussions-button",onClick:this.handleCancelClick},"cancel"),r.createElement("span",{className:"discussions-button",onClick:this.triggerSave}," ",this.props.saveLabel||"save")))))},t.prototype.componentDidMount=function(){this.titleInput&&this.titleInput.focus()},t.prototype.handleTitleChange=function(e){this.setState(uo(uo({},this.state),{title:e.target.value,shouldShowTitleError:!1}))},t.prototype.handleCancelClick=function(){this.props.onCancel&&this.props.onCancel()},t.prototype.triggerSave=function(){if(0!=(this.titleInput.value||"").trim().length){if(this.titleInput.value.length>255)return alert("Title too long, maximum length is 255 characters."),void this.setState(uo(uo({},this.state),{shouldShowTitleError:!0}));if(0!=this.previewableMarkdownEditor.getText().trim().length){if(this.previewableMarkdownEditor.getText().length>5e3)return alert("Comment too long, maximum length is 5000 characters."),void this.setState(uo(uo({},this.state),{shouldShowMarkdownError:!0}));this.props.onSave&&this.props.onSave(this.titleInput.value,this.previewableMarkdownEditor.getText()),this.previewableMarkdownEditor.clearText(),this.previewableMarkdownEditor.focus(),this.setState(uo(uo({},this.state),{title:""}))}else this.setState(uo(uo({},this.state),{shouldShowMarkdownError:!0}))}else this.setState(uo(uo({},this.state),{shouldShowTitleError:!0}))},t.prototype.handleHeaderClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("# ","",{insertAtStartOfLine:!0})},t.prototype.handleBoldClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("**","**")},t.prototype.handleItalicClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("*","*")},t.prototype.handleStrikethroughClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("~~","~~")},t.prototype.handleRestoreInputText=function(){m.y.storedInputText&&(this.previewableMarkdownEditor.insertTextAtLocation(m.y.storedInputText,""),m.y.storedInputText="",this.forceUpdate())},t.prototype.handleAddLinkClick=function(){this.root&&this.renderAddLinkModal(!0,this.previewableMarkdownEditor.getSelectedText())},t.prototype.handleAddLinkConfirmed=function(e,t){this.previewableMarkdownEditor.insertTextAtLocation("[".concat(e,"](").concat(t,")"),"",{ignoreCurrentSelection:!0}),this.renderAddLinkModal(!1)},t.prototype.renderAddLinkModal=function(e,t){void 0===t&&(t=""),_t.render(r.createElement(Qt.Z,{isShown:e,defaultValue:t,onAccept:this.handleAddLinkConfirmed,onClose:this.handleAddLinkClosed}),document.getElementById("full-screen-modal"))},t.prototype.handleAddImageClick=function(){this.renderUploadImageModal(!0)},t.prototype.renderUploadImageModal=function(e){_t.render(r.createElement(Gt.Z,{isShown:e,onAccept:this.handleAddImageConfirmed,onClose:this.handleAddImageClosed}),document.getElementById("full-screen-modal"))},t.prototype.handleAddImageConfirmed=function(e){this.previewableMarkdownEditor.insertTextAtLocation("![](".concat(e,")")),this.renderUploadImageModal(!1)},t.prototype.handleAddImageClosed=function(){this.renderUploadImageModal(!1)},t.prototype.handleAddQuoteClick=function(){this.previewableMarkdownEditor.insertTextAtLocation(">","",{insertAtStartOfLine:!0})},t.prototype.handleAddCodeClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("`","`",{insertEmptyLineIfNoSelection:!0})},t.prototype.handleAddUnorderedListClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("- ","",{insertAtStartOfLine:!0})},t.prototype.handleAddOrderedListClick=function(){this.previewableMarkdownEditor.insertTextAtLocation("1. ","",{insertAtStartOfLine:!0})},t.prototype.handleTogglePreviewClick=function(){this.setState(uo(uo({},this.state),{isPreviewing:!this.state.isPreviewing}))},t.prototype.handleAddLinkClosed=function(){this.renderAddLinkModal(!1)},t}(r.Component);var ho=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),mo=function(e){function t(t){var o=e.call(this,t)||this;return o.handleOpenThread=o.handleOpenThread.bind(o),o.handleCloseThread=o.handleCloseThread.bind(o),o.handlePostEdit=o.handlePostEdit.bind(o),o.handlePostSave=o.handlePostSave.bind(o),o.handlePostEditCancel=o.handlePostEditCancel.bind(o),o.handleDeletePostRequested=o.handleDeletePostRequested.bind(o),o.handleCreatePost=o.handleCreatePost.bind(o),o.handleThreadSave=o.handleThreadSave.bind(o),o.handleThreadEditCancel=o.handleThreadEditCancel.bind(o),o.handleVoteRequested=o.handleVoteRequested.bind(o),o.handleRevokeVoteRequested=o.handleRevokeVoteRequested.bind(o),o.handleThreadPostSave=o.handleThreadPostSave.bind(o),o.handleToggleSpamRequested=o.handleToggleSpamRequested.bind(o),o.handleToggleEditingSuggestionRequested=o.handleToggleEditingSuggestionRequested.bind(o),o.state={},o}return ho(t,e),t.prototype.render=function(){var e=this;return r.createElement("li",{className:We()("thread-root-container",{"is-being-synced":this.props.thread&&this.props.thread.isBeingSynced}),"data-comment-id":this.props.thread.id},!this.props.thread.isBeingEdited&&r.createElement(Ht,{currentUser:this.props.currentUser,post:this.props.thread,onLargeImageRequested:this.props.onLargeImageRequested,onChangeAvatar:this.props.onChangeAvatar,isUnseen:this.props.isUnseen,authorIdMap:this.props.authorIdMap,moderatorIdMap:this.props.moderatorIdMap},r.createElement(Lt.Z,{post:this.props.thread,currentUser:this.props.currentUser,isAuthor:m.y.isAuthor(this.props.currentUser,this.props.authorIdMap),disableVoting:this.props.thread.disableVoting,onOpenRequested:this.handleOpenThread,onCloseRequested:this.handleCloseThread,onStartEdit:this.handlePostEdit,onDeletePostRequested:this.props.onDeleteRequested,onVoteRequested:this.handleVoteRequested,onNotifyAuthorRequested:this.props.onNotifyAuthorRequested,onRevokeVoteRequested:this.handleRevokeVoteRequested,onToggleSpamRequested:this.handleToggleSpamRequested,onToggleEditingSuggestionRequested:this.handleToggleEditingSuggestionRequested}),this.props.thread.isOpen?r.createElement("div",null,this.props.thread.posts.map((function(t){return r.createElement(to,{post:t,key:t.id,currentUser:e.props.currentUser,authorIdMap:e.props.authorIdMap,moderatorIdMap:e.props.moderatorIdMap,isUnseen:e.props.isUnseen&&!t.isSeen,canEdit:null!=e.props.currentUser&&t.user.id==e.props.currentUser.id,onEditRequested:e.handlePostEdit,onEditCancelRequested:e.handlePostEditCancel,onSaveRequested:e.handlePostSave,onDeletePostRequested:e.handleDeletePostRequested,onVoteRequested:e.handleVoteRequested,onNotifyAuthorRequested:e.props.onNotifyAuthorRequested,onRevokeVoteRequested:e.handleRevokeVoteRequested,onToggleSpamRequested:e.handleToggleSpamRequested,onLargeImageRequested:e.props.onLargeImageRequested,onChangeAvatar:e.props.onChangeAvatar})})),this.props.currentUser&&r.createElement($t,{placeholder:"reply",user:this.props.currentUser,authorIdMap:this.props.authorIdMap,moderatorIdMap:this.props.moderatorIdMap,dontFocusOnInput:this.props.dontFocusOnInput||bt.Z.isTouch,saveLabel:"reply",onSave:this.handleCreatePost,onLargeImageRequested:this.props.onLargeImageRequested,onChangeAvatar:this.props.onChangeAvatar})):r.createElement(so,{thread:this.props.thread,authorIdMap:this.props.authorIdMap,moderatorIdMap:this.props.moderatorIdMap,onOpenRequested:this.handleOpenThread})),this.props.thread.isBeingEdited&&r.createElement(po,{initialText:this.props.thread.text,user:this.props.currentUser,thread:this.props.thread,isEditing:this.props.thread.isBeingEdited,saveLabel:"save",onSave:this.handleThreadSave,onCancel:this.handleThreadEditCancel,onChangeAvatar:this.props.onChangeAvatar}),this.props.thread.isBeingSynced&&r.createElement("div",{className:"syncing-frame"}))},t.prototype.handleOpenThread=function(e){this.props.onOpenRequested&&this.props.onOpenRequested(e)},t.prototype.handleCloseThread=function(e){this.props.onCloseRequested&&this.props.onCloseRequested(e)},t.prototype.handleThreadPostSave=function(e){this.props.onSaveEditPostRequested(this.props.thread,this.props.thread,e,"")},t.prototype.handleThreadSave=function(e,t){this.props.onSaveEditPostRequested(this.props.thread,this.props.thread,t,e)},t.prototype.handleThreadEditCancel=function(){this.props.onCancelEditPostRequested(this.props.thread,this.props.thread)},t.prototype.handlePostSave=function(e,t){this.props.onSaveEditPostRequested(this.props.thread,e,t)},t.prototype.handleCreatePost=function(e){this.props.onCreatePostRequested(this.props.thread,e)},t.prototype.handlePostEdit=function(e){this.props.onStartEditPostRequested&&this.props.onStartEditPostRequested(this.props.thread,e)},t.prototype.handlePostEditCancel=function(e){this.props.onCancelEditPostRequested(this.props.thread,e)},t.prototype.handleDeletePostRequested=function(e){this.props.onDeletePostRequested(this.props.thread,e)},t.prototype.handleVoteRequested=function(e,t){this.props.onVoteRequested(this.props.thread,e,t)},t.prototype.handleToggleSpamRequested=function(e){this.props.onToggleSpamRequested(this.props.thread,e)},t.prototype.handleToggleEditingSuggestionRequested=function(e){this.props.onToggleEditingSuggestionRequested(this.props.thread,e)},t.prototype.handleRevokeVoteRequested=function(e){this.props.onRevokeVoteRequested(this.props.thread,e)},t}(r.Component);const fo=mo;var go=o(25369),bo={};bo.styleTagTransform=rt(),bo.setAttributes=et(),bo.insert=Ye().bind(null,"head"),bo.domAPI=Xe(),bo.insertStyleElement=ot(),Ge()(go.Z,bo),go.Z&&go.Z.locals&&go.Z.locals;var vo,yo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();!function(e){e.EDIT_SUGGESTION="EDIT_SUGGESTION",e.OLD_MEAP_VERSIONS="OLD_MEAP_VERSIONS"}(vo||(vo={}));const wo=function(e){function t(t){return e.call(this,t)||this}return yo(t,e),t.prototype.render=function(){var e=this.props.threads,t=m.y.getUniqueUsers(e);return t.length?r.createElement("div",{className:"threads-summary-root",onClick:this.props.onExpandRequested},this.props.summaryType==vo.EDIT_SUGGESTION&&r.createElement("span",{className:"clickable-link-like"},"show editing suggestions by"),this.props.summaryType==vo.OLD_MEAP_VERSIONS&&r.createElement("span",{className:"clickable-link-like"},"show comments from this book's other MEAP versions by "),r.createElement(jt.Z,{user:t[0]}),t.length>=2&&r.createElement("span",{className:"clickable-link-like"},"and ".concat(t.length-1," more"))):null},t}(r.Component);var ko=o(65605),xo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Co=function(){return Co=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Co.apply(this,arguments)},Eo=function(e){function t(t){var o=e.call(this,t)||this;return o.handleOpenThreadRequested=o.handleOpenThreadRequested.bind(o),o.handleCloseThreadRequested=o.handleCloseThreadRequested.bind(o),o.handleDeleteThreadRequested=o.handleDeleteThreadRequested.bind(o),o.handleVoteRequested=o.handleVoteRequested.bind(o),o.handleRevokeVoteRequested=o.handleRevokeVoteRequested.bind(o),o.handleToggleSpam=o.handleToggleSpam.bind(o),o.handleToggleEditingSuggestion=o.handleToggleEditingSuggestion.bind(o),o.handleRootRef=o.handleRootRef.bind(o),o.handleCollapsedThreadsToggle=o.handleCollapsedThreadsToggle.bind(o),o.handleCollapsedMeapThreadsToggle=o.handleCollapsedMeapThreadsToggle.bind(o),o.handleNotifyAuthor=o.handleNotifyAuthor.bind(o),o.state={fullyShowEditSuggestionThreads:o.threadsContainCommentToShow(o.props.commentIdToShow),fullyShowOlderMeapVersionsThreads:o.threadsContainCommentToShow(o.props.commentIdToShow)},o}return xo(t,e),t.prototype.threadsContainCommentToShow=function(e){return!!e&&null!=this.props.forum&&null!=this.props.forum.threads.find((function(t){return t.containsCommentId(e)}))},t.prototype.render=function(){return r.createElement("ul",{className:We()({"social-scrollable-container":!this.props.isntSocialScrollableContainer}),ref:this.handleRootRef},this.renderContent(this.props.forum.threads,this.props.productForum?this.props.productForum.productMeapVersion:0))},t.prototype.renderContent=function(e,t){var o=this;if(null==e||0==e.length)return r.createElement("div",{className:"social-message-container"},null!=this.props.currentUser?"Start a thread by using the input fields below!":"Sign in below to start a discussion");if(this.props.dontCollapseEditingSuggestions)return this.renderFullThreads(e);var n=e.filter((function(e){return(!o.shouldThreadBeSummarized(e)||o.state.fullyShowEditSuggestionThreads)&&(!o.shouldThreadBeSummarizedByMeapVersion(e,t)||o.state.fullyShowOlderMeapVersionsThreads)})),i=e.filter((function(e){return o.shouldThreadBeSummarized(e)})),s=e.filter((function(e){return o.shouldThreadBeSummarizedByMeapVersion(e,t)}));return r.createElement(r.Fragment,null,this.renderFullThreads(n),this.renderThreadsSummaryByMeapVersion(this.state.fullyShowOlderMeapVersionsThreads?[]:s),this.shouldShowThreadsSummaryLink(e,t)&&this.renderThreadsSummary(this.state.fullyShowEditSuggestionThreads?[]:i),this.state.fullyShowOlderMeapVersionsThreads&&s.length>0&&r.createElement("div",{className:"threads-summary-root"},r.createElement("span",{className:"clickable-link-like",onClick:this.handleCollapsedMeapThreadsToggle},"hide comments for older MEAP versions")),this.shouldShowThreadsSummaryLink(e,t)&&this.state.fullyShowEditSuggestionThreads&&i.length>0&&r.createElement("div",{className:"threads-summary-root"},r.createElement("span",{className:"clickable-link-like",onClick:this.handleCollapsedThreadsToggle},"hide editing suggestions")))},t.prototype.shouldShowThreadsSummaryLink=function(e,t){var o=this;return e.filter((function(e){return!o.shouldThreadBeSummarizedByMeapVersion(e,t)||o.state.fullyShowOlderMeapVersionsThreads})).length>0},t.prototype.shouldThreadBeSummarized=function(e){return!m.y.canModerateInProduct(this.props.currentUser,e.productId)&&e.isEditingSuggestion},t.prototype.shouldThreadBeSummarizedByMeapVersion=function(e,t){if(isNaN(parseInt(e.meapVersion)))return!1;var o=+e.meapVersion;return o<t||o>0&&0==t},t.prototype.renderFullThreads=function(e){var t=this;return ko.Z.getUniqueItems(e,"id").map((function(e){return r.createElement(fo,{key:e.id,onOpenRequested:t.handleOpenThreadRequested,onCloseRequested:t.handleCloseThreadRequested,onDeleteRequested:t.handleDeleteThreadRequested,thread:e,currentUser:t.props.currentUser,authorIdMap:t.props.authorIdMap,moderatorIdMap:t.props.moderatorIdMap,isUnseen:-1!=(t.props.unseenThreadIds||[]).indexOf(e.id),dontFocusOnInput:t.props.dontFocusOnInput||bt.Z.isTouch,onCreatePostRequested:t.props.createPost,onStartEditPostRequested:t.props.startEditPost,onCancelEditPostRequested:t.props.cancelEditPost,onSaveEditPostRequested:t.props.saveEditPost,onDeletePostRequested:t.props.deletePost,onVoteRequested:t.handleVoteRequested,onNotifyAuthorRequested:t.handleNotifyAuthor,onToggleSpamRequested:t.handleToggleSpam,onToggleEditingSuggestionRequested:t.handleToggleEditingSuggestion,onRevokeVoteRequested:t.handleRevokeVoteRequested,onLargeImageRequested:t.props.onLargeImageRequested,onChangeAvatar:t.props.onChangeAvatar})}))},t.prototype.renderThreadsSummary=function(e){return r.createElement(wo,{threads:e,summaryType:vo.EDIT_SUGGESTION,onExpandRequested:this.handleCollapsedThreadsToggle})},t.prototype.renderThreadsSummaryByMeapVersion=function(e){return r.createElement(wo,{threads:e,summaryType:vo.OLD_MEAP_VERSIONS,onExpandRequested:this.handleCollapsedMeapThreadsToggle})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.trackNotSeenThreads(),this.props.commentIdToShow!=e.commentIdToShow&&this.threadsContainCommentToShow(e.commentIdToShow)&&this.setState(Co(Co({},this.state),{fullyShowEditSuggestionThreads:!0}))},t.prototype.handleRootRef=function(e){if(this.root=e,this.trackNotSeenThreads(),null!=this.root&&m.y.shouldScrollToEndOfThreads){var t=this.root.querySelector(".thread-root-container:last-child");null!=t&&t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}},t.prototype.trackNotSeenThreads=function(){var e=this;this.props.trackSeenComments&&this.props.unseenThreadIds&&0!=this.props.unseenThreadIds.length&&(clearTimeout(this.notSeenTimeout),this.root&&(this.notSeenTimeout=setTimeout((function(){var t=e.getNotSeenIds();t.length&&(e.props.clearThreadNotifications&&e.props.clearThreadNotifications(t),a().markAsSeen(t))}),1e3)))},t.prototype.getNotSeenIds=function(){if(null==this.root)return[];for(var e=this.root.querySelectorAll(".forum-not-seen-indicator"),t=[],o=0;o<e.length;o++){var n=e[o],r=z.Z.closest(n,".thread-root-container");if(null!=r){var i=+r.getAttribute("data-comment-id");!Number.isNaN(i)&&i>0&&-1==t.indexOf(i)&&t.push(i)}}return t},t.prototype.handleOpenThreadRequested=function(e){this.props.openThread&&this.props.openThread(this.props.forum,e)},t.prototype.handleCloseThreadRequested=function(e){this.props.closeThread&&this.props.closeThread(this.props.forum,e)},t.prototype.handleDeleteThreadRequested=function(e){this.props.deletePost&&this.props.deletePost(e,e)},t.prototype.handleVoteRequested=function(e,t,o){this.props.vote&&this.props.vote(this.props.currentUser,e,t,o)},t.prototype.handleRevokeVoteRequested=function(e,t){this.props.revokeVote&&this.props.revokeVote(this.props.currentUser,e,t)},t.prototype.handleToggleSpam=function(e,t){this.props.toggleSpam&&this.props.toggleSpam(this.props.currentUser,e,t)},t.prototype.handleToggleEditingSuggestion=function(e,t){this.props.toggleEditSuggestion&&this.props.toggleEditSuggestion(this.props.currentUser,e,t)},t.prototype.handleNotifyAuthor=function(e,t){this.props.notifyAuthor&&this.props.notifyAuthor(e,t)},t.prototype.handleCollapsedThreadsToggle=function(){this.setState({fullyShowEditSuggestionThreads:!this.state.fullyShowEditSuggestionThreads})},t.prototype.handleCollapsedMeapThreadsToggle=function(){this.setState({fullyShowOlderMeapVersionsThreads:!this.state.fullyShowOlderMeapVersionsThreads})},t}(r.Component);const So=Eo;var To=o(39339),Ao=(o(38976),function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}());const Io=function(e){function t(t){return e.call(this,t)||this}return Ao(t,e),t.prototype.render=function(){var e=this;return r.createElement(To.Z,{title:"",isOpen:this.props.isShown,onClose:this.props.onClose,theme:To.Q.standard},r.createElement("div",{className:"social-modal-form",ref:function(t){return e.root=t}},r.createElement("img",{className:"social-modal-form-image",src:this.props.imageUrl,alt:"image"})))},t}(r.Component);var Oo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const Po=function(e){function t(t){var o=e.call(this,t)||this;return o.handleSendClick=o.handleSendClick.bind(o),o}return Oo(t,e),t.prototype.render=function(){var e=this;return r.createElement(To.Z,{title:"",isOpen:this.props.isShown,onClose:this.props.onClose,theme:To.Q.standard,actionMessageHTML:"send",onActionClicked:this.handleSendClick},r.createElement("div",{className:"social-modal-form",ref:function(t){return e.root=t}},r.createElement("div",null,"Notify author about this post:"),r.createElement(to,{post:this.props.post,currentUser:null,isUnseen:!1,authorIdMap:{},moderatorIdMap:{}}),"Note:",r.createElement("textarea",{rows:6,style:{display:"block",width:"100%",margin:"1em 0"}})))},t.prototype.handleSendClick=function(){var e=null!=this.root?this.root.querySelector("textarea").value:"";this.props.onNotifyAuthor(this.props.user,this.props.post,e),this.props.onClose&&this.props.onClose()},t}(r.Component);var Ro=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_o=function(){return _o=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},_o.apply(this,arguments)},No=function(e){function t(t){var o=e.call(this,t)||this;return o.handleNewThreadSave=o.handleNewThreadSave.bind(o),o.handleOpenThread=o.handleOpenThread.bind(o),o.handleCloseThread=o.handleCloseThread.bind(o),o.handleCreatePost=o.handleCreatePost.bind(o),o.handleStartEditPost=o.handleStartEditPost.bind(o),o.handleCancelEditPost=o.handleCancelEditPost.bind(o),o.handleSaveEditPost=o.handleSaveEditPost.bind(o),o.handleDeletePost=o.handleDeletePost.bind(o),o.handleVote=o.handleVote.bind(o),o.handleRevokeVote=o.handleRevokeVote.bind(o),o.handleToggleSpam=o.handleToggleSpam.bind(o),o.handleToggleEditingSuggestion=o.handleToggleEditingSuggestion.bind(o),o.handleNewThreadPostSave=o.handleNewThreadPostSave.bind(o),o.handleLargeImageRequested=o.handleLargeImageRequested.bind(o),o.handleCloseModal=o.handleCloseModal.bind(o),o.handleNotificationsArrived=o.handleNotificationsArrived.bind(o),o.handlePostInputClick=o.handlePostInputClick.bind(o),o.handleNotifyAuthor=o.handleNotifyAuthor.bind(o),o.state={isShowingFullThreadInput:!1},o}return Ro(t,e),t.prototype.render=function(){return r.createElement(r.Fragment,null,this.props.isLoading&&r.createElement("div",{className:"forum-loading-container"},r.createElement("i",{className:"fa fa-circle-notch fa-spin fa-3x fa-fw"})),!this.props.isLoading&&this.props.forum&&this.props.forum.threads&&r.createElement(So,{forum:this.props.forum,productForum:this.props.productForum,commentIdToShow:this.props.commentIdToShow,authorIdMap:this.props.forum.authorIdMap,moderatorIdMap:this.props.forum.moderatorIdMap,currentUser:this.props.currentUser,dontFocusOnInput:this.props.dontFocusOnInput,isntSocialScrollableContainer:this.props.isntSocialScrollableContainer,dontCollapseEditingSuggestions:this.props.dontCollapseEditingSuggestions,openThread:this.handleOpenThread,closeThread:this.handleCloseThread,createPost:this.handleCreatePost,startEditPost:this.handleStartEditPost,cancelEditPost:this.handleCancelEditPost,saveEditPost:this.handleSaveEditPost,deletePost:this.handleDeletePost,vote:this.handleVote,revokeVote:this.handleRevokeVote,toggleSpam:this.handleToggleSpam,toggleEditSuggestion:this.handleToggleEditingSuggestion,unseenThreadIds:this.props.unseenThreadIds,onLargeImageRequested:this.handleLargeImageRequested,onChangeAvatar:this.props.onChangeAvatarRequested,trackSeenComments:this.props.trackSeenComments,clearThreadNotifications:this.props.clearThreadNotifications,notifyAuthor:this.handleNotifyAuthor}),!this.props.dontAllowNewThreadCreation&&null!=this.props.forum&&(this.state.isShowingFullThreadInput?r.createElement(po,{user:this.props.currentUser,authorIdMap:this.props.forum.authorIdMap,moderatorIdMap:this.props.forum.moderatorIdMap,saveLabel:"create thread",onSave:this.handleNewThreadSave,onLargeImageRequested:this.handleLargeImageRequested,onChangeAvatar:this.props.onChangeAvatarRequested,disablePosting:this.props.disablePosting,disablePostingMessage:this.props.disablePostingMessage,isLivebook:this.props.isLivebook,isLivevideo:this.props.isLivevideo,isLiveProject:this.props.isLiveProject}):r.createElement($t,{user:this.props.currentUser,authorIdMap:this.props.forum.authorIdMap,moderatorIdMap:this.props.forum.moderatorIdMap,saveLabel:"create thread",placeholder:"create thread",onSave:this.handleNewThreadPostSave,onClick:this.handlePostInputClick,dontFocusOnInput:!0,dontShowCommands:!bt.Z.isTouch,onLargeImageRequested:this.handleLargeImageRequested,onChangeAvatar:this.props.onChangeAvatarRequested,disablePosting:this.props.disablePosting,disablePostingMessage:this.props.disablePostingMessage})))},t.prototype.handlePostInputClick=function(){bt.Z.isTouch||this.setState(_o(_o({},this.state),{isShowingFullThreadInput:!this.state.isShowingFullThreadInput}))},t.prototype.handleLargeImageRequested=function(e){_t.render(r.createElement(Io,{imageUrl:e,isShown:!0,onClose:this.handleCloseModal}),document.getElementById("full-screen-modal"))},t.prototype.handleCloseModal=function(){try{_t.unmountComponentAtNode(document.getElementById("full-screen-modal"))}catch(e){console.log("Cannot unmount view image close")}},t.prototype.handleNotifyAuthor=function(e,t){var o=this;_t.render(r.createElement(Po,{user:e,post:t,isShown:!0,onClose:this.handleCloseModal,onNotifyAuthor:function(e,t,n){return o.props.notifyAuthor&&o.props.notifyAuthor(e,t,n)}}),document.getElementById("full-screen-modal"))},t.prototype.handleNewThreadPostSave=function(e){(e||"").trim()&&this.props.createThread&&this.props.createThread("",e,this.getForumContext())},t.prototype.handleNewThreadSave=function(e,t){this.props.createThread&&this.props.createThread(e,t,this.getForumContext()),bt.Z.isTouch||this.setState(_o(_o({},this.state),{isShowingFullThreadInput:!1}))},t.prototype.handleOpenThread=function(e,t){this.props.openThread&&this.props.openThread(t,this.getForumContext())},t.prototype.handleCloseThread=function(e,t){this.props.closeThread&&this.props.closeThread(t,this.getForumContext())},t.prototype.handleCreatePost=function(e,t){this.props.createPost&&this.props.createPost(e,t,this.getForumContext())},t.prototype.handleStartEditPost=function(e,t){this.props.startEditPost&&this.props.startEditPost(e,t,this.getForumContext())},t.prototype.handleCancelEditPost=function(e,t){this.props.cancelEditPost&&this.props.cancelEditPost(e,t,this.getForumContext())},t.prototype.handleSaveEditPost=function(e,t,o,n){this.props.saveEditPost&&this.props.saveEditPost(e,t,o,n,this.getForumContext())},t.prototype.handleDeletePost=function(e,t){this.props.deletePost&&this.props.deletePost(e,t,this.getForumContext())},t.prototype.handleVote=function(e,t,o,n){this.props.vote&&this.props.vote(e,t,o,n,this.getForumContext())},t.prototype.handleRevokeVote=function(e,t,o){this.props.revokeVote&&this.props.revokeVote(e,t,o,this.getForumContext())},t.prototype.handleToggleSpam=function(e,t,o){this.props.toggleSpam&&this.props.toggleSpam(e,t,o,this.getForumContext())},t.prototype.handleToggleEditingSuggestion=function(e,t,o){this.props.toggleEditingSuggestion&&this.props.toggleEditingSuggestion(e,t,o,this.getForumContext())},t.prototype.handleNotificationsArrived=function(e){this.props.notificationsArrived&&this.props.notificationsArrived(e)},t.prototype.getForumContext=function(){return{forum:this.props.forum}},t}(r.Component);const Fo=(0,i.connect)((function(e,t){return{forum:e&&e.forum,currentUser:e&&e.currentUser&&e.currentUser,title:e&&e.title}}),(function(e){return _o({},(0,d.bindActionCreators)({openThread:B.openThread,closeThread:B.closeThread,createThread:B.createThread,createPost:B.createPost,startEditPost:B.startEditPost,cancelEditPost:B.cancelEditPost,saveEditPost:B.saveEditPost,deletePost:B.deletePost,vote:B.votePost,revokeVote:B.revokeVotePost,toggleSpam:B.toggleSpam,toggleEditingSuggestion:B.toggleEditingSuggestion,notificationsArrived:B.notificationsArrived,notifyAuthor:B.notifyAuthor},e))}))(No);var Lo=o(97766),Mo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Do=function(){return Do=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Do.apply(this,arguments)},Uo=function(e){function t(t){var o=e.call(this,t)||this;return o.lastScrollTop=0,o.handleOpenElementForum=o.handleOpenElementForum.bind(o),o.handleProductForumSelected=o.handleProductForumSelected.bind(o),o.handleBackClick=o.handleBackClick.bind(o),o.handleSearch=o.handleSearch.bind(o),o.handleClearSearch=o.handleClearSearch.bind(o),o.handleGoToRoot=o.handleGoToRoot.bind(o),o.handleRootLoaded=o.handleRootLoaded.bind(o),o.handleThreadOpened=o.handleThreadOpened.bind(o),o.handleSetSearchQuery=o.handleSetSearchQuery.bind(o),o.handleSetSortType=o.handleSetSortType.bind(o),o.onSearchLinkClick=o.onSearchLinkClick.bind(o),o.onProductForumsContainerScroll=o.onProductForumsContainerScroll.bind(o),o.handleRequiresAllResults=o.handleRequiresAllResults.bind(o),m.y.on(p.OPEN_THREAD,o.handleThreadOpened),o.canToggleLivebooks=m.y.getSourceApp()==ye.$X.livevideo||m.y.getSourceApp()==ye.$X.demo,o.state={showLivebooks:o.canToggleLivebooks&&m.y.shouldShowLivebooks()},o.toggleShowLivebooks=o.toggleShowLivebooks.bind(o),o}return Mo(t,e),t.prototype.render=function(){var e=this.determineHasBackButton(),t=!e&&m.y.getSourceApp()!=ye.$X.pbc,o=this.shouldOfferSearch();return r.createElement("div",{className:"product-forum-root",ref:this.handleRootLoaded},r.createElement(At,{title:this.getForumTitle(),offerSearch:o,searchPlaceholder:this.getSearchPlaceholder(o),hasBackButton:e,hasRootIcon:t,leftIconTooltip:this.getLeftIconTooltip(t),notificationsCount:this.props.notificationsCount,onBack:this.handleBackClick,onClose:this.props.onClose,onMaximize:this.props.onMaximize,onMinimize:this.props.onMinimize,onSearch:this.handleSearch,onGoToRoot:this.handleGoToRoot,onShowNotifications:this.props.onShowNotifications,isShowingSearchResults:null!=this.props.searchResultsForum,isLoading:this.props.isLoading,onClearSearch:this.handleClearSearch,searchQuery:this.props.searchQuery,onSetSearchQuery:this.handleSetSearchQuery,sortType:this.props.sortType,onSetSortType:this.handleSetSortType,onRequiresAllResults:this.handleRequiresAllResults,disableClose:this.props.disableClose,isLiveProject:this.props.productForum&&this.props.productForum.isLiveProject}),this.generateContent(),this.props.isShowingNotificationsForum&&r.createElement("div",{className:"forum-footer-commands-container",onClick:this.props.clearNotifications},"close notifications"),!bt.Z.isTouch&&r.createElement(Ve.Z,{effect:"solid",place:"top"}))},t.prototype.componentDidUpdate=function(e,t){var o,n;if(this.props.hasOnlyGeneral&&!this.props.isLoading&&this.props.currentUser&&!this.props.isShowingElementForum){var r=null===(n=null===(o=this.props.productForum)||void 0===o?void 0:o.elementForums)||void 0===n?void 0:n.find((function(e){return"General"==e.element}));r&&this.props.selectElementForum&&this.props.selectElementForum(r,this.props.productForum)}},t.prototype.handleRootLoaded=function(e){this.root=e},t.prototype.shouldOfferSearch=function(){return!(this.props.isShowingNotificationsForum||this.props.isShowingLocationForum||this.props.isShowingElementForum)&&(null==this.props.productForum||null!=this.props.productForum.elementForums&&0!=this.props.productForum.elementForums.length)},t.prototype.getSearchPlaceholder=function(e){return e?this.props.isShowingElementForum||null!=this.props.productForum?"search comments in ".concat(this.props.productForum.productTitle):"find a book/video or search all comments":""},t.prototype.getLeftIconTooltip=function(e){if(this.props.isShowingNotificationsForum)return"clear notifications";if(null!=this.props.searchResultsForum)return"clear search";if(this.props.isShowingLocationForum){var t=this.props.elementForumStore&&this.props.elementForumStore.getState().forum;return null!=t?"back to ".concat(t.title):"back"}return this.props.isShowingElementForum?null!=this.props.productForum?"back to ".concat(this.props.productForum.productTitle):"back":null!=this.props.productForum?"back to discussion":null!=this.props.productForums&&this.props.productForums.length?"reload discussion":e?"show discussion":void 0},t.prototype.getForumTitle=function(){if(this.props.isShowingNotificationsForum)return"notifications";if(null!=this.props.searchResultsForum)return this.props.searchResultsForum.title;var e=this.props.locationForumStore&&this.props.locationForumStore.getState()&&this.props.locationForumStore.getState().forum,t=this.props.elementForumStore&&this.props.elementForumStore.getState()&&this.props.elementForumStore.getState().forum;if(this.props.isShowingLocationForum){var o=null!=e?m.y.getFromLocationReplacementMap(e.title):null;return(null!=t?"".concat(this.getElementTitleAsLink(t)):"")+(null!=o?", ".concat(o):"")+(null!=this.props.productForum?": ".concat(Lo.Z.getShortTitle(this.props.productForum.productTitle)):"")}if(this.props.isShowingElementForum){var n="";return this.props.hasOnlyGeneral||(n+=this.getElementTitleAsLink(t)+": "),n+(null!=this.props.productForum?"".concat(Lo.Z.getShortTitle(this.props.productForum.productTitle)):"")}return null!=this.props.productForum?Lo.Z.getShortTitle(this.props.productForum.productTitle):m.y.getDefaultForumTitle()},t.prototype.getElementTitleAsLink=function(e){var t=e&&e.title;return t&&this.props.productForum&&this.props.productForum.isLiveProject&&(t=(t+"").replace(/^([\d]+[\.][\d]+[\.] )/g,"")),e&&e.forumLocation&&"Author Online Forum Legacy Posts"!=e.title&&e.forumLocation.baseLink?'<a href="'.concat(e.forumLocation.baseLink,'">').concat(t,"</a>"):null!=e?t:""},t.prototype.determineHasBackButton=function(){if(this.props.hasOnlyGeneral)return!1;var e=this.props.elementForumStore&&this.props.elementForumStore.getState()&&this.props.elementForumStore.getState().forum;return!!(null!=this.props.searchResultsForum||this.props.isShowingLocationForum&&null!=e||this.props.isShowingElementForum&&null!=this.props.productForum||null!=this.props.productForum&&null!=this.props.productForums||this.props.isShowingNotificationsForum)&&(m.y.getSourceApp()!=ye.$X.pbc||this.props.isShowingElementForum&&null!=this.props.productForum&&null!=this.props.productForum&&null!=this.props.productForums)},t.prototype.generateContent=function(){var e,t,o,n,s,a,c,l,u,p=this;if(this.props.isLoading)return r.createElement("div",{className:"forum-loading-container"},r.createElement("i",{className:"fa fa-circle-notch fa-spin fa-3x fa-fw"}));if(this.props.isShowingNotificationsForum)return r.createElement("div",{className:"social-scrollable-container"},this.props.notificationStores.map((function(e){var t,o,n,s=e&&e.getState()&&e.getState().forum;return null==s?null:r.createElement(i.Provider,{store:e,key:p.getNotificationsForumLocationId(s)},r.createElement(Fo,{dontAllowNewThreadCreation:!0,unseenThreadIds:p.getUnseenThreadIds(),dontFocusOnInput:!0,onChangeAvatarRequested:p.props.onChangeAvatarRequested,disablePosting:p.props.disablePosting,disablePostingMessage:p.props.disablePostingMessage,isLivebook:null===(t=p.props.productForum)||void 0===t?void 0:t.isLivebook,isLivevideo:null===(o=p.props.productForum)||void 0===o?void 0:o.isLivevideo,isLiveProject:null===(n=p.props.productForum)||void 0===n?void 0:n.isLiveProject}))})));if(null!=this.props.searchResultsForum){var d=[];if(null==this.props.productForum&&null!=this.props.productForums&&this.props.productForums.length>0){var h=m.y.getMatchingProductForums(this.props.productForums,this.props.searchQuery);null!=h&&h.length>0&&d.push(this.generateProductForums(!0))}return null!=this.props.searchResultsForum.threads&&this.props.searchResultsForum.threads.length&&d.push(r.createElement(i.Provider,{key:"search-results-posts",store:this.props.searchForumStore},r.createElement(Fo,{isntSocialScrollableContainer:!0,dontAllowNewThreadCreation:!0,onChangeAvatarRequested:this.props.onChangeAvatarRequested,disablePosting:this.props.disablePosting,disablePostingMessage:this.props.disablePostingMessage,isLivebook:null===(e=this.props.productForum)||void 0===e?void 0:e.isLivebook,isLivevideo:null===(t=this.props.productForum)||void 0===t?void 0:t.isLivevideo,isLiveProject:null===(o=this.props.productForum)||void 0===o?void 0:o.isLiveProject}))),d.length>0?r.createElement("div",{className:"social-scrollable-container"},d):r.createElement("span",{className:"social-message-container"},"We couldn't find any comments matching your query.")}if(this.props.isShowingLocationForum)return r.createElement(i.Provider,{store:this.props.locationForumStore,key:"location-forum-provider"},r.createElement(Fo,{commentIdToShow:this.props.commentIdToShow,unseenThreadIds:this.getUnseenThreadIds(),key:"location-forum",trackSeenComments:!0,clearThreadNotifications:this.props.clearThreadNotifications,onChangeAvatarRequested:this.props.onChangeAvatarRequested,disablePosting:this.props.disablePosting,disablePostingMessage:this.props.disablePostingMessage,isLivebook:null===(n=this.props.productForum)||void 0===n?void 0:n.isLivebook,isLivevideo:null===(s=this.props.productForum)||void 0===s?void 0:s.isLivevideo,isLiveProject:null===(a=this.props.productForum)||void 0===a?void 0:a.isLiveProject}));if(this.props.isShowingElementForum)return r.createElement(i.Provider,{store:this.props.elementForumStore,key:"element-forum-provider"},r.createElement(Fo,{commentIdToShow:this.props.commentIdToShow,productForum:this.props.productForum,unseenThreadIds:this.getUnseenThreadIds(),key:"element-forum",trackSeenComments:!0,clearThreadNotifications:this.props.clearThreadNotifications,dontCollapseEditingSuggestions:this.isErrataElementForum(),onChangeAvatarRequested:this.props.onChangeAvatarRequested,disablePosting:this.props.disablePosting,disablePostingMessage:this.props.disablePostingMessage,isLivebook:null===(c=this.props.productForum)||void 0===c?void 0:c.isLivebook,isLivevideo:null===(l=this.props.productForum)||void 0===l?void 0:l.isLivevideo,isLiveProject:null===(u=this.props.productForum)||void 0===u?void 0:u.isLiveProject}));if(null!=this.props.productForum){var f=this.props.productForum.elementForums,g=null!=f&&f.length>0;return m.y.sortElementForums(f,this.props.sortType),r.createElement("div",{className:"social-scrollable-container"},g&&f.map((function(e){return r.createElement(kt,{key:e.element,forumVisitInfo:p.props.forumVisitInfo,elementForum:e,productForum:p.props.productForum,openElementForum:p.handleOpenElementForum})})))}return null!=this.props.productForums&&this.props.productForums.length>0?this.generateProductForums():r.createElement("div",{className:"social-message-container social-message-container-no-product"},"To create a comment, go to a product and attach a comment next to any paragraph.")},t.prototype.generateProductForums=function(e){var t=this,o=m.y.getMatchingProductForums(this.props.productForums,this.props.searchQuery);m.y.sortProductForums(o,this.props.sortType);var n=this.canToggleLivebooks&&!e&&m.y.getSourceApp()!=ye.$X.pbc;return n&&(o=this.state.showLivebooks?o:o.filter((function(e){return!e.isLivebook}))),r.createElement(r.Fragment,null,r.createElement("div",{key:"product-forums",className:We()({"social-scrollable-container":!e}),onScroll:this.onProductForumsContainerScroll},o.map((function(e){return r.createElement(Rt,{key:e.productExternalId,productForum:e,forumVisitInfo:t.props.forumVisitInfo,onProductForumSelected:t.handleProductForumSelected})})),this.props.searchQuery&&!e&&r.createElement("div",{key:"social-large-search",className:"social-search-link",onClick:this.onSearchLinkClick},"search all comments for ",r.createElement("em",null,this.props.searchQuery)),!e&&this.props.isLoadingMoreProductResults&&r.createElement("div",{key:"loading-more-results",className:"loading-more-results"},r.createElement("i",{className:"fa fa-fw fa-circle-notch fa-2x fa-spin"}))),n&&r.createElement("div",{key:"toggle-livebooks",className:"toggle-livebooks-link",onClick:this.toggleShowLivebooks},this.state.showLivebooks?"hide":"show"," livebooks"))},t.prototype.getUnseenThreadIds=function(){var e=[];if(!this.props.notificationStores||!this.props.notificationStores.length)return e;for(var t=0,o=this.props.notificationStores;t<o.length;t++){var n=o[t],r=n&&n.getState();if(r){var i=r.forum;if(null!=i)for(var s=0,a=i.threads;s<a.length;s++){var c=a[s];e.push(c.id)}}}return e},t.prototype.isErrataElementForum=function(){if(null==this.props.elementForumStore)return!1;var e=this.props.elementForumStore.getState();return null!=e&&null!=e.forum&&0==(e.forum.title||"").toLowerCase().indexOf("errata")},t.prototype.handleOpenElementForum=function(e){this.props.selectElementForum&&this.props.selectElementForum(e,this.props.productForum)},t.prototype.handleProductForumSelected=function(e){this.props.selectProductForum&&this.props.selectProductForum(e.productExternalId)},t.prototype.handleClearSearch=function(){this.props.clearSearch&&this.props.clearSearch()},t.prototype.handleGoToRoot=function(){this.props.goToRoot&&this.props.goToRoot()},t.prototype.handleBackClick=function(){if(this.props.isShowingNotificationsForum&&this.props.clearNotifications&&this.props.clearNotifications(),null!=this.props.searchResultsForum)this.props.clearSearch&&this.props.clearSearch();else if(this.props.isShowingLocationForum){var e=this.props.elementForumStore&&this.props.elementForumStore.getState(),t=e&&e.forum;null!=t&&null!=t.forumLocation?this.props.clearLocationForum&&this.props.clearLocationForum(this.props.productForum.productExternalId,t.forumLocation.element):this.props.clearElementForum&&this.props.clearElementForum(this.props.productForum.productExternalId)}else this.props.isShowingElementForum?this.props.clearElementForum&&this.props.clearElementForum(this.props.productForum.productExternalId):null!=this.props.productForum&&this.props.clearProductForum&&this.props.clearProductForum(this.props.courseId)},t.prototype.handleSearch=function(e){this.props.search(e,this.props.productForum)},t.prototype.onSearchLinkClick=function(){this.props.search(this.props.searchQuery,this.props.productForum)},t.prototype.handleSetSearchQuery=function(e){this.props.setSearchQuery(e)},t.prototype.handleSetSortType=function(e){this.props.setSortType(e)},t.prototype.getNotificationsForumLocationId=function(e){return"notifications-forum-".concat(e&&e.getCommentIds().join("-")||Date.now())},t.prototype.handleThreadOpened=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(null!=this.props.currentUser){var o=(e||[]).filter((function(e){return e.containsUnseen()}));0!=o.length&&this.props.clearThreadNotifications&&this.props.clearThreadNotifications(o.map((function(e){return e.id})))}},t.prototype.toggleShowLivebooks=function(){m.y.storeShouldShowLivebooks(!this.state.showLivebooks);var e=!this.state.showLivebooks;this.setState({showLivebooks:!this.state.showLivebooks}),e&&this.props.goToRoot&&this.props.goToRoot()},t.prototype.onProductForumsContainerScroll=function(e){var t=e.target,o=t.scrollTop>this.lastScrollTop;this.lastScrollTop=t.scrollTop,t.offsetHeight+t.scrollTop+200>=t.scrollHeight&&!this.props.isLoadingMoreProductResults&&!this.props.hasRunOutOfProductsToLoad&&o&&this.props.fetchAdditionalProducts&&this.props.fetchAdditionalProducts(!0)},t.prototype.handleRequiresAllResults=function(){this.shouldOfferSearch()&&!this.props.isShowingElementForum&&null!=!this.props.productForum&&null!=m.y.paginationEndDate&&m.y.paginationEndDate.getFullYear()>1990&&(m.y.paginationStartDate=new Date,m.y.paginationEndDate=new Date(1990,0),this.props.fetchAdditionalProducts&&this.props.fetchAdditionalProducts(!1))},t}(r.Component);const jo=(0,i.connect)((function(e,t){return{isShowingNotificationsForum:e&&e.isShowingNotificationsForum,isShowingLocationForum:e&&e.isShowingLocationForum,isShowingElementForum:e&&e.isShowingElementForum,productForum:e&&e.productForum,productForums:e&&e.productForums,searchResultsForum:e&&e.searchResultsForum,currentUser:e&&e.currentUser&&e.currentUser,isLoading:e&&e.isLoading,verticalPadding:e&&e.verticalPadding,commentIdToShow:e&&e.commentIdToShow,notificationsCount:e&&e.notificationsCount,forumVisitInfo:e&&e.forumVisitInfo,notificationStores:e&&e.notificationStores,locationForumStore:e&&e.locationForumStore,elementForumStore:e&&e.elementForumStore,searchForumStore:e&&e.searchForumStore,searchQuery:e&&e.searchQuery,sortType:e&&e.sortType,isLoadingMoreProductResults:e&&e.isLoadingMoreProductResults,hasRunOutOfProductsToLoad:e&&e.hasRunOutOfProductsToLoad}}),(function(e){return Do({},(0,d.bindActionCreators)({selectElementForum:ve.setElementForum,selectProductForum:ve.fetchProductForum,clearProductForum:ve.clearProductForum,clearElementForum:ve.clearElementForum,clearLocationForum:ve.clearLocationForum,search:ve.search,setSearchQuery:ve.setSearchQuery,clearSearch:ve.clearSearch,goToRoot:ve.goToRootAndLoadProductForums,clearNotifications:ve.clearNotifications,clearThreadNotifications:ve.clearThreadNotifications,setSortType:ve.setSortType,fetchAdditionalProducts:ve.fetchAdditionalProductForums},e))}))(Uo);var Zo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const Bo=function(e){function t(t){var o=e.call(this,t)||this;return o.handleActionClicked=o.handleActionClicked.bind(o),o}return Zo(t,e),t.prototype.render=function(){var e=this;return r.createElement(To.Z,{title:"email notifications",isOpen:this.props.isShown,onClose:this.props.onClose,theme:To.Q.standard,onActionClicked:this.handleActionClicked,onCancelationClicked:this.props.onClose,actionMessageHTML:"save"},r.createElement("form",{ref:function(t){return e.root=t},className:"social-email-notifications-form"},r.createElement("label",null,r.createElement("input",{type:"checkbox"}),r.createElement("span",null,"email me when someone replies to my comment"))))},t.prototype.handleActionClicked=function(){this.props.onAccept&&this.props.onAccept(this.root.querySelector("input").checked)},t}(r.Component);var zo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const qo=function(e){function t(t){return e.call(this,t)||this}return zo(t,e),t.prototype.render=function(){return r.createElement(To.Z,{title:"Code of Conduct",isOpen:this.props.isShown,onClose:this.props.onClose,theme:To.Q.standard,onActionClicked:this.props.onClose,actionMessageHTML:"ok"},r.createElement("p",null,"The Manning forums are a place for readers and computer scientists to engage in technological discussions, specifically as they relate to the content we publish. We expect users to treat each other with respect and to make meaningful contributions to these discussions."),r.createElement("p",null,"Advertising by anyone other than Manning or our authors is strictly prohibited on our forums. Any advertisements for goods or services, including training or seminars, will be treated as spam."),r.createElement("p",null,"We reserve the right to moderate or remove content that we deem inappropriate or to ban or delete users who, at our sole discretion, we determine to be abusive or not conducive to an engaging and respectful environment."))},t}(r.Component);var Ho=o(61248),Wo=o(2211),Vo=o(34594),Qo=o(70826),Go=o(87298),Ko=function(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},Xo="General",Jo="Errata",Yo="Group chat",$o=function(){function e(e,t){this.groupChatThreadName=Yo,this.shouldDisableVodingForLiveProject=!0,this.productCommentsMap={},this.sourceApp=e,this.deploymentType=t,this.webUtils=new s.Z(ye.ZP.getConfig(e,t)),m.y.setSourceApp(e),m.y.setDeploymentType(t)}return e.prototype.notifyAuthor=function(e,t,o){var n=this;return new Promise((function(r,i){n.webUtils.ajax(n.webUtils.getAbsoluteBackendUrl("/api/comment/notifyAuthors"),(function(){return r()}),(function(){alert("Error notifying author about a post. Please try later."),i()}),{userId:e&&e.id,commentId:t&&t.id,message:o},!1,!0)}))},e.prototype.saveEmailNotificationChoice=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("/api/comment/setRecieveEmailNotifications"),(function(){return o()}),(function(){return n()}),{value:e},!1,!0)}))},e.prototype.createDiscussionVisitInfo=function(e){var t=this;return new Promise((function(o,n){t.isSendingDiscussionVisitInfo?setTimeout((function(){t.sendDiscussionVisitInfo(e,o,n)}),500):t.sendDiscussionVisitInfo(e,o,n)}))},e.prototype.sendDiscussionVisitInfo=function(e,t,o){var n=this;this.isSendingDiscussionVisitInfo=!0,this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("/api/discussionVisitInfo/createDiscussionVisitInfo"),(function(){n.isSendingDiscussionVisitInfo=!1,t()}),(function(){n.isSendingDiscussionVisitInfo=!1,o()}),{bookManningId:e},!1,!0)},e.prototype.getForumVisitInfo=function(){var e=this;return new Promise((function(t,o){e.webUtils.ajax(e.webUtils.getAbsoluteBackendUrl("/api/discussionVisitInfo/getDiscussionVisitInfo"),(function(e){for(var o in e)"string"==typeof e[o].lastVisitDate&&(e[o].lastVisitDate=new Date(e[o].lastVisitDate)),e[o].visitedElements||(e[o].visitedElements={}),t(e)}),(function(e){return o(e)}),{},!1,!0)}))},e.prototype.getNotifications=function(){var e=this;return this.notificationsPromise?this.notificationsPromise:this.notificationsPromise=new Promise((function(t,o){e.webUtils.ajax(e.webUtils.getAbsoluteBackendUrl("/api/comment/getNotifications"),(function(o){e.notificationsPromise=null;var n=e.getThreadsFromComments(o);t(n.map((function(t){return t.isOpen=!0,new Ho.Z(t.productTitle,new h.QO(t.productExternalId,t.element,t.location,e.extractBaseLink(t.link),t.meapVersion),[t],{},{})})))}),(function(t){o(t),e.notificationsPromise=null}),{},!1,!0)}))},e.prototype.markAsSeen=function(e){var t=this;return e&&0!=e.length?new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("/api/comment/markAsSeen"),(function(){return o()}),(function(e){return n(e)}),{commentIds:e},!1,!0)})):Promise.resolve()},e.prototype.getFullPathToLocationForum=function(e,t,o,n,r,i){var s=this;return new Promise((function(a,c){s.getProductForum(e).then((function(s){var c={locationForum:null,elementForum:null,productForum:s},l=s.elementForums.find((function(e){return e.element==t}));null!=l?(c.elementForum=l.forum,c.locationForum=new Ho.Z(o,new h.QO(e,t,o,n,r),l.forum.threads.filter((function(e){return e.location==o||i&&e.location==i})),s.authorIdMap,s.moderatorIdMap)):(c.elementForum=new Ho.Z(m.y.adjustElementTitle(t),new h.QO(e,t,"",n,r),[],s.authorIdMap,s.moderatorIdMap),c.locationForum=new Ho.Z(o,new h.QO(e,t,o,n,r),[],s.authorIdMap,s.moderatorIdMap)),a(c)})).catch((function(e){return c(e)}))}))},e.prototype.getProductForums=function(e,t,o){var n=this,r={},i=this.sourceApp==ye.$X.livevideo,s=this.sourceApp==ye.$X.pbc;return i&&(r.onlyLiveVideos=!m.y.shouldShowLivebooks()),s&&(r.onlyLiveProjects=!0,r.courseId=o),r.onlyLiveVideos||r.onlyLiveProjects||null==e||null==t||(r.startDate=ko.Z.formatDate(e<t?e:t),r.endDate=ko.Z.formatDate(e>t?e:t)),new Promise((function(e,t){n.webUtils.ajax(n.webUtils.getAbsoluteBackendUrl("/api/comment/getProductsWithComments"),(function(t){if(t&&t.length){var o=t.map((function(e){return new h.LV(e.productId,e.productExternalId,0,e.productSlug,e.productTitle,e.commentCount,0,ko.Z.getDateFromString(e.lastCommentDate),[],e.isLiveBook,e.isLiveVideo,e.isLiveProject)}));r.onlyLiveProjects&&(o=o.filter((function(e){return e.isLiveProject}))),o.sort((function(e,t){return e.lastCommentDate>t.lastCommentDate?-1:e.lastCommentDate<t.lastCommentDate?1:0})),e(o)}else e([])}),(function(e){return t(e)}),r,!1,!0)}))},e.prototype.search=function(e,t){var o=this;return new Promise((function(n,r){var i={query:e};null!=t&&t.productExternalId&&(i.productExternalId=t.productExternalId),m.y.groupId&&(i.groupId=m.y.groupId),o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("/api/comment/search"),(function(e){var r=o.getProductForumsFromComments(t&&t.productId,t&&t.productExternalId,t&&t.productMeapVersion,t&&t.productTitle,t&&t.productSlug,e,[],[],[],{},t&&t.isLivebook,t&&t.isLivevideo,t&&t.isLiveProject);n(r.allThreads)}),(function(e){return r(e)}),i,!1,!0)}))},e.prototype.refreshProductForum=function(e){return this.getProductForum(e)},e.prototype.getProductForum=function(e){var t=this;return new Promise((function(o,n){t.getProductComments(e).then((function(e){var t=new h.LV(e.productId,e.productExternalId,e.productMeapVersion,e.productSlug,e.productTitle,e.numberOfComments,0,e.lastCommentDate,e.elementForums,e.isLiveBook,e.isLiveVideo,e.isLiveProject);t.authorIdMap=e.authorIdMap,t.moderatorIdMap=e.moderatorIdMap,o(t)})).catch((function(e){return n(e)}))}))},e.prototype.getProductElementParagraphCommentCountMap=function(e,t){var o=this;return new Promise((function(n,r){o.getRawProductElementComments(e,t).then((function(e){var t={};if(e&&e.comments)for(var o=0,r=e.comments;o<r.length;o++){var i=r[o];t[i.location]||(t[i.location]=0),t[i.location]++}n(t)})).catch((function(e){return r(e)}))}))},e.prototype.getRawProductElementComments=function(e,t){var o=this;return new Promise((function(n,r){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("/api/comment/getProductElementComments"),(function(e){return n(e)}),(function(e){return r(e)}),{productExternalId:e,element:t},!1,!0)}))},e.prototype.getProductComments=function(e){var t=this,o="".concat(e,"-").concat(m.y.groupId||"");return this.productCommentsMap[o]?this.productCommentsMap[o]:this.productCommentsMap[o]=new Promise((function(n,r){t.getRawProductComments(e).then((function(r){r.isLiveProject&&(t.groupChatThreadName=Yo),t.getProductToc(e,r.isLiveBook,r.isLiveVideo,r.isLiveProject).then((function(i){var s=t.getProductForumsFromComments(r.productId,e,r.productMeapVersion,r.productTitle,r.productSlug,r.comments,r.authorIds,r.moderatorIds,r.onlineIds,t.buildElementFullNameMapFromToc(i),r.isLiveBook,r.isLiveVideo,r.isLiveProject);delete t.productCommentsMap[o],n(s)})).catch((function(i){var s=t.getProductForumsFromComments(r.productId,e,r.productMeapVersion,r.productTitle,r.productSlug,r.comments,r.authorIds,r.moderatorIds,r.onlineIds,{},r.isLiveBook,r.isLiveVideo,r.isLiveProject);delete t.productCommentsMap[o],n(s)}))})).catch((function(e){delete t.productCommentsMap[o],r(e)}))}))},e.prototype.buildElementFullNameMapFromToc=function(e){var t={};if(!e)return t;try{if(e.chapters||e.frontMatter||e.backMatter){var o=e.chapters;if(!o){o=[];for(var n=0,r=e.parts;n<r.length;n++){var i=r[n];o.push.apply(o,i.chapters)}}for(var s=Ko(Ko(Ko([],e.frontMatter||[],!0),o||[],!0),e.backMatter||[],!0),a=0,c=s;a<c.length;a++)[(p=c[a]).shortName]&&(t[p.shortName]=p.title)}else if(e&&e.length)for(var l=0,u=e;l<u.length;l++){var p;if((p=u[l]).link&&(t[(p.link||"").replace("search/","")]=p.title),p.children&&p.children.length)for(var d=0,h=p.children;d<h.length;d++){var m=h[d];m.link&&(t[(m.link||"").replace("search/","")]=m.title)}}}catch(e){console.log("Error building element full name map")}return t},e.prototype.getRawProductComments=function(e){var t=this,o={productExternalId:e};return m.y.groupId&&(o.groupId=m.y.groupId),new Promise((function(e,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("/api/comment/getProductComments"),(function(t){return e(t)}),(function(e){return n(e)}),o,!1,!0)}))},e.prototype.getProductToc=function(e,t,o,n){return Go.r.getProductToc(new s.Z(ye.ZP.getConfig(this.sourceApp,this.deploymentType)),e,t,o,n)},e.prototype.getThreadsFromComments=function(e){var t=[];if(!e||!e.length)return t;var o={},n={},r={};e.sort((function(e,t){return+e.id-+t.id}));for(var i=0,s=e;i<s.length;i++){var a=s[i];if(!r[a.id])if(r[a.id]=!0,a.parent){var c=new Vo.Z(a.id,a.text,this.getUser(n,a),a.voteScore,ko.Z.getDateFromString(a.dateCreated),ko.Z.getDateFromString(a.lastUpdated),a.link||"","isSeen"in a?!!a.isSeen:void 0,void 0,this.shouldDisableVodingForLiveProject&&this.sourceApp==ye.$X.pbc||a.disableVoting||!1);c.productId=a.productId,c.oldForumId=a.oldForumId;var l=o[a.parent.id];null!=l&&l instanceof Wo.Z&&l.posts.push(c)}else{var u=new Wo.Z(a.id,a.title,a.text,this.getUser(n,a),a.voteScore,ko.Z.getDateFromString(a.dateCreated),ko.Z.getDateFromString(a.lastUpdated),a.link||"",!!a.isEditingSuggestion,[],this.shouldDisableVodingForLiveProject&&this.sourceApp==ye.$X.pbc||a.disableVoting||!1);t.push(u),u.productId=a.productId,u.element=a.element,u.location=a.location,u.productExternalId=a.productExternalId,u.oldForumId=a.oldForumId,o[u.id]=u}}return t},e.prototype.getProductForumsFromComments=function(e,t,o,n,r,i,s,a,c,l,u,p,d){void 0===l&&(l={});var f={productId:e,productExternalId:t,productMeapVersion:o,productTitle:n,productSlug:r,meapVersion:"",numberOfComments:0,lastCommentDate:null,elementLocationsForums:{},authorIdMap:ko.Z.getMapFromArray(s),moderatorIdMap:ko.Z.getMapFromArray(a),allThreads:[],elementForums:[],isLiveBook:u,isLiveVideo:p,isLiveProject:d},g={},b={},v={};null==i&&(i=[]),f.numberOfComments=i.length,i.sort((function(e,t){return+e.id-+t.id}));for(var y=0,w=i;y<w.length;y++){var k=w[y];if(k.parent){var x=new Vo.Z(k.id,k.text,this.getUser(v,k),k.voteScore,ko.Z.getDateFromString(k.dateCreated),ko.Z.getDateFromString(k.lastUpdated),k.link||"",!!k.isSeen,!!k.isEditingSuggestion,this.shouldDisableVodingForLiveProject&&this.sourceApp==ye.$X.pbc||k.disableVoting||!1);x.meapVersion=k.meapVersion,x.productId=k.productId;var C=g[k.parent.id];null!=C&&C instanceof Wo.Z&&C.posts.push(x)}else{var E=new Wo.Z(k.id,k.title,k.text,this.getUser(v,k),k.voteScore,ko.Z.getDateFromString(k.dateCreated),ko.Z.getDateFromString(k.lastUpdated),k.link||"",!!k.isEditingSuggestion,[],this.shouldDisableVodingForLiveProject&&this.sourceApp==ye.$X.pbc||k.disableVoting||!1);(!f.lastCommentDate||f.lastCommentDate<E.dateCreated)&&(f.lastCommentDate=E.dateCreated),E.productId=k.productId,E.element=k.element,E.location=k.location,E.meapVersion=k.meapVersion,E.oldForumId=k.oldForumId,g[E.id]=E,f.allThreads.push(E);var S=k.oldForumId?"Author Online Forum Legacy Posts":k.element||Xo,T=k.location||"",A=k.oldForumId?"":this.extractBaseLink(k.link||"");f.elementLocationsForums[S]||(f.elementLocationsForums[S]={}),b[S]||(b[S]=new h.XF(S,l[S]||S,new Ho.Z(m.y.adjustElementTitle(l[S]||S),new h.QO(t,S,"",A,o),[],f.authorIdMap,f.moderatorIdMap),new Date(1970))),E.isEditingSuggestion&&m.y.shouldShowErrata&&(b.Errata||(b.Errata=new h.XF(Jo,Jo,new Ho.Z(Jo,new h.QO(t,Jo,"",A,o),[],f.authorIdMap,f.moderatorIdMap),new Date(1970))),b.Errata.forum.threads.push(E)),f.elementLocationsForums[S][T]||(f.elementLocationsForums[S][T]=new Ho.Z(T,new h.QO(t,S,T,A,o),[],f.authorIdMap,f.moderatorIdMap)),f.elementLocationsForums[S][T].threads.push(E),b[S].forum.threads.push(E)}}var I=this.groupChatThreadName||Yo;d&&m.y.shouldShowGroupChat?b[I]||(b[I]=new h.XF(I,I,new Ho.Z(I,new h.QO(t,I,"","",""),[],f.authorIdMap,f.moderatorIdMap),new Date(1970))):delete b[I];var O=Xo;b.General||(b.General=new h.XF(O,O,new Ho.Z(O,new h.QO(t,"","","",""),[],f.authorIdMap,f.moderatorIdMap),new Date(1970))),m.y.shouldShowErrata?b.Errata?b.Errata.keepUniqueThreads():b.Errata=new h.XF(Jo,Jo,new Ho.Z(Jo,new h.QO(t,Jo,"","",""),[],f.authorIdMap,f.moderatorIdMap),new Date(1970)):delete b.Errata;var P=function(e){var t=b[e];if(t&&t.forum.threads){for(var o=t.lastCommentDate,n=0,r=t.forum.threads;n<r.length;n++){var i=r[n];i.dateCreated>o&&(o=i.dateCreated),null!=i.posts&&1==i.posts.length&&i.posts[0].dateCreated>o&&(o=i.posts[0].dateCreated),i.posts.sort((function(e,t){return e.dateCreated>o&&(o=e.dateCreated),t.dateCreated>o&&(o=t.dateCreated),e.dateCreated>t.dateCreated?1:e.dateCreated<t.dateCreated?-1:0}))}t.lastCommentDate=o}};for(var S in b)P(S);return f.elementForums=ko.Z.getArrayFromMap(b),f},e.prototype.extractBaseLink=function(e){return(e||"").replace(/\/comment-[0-9]+/i,"")},e.prototype.getUser=function(e,t){if(!e[t.userId]){var o=t.displayName||"".concat(t.userFirstName," ").concat(t.userLastName);e[t.userId]=new Qo.Z(t.userId,o,t.avatarUrl||"")}return e[t.userId]},e.prototype.getLocation=function(e){if(null!=e&&e.location)return e.location;try{if(null!=m.y.getCurrentWithinElementLocation){var t=m.y.getCurrentWithinElementLocation();if(t)return t}}catch(e){}return""},e.prototype.getLocationFromThreadOrForum=function(e,t){return null!=e&&e.location?e.location:this.getLocation(t)},e.prototype.createThread=function(e){var t=this,o=this.getAdjustedForumLocation(),n={productExternalId:o.productExternalId,element:o.element,location:this.getLocation(o),link:encodeURI(o.baseLink||""),title:e.title,text:e.text};return n.element!=Yo||m.y.groupId?(o.meapVersion&&"0"!=o.meapVersion&&(n.meapVersion=o.meapVersion),n.element!=Xo&&m.y.groupId&&(n.groupId=m.y.groupId),new Promise((function(e,o){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("/api/comment/create"),(function(t){t.success?(null==t.comment&&o("Couldn't create comment"),e({id:t.comment.id,link:t.comment.link})):o(t.reason)}),(function(e){return o(e)}),n,!1,!0)}))):(alert("Cannot add thread when not in a group. Try later."),Promise.reject())},e.prototype.createPost=function(e,t){var o=this,n=this.getAdjustedForumLocation(),r={productId:e.productId||"",productExternalId:e.productExternalId||n&&n.productExternalId,element:e.element||n&&n.element,location:this.getLocationFromThreadOrForum(e,n),title:"",text:t.text,link:this.removeCommentIdSegment(e.link)||n&&n.baseLink||"",parent:e.id};if(r.element==Yo&&!m.y.groupId)return alert("Cannot add post when not in a group. Try later."),Promise.reject();var i=e.meapVersion||n&&n.meapVersion;return i&&"0"!=i&&(r.meapVersion=i),r.element!=Xo&&m.y.groupId&&(r.groupId=m.y.groupId),new Promise((function(e,t){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("/api/comment/create"),(function(o){o.success?(null==o.comment&&t("Couldn't create comment"),e({id:o.comment.id,link:o.comment.link})):t(o.reason)}),(function(e){return t(e)}),r,!1,!0)}))},e.prototype.getAdjustedForumLocation=function(){var e=m.y.getCurrentLocation();return this.sourceApp!=ye.$X.pbc||null==e||e.element!=Yo&&e.element!=Xo||(e.location=document.location.pathname),e},e.prototype.deletePost=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("/api/comment/delete"),(function(e){e&&e.success?o():n("error when deleting post")}),(function(e){return n(e)}),{id:e.id},!1,!0)}))},e.prototype.saveEditedPost=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("/api/comment/update"),(function(e){e&&e.success?o():n("error when updating post")}),(function(e){return n(e)}),{id:e.id,text:e.text,title:e.title},!1,!0)}))},e.prototype.votePost=function(e,t,o){var n=this;return new Promise((function(e,r){n.webUtils.ajax(n.webUtils.getAbsoluteBackendUrl("/api/comment/vote"),(function(t){return e(t)}),(function(e){return r(e)}),{id:t.id,vote:o>0?1:-1},!1,!0)}))},e.prototype.revokeVote=function(e,t){var o=this;return new Promise((function(e,n){o.webUtils.ajax(o.webUtils.getAbsoluteBackendUrl("/api/comment/revokeVote"),(function(t){return e(t)}),(function(e){return n(e)}),{id:t.id},!1,!0)}))},e.prototype.toggleEditSuggestion=function(e,t,o){var n=this;return void 0===o&&(o=void 0),new Promise((function(e,r){n.webUtils.ajax(n.webUtils.getAbsoluteBackendUrl("/api/comment/toggleEditingSuggestion"),(function(t){return e(t&&t.isEditingSuggestion)}),(function(e){return r(e)}),{id:t,isEditingSuggestion:o},!1,!0)}))},e.prototype.toggleSpam=function(e,t,o){var n=this;return new Promise((function(e,r){n.webUtils.ajax(n.webUtils.getAbsoluteBackendUrl("/api/comment/toggleSpam"),(function(t){return e(t)}),(function(e){return r(e)}),{id:t,isSpam:o},!1,!0)}))},e.prototype.clearSpamFlags=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("/api/comment/clearSpamFlags"),(function(e){return o()}),(function(e){return n(e)}),{commentId:e},!1,!0)}))},e.prototype.getVotes=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("/api/comment/getVotes"),(function(e){return o(e)}),(function(e){return n(e)}),{userId:e},!1,!0)}))},e.prototype.getUserSpamFlags=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("/api/comment/getUserSpamFlags"),(function(e){return o(e)}),(function(e){return n(e)}),{userId:e},!1,!0)}))},e.prototype.getUsersCommentInfo=function(){var e=this;return new Promise((function(t,o){e.webUtils.ajax(e.webUtils.getAbsoluteBackendUrl("/api/comment/getUsersCommentInfo"),(function(e){return t(e)}),(function(e){return o(e)}),{},!1,!0)}))},e.prototype.removeCommentIdSegment=function(e){if(!e)return e;var t=e.indexOf("/comment-");return-1!=t?e.substr(0,t):e},e}();const en=$o;var tn=function(){function e(e){var t=this;this.disableAll=!1,this.shouldUpdateInRealtime=!1,this.onRequestRealtimeUpdateCallback=e,this.handleCreateCommentStart=this.handleCreateCommentStart.bind(this),this.handleCreateCommentEnd=this.handleCreateCommentEnd.bind(this),m.y.on("VIEWING_FORUM_START",(function(){t.shouldUpdateInRealtime||!t.disableAll&&t.startUpdatingForumInRealtime()})),m.y.on("VIEWING_FORUM_STOP",(function(){!t.disableAll&&t.stopUpdatingForumInRealtime()})),m.y.on(H.REFRESH_ELEMENT_FORUM_SUCCESS,(function(){t.shouldUpdateInRealtime&&!t.disableAll&&t.updateForumInRealTime()})),m.y.on(H.REFRESH_ELEMENT_FORUM_SKIP,(function(){t.shouldUpdateInRealtime&&!t.disableAll&&t.updateForumInRealTime()})),m.y.on(H.REFRESH_ELEMENT_FORUM_ERROR,(function(){!t.disableAll&&t.stopUpdatingForumInRealtime()})),m.y.on(p.CREATE_POST_START,!this.disableAll&&this.handleCreateCommentStart),m.y.on(p.DELETE_POST_START,!this.disableAll&&this.handleCreateCommentStart),m.y.on(p.CREATE_THREAD_START,!this.disableAll&&this.handleCreateCommentStart),m.y.on(p.SAVE_EDIT_POST_START,!this.disableAll&&this.handleCreateCommentStart),m.y.on(p.CREATE_POST_ERROR,!this.disableAll&&this.handleCreateCommentEnd),m.y.on(p.CREATE_THREAD_ERROR,!this.disableAll&&this.handleCreateCommentEnd),m.y.on(p.DELETE_POST_ERROR,!this.disableAll&&this.handleCreateCommentEnd),m.y.on(p.SAVE_EDIT_POST_ERROR,!this.disableAll&&this.handleCreateCommentEnd),m.y.on(p.CREATE_POST_SUCCESS,!this.disableAll&&this.handleCreateCommentEnd),m.y.on(p.CREATE_THREAD_SUCCESS,!this.disableAll&&this.handleCreateCommentEnd),m.y.on(p.DELETE_POST_SUCCESS,!this.disableAll&&this.handleCreateCommentEnd),m.y.on(p.SAVE_EDIT_POST_SUCCESS,!this.disableAll&&this.handleCreateCommentEnd)}return e.prototype.handleCreateCommentStart=function(){clearTimeout(this.realtimeTimer)},e.prototype.handleCreateCommentEnd=function(){var e=this;this.shouldUpdateInRealtime&&!this.disableAll&&setTimeout((function(){!e.disableAll&&e.updateForumInRealTime()}),5e3)},e.prototype.startUpdatingForumInRealtime=function(){clearTimeout(this.realtimeTimer),this.shouldUpdateInRealtime=!0,!this.disableAll&&this.updateForumInRealTime()},e.prototype.stopUpdatingForumInRealtime=function(){clearTimeout(this.realtimeTimer),this.shouldUpdateInRealtime=!1},e.prototype.updateForumInRealTime=function(){var e=this;clearTimeout(this.realtimeTimer),this.shouldUpdateInRealtime&&(this.realtimeTimer=setTimeout((function(){e.shouldUpdateInRealtime&&!e.disableAll&&e.onRequestRealtimeUpdateCallback()}),5e3))},e.prototype.destroy=function(){this.disableAll=!0},e}(),on=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const nn=function(e){function t(t){var o,r=e.call(this,t)||this;return r.userDataFetched=!1,r.commentIdForOpening="",r.wasNotifiedReady=!1,r.wasProductForumUpdatedOnce=!1,r.socialRealtimeUpdateHelper=null,r.createDiscussionVisitInfoCalled=!1,r.hasBeenMounted=!1,r.prevIsLoadingProductForumStore=!0,r.productForumStateFinishedLoading=!1,r.shouldCheckForParameters=!1,r.refreshCurrentForum=r.refreshCurrentForum.bind(r),m.y.setSourceApp(r.props.sourceApp||ye.$X.livevideo),m.y.shouldScrollToEndOfThreads=!0,m.y.shouldShowErrata=!1,m.y.shouldShowGroupChat=r.props.shouldShowGroupChat,r.socialWebProvider=new en(r.props.sourceApp||ye.$X.livevideo,r.props.deploymentType),o=r.socialWebProvider,n=o,r.initializeProductForumStore(),r.props.$(document).on("socialEvent",(function(e,t,o){return r.handleSocialEvent(e,t,o)})).on("forumOpened",(function(){setTimeout((function(){r.props.isLoggedIn&&!r.props.discussions_code_of_conduct_shown&&(r.props.codeOfConductShown&&r.props.codeOfConductShown(),r.setState({isShowingCodeOfConductModal:!0}))}),1e3)})),m.y.on(p.CREATE_POST_SUCCESS,(function(e){r.handlePostCreated(e)})),m.y.on(p.CREATE_THREAD_SUCCESS,(function(e){r.handlePostCreated(e)})),r.props.realtime&&(r.socialRealtimeUpdateHelper=new tn(r.refreshCurrentForum)),r.setHeightConstraints(),r.state={isShowingEmailNotificationsModal:!1,isShowingCodeOfConductModal:!1},r.initialPreparation(),r}return on(t,e),t.prototype.refreshCurrentForum=function(e){var t,o,n,r;if(null!=this.productForumStore){var i=null===(t=this.productForumStore)||void 0===t?void 0:t.getState();if(null!=i.productForum&&(n=i.productForum.productExternalId),i.isShowingElementForum&&null!=i.elementForumStore){var s=null===(o=i.elementForumStore)||void 0===o?void 0:o.getState();if(null!=s&&null!=s.forum){var a=s.forum;null!=a&&null!=a.forumLocation&&(r=a.forumLocation.element)}}n&&r&&(this.props.isOpen||e?this.productForumStore.dispatch(ve.refreshElementForum(n,r,void 0)):this.productForumStore.dispatch(ve.refreshProductForumSkip()))}},t.prototype.getParameterByName=function(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},t.prototype.removeGetParameter=function(e,t){var o=e.split("?");if(o.length>=2){for(var n=encodeURIComponent(t)+"=",r=o[1].split(/[&;]/g),i=r.length;i-- >0;)-1!==r[i].lastIndexOf(n,0)&&r.splice(i,1);return o[0]+(r.length>0?"?"+r.join("&"):"")}return e},t.prototype.initialPreparation=function(){var e=this.getParameterByName("comment");e&&(this.commentIdForOpening=e)},t.prototype.componentWillUnmount=function(){this.socialRealtimeUpdateHelper&&this.socialRealtimeUpdateHelper.destroy(),this.socialRealtimeUpdateHelper=null,this.hasBeenMounted=!1},t.prototype.componentDidMount=function(){var e=this;this.currentUser=this.props.initialCurrentUser,this.currentUser||(this.currentUser=null,this.productForumStore.dispatch(ve.initialize(this.currentUser,this.getHeightConstraints()))),this.handleUserData(),this.handleInitialize(null),null!=this.product&&this.checkParameters(),this.productForumStore&&this.productForumStore.getState()||setTimeout((function(){e.props.notifyIsReady()}),4e3),this.hasBeenMounted=!0},t.prototype.checkParameters=function(){var e=this,t=this.getParameterByName("comment");t&&(this.commentIdForOpening=t);var o=this.getParameterByName("comment-spam");if(o&&(this.markAsSpam(o),"function"==typeof window.history.replaceState)){var n=this.removeGetParameter(window.location.href,"comment-spam");window.history.replaceState(null,null,n)}var r=this.getParameterByName("comment-edit-suggestion");r&&(this.markAsEditSuggestion(r),"function"==typeof window.history.replaceState)&&(n=this.removeGetParameter(window.location.href,"comment-edit-suggestion"),window.history.replaceState(null,null,n));var i=this.getParameterByName("comment-not-spam");i&&(this.clearSpamFlags(i),"function"==typeof window.history.replaceState)&&(n=this.removeGetParameter(window.location.href,"comment-not-spam"),window.history.replaceState(null,null,n));var s=this.getParameterByName("discussions");(t||o||r||i||s)&&this.props.requestOpen&&setTimeout((function(){e.props.requestOpen()}),5e3)},t.prototype.componentDidUpdate=function(e){var t,o,n=this,r=null===(t=this.productForumStore)||void 0===t?void 0:t.getState();this.props.isLoggedIn!=e.isLoggedIn&&(this.userDataFetched=!1,this.dispatchActions()),this.props.moduleIden!=e.moduleIden&&(this.shouldCheckForParameters=!0),this.shouldCheckForParameters&&null!=this.product&&(this.shouldCheckForParameters=!1,this.checkParameters()),!this.wasProductForumUpdatedOnce&&null!=this.product&&null!=this.productElement&&r&&r.elementForumStore&&r.elementForumStore.getState()&&(this.wasProductForumUpdatedOnce=!0,this.dispatchActions()),this.handleOpenChange(e),this.handleUserData(),this.handleInitialize(e),this.props.moduleIden==e.moduleIden&&this.props.shownIn==e.shownIn||(this.wasProductForumUpdatedOnce=!1,this.wasNotifiedReady=!1),!this.wasNotifiedReady&&this.productForumStore&&r&&!r.isLoading&&(r.elementForumStore&&(null===(o=r.elementForumStore)||void 0===o?void 0:o.getState())?(this.wasNotifiedReady=!0,this.dispatchActions(),setTimeout((function(){n.props.notifyIsReady()}),this.props.moduleIden!=e.moduleIden?3e3:500)):"lpDashboard"!==this.props.shownIn&&"moduleView"!==this.props.shownIn||(this.wasNotifiedReady=!0,this.dispatchActions(),setTimeout((function(){n.props.notifyIsReady()}),this.props.moduleIden!=e.moduleIden?3e3:500)))},t.prototype.refresh=function(){if(null!=this.product)this.productForumStore.dispatch(ve.clearElementForum(this.product.shortName));else{var e=this.props.courseId?this.props.courseId:this.props.moduleIden?this.props.moduleIden.split("_")[0]:null;this.productForumStore.dispatch(ve.clearElementForum(e))}},t.prototype.handleOpenChange=function(e){this.props.isOpen!=e.isOpen&&this.props.isOpen&&this.actualHandleOpenChange()},t.prototype.actualHandleOpenChange=function(){this.dispatchActions()},t.prototype.dispatchActions=function(){var e,t,o,n,r;if(this.commentIdForOpening&&null!=this.product)this.productForumStore.dispatch(ve.fetchProductForumAndShowComment(null===(e=this.product)||void 0===e?void 0:e.shortName,this.commentIdForOpening)),this.commentIdForOpening="";else if(null!=this.product&&null!=this.productElement)this.productForumStore.dispatch(ve.fetchProductAndElementForum(null===(t=this.product)||void 0===t?void 0:t.shortName,null===(o=this.productElement)||void 0===o?void 0:o.shortName,null===(n=this.productElement)||void 0===n?void 0:n.threadName,null));else if(null!=this.product&&null==this.productElement)this.productForumStore.dispatch(ve.fetchProductForum(null===(r=this.product)||void 0===r?void 0:r.shortName));else{var i=this.props.courseId?this.props.courseId:this.props.moduleIden?this.props.moduleIden.split("_")[0]:null;this.productForumStore.dispatch(ve.fetchProductForums(i))}},t.prototype.handleUserData=function(){var e=this;this.props.isLoggedIn&&!this.userDataFetched&&this.props.fetchUserData&&(this.userDataFetched=!0,this.props.fetchUserData().then((function(t){t&&(e.currentUser=t,e.socialWebProvider.getUsersCommentInfo().then((function(t){e.currentUser.votes=t.votes||[],e.currentUser.spamCommentIds=t.spamCommentIds||[],e.currentUser.commentIds=t.commentIds||[],e.currentUser.authorizedProductIds=e.createAuthorizedProductsMap(t.authorizedProductIds),e.productForumStore.dispatch(ve.initialize(e.currentUser,e.getHeightConstraints()))})).catch((function(t){e.currentUser.votes=[],e.currentUser.spamCommentIds=[],e.currentUser.commentIds=[],e.productForumStore.dispatch(ve.initialize(e.currentUser,e.getHeightConstraints()))})))})))},t.prototype.setHeightConstraints=function(){this.productForumStore.dispatch(ve.setVerticalPadding(this.getHeightConstraints()))},t.prototype.handleInitialize=function(e){if(!e||e.courseId!=this.props.courseId||e.moduleIden!=this.props.moduleIden||this.props.threadName!=e.threadName){if(this.props.moduleIden){if(this.props.threadName){var t=this.props.moduleIden.split("_")[0];this.product={shortName:t},this.productElement={shortName:this.props.moduleIden,threadName:this.props.threadName}}"CurrentApp/LIVEPROJECT"===this.props.currentApp&&(this.productElement=null)}else this.props.courseId?(this.product={shortName:this.props.courseId},this.productElement=null):(this.product=null,this.productElement=null);(this.props.forceOpenGeneral||this.props.hasOnlyGeneral)&&(this.productElement={shortName:vt.R,threadName:vt.R}),this.refreshCurrentForum()}},t.prototype.createAuthorizedProductsMap=function(e){var t={};if(!e||!e.length)return t;for(var o=0,n=e;o<n.length;o++)t[n[o]]=!0;return t},t.prototype.getHeightConstraints=function(){var e=100;return this.props.additionalHeightConstraint&&(e+=this.props.additionalHeightConstraint),this.props.isMobile&&(e+=70),e},t.prototype.handlePostCreated=function(e){null!=this.currentUser&&(null==this.currentUser.commentIds||0==this.currentUser.commentIds.length?(this.currentUser.commentIds=[e],this.props.discussions_email_notifications_offered||(this.props.emailNotificationsShown&&this.props.emailNotificationsShown(),this.setState({isShowingEmailNotificationsModal:!0}))):this.currentUser.commentIds.push(e))},t.prototype.getAndAssignForumVisitInfo=function(e){var t=this;null!=this.props.ownedCourses&&this.socialWebProvider.getForumVisitInfo().then((function(o){for(var n=0,r=t.props.ownedCourses;n<r.length;n++){var i=r[n];null==o[i.manningId]&&(o[i.manningId]={lastVisitDate:new Date(2017),visitedElements:{}})}t.productForumStore.dispatch(ve.setForumVisitInfo(o)),e&&e()}))},t.prototype.handleSocialEvent=function(e,t,o){this.selectedParagraphButton&&null!=this.product&&null!=this.productElement&&o&&o.productExternalId==this.product.shortName&&o.element==this.productElement.shortName&&(t=(t||"").toLowerCase(),this.props.$(this.selectedParagraphButton).find(".comment-count-container").text(),-1!=t.indexOf("create")||t.indexOf("delete"))},t.prototype.hasForumVisitInfoNotifications=function(){var e;if(null==this.productForumStore)return!1;var t=null===(e=this.productForumStore)||void 0===e?void 0:e.getState();if(null==t)return!1;var o=null==t?void 0:t.forumVisitInfo;if(null==o)return!1;if(t&&null!=t.productForums){for(var n=0,r=t.productForums;n<r.length;n++)if((s=o[(i=r[n]).productId])&&s.lastVisitDate<i.lastCommentDate)return!0;return!1}if(null!=t.productForum){var i,s;if(!((s=o[(i=t.productForum).productId])&&s.lastVisitDate<i.lastCommentDate))return!1;if(null==s.visitedElements)return!0;for(var a=0,c=0,l=i.elementForums;c<l.length;c++){var u=l[c];!s.visitedElements[u.element]&&u.forum.hasPostsNewerThan(s.lastVisitDate)&&a++}return a>0}},t.prototype.updateNotificationsBubble=function(e){void 0===e&&(e=0),this.props.handleHasForumVisitInfoNotificationsChange&&this.props.handleHasForumVisitInfoNotificationsChange(this.hasForumVisitInfoNotifications()),this.props.updateNotificationsBubble&&this.props.updateNotificationsBubble(e)},t.prototype.initializeProductForumStore=function(){var e=this;this.productForumStore=(0,d.createStore)(Me,(0,d.applyMiddleware)(u,q,xe,(function(t){return function(o){return function(n){var r,i,s=o(n),a=null===(r=null==t?void 0:t.getState())||void 0===r?void 0:r.notificationsCount;void 0!==a?e.updateNotificationsBubble(a):e.updateNotificationsBubble(),n.type!=H.FETCH_PRODUCT_FORUM_SUCCESS||e.createDiscussionVisitInfoCalled||e.props.isLoggedIn&&(e.createDiscussionVisitInfoCalled=!0,e.socialWebProvider.createDiscussionVisitInfo(n.productForum.productId).then((function(){})).catch((function(e){return console.log("Error saving discussion visit info")})));var c=!1,l=null===(i=e.productForumStore)||void 0===i?void 0:i.getState();return e.prevIsLoadingProductForumStore==l.isLoading||l.isLoading||(e.prevIsLoadingProductForumStore=l.isLoading,e.productForumStateFinishedLoading=!0,c=!0),(e.hasBeenMounted&&"REFRESH_CURRENT_FORUM_SUCCESS"===n.type||"FETCH_PRODUCT_FORUM_SUCCESS"==n.type)&&!e.wasNotifiedReady&&e.productForumStore&&l&&!l.isLoading&&(c=!0),(c||e.productForumStateFinishedLoading)&&(e.wasNotifiedReady=!0,e.productForumStateFinishedLoading=!1,setTimeout((function(){e.props.notifyIsReady()}),500)),s}}})));var t=this.props.courseId?this.props.courseId:this.props.moduleIden?this.props.moduleIden.split("_")[0]:null;this.productForumStore.dispatch(ve.fetchProductForums(t))},t.prototype.toggleEmailNotificationsModal=function(e,t){this.props.handleEmailNotificationChoice(t),this.setState({isShowingEmailNotificationsModal:e,isShowingCodeOfConductModal:this.state.isShowingCodeOfConductModal})},t.prototype.toggleCodeOfConductModal=function(e){this.setState({isShowingEmailNotificationsModal:this.state.isShowingEmailNotificationsModal,isShowingCodeOfConductModal:e})},t.prototype.markAsSpam=function(e){return this.socialWebProvider.toggleSpam(this.currentUser,e,!0)},t.prototype.clearSpamFlags=function(e){return this.socialWebProvider.clearSpamFlags(e)},t.prototype.markAsEditSuggestion=function(e){return this.socialWebProvider.toggleEditSuggestion(this.currentUser,e,!0)},t.prototype.onClose=function(){this.props.onClose&&this.props.onClose()},t.prototype.render=function(){var e=this,t=this.props.courseId?this.props.courseId:this.props.moduleIden?this.props.moduleIden.split("_")[0]:null;return r.createElement("div",null,r.createElement(i.Provider,{store:this.productForumStore},r.createElement(jo,{courseId:t,onClose:function(){e.onClose()},disablePosting:this.props.disablePosting,disablePostingMessage:this.props.disablePostingMessage,disableClose:this.props.disableCloseInDiscussions,hasOnlyGeneral:this.props.hasOnlyGeneral})),this.state.isShowingEmailNotificationsModal&&r.createElement(Bo,{isShown:this.state.isShowingEmailNotificationsModal,onAccept:function(){return e.toggleEmailNotificationsModal(!1,!0)},onClose:function(){return e.toggleEmailNotificationsModal(!1,!1)}}),this.state.isShowingCodeOfConductModal&&r.createElement(qo,{isShown:this.state.isShowingCodeOfConductModal,onClose:function(){return e.toggleCodeOfConductModal(!1)}}))},t}(r.Component)},94992:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n,r=o(67294),i=o(84785),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a={drop:function(e,t){e.onDrop(t.getItem())}};const c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){var e=this.props,t=(e.accepts,e.isOver,e.canDrop,e.connectDropTarget),o=(this.props.isInline?"inline-draggable-container ":"draggable-container ")+(this.props.className?this.props.className:"");return t(r.createElement("div",{style:this.props.style,className:o},this.props.children))},function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s}([(0,i.DropTarget)((function(e){return e.accepts}),a,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))],t)}(r.Component)},65818:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n,r=o(67294),i=o(84785),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a={beginDrag:function(e){return{itemIdentifier:e.itemIdentifier,type:e.type}},canDrag:function(e){return!e.isDisabled}};const c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){return this.props.connectDragSource(r.createElement("div",{className:"draggable-item",style:(e=this.props,t=Object.assign({opacity:e.isDragging?.5:1},e.style),t)}," ",this.props.children," "));var e,t},function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s}([(0,i.DragSource)((function(e){return e.type}),a,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))],t)}(r.Component)},98738:(e,t,o)=>{var n=new(o(17187).EventEmitter);e.exports.commonEmitter=n},39339:(e,t,o)=>{"use strict";o.d(t,{Q:()=>x,Z:()=>O});var n=o(67294),r=o(83253),i=o(94184),s=o.n(i),a=o(93379),c=o.n(a),l=o(7795),u=o.n(l),p=o(90569),d=o.n(p),h=o(3565),m=o.n(h),f=o(19216),g=o.n(f),b=o(44589),v=o.n(b),y=o(8876),w={};w.styleTagTransform=v(),w.setAttributes=m(),w.insert=d().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=g(),c()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var k,x,C=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});!function(e){e[e.standard=0]="standard",e[e.dark=1]="dark",e[e.gold=2]="gold",e[e.green=3]="green",e[e.red=4]="red"}(x||(x={}));var E={backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:1008,top:0,display:"flex",alignItems:"center",justifyContent:"center",position:"fixed"},S={alignItems:"flex-start"},T={backgroundColor:"rgb(255, 255, 255)",display:"fixed",position:"relative",top:"unset",left:"unset",right:"unset",bottom:"unset",border:"unset",borderRadius:"unset",width:"100%",color:"#3C3C3C",overflow:"visible",padding:"20px 40px"},A={maxWidth:"600px",margin:"0 auto",padding:"0"},I={maxHeight:"90vh",overflow:"auto",maxWidth:"85vw"};const O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C(t,e),t.prototype.render=function(){var e=this,t=Object.assign({},T,this.props.modalContentStyle||{}),o=Object.assign({},E,this.props.modalOverlayStyle||{}),i=Object.assign({},I,this.props.contentStyle||{}),a=Object.assign({},A);this.props.isContentVerticalTop&&(o=Object.assign({},o,S)),this.props.isPositionStatic&&(o=Object.assign({},o,{position:"static"})),this.props.dontGoFullWidth&&(t=Object.assign({},t,{width:"auto"})),this.props.hasNoPadding&&(t=Object.assign({},t,{padding:"0"})),this.props.noWidthLimitation&&(i=Object.assign({},i,{maxWidth:"auto"}),a=Object.assign({},a,{maxWidth:"auto"})),this.props.theme==x.dark?t=Object.assign({},t,{backgroundColor:"rgb(51, 51,51)"}):this.props.theme==x.gold?t=Object.assign({},t,{backgroundColor:"rgb(254, 203, 47)"}):this.props.theme==x.green?t=Object.assign({},t,{backgroundColor:"rgb(57, 121, 38)"}):this.props.theme==x.red&&(t=Object.assign({},t,{backgroundColor:"rgb(195, 41, 28)"})),this.props.contentTopOffset&&(t=Object.assign({},t,{top:this.props.contentTopOffset})),this.props.initialOverlayTop&&(o.top=this.props.initialOverlayTop,i.maxHeight="calc(".concat(I.maxHeight," - ").concat(this.props.initialOverlayTop,")"));var c={"dark-theme":this.props.theme==x.dark,"gold-theme":this.props.theme==x.gold,"green-theme":this.props.theme==x.green,"red-theme":this.props.theme==x.red};return this.props.parentElement&&this.props.parentElement!=document.body?n.createElement("div",{className:s()("ReactModal__Overlay",this.props.overlayClass),style:o},n.createElement("div",{className:this.props.contentClass,style:t},this.generateModalContent(c,a,i))):n.createElement(r,{isOpen:this.props.isOpen,appElement:document.body,style:{overlay:o,content:t},parentSelector:function(){return document.body},onRequestClose:function(){e.props.disableBackgroundClickClose||null!=e.props.onClose&&(e.props.onClose instanceof Function?e.props.onClose():console.error&&console.error("onClose is not a function",e.props.onClose,e.props.mainContainerClassName))}},this.generateModalContent(c,a,i))},t.prototype.generateModalContent=function(e,t,o){var r=this;return n.createElement(n.Fragment,null,n.createElement("div",{className:s()("modal-header",e,this.props.additionalModalHeaderClass)},n.createElement("div",{className:"modal-back-button-container"},this.props.hasBackButton?n.createElement("div",{className:"modal-header-button",onTouchStart:function(e){return r.props.onBack&&r.props.onBack()},onClick:function(e){return r.props.onBack&&r.props.onBack()}},n.createElement("i",{className:"fa fw fa-chevron-left"})):n.createElement("i",{className:"fa fw fa-chevron-left",style:{opacity:0}})),n.createElement("div",{className:"modal-title-container"},this.props.title&&n.createElement("h3",{dangerouslySetInnerHTML:{__html:this.props.title}}),this.props.subtitle&&n.createElement("span",{style:this.props.subtitleStyle},this.props.subtitle)),n.createElement("div",{onTouchStart:function(e){return r.props.onClose&&r.props.onClose()},onClick:function(e){return r.props.onClose&&r.props.onClose()},className:s()("modal-close-button-container",{"no-padding":this.props.hasNoPadding})},n.createElement("div",{className:"modal-header-button"},n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M8.29979 0.525634C8.059 0.284844 7.67003 0.284844 7.42924 0.525634L4.41011 3.53859L1.39098 0.519459C1.15019 0.27867 0.761225 0.27867 0.520436 0.519459C0.279646 0.760249 0.279646 1.14922 0.520436 1.39001L3.53957 4.40914L0.520436 7.42827C0.279646 7.66905 0.279646 8.05802 0.520436 8.29881C0.761225 8.5396 1.15019 8.5396 1.39098 8.29881L4.41011 5.27968L7.42924 8.29881C7.67003 8.5396 8.059 8.5396 8.29979 8.29881C8.54058 8.05802 8.54058 7.66905 8.29979 7.42827L5.28066 4.40914L8.29979 1.39001C8.5344 1.15539 8.5344 0.760249 8.29979 0.525634Z",fill:"currentColor"}))))),n.createElement("div",{className:s()(this.props.mainContainerClassName,e),style:t},n.createElement("div",{style:o,className:"modal-content-container"},this.props.children,n.createElement("div",null,this.props.actionMessageHTML&&n.createElement("span",{className:s()("tokens-button action-button",this.props.actionButtonAdditionalClass),onClick:this.props.onActionClicked,dangerouslySetInnerHTML:{__html:this.props.actionMessageHTML}}),this.props.secondayActionMessageHTML&&n.createElement("span",{className:s()("tokens-button action-button",this.props.secondaryActionButtonAdditionalClass),onClick:this.props.onSecondaryActionClicked,dangerouslySetInnerHTML:{__html:this.props.secondayActionMessageHTML}})),this.props.cancelationMessageHTML&&n.createElement("span",{className:"tokens-button cancel-button",onClick:this.props.onCancelationClicked,dangerouslySetInnerHTML:{__html:this.props.cancelationMessageHTML}}))))},t}(n.Component)},22498:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n,r=o(67294),i=o(94184),s=o.n(i),a=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,t=!this.props.disabled&&this.props.href?this.props.href:"";return t?r.createElement("a",{href:t,title:this.props.tooltip,className:this.getButtonClasses(),onClick:function(t){return e.handleClick(t)}},this.props.isIconToRightOfText?null:r.createElement("i",{className:this.getIconClasses()}),this.props.text?r.createElement("span",{className:s()("icon-button-label",this.props.labelClasses)},this.props.text):null,this.props.isIconToRightOfText?r.createElement("i",{className:this.getIconClasses()}):null):r.createElement("span",{ref:this.props.refBtnResetAnswerProp?this.props.refBtnResetAnswerProp:this.props.refBtnCheckAnswerProp,title:this.props.tooltip,className:s()("clickable-link-like",this.getButtonClasses()),onClick:function(t){return e.handleClick(t)}},this.props.isIconToRightOfText?null:r.createElement("i",{className:this.getIconClasses()}),this.props.text?r.createElement("span",{className:s()("icon-button-label",this.props.labelClasses)},this.props.text):null,this.props.isIconToRightOfText?r.createElement("i",{className:this.getIconClasses()}):null)},t.prototype.handleClick=function(e){return!this.props.isInvisible&&!this.props.disabled&&void(this.props.onClick&&this.props.onClick(e))},t.prototype.getButtonClasses=function(){var e="icon-button ";return this.props.additionalClasses&&(e+=this.props.additionalClasses),this.props.isInvisible&&(e+=" invisible"),this.props.disabled&&(e+=" disabled"),e},t.prototype.getIconClasses=function(){var e;return this.props.icon?s()(((e={fa:!0})[this.props.icon]=!0,e)):""},t}(r.Component)},34670:(e,t,o)=>{"use strict";o.d(t,{E:()=>y,Z:()=>k});var n=o(67294),r=o(93379),i=o.n(r),s=o(7795),a=o.n(s),c=o(90569),l=o.n(c),u=o(3565),p=o.n(u),d=o(19216),h=o.n(d),m=o(44589),f=o.n(m),g=o(98611),b={};b.styleTagTransform=f(),b.setAttributes=p(),b.insert=l().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=h(),i()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals;var v,y,w=(v=function(e,t){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},v(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});!function(e){e[e.Undefined=0]="Undefined",e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Large=3]="Large"}(y||(y={}));const k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.render=function(){return n.createElement("div",{className:"loading-results-container"},this.props.useSvg?n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"loading-spin",viewBox:"0 0 512 512"},n.createElement("path",{d:"M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"})):n.createElement("i",{className:"loading-icon fa fa-circle-notch fa-spin fa-fw ".concat(this.getLoadingSizeClass())}))},t.prototype.getLoadingSizeClass=function(){if(!this.props.loadingSize)return"";switch(this.props.loadingSize){case y.Small:return"small-icon";case y.Medium:return"medium-icon";case y.Large:default:return""}},t}(n.Component)},49448:(e,t,o)=>{"use strict";o.d(t,{R:()=>r,Z:()=>u});var n,r,i=o(67294),s=o(94184),a=o.n(s),c=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});!function(e){e[e.Image=0]="Image",e[e.Background=1]="Background"}(r||(r={}));var l={};const u=function(e){function t(t){var o=e.call(this,t)||this;return o.state={hasError:!1},o.initiateImageLoadingIfNecessary(),o}return c(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.fullImage!==e.fullImage&&this.initiateImageLoadingIfNecessary()},t.prototype.shouldComponentUpdate=function(e,t){return this.props.fullImage!==e.fullImage||this.props.placeholderImage!==e.placeholderImage||this.props.className!==e.className||this.props.alt!==e.alt},t.prototype.render=function(){var e=a()(this.props.className,{draggable:null!=this.props.onDragStart});return this.state.hasError?i.createElement("img",{className:e,src:this.props.placeholderImage,alt:this.props.alt,title:this.props.alt,width:this.props.width,height:this.props.height,"data-data":this.props.data,draggable:null!=this.props.onDragStart,onDragStart:this.props.onDragStart}):this.props.placeholderOnlyOnFail?this.props.imageDisplayType==r.Background?i.createElement("div",{className:e,style:{backgroundImage:"url(".concat(this.props.fullImage,")")},title:this.props.alt,draggable:null!=this.props.onDragStart,onDragStart:this.props.onDragStart,"data-data":this.props.data}):i.createElement("img",{className:e,src:this.props.fullImage,alt:this.props.alt,title:this.props.alt,width:this.props.width,height:this.props.height,loading:this.props.lazy?"lazy":"eager",draggable:null!=this.props.onDragStart,onDragStart:this.props.onDragStart,"data-data":this.props.data}):this.props.imageDisplayType==r.Background?i.createElement("div",{className:e,style:{backgroundImage:"url(".concat(l[this.props.fullImage]?this.props.fullImage:this.props.placeholderImage,")")},title:this.props.alt,draggable:null!=this.props.onDragStart,onDragStart:this.props.onDragStart,"data-data":this.props.data}):i.createElement("img",{className:e,src:l[this.props.fullImage]?this.props.fullImage:this.props.placeholderImage,alt:this.props.alt,title:this.props.alt,width:this.props.width,height:this.props.height,loading:this.props.lazy?"lazy":"eager",draggable:null!=this.props.onDragStart,onDragStart:this.props.onDragStart,"data-data":this.props.data})},t.prototype.componentDidMount=function(){this.isComponentMounted=!0},t.prototype.componentWillUnmount=function(){this.isComponentMounted=!1},t.prototype.initiateImageLoadingIfNecessary=function(){var e=this;if(!l[this.props.fullImage]){var t=this.props.fullImage,o=new Image;o.onload=function(){l[t]=!0,t==e.props.fullImage&&e.isComponentMounted&&e.forceUpdate()},o.onerror=function(){e.isComponentMounted&&e.setState({hasError:!0})},o.src=t}},t}(i.Component)},89095:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n,r=o(67294),i=o(89927),s=o(88530),a=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const c=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n.state={},n}return a(t,e),t.prototype.content=function(){var e=this;if(this.props.source){var t=this.renderMarkdown(this.props.source);return t.success?r.createElement("div",{dangerouslySetInnerHTML:{__html:t.source}}):r.createElement("div",null,t.source)}return r.Children.map(this.props.children,(function(t){if("string"==typeof t){var o=e.renderMarkdown(t);return o.success?r.createElement("span",{dangerouslySetInnerHTML:{__html:o.source}}):r.createElement("span",null,o.source)}return t}))},t.prototype.componentDidUpdate=function(e){this.props.html_in_markdown!==e.html_in_markdown&&null!=this.props.html_in_markdown&&this.md&&(this.md.options.html=this.props.html_in_markdown,this.forceUpdate())},t.prototype.renderMarkdown=function(e){try{if(!this.md){var t={html:this.props.html_in_markdown||!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",typographer:!0,_highlight:!0,_strict:!1,_view:"html"};this.md=new i._("full",t),this.md.use(s)}return{success:!0,source:this.md.render(e)}}catch(t){return{success:!1,source:e}}},t.prototype.render=function(){return r.createElement("div",{style:this.props.style,className:this.props.className||"",onClick:this.props.onClick},this.content())},t}(r.Component)},46884:(e,t,o)=>{"use strict";o.d(t,{K:()=>C});var n=o(67294),r=o(94184),i=o.n(r),s=o(93379),a=o.n(s),c=o(7795),l=o.n(c),u=o(90569),p=o.n(u),d=o(3565),h=o.n(d),m=o(19216),f=o.n(m),g=o(44589),b=o.n(g),v=o(2913),y={};y.styleTagTransform=b(),y.setAttributes=h(),y.insert=p().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=f(),a()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;var w,k=o(37335),x=(w=function(e,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},w(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),C=function(e){function t(t){return e.call(this,t)||this}return x(t,e),t.prototype.render=function(){var e=this;return n.createElement("div",{className:i()("advanced-tabs-root",this.props.additionalClass)},n.createElement("div",{className:"advanced-tabs-container"},this.props.tabs.map((function(t){return n.createElement("div",{className:"advanced-tabs-item",key:t.title},n.createElement("button",{key:t.title,onClick:function(o){return e.props.onSelectTab&&e.props.onSelectTab(t)},className:i()("advanced-tab",{active:e.props.selectedTab==t,"has-close-button":t.hasCloseButton,"my-products":t.title==k.RR||t.title==k.J0})},n.createElement("span",null,e.renderTabTitle(t),e.generateQualifications(t)),t.hasCloseButton&&n.createElement("i",{className:"fa fa-times close-tab",onClick:function(o){o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation(),e.props.onCloseTab&&e.props.onCloseTab(t)}})))}))),n.createElement("div",{className:"advanced-tabs-commands-container"},this.props.children))},t.prototype.renderTabTitle=function(e){return e.htmlTitle?n.createElement("span",{dangerouslySetInnerHTML:{__html:e.htmlTitle}}):e.title},t.prototype.generateQualifications=function(e){if(!e||!e.qualifications||!e.qualifications.length)return null;for(var t=[],o=0,r=0,i=e.qualifications;r<i.length;r++){var s=i[r];t.push(n.createElement("span",{key:o++}," > ")),t.push(n.createElement("span",{key:o++}," ",s," "))}return t},t}(n.Component)},87060:(e,t,o)=>{"use strict";o.d(t,{R:()=>r,i:()=>n});var n="exercise preview",r="General"},85960:(e,t,o)=>{"use strict";o.d(t,{f:()=>w});var n=o(67294),r=o(93379),i=o.n(r),s=o(7795),a=o.n(s),c=o(90569),l=o.n(c),u=o(3565),p=o.n(u),d=o(19216),h=o.n(d),m=o(44589),f=o.n(m),g=o(63919),b={};b.styleTagTransform=f(),b.setAttributes=p(),b.insert=l().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=h(),i()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals;var v,y=(v=function(e,t){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},v(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),w=function(e){function t(t){return e.call(this,t)||this}return y(t,e),t.prototype.render=function(){return n.createElement("span",{className:"loading-button",id:this.props.id,style:this.props.style,onClick:this.props.onClick},this.props.isLoading?n.createElement("i",{className:"loading-button-spinner fa fa-circle-notch fa-spin fa-fw"}):null,this.props.label)},t}(n.Component)},38797:(e,t,o)=>{"use strict";o.d(t,{xs:()=>Le,Pb:()=>ye,wt:()=>we});var n,r=o(67294),i=o(94184),s=o.n(i),a=o(97766),c=o(94017),l=o(65605),u=o(49448),p=o(88738),d=o(83763),h=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),m=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t.prototype.render=function(){return this.props.tags?r.createElement("div",{className:"product-tags-root"},this.props.tags.map((function(e){return r.createElement("span",{key:e,className:"product-tag-label"},e)}))):null},t}(r.Component);const f=m;var g=o(41775),b=o(41839),v=o(73935),y=o(86378),w=o(82958),k=o(54304),x=o(38341),C=o(23614),E=o(37727),S=o(93379),T=o.n(S),A=o(7795),I=o.n(A),O=o(90569),P=o.n(O),R=o(3565),_=o.n(R),N=o(19216),F=o.n(N),L=o(44589),M=o.n(L),D=o(26677),U={};U.styleTagTransform=M(),U.setAttributes=_(),U.insert=P().bind(null,"head"),U.domAPI=I(),U.insertStyleElement=F(),T()(D.Z,U),D.Z&&D.Z.locals&&D.Z.locals;var j=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Z=function(){return Z=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Z.apply(this,arguments)},B=function(e){function t(t){var o=e.call(this,t)||this;return o.handleWheel=o.handleWheel.bind(o),o.zoomIn=o.zoomIn.bind(o),o.zoomOut=o.zoomOut.bind(o),o.mapContainerRef=r.createRef(),o.state={addressInput:"",confirmedName:"",typing:!1,typingTimeout:0,center:[0,20],zoom:1},o}return j(t,e),t.getDerivedStateFromProps=function(e,t){return null==t.addressInput&&e.locationText?Z(Z({},t),{addressInput:e.locationText,confirmedName:e.locationText}):null},t.prototype.componentDidUpdate=function(e,t){e.location==this.props.location&&e.locationText==this.props.locationText||this.props.locationText&&this.setState({addressInput:this.props.locationText,confirmedName:this.props.locationText})},t.prototype.componentDidMount=function(){},t.prototype.handleWheel=function(e){e.preventDefault(),e.stopPropagation(),e.deltaY>0&&this.setState({zoom:this.state.zoom/1.1}),e.deltaY<0&&this.setState({zoom:1.1*this.state.zoom})},t.prototype.zoomIn=function(){this.setState({zoom:1.5*this.state.zoom})},t.prototype.zoomOut=function(){this.setState({zoom:this.state.zoom/1.5})},t.prototype.componentWillUnmount=function(){this.mapContainerRef.removeEventListener("wheel",this.handleWheel)},t.prototype.projection=function(){return(0,C.Z)().translate([490,275.5]).scale(160)},t.prototype.render=function(){var e,t,o=this;if(this.props.location){var n=this.props.location.split(";");e=Number(n[0]),t=Number(n[1])}var i=!isNaN(e)&&!isNaN(t)&&e&&t?[{markerOffset:-25,name:this.state.confirmedName,coordinates:[e,t]}]:[],s=null!=this.props.onValuesUpdated,a=r.createElement("div",{style:{width:"100%",maxWidth:980,margin:"0"}},r.createElement("div",{className:"geo-map-container",ref:function(e){return o.mapContainerRef=e}},r.createElement(E.y_,{defaultStyle:{zoom:1,x:0,y:20},style:{zoom:(0,E.ST)(this.state.zoom,{stiffness:210,damping:20}),x:(0,E.ST)(this.state.center[0],{stiffness:210,damping:20}),y:(0,E.ST)(this.state.center[1],{stiffness:210,damping:20})}},(function(e){var t=e.zoom;return e.x,e.y,r.createElement(k.p9,{projectionConfig:{scale:205,rotation:[-11,0,0]},width:980,height:551,style:{width:"100%",height:"auto"}},r.createElement(k.j3,{center:[0,20],zoom:t},r.createElement(k.kS,{geography:"https://s3-us-west-2.amazonaws.com/lv-resources/other/world-50m.json"},(function(e,t){return e.map((function(e,n){return"ATA"!==e.id&&r.createElement(k.iz,{key:n,geography:e,projection:t,onClick:function(e,t,n){return o.handleGeography(e,t,n)},style:{default:{fill:"#ECEFF1",stroke:"#607D8B",strokeWidth:.1,outline:"none"},hover:{fill:s?"#ADBBD1":"#ECEFF1",stroke:"#607D8B",strokeWidth:.1,outline:"none"},pressed:{fill:s?"#ADBBD1":"#ECEFF1",stroke:"#607D8B",strokeWidth:.1,outline:"none"}}})}))})),r.createElement(k.sR,null,i.map((function(e,t){return r.createElement(k.Jx,{key:t,marker:e,style:{default:{fill:"#244474"},hover:{fill:"#FFFFFF"},pressed:{fill:"#244474"}}},r.createElement("circle",{cx:0,cy:0,r:10,style:{stroke:"#244474",strokeWidth:3,opacity:.9}}),r.createElement("text",{textAnchor:"middle",y:e.markerOffset,style:{backgroundColor:"white",fontFamily:"Roboto, sans-serif",fill:"#607D8B"}},e.name))})))))})),r.createElement("div",{className:"zoom-controls"},r.createElement("div",{className:"zoom-control-buttons",onClick:this.zoomIn},r.createElement("i",{className:"fa fa-plus-square fa-lg"})),r.createElement("div",{className:"zoom-controls-zoom-out zoom-control-buttons",onClick:this.zoomOut},r.createElement("i",{className:"fa fa-minus-square fa-lg"})))));return r.createElement("div",{className:"groups-register-address-input-container"},a)},t.prototype.handleGeography=function(e,t,o){var n=(0,x.Z)().projection(this.projection()),r=this.projection().invert(n.centroid(e));this.props.onValuesUpdated&&this.props.onValuesUpdated(r[0]+";"+r[1],e.properties.name)},t}(r.Component),z=o(55519),q=o(2285),H=o(44477),W={};W.styleTagTransform=M(),W.setAttributes=_(),W.insert=P().bind(null,"head"),W.domAPI=I(),W.insertStyleElement=F(),T()(H.Z,W),H.Z&&H.Z.locals&&H.Z.locals;var V=o(30091),Q={};Q.styleTagTransform=M(),Q.setAttributes=_(),Q.insert=P().bind(null,"head"),Q.domAPI=I(),Q.insertStyleElement=F(),T()(V.Z,Q),V.Z&&V.Z.locals&&V.Z.locals;var G=o(19755),K=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),X=function(){return X=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},X.apply(this,arguments)},J="#ADD2FF",Y="#91BEF5",$="#7AACE8",ee="#5998E5",te="#4788D9",oe="#3C7CCC",ne="#F4F5FA",re="#EAECF4",ie="#E0E3F0",se="#D3D7E7",ae="#CCCFDD",ce="#BCBFCF",le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.equalArea=!1,t.width=340,t.state={tempLevel:t.props.currentLevel||0,isHover:!1,defaultPyramidSpecificData:[{value:1,styleSelected:{backgroundColor:J,WebkitBoxShadow:"0px 0px 0px 17px ".concat(J),MozBoxShadow:"0px 0px 0px 17px ".concat(J),boxShadow:"0px 0px 0px 17px ".concat(J)},styleNotSelected:{backgroundColor:ne,WebkitBoxShadow:"0px 0px 0px 17px ".concat(ne),MozBoxShadow:"0px 0px 0px 17px ".concat(ne),boxShadow:"0px 0px 0px 17px ".concat(ne)}},{value:1,styleSelected:{backgroundColor:Y,WebkitBoxShadow:"0px 0px 0px 17px ".concat(Y),MozBoxShadow:"0px 0px 0px 17px ".concat(Y),boxShadow:"0px 0px 0px 17px ".concat(Y)},styleNotSelected:{backgroundColor:re,WebkitBoxShadow:"0px 0px 0px 17px ".concat(re),MozBoxShadow:"0px 0px 0px 17px ".concat(re),boxShadow:"0px 0px 0px 17px ".concat(re)}},{value:1,styleSelected:{backgroundColor:$,WebkitBoxShadow:"0px 0px 0px 17px ".concat($),MozBoxShadow:"0px 0px 0px 17px ".concat($),boxShadow:"0px 0px 0px 17px ".concat($)},styleNotSelected:{backgroundColor:ie,WebkitBoxShadow:"0px 0px 0px 17px ".concat(ie),MozBoxShadow:"0px 0px 0px 17px ".concat(ie),boxShadow:"0px 0px 0px 17px ".concat(ie)}},{value:1,styleSelected:{backgroundColor:ee,WebkitBoxShadow:"0px 0px 0px 17px ".concat(ee),MozBoxShadow:"0px 0px 0px 17px ".concat(ee),boxShadow:"0px 0px 0px 17px ".concat(ee)},styleNotSelected:{backgroundColor:se,WebkitBoxShadow:"0px 0px 0px 17px ".concat(se),MozBoxShadow:"0px 0px 0px 17px ".concat(se),boxShadow:"0px 0px 0px 17px ".concat(se)}},{value:1,styleSelected:{backgroundColor:te,WebkitBoxShadow:"0px 0px 0px 17px ".concat(te),MozBoxShadow:"0px 0px 0px 17px ".concat(te),boxShadow:"0px 0px 0px 17px ".concat(te)},styleNotSelected:{backgroundColor:ae,WebkitBoxShadow:"0px 0px 0px 17px ".concat(ae),MozBoxShadow:"0px 0px 0px 17px ".concat(ae),boxShadow:"0px 0px 0px 17px ".concat(ae)}},{value:1,styleSelected:{backgroundColor:oe,WebkitBoxShadow:"0px 0px 0px 17px ".concat(oe),MozBoxShadow:"0px 0px 0px 17px ".concat(oe),boxShadow:"0px 0px 0px 17px ".concat(oe)},styleNotSelected:{backgroundColor:ce,WebkitBoxShadow:"0px 0px 0px 17px ".concat(ce),MozBoxShadow:"0px 0px 0px 17px ".concat(ce),boxShadow:"0px 0px 0px 17px ".concat(ce)}}],pyramidSpecificData:null},t}return K(t,e),t.prototype.componentDidMount=function(){this.setStyles()},t.prototype.componentDidUpdate=function(e,t){JSON.stringify(e.skillData)!=JSON.stringify(this.props.skillData)&&this.props.skillData&&this.setStyles(),JSON.stringify(e.currentLevel)!=JSON.stringify(this.props.currentLevel)&&this.setState({tempLevel:this.props.currentLevel})},t.prototype.setStyles=function(){var e=this;this.props.skillData&&this.setState({pyramidSpecificData:this.state.defaultPyramidSpecificData.slice(0,this.props.skillData.length)},(function(){e.setState({styles:e.calculateStyles(e.state.pyramidSpecificData)})}))},t.prototype.trapezoidPath=function(e,t,o,n,r){var i=(100-t)/2,s=(100-o)/2,a=0===i?"50% 0":"".concat(i,"% 0%, ").concat(100-i,"% 0%"),c="".concat(100-s,"% 100%, ").concat(s,"% 100%"),l=30;if(n){for(var u=[(l-(0-50*(y=100/(100-s-50))))/y,l],p=[(l-(0-50*(I=100/(s-50))))/I,l],d=(u[0]-50-(p[0]-50))/2,h="",m=void 0,f=void 0,g=-120;g>=-240;g-=2){var b=g*Math.PI/180,v=d*Math.sin(b);f=d*Math.cos(b)/(e/.7)+l,h+="".concat(m=.866*v+50,"% ").concat(f,"%, ")}h=h,a="".concat(p[0],"% ").concat(p[1],"%, ").concat(h," ").concat(u[0],"% ").concat(u[1],"%")}if(r){var y,w=l/Math.sqrt(3)*2,k=[(70-(0-(y=100/(s-i))*i))/y,70],x=[s+w*e,100],C=[(k[0]+x[0])/2,(k[1]+x[1])/2],E=[k[0]-C[0],k[1]-C[1]],S=[x[0]-C[0],x[1]-C[1]],T=Math.sqrt(Math.pow(E[0]-S[0],2)+Math.pow(E[1]-S[1],2))/2,A="";for(g=0;g>=-130;g-=5)m=void 0,f=void 0,b=g*Math.PI/180,m=(v=T*Math.sin(b))*e,f=T*Math.cos(b),f+=C[1],A+=", ".concat(m+=C[0],"% ").concat(f,"%");var I,O=[(70-(0-(I=100/i)*(100-i)))/I,70],P=[100-w*e,100],R=[(O[0]+P[0])/2,(O[1]+P[1])/2],_=[O[0]-R[0],O[1]-R[1]],N=[P[0]-R[0],P[1]-R[1]],F=Math.sqrt(Math.pow(_[0]-N[0],2)+Math.pow(_[1]-N[1],2))/2,L="";for(g=100;g>=-5;g-=5)m=void 0,f=void 0,b=g*Math.PI/180,m=(v=F*Math.sin(b))*e,f=F*Math.cos(b),f+=R[1],L+="".concat(m+=R[0],"% ").concat(f,"%, ");a="".concat(k[0],"% ").concat(k[1],"%, ").concat(i,"% 0%, ").concat(100-i,"% 0%, ").concat(O[0],"% ").concat(O[1],"%"),c="".concat(L," ").concat(P[0],"% ").concat(P[1],"%, ").concat(x[0],"% ").concat(x[1],"% ").concat(A)}return"polygon(".concat(a,", ").concat(c,")")},t.prototype.calculateStyles=function(e){var t=this,o=e.reduce((function(e,t){return e+t.value}),0),n=0,r=0;return e.map((function(i,s){var a=(n+=i.value)/o,c=Math.sqrt(a),l=c-r;t.equalArea||(l=Math.sqrt(3)/2/e.length,c=r+1/e.length);var u=t.trapezoidPath(l,100*r,100*c,0==s,s==e.length-1);return r=c,{clipPath:u,WebkitClipPath:u,height:100*l+"%",width:"100%"}}))},t.prototype.setTempLevel=function(e){this.state.tempLevel!=e&&this.setState({tempLevel:e})},t.prototype.setIsHover=function(e){this.state.isHover!=e&&this.setState({isHover:e})},t.prototype.setNewLevel=function(e){this.props.editMode&&this.props.onLevelChange&&this.props.onLevelChange(e),this.props.editMode&&G(document).trigger("SkillPyramidSmallChanges")},t.prototype.render=function(){var e,t,o,n,i,a,c,l=this,u=this.props.editMode;this.props.isEmptyPyramid&&(u=!1);var p=this.state,d=p.pyramidSpecificData,h=p.styles,m=p.isHover,f=u?(null===(e=this.state)||void 0===e?void 0:e.tempLevel)||(null===(t=this.props)||void 0===t?void 0:t.currentLevel)||0:(null===(o=this.props)||void 0===o?void 0:o.currentLevel)||0,g=d&&d.length?null===(i=null===(n=d[(null==d?void 0:d.length)-f])||void 0===n?void 0:n.styleSelected)||void 0===i?void 0:i.backgroundColor:null,b=this.props.skillData&&this.props.skillData.length?null===(a=this.props.skillData[(null==d?void 0:d.length)-f])||void 0===a?void 0:a.title:null,v=this.props.skillData&&this.props.skillData.length?null===(c=this.props.skillData[(null==d?void 0:d.length)-f])||void 0===c?void 0:c.fullTitle:null,y=f<(null==d?void 0:d.length)?f*this.width*.866/(null==d?void 0:d.length):f*this.width*.866/(null==d?void 0:d.length)-9;y<130&&(y="100%");var w=s()({"pyramid-information-container":!0,"pyramid-information-container__edit-mode":m});return r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement("div",{className:"skill-pyramid-wrapper"},r.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxSizing:"border-box"},className:"pyramid-chart-container",onMouseEnter:function(){l.setIsHover(!0)},onMouseLeave:function(){l.setIsHover(!1)}},h&&h.length&&d&&d.map((function(e,t){var o=d.length-t,n=o<=f?e.styleSelected:e.styleNotSelected;return r.createElement("div",{key:t,style:X(X({},l.props.skillData[t]&&n),h[t]),className:"pyramid-chart-slice ".concat(u&&"pyramid-chart-slice__edit-mode"),onMouseEnter:function(){l.setTempLevel(o)},onMouseLeave:function(){var e;l.setTempLevel((null===(e=l.props)||void 0===e?void 0:e.currentLevel)||0)},onClick:function(){l.setNewLevel(o)}})}))),u&&!m&&r.createElement("div",{className:w},d&&d.map((function(e,t){var o,n,i,s=d.length-t,a=(s-1)*l.width/(null==d?void 0:d.length)/2,c="black";return l.props.skillData[t]&&(i=s<=f?null===(o=e.styleSelected)||void 0===o?void 0:o.backgroundColor:null===(n=e.styleNotSelected)||void 0===n?void 0:n.backgroundColor,c=s<=f?"black":"#cccfdd"),r.createElement("div",{key:t,onClick:function(){l.setNewLevel(s)},style:{transform:"translateX(calc(-".concat(a,"px))")},className:"pyramid-information-container--element"},r.createElement("div",{style:{color:i},className:"pyramid-information-container--element-title"},"level ",s),r.createElement("div",{style:{color:c},className:"pyramid-information-container--element-description"},l.props.skillData[t].title))}))),(u&&m||!u)&&!this.props.isEmptyPyramid&&r.createElement("div",{style:{height:.866*this.width},className:"pyramid-information-edit-mode-info"},r.createElement("div",{style:{height:f<(null==d?void 0:d.length)?f*this.width*.866/(null==d?void 0:d.length):f*this.width*.866/(null==d?void 0:d.length)-9},className:"pyramid-information-edit-mode-info--selection"},r.createElement("div",{className:"pyramid-information-edit-mode-info--selection-border"}),r.createElement("div",{className:"pyramid-information-edit-mode-info--selection-point"}),r.createElement("div",{className:"pyramid-information-edit-mode-info--selection-inner"})),r.createElement("div",{className:"pyramid-information-edit-mode-info--level-info"},!u&&!this.props.isEmptyPyramid&&this.props.username&&r.createElement("div",{className:"pyramid-information-user-skill-label"},this.props.username,"'s skill level"),r.createElement("div",{style:{height:y},className:"pyramid-information-edit-mode-info--level-info-inner-container"},u&&r.createElement("div",{style:{color:g},className:"pyramid-information-container--element-level"},"level ",f),!u&&r.createElement("div",{className:"pyramid-information-container--element-level__alt"},r.createElement("span",{style:{color:g}},"level ",f)," | ",r.createElement("span",{className:"pyramid-information-user-skill-label--title"},b)),r.createElement("div",null,u&&r.createElement("div",{className:"pyramid-information-container--element-title"},b),r.createElement("div",{className:"pyramid-information-container--element-subtitle"},v)))))))},t}(r.Component),ue=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return ue(t,e),t.prototype.changeSkillLevel=function(e){e!=this.props.currentSkillLevel&&null!=e&&this.props.editMode&&this.props.updateSkillLevel&&this.props.updateSkillLevel(e)},t.prototype.render=function(){var e=this;return r.createElement(r.Fragment,null,r.createElement(le,{currentLevel:this.props.currentSkillLevel,skillData:this.props.skillData,onLevelChange:function(t){return e.changeSkillLevel(t)},username:this.props.defaultUsername||this.props.username,editMode:this.props.editMode,isEmptyPyramid:this.props.isEmptyPyramid}),this.props.currentSkillDomain&&r.createElement("div",{style:{fontSize:"20px",fontWeight:"bold",width:"340px",textAlign:"center"}},this.props.currentSkillDomain))},t}(r.Component),de=o(49320),he={};he.styleTagTransform=M(),he.setAttributes=_(),he.insert=P().bind(null,"head"),he.domAPI=I(),he.insertStyleElement=F(),T()(de.Z,he),de.Z&&de.Z.locals&&de.Z.locals;var me,fe=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();!function(e){e[e.None=0]="None",e[e.Close=1]="Close",e[e.Add=2]="Add"}(me||(me={}));var ge=function(e){function t(t){var o=e.call(this,t)||this;return o.handleClose=o.handleClose.bind(o),o.handleClick=o.handleClick.bind(o),o.state={isClosing:!1},o}return fe(t,e),t.prototype.render=function(){var e=s()("tag-root",{"dissapear-left":this.state.isClosing,deemphasized:this.props.isDeemphasized,clickable:null!=this.props.onClick});return this.props.onClick?r.createElement("button",{className:e,onClick:this.handleClick},this.renderContent()):r.createElement("div",{className:e,onClick:this.handleClick},this.renderContent())},t.prototype.renderContent=function(){return r.createElement(r.Fragment,null,r.createElement("span",{className:"tag-root-label"},this.props.tag.name),this.props.icon!=me.None?r.createElement("span",{className:"tag-separator"}," "):null,this.props.icon==me.Close&&r.createElement("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:this.handleClose},r.createElement("path",{d:"M11.5988 11.6001L0.398834 0.400146M0.398834 11.6001L11.5988 0.400146L0.398834 11.6001Z",stroke:"#BDBDBD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),this.props.icon==me.Add&&r.createElement("i",{className:"fa fa-plus"}))},t.prototype.handleClose=function(e){var t=this;this.state.isClosing||(this.setState({isClosing:!0}),this.props.onHasActionStarted&&this.props.onHasActionStarted(),this.props.onHasActionEnded&&setTimeout((function(){t.props.onHasActionEnded&&t.props.onHasActionEnded(t.props.tag)}),250))},t.prototype.handleClick=function(){this.props.onClick&&this.props.onClick(this.props.tag)},t}(r.Component),be=o(71279),ve={};ve.styleTagTransform=M(),ve.setAttributes=_(),ve.insert=P().bind(null,"head"),ve.domAPI=I(),ve.insertStyleElement=F(),T()(be.Z,ve),be.Z&&be.Z.locals&&be.Z.locals;var ye,we,ke=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xe=function(){return xe=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},xe.apply(this,arguments)},Ce=function(e){function t(t){var o=e.call(this,t)||this;return o.handleTagClosed=o.handleTagClosed.bind(o),o.handleSearchInputChange=o.handleSearchInputChange.bind(o),o.handleAddTagClick=o.handleAddTagClick.bind(o),o.handleSuggestedTagsContainerRef=o.handleSuggestedTagsContainerRef.bind(o),o.handleStateUpdate=o.handleStateUpdate.bind(o),o.handleOutsideClick=o.handleOutsideClick.bind(o),o.handleRootRef=o.handleRootRef.bind(o),o.state={searchBoxState:{query:"",suggestedTags:[]}},o}return ke(t,e),t.prototype.render=function(){var e=this,t=this.props.store.isEditDisabled(),o=this.props.store.getUserTags();return r.createElement("div",{className:"tag-editor-root",ref:this.handleRootRef},null!=o&&o.map((function(o){return r.createElement(ge,{key:o.id,tag:o,icon:t?me.None:me.Close,onHasActionEnded:t?null:e.handleTagClosed})})),this.renderEmptyMessage(o),t?null:r.createElement("div",{className:s()("search-box-wrapper")},r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3257 12.8992L19.7057 18.2792C19.8948 18.4685 20.001 18.7251 20.0009 18.9926C20.0008 19.2601 19.8945 19.5166 19.7052 19.7057C19.516 19.8948 19.2594 20.001 18.9919 20.0009C18.7244 20.0008 18.4678 19.8945 18.2787 19.7052L12.8987 14.3252C11.2905 15.5709 9.26802 16.1571 7.24287 15.9646C5.21772 15.7721 3.34198 14.8153 1.99723 13.2888C0.652477 11.7624 -0.0602651 9.78105 0.00399633 7.74778C0.0682577 5.71451 0.904695 3.78209 2.34315 2.34364C3.7816 0.905183 5.71402 0.068746 7.74729 0.00448461C9.78056 -0.0597768 11.7619 0.652965 13.2884 1.99771C14.8148 3.34246 15.7716 5.21821 15.9641 7.24336C16.1566 9.26851 15.5704 11.2909 14.3247 12.8992H14.3257ZM8.00074 14.0002C9.59204 14.0002 11.1182 13.3681 12.2434 12.2429C13.3686 11.1177 14.0007 9.59153 14.0007 8.00023C14.0007 6.40893 13.3686 4.88281 12.2434 3.75759C11.1182 2.63237 9.59204 2.00023 8.00074 2.00023C6.40944 2.00023 4.88332 2.63237 3.7581 3.75759C2.63289 4.88281 2.00074 6.40893 2.00074 8.00023C2.00074 9.59153 2.63289 11.1177 3.7581 12.2429C4.88332 13.3681 6.40944 14.0002 8.00074 14.0002Z",fill:"#737373"})),r.createElement("input",{className:"search-box",type:"text",value:this.state.searchBoxState.query,placeholder:"search",onChange:this.handleSearchInputChange})),!t&&this.state.searchBoxState.suggestedTags.length>0&&r.createElement("div",{className:s()("suggested-tags-container"),ref:this.handleSuggestedTagsContainerRef},this.state.searchBoxState.suggestedTags.map((function(t){return r.createElement(ge,{tag:t,icon:me.Add,key:t.id,isDeemphasized:!0,onClick:e.handleAddTagClick})}))))},t.prototype.renderEmptyMessage=function(e){return null==e||e.length>0?null:this.props.store.isEditDisabled()?r.createElement("div",{className:"tag-editor-text-label"},"this user isn't following any topics yet "):r.createElement("div",{className:"tag-editor-text-label"},"find a topic")},t.prototype.componentDidMount=function(){this.hasBeenMounted=!0,this.props.store.onTagsChange(this.handleStateUpdate),document.addEventListener("click",this.handleOutsideClick)},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1,this.props.store.offTagsChange(this.handleStateUpdate),document.removeEventListener("click",this.handleOutsideClick)},t.prototype.handleRootRef=function(e){this.root=e},t.prototype.handleOutsideClick=function(e){var t=e.target;null!=this.root&&(null==this.searchInputRef||this.searchInputRef.contains(t)||null==this.suggestedTagsContainerRef||this.suggestedTagsContainerRef.contains(t)||this.setState({searchBoxState:xe(xe({},this.state.searchBoxState),{suggestedTags:[]})}))},t.prototype.handleStateUpdate=function(){this.hasBeenMounted&&this.forceUpdate()},t.prototype.componentDidUpdate=function(){this.updateSuggestedTagsContainerPosition()},t.prototype.handleSuggestedTagsContainerRef=function(e){this.suggestedTagsContainerRef=e,this.updateSuggestedTagsContainerPosition()},t.prototype.updateSuggestedTagsContainerPosition=function(){if(null!=this.suggestedTagsContainerRef){var e=this.suggestedTagsContainerRef.previousElementSibling;null!=e&&(this.suggestedTagsContainerRef.style.top="".concat(e.offsetTop+e.offsetHeight+10,"px"))}},t.prototype.handleSearchInputChange=function(e){this.setState({searchBoxState:{query:e.target.value,suggestedTags:this.getSuggestedTags(e.target.value)}})},t.prototype.handleTagClosed=function(e){this.props.store.unfollowTag(e)},t.prototype.handleAddTagClick=function(e){this.props.store.followTag(e),this.setState({searchBoxState:xe(xe({},this.state.searchBoxState),{suggestedTags:this.getSuggestedTags(this.state.searchBoxState.query,this.props.store.getUserTags())})}),this.searchInputRef&&this.searchInputRef.focus()},t.prototype.getSuggestedTags=function(e,t){if(void 0===t&&(t=null),!e)return[];var o=t||this.props.store.getUserTags();return this.props.store.getAllTags().filter((function(t){return null==o.find((function(e){return t.id==e.id}))&&0==t.name.toLowerCase().indexOf(e.toLowerCase())}))},t}(r.Component),Ee=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Se=function(){return Se=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Se.apply(this,arguments)},Te=[{value:"share",label:"Share",icon:"fa-globe"},{value:"private",label:"Private",icon:"fa-lock-alt"}],Ae=q.F.Option,Ie=function(e){return r.createElement(Ae,Se({},e),e.data.label,"  ",r.createElement("i",{className:s()("fa",e.data.icon)}))},Oe=function(e){for(var t=e.children,o=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o}(e,["children"]),n={},i=0,a=Te;i<a.length;i++){var c=a[i];t==c.label&&(n[c.icon]=!0)}return r.createElement(q.F.SingleValue,Se({},o),t,"  ",r.createElement("i",{className:s()("fa",n)}))},Pe=(function(e){function t(t){var o=e.call(this,t)||this;return o.handleRef=o.handleRef.bind(o),o.handleFirstNameChange=o.handleFirstNameChange.bind(o),o.handleLastNameChange=o.handleLastNameChange.bind(o),o.handleDisplayNameChange=o.handleDisplayNameChange.bind(o),o.handleLocationTextChange=o.handleLocationTextChange.bind(o),o.handleEmailChange=o.handleEmailChange.bind(o),o.handleTitleChange=o.handleTitleChange.bind(o),o.handleOrganizationChange=o.handleOrganizationChange.bind(o),o.handleUserInfoChange=o.handleUserInfoChange.bind(o),o.handleStateChange=o.handleStateChange.bind(o),o.handleAvatarChange=o.handleAvatarChange.bind(o),o.handleAddImageConfirmed=o.handleAddImageConfirmed.bind(o),o.handleAddImageClosed=o.handleAddImageClosed.bind(o),o.handleProfilePrivacyChange=o.handleProfilePrivacyChange.bind(o),o.handleRecievePostResponseEmailsChange=o.handleRecievePostResponseEmailsChange.bind(o),o.handleFindLocationClick=o.handleFindLocationClick.bind(o),o.handleSkillClick=o.handleSkillClick.bind(o),o.handleSubmit=o.handleSubmit.bind(o),o.uploadImage=o.uploadImage.bind(o),o.handleGeoLocationPicked=o.handleGeoLocationPicked.bind(o),o.handleParticipateInChatChange=o.handleParticipateInChatChange.bind(o),o}Ee(t,e),t.prototype.render=function(){var e=this.props.store.state,t=e.isPublicProfile?Te[0]:Te[1];return r.createElement("form",{className:"user-profile-root",onSubmit:this.handleSubmit,ref:this.handleRef},this.props.store.isBetaProfile?r.createElement("div",{className:"_beta-message"},"please complete your profile to enjoy the full range of social features and personalization."):null,r.createElement("fieldset",{disabled:e.isSyncing||e.isEditDisabled},r.createElement("div",{className:"user-profile-personal-info-section"},r.createElement("div",{className:"user-profile-personal-info-container"},r.createElement("div",{className:"_two-columns"},r.createElement("label",null,"first name",r.createElement("input",{type:"text",value:e.firstName,onChange:this.handleFirstNameChange,disabled:!1})),r.createElement("label",null,"last name",r.createElement("input",{type:"text",value:e.lastName,onChange:this.handleLastNameChange,disabled:!1}))),r.createElement("div",{className:"_two-columns"},r.createElement("label",null,"display name",r.createElement("input",{type:"text",value:e.displayName,onChange:this.handleDisplayNameChange})),r.createElement("label",{className:s()("_organization-label user-profile-title-label")},r.createElement("span",{className:s()({"error-emphasized":e.shouldEmphasiseOrganization})},"organization ",this.props.store.isOrganizationMandatory?"(*)":""),r.createElement("input",{type:"text",value:e.organization,onChange:this.handleOrganizationChange}))),r.createElement("div",{className:"_email-container"},r.createElement("label",null,"e-mail",r.createElement("input",{type:"email",value:e.email,onChange:this.handleEmailChange,disabled:!0}))),r.createElement("div",null,r.createElement("label",{className:s()("_title-label user-profile-title-label")},r.createElement("span",{className:s()({"error-emphasized":e.shouldEmphasiseTitle})},"role ",this.props.store.isTitleMandatory?"(*)":""),r.createElement("input",{type:"text",value:e.title,onChange:this.handleTitleChange,placeholder:"the role you perform at your organization"}))),r.createElement("div",null,r.createElement("label",null,e.isEditDisabled?"about":"tell others about yourself",r.createElement("textarea",{rows:4,placeholder:"a few words to introduce yourself to the community",value:e.userInfo,onChange:this.handleUserInfoChange}))),r.createElement("div",null,r.createElement("label",{className:"user-profile-location-label"},"location",r.createElement("input",{type:"text",value:e.locationText,onChange:this.handleLocationTextChange}),e.isEditDisabled?null:r.createElement("button",{type:"button",className:"user-profile-find-button",onClick:this.handleFindLocationClick},"find"))),r.createElement("div",null,r.createElement(B,{location:e.location,locationText:e.locationText,onValuesUpdated:e.isEditDisabled?null:this.handleGeoLocationPicked}))),r.createElement("div",{className:"user-profile-privacy-info-container"},r.createElement("div",{className:"user-profile-user-picture-container"},r.createElement(y.Z,{size:y.D.Large,user:e.user,useDefaultColor:!0,onChangeAvatar:e.isEditDisabled?null:this.handleAvatarChange,isCurrentUser:!e.isEditDisabled}),r.createElement("div",{className:"user-profile-name-change-photo-container"},r.createElement("div",{className:"user-profile-name-container"},e.firstName?e.firstName+" ":"",e.lastName,!e.firstName&&!e.lastName&&r.createElement(r.Fragment,null," ")),e.isEditDisabled?null:r.createElement("button",{type:"button",onClick:this.handleAvatarChange},"change photo"))),e.isEditDisabled?null:r.createElement("div",{className:"user-profile-privacy-container"},r.createElement("div",{className:"user-profile-privacy-label"},"Profile privacy *"),r.createElement(z.ZP,{value:t,components:{Option:Ie,SingleValue:Oe},onChange:this.handleProfilePrivacyChange,options:Te,isSearchable:!1}),r.createElement("div",{className:"user-profile-privacy-info-label"},"* Share your interests and rough location with others."),r.createElement("div",{className:"user-profile-checkbox-containers"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:e.recievePostResponseEmails,onChange:this.handleRecievePostResponseEmailsChange}),r.createElement("div",null,"Receive emails when someone responds to your post")),r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:e.willParticipateInChat,onChange:this.handleParticipateInChatChange}),r.createElement("div",null,"Participate in chat.")))))),r.createElement("div",{className:"user-profile-section skill-level-section"},r.createElement("div",null,r.createElement("div",{className:s()("user-profile-title-label",{"error-emphasized":e.shouldEmphasiseSkillLevel})},"skill level ",e.isEditDisabled?null:r.createElement(r.Fragment,null,"(*)")),e.isEditDisabled?null:r.createElement("div",{className:"user-profile-subtitle-label"},"Choose the option that best describes you:"),e.isEditDisabled?null:r.createElement("div",{className:"user-profile-skills-buttons"},this.renderSkillButtons()),this.renderSkillsPyramids()),e.isEditDisabled?null:r.createElement("div",{className:"user-profile-update-row"},this.renderSubmitButton())),r.createElement("div",{style:{marginBottom:"80px"}},r.createElement("div",{className:"user-profile-title-label"},"topics"),e.isEditDisabled?null:r.createElement("div",{className:"user-profile-subtitle-label"},"Choose the topics you're interested in:"),r.createElement(Ce,{store:this.props.store}))))},t.prototype.renderSubmitButton=function(){var e="update my profile",t="";return(this.props.store.isOrganizationMandatory&&!(this.props.store.state.organization||"").trim()||this.props.store.isTitleMandatory&&!(this.props.store.state.title||"").trim()||!this.props.store.areSkillsFilled())&&(e=this.props.store.isBetaProfile?r.createElement(r.Fragment,null,"complete all fields to ",r.createElement("br",null),"join the BETA program"):"please complete all fields",t="_dimmed"),r.createElement("button",{className:t,type:"submit"},e)},t.prototype.renderSkillButtons=function(){var e=this.props.store.state;if(null==e.skillDomains||0==e.skillDomains.length)return null;var t=e.skillDomains.find((function(e){return"data science"==(e.domain||"").toLowerCase()})),o=e.skillDomains.find((function(e){return"software development"==(e.domain||"").toLowerCase()})),n=null!=t&&e.selectedSkillDomains.indexOf(t.id)>=0,i=null!=o&&e.selectedSkillDomains.indexOf(o.id)>=0;return r.createElement(r.Fragment,null,r.createElement("button",{type:"button",className:s()({active:n&&!i}),onClick:this.handleSkillClick},"data science"),r.createElement("button",{type:"button",className:s()({active:!n&&i}),onClick:this.handleSkillClick},"software development"),r.createElement("button",{type:"button",className:s()({active:n&&i}),onClick:this.handleSkillClick},"i'm both"))},t.prototype.componentDidMount=function(){this.hasBeenMounted=!0,this.props.store.onStateChange(this.handleStateChange)},t.prototype.componentWillUnmount=function(){this.hasBeenMounted=!1,this.props.store.offStateChange(this.handleStateChange)},t.prototype.renderSkillsPyramids=function(){var e=this,t=this.props.store.state;return null==t.skillDomains||null==t.selectedSkillDomains||0==t.selectedSkillDomains.length?null:t.selectedSkillDomains.map((function(o){var n=t.skillDomains.find((function(e){return e.id==o}));return r.createElement(pe,{username:t.displayName,defaultUsername:t.displayName,session:[],currentSkillDomain:n.domain,key:n.domain,editMode:!t.isEditDisabled,isEmptyPyramid:!1,currentSkillLevel:t.skillLevelMap[n.id]||0,skillData:e.props.store.deriveSkillData(n),updateSkillLevel:function(t){e.props.store.updateSkillLevel(n.id,t)}})}))},t.prototype.handleGeoLocationPicked=function(e,t){this.props.store.updateLocationAndLocationText(e,t)},t.prototype.handleStateChange=function(){this.hasBeenMounted&&this.forceUpdate()},t.prototype.handleFirstNameChange=function(e){this.props.store.updateFirstName(e.target.value)},t.prototype.handleLastNameChange=function(e){this.props.store.updateLastName(e.target.value)},t.prototype.handleDisplayNameChange=function(e){this.props.store.updateDisplayName(e.target.value)},t.prototype.handleEmailChange=function(e){this.props.store.updateEmail(e.target.value)},t.prototype.handleTitleChange=function(e){this.props.store.updateTitle(e.target.value)},t.prototype.handleOrganizationChange=function(e){this.props.store.updateOrganization(e.target.value)},t.prototype.handleLocationTextChange=function(e){this.props.store.updateLocationText(e.target.value)},t.prototype.handleUserInfoChange=function(e){this.props.store.updateUserInfo(e.target.value)},t.prototype.handleAvatarChange=function(){this.renderUploadImageModal(!0)},t.prototype.handleProfilePrivacyChange=function(e){this.props.store.updateProfilePrivacy("share"==e.value)},t.prototype.handleParticipateInChatChange=function(e){this.props.store.updateWillParticipateInChat(e.target.checked)},t.prototype.handleRecievePostResponseEmailsChange=function(e){this.props.store.updateRecievePostResponseEmail(e.target.checked)},t.prototype.renderUploadImageModal=function(e){v.render(r.createElement(w.Z,{isShown:e,title:"upload profile image",onAccept:this.handleAddImageConfirmed,onClose:this.handleAddImageClosed,aspectRatio:1,isRoundImagePreview:!0,forcedFileName:"image_".concat((new Date).getTime()),uploadImage:this.uploadImage}),document.getElementById("full-screen-modal"))},t.prototype.uploadImage=function(e,t,o,n){this.props.store.uploadAvatar(e,t,o,n)},t.prototype.handleFindLocationClick=function(){this.props.store.loadLocation()},t.prototype.handleSkillClick=function(e){return this.props.store.selectSkill(e.target.textContent),!1},t.prototype.handleAddImageConfirmed=function(e){this.props.store.updateProfileImage(e),this.renderUploadImageModal(!1)},t.prototype.handleAddImageClosed=function(){this.renderUploadImageModal(!1)},t.prototype.handleRef=function(e){this.root=e},t.prototype.handleSubmit=function(e){if(e.preventDefault(),!this.props.store.syncCurrentState()&&null!=this.root){var t=null;this.props.store.state.shouldEmphasiseOrganization?t=this.root.querySelector(".user-profile-personal-info-container"):this.props.store.state.shouldEmphasiseTitle?t=this.root.querySelector("._email-container"):this.props.store.state.shouldEmphasiseSkillLevel&&(t=this.root.querySelector(".skill-level-section")),null!=t&&t.scrollIntoView({behavior:"smooth",block:"start"})}return!1}}(r.Component),o(32654)),Re=o(74095),_e=new(function(){function e(){}return e.prototype.convertGeoCode=function(e){var t,o,n,r,i;if(e&&e.results&&e.results.length){var s,a=e.results[0],c=void 0,l=void 0,u=void 0;if(null!=(null===(t=null==a?void 0:a.geometry)||void 0===t?void 0:t.location)&&(c=(null===(n=null===(o=null==a?void 0:a.geometry)||void 0===o?void 0:o.location)||void 0===n?void 0:n.lng)+";"+(null===(i=null===(r=null==a?void 0:a.geometry)||void 0===r?void 0:r.location)||void 0===i?void 0:i.lat)),(null==a?void 0:a.address_components)&&(null==a?void 0:a.address_components.length)&&(s=null==a?void 0:a.address_components.find((function(e){return e.types.includes("country")})))&&s.long_name&&(u=s.long_name),(null==a?void 0:a.address_components)&&(null==a?void 0:a.address_components.length)&&(s=null==a?void 0:a.address_components.find((function(e){return e.types.includes("locality")})))&&s.long_name&&(l=s.long_name),c&&u)return{location:c,locationDescription:l?l+", "+u:u}}return{location:"",locationDescription:""}},e}()),Ne=(function(){function e(e){this.config=e,this.webUtils=new Pe.Z(this.config)}e.prototype.uploadAvatar=function(e,t,o,n){this.webUtils.post(this.webUtils.getAbsoluteBackendUrl("userProfile/uploadAvatar"),(function(e){return n(e.url)}),(function(e){return n("")}),{imageName:t,imageBase64Content:e},!0,!0)},e.prototype.loadPublicUserProfile=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("userProfile/loadPublicProfile"),(function(e){e&&e.success?o({userInfo:e.userInfo||"",displayName:e.displayName||"",isEditDisabled:!0,email:e.email||"",firstName:null!=e.firstName?e.firstName:(e.name||"").split(" ")[0]||"",lastName:null!=e.lastName?e.lastName:(e.name||"").split(" ")[1]||"",location:e.location||e.locationText,title:e.title||"",organization:e.organization||"",locationText:e.locationText||"",isPublicProfile:e.isPublicProfile||!1,recievePostResponseEmails:e.recievePostResponseEmails||!1,willParticipateInChat:!1,skillDomains:e.skillDomains||[],selectedSkillDomains:e.selectedSkillDomains||[],skillLevelMap:e.skillLevelMap||{},user:new Re.n5(e.id,"".concat(e.firstName||""," ").concat(e.lastName||""),e.avatarUrl||"")}):n()}),(function(e){return n(e)}),{userId:e})}))},e.prototype.loadCurrentProfile=function(){var e=this;return new Promise((function(t,o){e.webUtils.ajax(e.webUtils.getAbsoluteBackendUrl("userProfile/loadProfile"),(function(e){e&&e.success?t({userInfo:e.userInfo||"",displayName:e.displayName||"",email:e.email||"",firstName:null!=e.firstName?e.firstName:(e.name||"").split(" ")[0]||"",lastName:null!=e.lastName?e.lastName:(e.name||"").split(" ")[1]||"",location:e.location||e.locationText,title:e.title||"",organization:e.organization||"",locationText:e.locationText||"",isPublicProfile:e.isPublicProfile||!1,recievePostResponseEmails:e.recievePostResponseEmails||!1,willParticipateInChat:e.willParticipateInChat||!1,skillDomains:e.skillDomains||[],selectedSkillDomains:e.selectedSkillDomains||[],skillLevelMap:e.skillLevelMap||{},user:new Re.n5(e.id,"".concat(e.firstName||""," ").concat(e.lastName||""),e.avatarUrl||"")}):o()}),(function(e){return o(e)}),{})}))},e.prototype.storeCurrentProfile=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("userProfile/saveProfile"),(function(e){e&&e.success?o():(e&&e.reason&&alert(e.reason),n())}),(function(e){return n(e)}),{firstName:e.firstName,lastName:e.lastName,displayName:e.displayName,avatarUrl:e.user.avatarUrl,location:e.location,locationText:e.locationText,userInfo:e.userInfo,recievePostResponseEmails:e.recievePostResponseEmails,isPublicProfile:e.isPublicProfile,skillLevelMap:e.skillLevelMap,selectedSkillDomains:e.selectedSkillDomains,skillLevels:t.extractSkillLevelsFromSkillLevelMap(e.skillLevelMap),title:e.title,organization:e.organization,willParticipateInChat:e.willParticipateInChat},!0,!0,!0)}))},e.prototype.extractSkillLevelsFromSkillLevelMap=function(e){var t=[];if(null==e)return t;for(var o in e)t.push({id:parseInt(o),level:e[o]});return t},e.prototype.getGeoCode=function(e){var t=this;return new Promise((function(o,n){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("userProfile/geoCodeLocation"),(function(e){return o(_e.convertGeoCode(e))}),(function(e){return n(e)}),{address:e||""})}))}}(),function(){function e(e){this.provider=e}e.prototype.loadPublicUserProfile=function(e){return this.provider.loadPublicUserProfile(e)},e.prototype.loadCurrentProfile=function(){return this.provider.loadCurrentProfile()},e.prototype.storeCurrentProfile=function(e){return this.provider.storeCurrentProfile(e)},e.prototype.getGeoCode=function(e){return this.provider.getGeoCode(e)},e.prototype.uploadAvatar=function(e,t,o,n){this.provider.uploadAvatar(e,t,o,n)}}(),o(26729)),Fe=(function(){function e(e,t){this.isTitleMandatory=!1,this.isOrganizationMandatory=!1,this.isBetaProfile=!1,this.provider=e,this.tagsProvider=t,this.changeEmitter=new Ne,this.state={user:new Re.n5("1","",""),firstName:"",lastName:"",displayName:"",email:"",title:"",organization:"",location:"",locationText:"",isEditDisabled:!0,isPublicProfile:!1,recievePostResponseEmails:!1,willParticipateInChat:!1,selectedSkillDomains:null,skillDomains:null,skillLevelMap:{},userInfo:"",isSyncing:!1}}e.prototype.isEditDisabled=function(){return this.state.isEditDisabled},e.prototype.followTag=function(e){var t=this,o=this.tagsProvider.followTag(e);return o.finally((function(){return t.triggerTagsChange()})),this.triggerTagsChange(),o},e.prototype.unfollowTag=function(e){var t=this,o=this.tagsProvider.unfollowTag(e);return o.finally((function(){return t.triggerTagsChange()})),this.triggerTagsChange(),o},e.prototype.getAllTags=function(){return this.tagsProvider.allTags},e.prototype.getUserTags=function(){return this.tagsProvider.userTags},e.prototype.triggerTagsChange=function(){this.changeEmitter.emit("tags")},e.prototype.onTagsChange=function(e){this.changeEmitter.addListener("tags",e)},e.prototype.offTagsChange=function(e){this.changeEmitter.removeListener("tags",e)},e.prototype.loadPublicProfile=function(e){var t=this,o=this.provider.loadPublicUserProfile(e);return o.then((function(e){t.state=e,t.state.isEditDisabled=!0,t.triggerStateChange()})),this.tagsProvider.getAllTags(),o},e.prototype.loadInitialState=function(){var e=this,t=this.provider.loadCurrentProfile();return t.then((function(t){e.state=t,e.triggerStateChange()})),this.tagsProvider.getAllTags(),t},e.prototype.fillInForBetaParticipant=function(){this.state.isPublicProfile=!0,this.state.willParticipateInChat=!0,this.triggerStateChange()},e.prototype.setState=function(e){this.state=e,this.triggerStateChange()},e.prototype.uploadAvatar=function(e,t,o,n){this.provider.uploadAvatar(e,t,n,o)},e.prototype.syncCurrentState=function(){var e=this;return this.isOrganizationMandatory&&!(this.state.organization||"").trim()?(this.state.shouldEmphasiseOrganization=!0,this.triggerStateChange(),!1):(this.state.shouldEmphasiseOrganization=!1,this.isTitleMandatory&&!(this.state.title||"").trim()?(this.state.shouldEmphasiseTitle=!0,this.triggerStateChange(),!1):(this.state.shouldEmphasiseTitle=!1,this.areSkillsFilled()?(this.state.shouldEmphasiseSkillLevel=!1,this.state.isSyncing=!0,this.provider.storeCurrentProfile(this.state).then((function(){e.triggerStateSynced()})).finally((function(){e.state.isSyncing=!1,e.triggerStateChange()})),this.triggerStateChange(),!0):(this.state.shouldEmphasiseSkillLevel=!0,this.triggerStateChange(),!1)))},e.prototype.areSkillsFilled=function(){return null!=this.state.selectedSkillDomains&&this.state.selectedSkillDomains.length>0&&!l.Z.isEmptyObject(this.state.skillLevelMap)},e.prototype.loadLocation=function(){var e=this;this.provider.getGeoCode(this.state.locationText).then((function(t){e.state.location=t.location,e.state.locationText=t.locationDescription,e.triggerStateChange()}))},e.prototype.updateUserInfo=function(e){this.state.userInfo!=e&&(this.state.userInfo=e,this.triggerStateChange())},e.prototype.updateLocationText=function(e){this.state.locationText!=e&&(this.state.locationText=e,this.triggerStateChange())},e.prototype.updateDisplayName=function(e){this.state.displayName!=e&&(this.state.displayName=e,this.triggerStateChange())},e.prototype.updateEmail=function(e){this.state.email!=e&&(this.state.email=e,this.triggerStateChange())},e.prototype.updateTitle=function(e){this.state.title!=e&&(this.state.title=e,this.triggerStateChange())},e.prototype.updateOrganization=function(e){this.state.organization!=e&&(this.state.organization=e,this.triggerStateChange())},e.prototype.updateLastName=function(e){this.state.lastName!=e&&(this.state.lastName=e,this.state.user.name="".concat(this.state.firstName?"".concat(this.state.firstName," "):"").concat(this.state.lastName||""),this.triggerStateChange())},e.prototype.updateLocationAndLocationText=function(e,t){this.state.location=e,this.state.locationText=t,this.triggerStateChange()},e.prototype.updateFirstName=function(e){this.state.firstName!=e&&(this.state.firstName=e,this.state.user.name="".concat(this.state.firstName?"".concat(this.state.firstName," "):"").concat(this.state.lastName||""),this.triggerStateChange())},e.prototype.updateProfileImage=function(e){this.state.user.avatarUrl!=e&&(this.state.user=Re.n5.createCopy(this.state.user),this.state.user.avatarUrl=e,this.triggerStateChange())},e.prototype.updateProfilePrivacy=function(e){this.state.isPublicProfile=e,this.triggerStateChange()},e.prototype.updateRecievePostResponseEmail=function(e){this.state.recievePostResponseEmails!=e&&(this.state.recievePostResponseEmails=e,this.triggerStateChange())},e.prototype.updateWillParticipateInChat=function(e){this.state.willParticipateInChat!=e&&(this.state.willParticipateInChat=e,this.triggerStateChange())},e.prototype.deriveSkillData=function(e){return null==e?[]:[{title:e.level1Title||"",fullTitle:(null==e?void 0:e.level1FullTitle)||""},{title:e.level2Title||"",fullTitle:(null==e?void 0:e.level2FullTitle)||""},{title:e.level3Title||"",fullTitle:(null==e?void 0:e.level3FullTitle)||""},{title:e.level4Title||"",fullTitle:(null==e?void 0:e.level4FullTitle)||""},{title:e.level5Title||"",fullTitle:(null==e?void 0:e.level5FullTitle)||""},{title:e.level6Title||"",fullTitle:e.level6FullTitle||""}]},e.prototype.selectSkill=function(e){this.state.selectedSkillDomains="data science"==e?this.state.skillDomains.filter((function(e){return"Data science"==e.domain})).map((function(e){return e.id})):"software development"==e?this.state.skillDomains.filter((function(e){return"Software Development"==e.domain})).map((function(e){return e.id})):this.state.skillDomains.filter((function(e){return"Software Development"==e.domain||"Data science"==e.domain})).map((function(e){return e.id})),this.triggerStateChange()},e.prototype.updateSkillLevel=function(e,t){this.state.skillLevelMap[e]!=t&&(this.state.skillLevelMap[e]=t,this.triggerStateChange())},e.prototype.onStateChange=function(e){this.changeEmitter.addListener("user-profile",e)},e.prototype.offStateChange=function(e){this.changeEmitter.removeListener("user-profile",e)},e.prototype.triggerStateChange=function(){this.changeEmitter.emit("user-profile")},e.prototype.onStateSynced=function(e){this.changeEmitter.addListener("user-profile-saved",e)},e.prototype.offStateSynced=function(e){this.changeEmitter.removeListener("user-profile-saved",e)},e.prototype.triggerStateSynced=function(){this.changeEmitter.emit("user-profile-saved")}}(),function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}());!function(e){e[e.Rating=0]="Rating",e[e.Tags=1]="Tags",e[e.HidePriceAndDateShowTags=2]="HidePriceAndDateShowTags"}(ye||(ye={})),function(e){e[e.Table=0]="Table",e[e.VerticalList=1]="VerticalList"}(we||(we={}));var Le=function(e){function t(t){var o=e.call(this,t)||this;return o.onClick=o.onClick.bind(o),o}return Fe(t,e),t.prototype.render=function(){var e,t,o,n,i,h,m,b,v,y,w,k,x,C=this,E=this.props.product.title,S=E.length>40?a.Z.getShortTitleAndEdition(E):{edition:"",shortTitle:E},T=S.edition,A=S.shortTitle;this.props.product.preTitle&&!(null===(e=this.props.product.liveProjects)||void 0===e?void 0:e.length)&&(A=this.props.product.preTitle+": "+A);var I=this.props.product.price,O=this.props.product.priceWithoutDiscount,P=c.u.userOwnsProduct(this.props.product.id),R=this.props.additionalInfoType==ye.Tags||this.props.additionalInfoType==ye.HidePriceAndDateShowTags,_=P&&(null===(t=this.props.product.liveProjects)||void 0===t?void 0:t.length);return r.createElement("div",{className:s()("product-root",{"two-line-title":this.props.product.isTwoLineTitle}),key:E},r.createElement("a",{href:this.props.product.link,className:s()("product-cover",{"wide-cover":this.props.product.isWideCover}),onClick:this.onClick,target:this.props.product.isExternalProduct?"_blank":"_self"},r.createElement(d.Z,{placeholderImage:this.props.coverPlaceholder,imageDisplayType:u.R.Image,fullImage:this.props.product.coverPath,className:s()("book-cover",{"wide-cover":this.props.product.isWideCover}),height:this.props.product.isWideCover?104:130,width:this.props.product.isWideCover?185:105,alt:this.getAltText(),placeholderOnlyOnFail:!!this.props.product.coverPath,isLiveaudio:this.props.product.isLiveaudio}),T&&r.createElement("div",{className:"product-edition"},T)),r.createElement("div",{className:"product-details"},_?r.createElement("span",{className:"product-title",title:E,dangerouslySetInnerHTML:{__html:this.emphasizeWordInTitle(A,this.props.emphasizedWord)}}):r.createElement("a",{className:"product-title",title:E,dangerouslySetInnerHTML:{__html:this.emphasizeWordInTitle(A,this.props.emphasizedWord)},href:this.props.product.link,onClick:this.onClick,target:this.props.product.isExternalProduct?"_blank":"_self"}),(null===(n=null===(o=this.props.product)||void 0===o?void 0:o.liveProjects)||void 0===n?void 0:n.length)?r.createElement(r.Fragment,null,r.createElement("div",{className:"product-description product-description-3lines"},r.createElement("span",{onClick:this.onClick},r.createElement("b",null,null===(v=null===(b=this.props.product)||void 0===b?void 0:b.liveProjects)||void 0===v?void 0:v.length," projects included:")," ",null===(k=null===(w=null===(y=this.props.product)||void 0===y?void 0:y.liveProjects)||void 0===w?void 0:w.sort((function(e,t){return e.preTitle>t.preTitle?1:-1})))||void 0===k?void 0:k.map((function(e,t){var o,n;return r.createElement(r.Fragment,null,_?r.createElement("a",{className:"product-description-lp-link",href:C.getLpLink(e.id)},"".concat(e.title)):r.createElement("span",null,"".concat(e.title)),t<(null===(n=null===(o=C.props.product)||void 0===o?void 0:o.liveProjects)||void 0===n?void 0:n.length)-1&&r.createElement("span",null," • "))}))))):r.createElement(r.Fragment,null,(null==this.props.catalogDisplayMainInfo||this.props.catalogDisplayMainInfo===g.Mw.description||this.props.catalogDisplayMainInfo===g.Mw.skillsLearned&&!(null===(i=this.props.product)||void 0===i?void 0:i.skillsLearned))&&r.createElement("a",{className:"product-description",dangerouslySetInnerHTML:{__html:this.props.product.description},href:this.props.product.link,onClick:this.onClick,target:this.props.product.isExternalProduct?"_blank":"_self"}),this.props.catalogDisplayMainInfo===g.Mw.skillsLearned&&null!=(null===(h=this.props.product)||void 0===h?void 0:h.skillsLearned)&&r.createElement("a",{className:"product-description",dangerouslySetInnerHTML:{__html:"<b>skills learned:</b>&nbsp;".concat(null===(m=this.props.product)||void 0===m?void 0:m.skillsLearned)},href:this.props.product.link,onClick:this.onClick,target:this.props.product.isExternalProduct?"_blank":"_self"})),r.createElement("div",{className:"product-meta-info"},this.props.additionalInfoType!=ye.HidePriceAndDateShowTags?r.createElement("div",{className:"product-price-ownership-info-container"},!P&&I>0&&!this.props.product.isFreeProduct?r.createElement("span",{className:"product-price"},O>I?r.createElement("span",{className:"product-original-price"},"$",l.Z.formatMoney(O)):null,"$",l.Z.formatMoney(I),this.props.catalogPriceInfo===g.xx.priceAndDate&&r.createElement(r.Fragment,null,",")):this.props.product.isFreeProduct?r.createElement("span",{className:"product-free-label"},"free"):null,P&&!this.props.product.isFreeProduct&&r.createElement("span",{className:"product-ownership-label"},r.createElement("span",{className:"product-ownership-label-text"},"you own this ",this.props.product.productType),r.createElement("i",{title:"you own this product",className:"product-ownership-label-icon fa fa-check"})),this.props.catalogPriceInfo===g.xx.priceAndDate&&r.createElement(r.Fragment,null," ",r.createElement("span",{className:"product-date"},this.props.product.date))):null,this.props.catalogDisplayAdditionalInfo==g.TV.tags&&r.createElement("div",{className:"product-rating-tags-container"},this.props.additionalInfoType==ye.Rating&&this.props.product.rating>0&&r.createElement(p.i,{rating:this.props.product.rating}),R&&r.createElement(f,{tags:this.props.product.tags})),r.createElement("div",{className:"product-rating-tags-container"},this.props.catalogDisplayAdditionalInfo==g.TV.durationAndSkill&&r.createElement("div",null,null!=this.props.product.durationInWeeks&&r.createElement(r.Fragment,null,this.props.product.durationInWeeks," weeks • "),null!=this.props.product.hoursPerWeek&&r.createElement(r.Fragment,null,this.props.product.hoursPerWeek," hours per week • "),null===(x=this.props.product.difficulty)||void 0===x?void 0:x.toLowerCase()),this.props.isCertificateFullyReleased&&this.props.product.certifiable&&r.createElement("img",{className:"product-certificate-badge",src:"https://lp-prod-resources.s3-us-west-2.amazonaws.com/other/images/lp-certificate-badge-xs.svg",alt:"Certificate of Completion"})))))},t.prototype.getLpLink=function(e){var t="https://liveproject.manning.com/project";switch(c.u.deploymentType){case b.mO.qa:t="https://liveproject-qa.manning.com/project";break;case b.mO.prod:t="https://liveproject.manning.com/project"}return"".concat(t,"/").concat(e)},t.prototype.getAltText=function(){return-1==this.props.product.title.indexOf("<")?this.props.product.title:""},t.prototype.emphasizeWordInTitle=function(e,t){if(!this.props.emphasizedWord)return e;e=e||"";try{return 1==t.length?e.replace(new RegExp("\\b".concat(this.props.emphasizedWord,"\\b"),"i"),(function(e){return"<strong>".concat(e,"</strong>")})):e.replace(new RegExp(t,"i"),(function(e){return"<strong>".concat(e,"</strong>")}))}catch(t){return e}},t.prototype.onClick=function(){if(this.props.onProductSelected)return this.props.onProductSelected(this.props.product)},t}(r.Component)},59159:(e,t,o)=>{"use strict";o.d(t,{n:()=>S});var n=o(94184),r=o.n(n),i=o(67294),s=o(11358),a=o.n(s),c=o(38797),l=o(93379),u=o.n(l),p=o(7795),d=o.n(p),h=o(90569),m=o.n(h),f=o(3565),g=o.n(f),b=o(19216),v=o.n(b),y=o(44589),w=o.n(y),k=o(881),x={};x.styleTagTransform=w(),x.setAttributes=g(),x.insert=m().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=v(),u()(k.Z,x),k.Z&&k.Z.locals&&k.Z.locals;var C,E=(C=function(e,t){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},C(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),S=function(e){function t(t){var o=e.call(this,t)||this;return o.handlePageChange=o.handlePageChange.bind(o),o.state={currentPage:0},o}return E(t,e),t.prototype.render=function(){var e=this,t=this.props.products;if(null==t)return null;var o=t;return this.props.pageSize&&!this.props.isFilteredView&&(o=t.slice(this.state.currentPage*this.props.pageSize,this.state.currentPage*this.props.pageSize+this.props.pageSize)),i.createElement("div",{className:r()("product-collection-root",{"vertical-list":this.props.orientation==c.wt.VerticalList})},i.createElement("div",{className:"product-collection-container",ref:function(t){return e.root=t}},i.createElement("div",{className:"product-collection-inner-container"},0==t.length&&this.props.emphasizedWord&&i.createElement("div",{className:"product-collection-message-container"},"There are no products that match the filters you've selected."),o.map((function(t,o){return i.createElement(c.xs,{key:"".concat(t.id,"-").concat(t.title),product:t,coverPlaceholder:e.props.coverPlaceholder,emphasizedWord:e.props.emphasizedWord,onProductSelected:function(t){return e.handleProductSelected(t,o)},additionalInfoType:e.props.additionalInfoType,catalogDisplayMainInfo:e.props.catalogDisplayMainInfo,catalogPriceInfo:e.props.catalogPriceInfo,catalogDisplayAdditionalInfo:e.props.catalogDisplayAdditionalInfo,isCertificateFullyReleased:e.props.isCertificateFullyReleased})})))),this.renderFooterIfNecessary())},t.prototype.handleProductSelected=function(e,t){if(null!=this.props.onProductSelected)return this.props.onProductSelected(e,"",!1,t)},t.prototype.renderFooterIfNecessary=function(){return!this.props.pageSize||this.props.products.length<=this.props.pageSize?null:i.createElement(a(),{containerClassName:"product-collection-footer",pageClassName:"product-collection-footer-item",pageCount:Math.ceil(this.props.products.length/this.props.pageSize),pageRangeDisplayed:2,marginPagesDisplayed:1,forcePage:this.state.currentPage,onPageChange:this.handlePageChange})},t.prototype.handlePageChange=function(e){this.setState({currentPage:e.selected})},t}(i.Component)},83763:(e,t,o)=>{"use strict";o.d(t,{Z:()=>C});var n=o(67294),r=o(94184),i=o.n(r),s=o(93379),a=o.n(s),c=o(7795),l=o.n(c),u=o(90569),p=o.n(u),d=o(3565),h=o.n(d),m=o(19216),f=o.n(m),g=o(44589),b=o.n(g),v=o(24122),y={};y.styleTagTransform=b(),y.setAttributes=h(),y.insert=p().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=f(),a()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;var w,k=o(49448),x=(w=function(e,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},w(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const C=function(e){function t(t){return e.call(this,t)||this}return x(t,e),t.prototype.render=function(){var e=n.createElement(k.Z,{placeholderImage:this.props.placeholderImage,imageDisplayType:this.props.imageDisplayType,fullImage:this.props.fullImage,className:this.props.className,height:this.props.height,width:this.props.width,placeholderOnlyOnFail:this.props.placeholderOnlyOnFail,alt:this.props.alt,lazy:this.props.lazy,data:this.props.data,onDragStart:this.props.onDragStart});return this.props.isLiveaudio?n.createElement("div",{className:i()("product-cover-root")},e,n.createElement("div",{className:"liveaudio-corner",dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" \n                        viewBox="0 0 1792 1792">\n                           <path d="M 1792,0 V 1792 H 0 Z" style="fill:#ffcc00" /><path style="fill:#000000"d="m 1225.7239,1040.0538 v 463.2689 q 0,11.0707 -8.0902,19.1609 -8.0902,8.0902 -19.1609,8.0902 -11.0708,0 -19.161,-8.0902 L 1037.5209,1380.6927 H 925.9617 q -11.07076,0 -19.16093,-8.0902 -8.09018,-8.0902 -8.09018,-19.161 v -163.5066 q 0,-11.0708 8.09018,-19.161 8.09017,-8.0901 19.16093,-8.0901 h 111.5592 l 141.7909,-141.791 q 8.0902,-8.0901 19.161,-8.0901 11.0707,0 19.1609,8.0901 8.0902,8.0902 8.0902,19.161 z m 163.5067,231.6344 q 0,32.3607 -18.0965,60.2505 -18.0964,27.8898 -47.9023,39.8122 -4.258,2.129 -10.645,2.129 -11.0708,0 -19.1609,-7.8773 -8.0902,-7.8773 -8.0902,-19.3738 0,-8.9418 5.1096,-15.1159 5.1096,-6.1741 12.3481,-10.645 7.2386,-4.4708 14.4772,-9.7933 7.2386,-5.3225 12.3482,-15.3288 5.1095,-10.0062 5.1095,-24.0576 0,-14.0514 -5.1095,-24.0576 -5.1096,-10.0063 -12.3482,-15.3288 -7.2386,-5.3225 -14.4772,-9.7933 -7.2385,-4.4709 -12.3481,-10.645 -5.1096,-6.1741 -5.1096,-15.1159 0,-11.4965 8.0902,-19.3738 8.0901,-7.8773 19.1609,-7.8773 6.387,0 10.645,2.129 29.8059,11.4966 47.9023,39.5993 18.0965,28.1027 18.0965,60.4634 z m 109.0044,0 q 0,65.1472 -36.1929,120.2881 -36.1929,55.1409 -95.8047,80.2631 -5.5353,2.129 -10.6449,2.129 -11.4966,0 -19.5868,-8.0902 -8.0901,-8.0902 -8.0901,-19.161 0,-16.6061 16.6061,-25.1221 23.8447,-12.3481 32.3607,-18.7351 31.5091,-22.9931 49.1797,-57.6957 17.6707,-34.7026 17.6707,-73.8761 0,-39.1735 -17.6707,-73.8761 -17.6706,-34.7025 -49.1797,-57.6957 -8.516,-6.387 -32.3607,-18.7351 -16.6061,-8.516 -16.6061,-25.1221 0,-11.0708 8.0901,-19.161 8.0902,-8.0901 19.161,-8.0901 5.5354,0 11.0707,2.1289 59.6118,25.1222 95.8047,80.2631 36.1929,55.1409 36.1929,120.2881 z m 109.0045,0 q 0,97.9337 -54.0765,179.8999 -54.0764,81.9663 -143.9199,120.7139 -5.5354,2.129 -11.0708,2.129 -11.0707,0 -19.1609,-8.0901 -8.0902,-8.0902 -8.0902,-19.161 0,-15.3287 16.6062,-25.1221 2.9806,-1.7032 9.5804,-4.4709 6.5999,-2.7677 9.5805,-4.4709 19.5867,-10.6449 34.9155,-21.7157 52.3732,-38.7477 81.7533,-96.6563 29.3801,-57.9086 29.3801,-123.0558 0,-65.1472 -29.3801,-123.0558 -29.3801,-57.9086 -81.7533,-96.6563 -15.3288,-11.0707 -34.9155,-21.7157 -2.9806,-1.7032 -9.5805,-4.4709 -6.5998,-2.7677 -9.5804,-4.4709 -16.6062,-9.7933 -16.6062,-25.12205 0,-11.07076 8.0902,-19.16093 8.0902,-8.09018 19.1609,-8.09018 5.5354,0 11.0708,2.129 89.8435,38.74766 143.9199,120.71386 54.0765,81.9662 54.0765,179.8999 z"/>\n                        </svg>'}})):e},t}(n.Component)},88738:(e,t,o)=>{"use strict";o.d(t,{i:()=>l});var n,r=o(67294),i=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.render=function(){return r.createElement("svg",{onClick:this.props.onClick,className:"star",width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M8.24141 0.934184L9.98882 5.22066L10.0706 5.42135L10.2866 5.43901L14.8384 5.81133L11.3651 8.84693L11.2055 8.98639L11.2538 9.19274L12.3126 13.7216L8.42792 11.3007L8.24141 11.1845L8.0549 11.3007L4.17023 13.7216L5.22905 9.19274L5.2773 8.98639L5.11773 8.84693L1.64442 5.81133L6.19619 5.43901L6.41219 5.42135L6.494 5.22066L8.24141 0.934184Z",stroke:"#F1C644",strokeWidth:.705298,fill:this.props.isFull?"#F1C644":"transparent"}))},t}(r.Component),a=o(65605),c=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t.prototype.render=function(){var e=this;return r.createElement("div",{className:"rating-root"},a.Z.createArrayFromItemsUpTo(5).map((function(t){return r.createElement(s,{isFull:t<e.props.rating,key:t,onClick:function(){return e.handleStarClick(t+1)}})})))},t.prototype.handleStarClick=function(e){this.props.onRatingChange&&this.props.onRatingChange(e)},t}(r.Component)},15648:(e,t,o)=>{"use strict";o.d(t,{f:()=>w});var n=o(67294),r=o(93379),i=o.n(r),s=o(7795),a=o.n(s),c=o(90569),l=o.n(c),u=o(3565),p=o.n(u),d=o(19216),h=o.n(d),m=o(44589),f=o.n(m),g=o(23945),b={};b.styleTagTransform=f(),b.setAttributes=p(),b.insert=l().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=h(),i()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals;var v,y=(v=function(e,t){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},v(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),w=function(e){function t(t){return e.call(this,t)||this}return y(t,e),t.prototype.render=function(){return n.createElement("div",{className:"side-menu-root"},n.createElement("div",{className:"side-menu-header"},n.createElement("div",{className:"side-menu-title"},this.props.title,n.createElement("i",{className:this.props.icon})),n.createElement("div",{className:"side-menu-close",onClick:this.props.onClose},n.createElement("i",{className:"fa fa-times"}))),this.props.children)},t}(n.Component)},47635:(e,t,o)=>{"use strict";o.d(t,{Z:()=>ne});var n,r=o(67294),i=o(14265),s=o(94184),a=o.n(s),c=o(46458),l=o(31293),u=o(6125),p=o(14186),d=o(65605),h=o(24149),m=o(57672),f=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const g=function(e){function t(t){var o=e.call(this,t)||this;return o.state={code:o.props.exercise?o.props.exercise.code:"",additionalCodeFragments:o.props.exercise?o.props.exercise.additionalCodeFragments:[]},o}return f(t,e),t.prototype.render=function(){var e=this,t=(this.props.exercise,{fontSize:"10px",color:"gray",paddingLeft:"8px"});return r.createElement("div",null,r.createElement("div",{style:{display:"block",paddingBottom:"5px"}},r.createElement("label",null,"Code:  ",r.createElement("span",{style:t},"Include any number of code fragments, each formatted like this: {.fragment.}"))),r.createElement("textarea",{className:"code-text-area",placeholder:"EXAMPLE:\nfunction example({.a.}, {.b.}) {\n    if(a > b) { return {.a - b.}; }\n    else { return {.b - a.}}\n    return undefined;\n}",value:this.state.code,onChange:function(t){return e.handleChange(t)}}),r.createElement("label",null,"Additional code fragments (detractors)  ",r.createElement("span",{style:t},"press enter after each detractor")),r.createElement(h,{value:this.state.additionalCodeFragments,onlyUnique:!0,placeholder:"Add decoy field",onChange:function(t){return e.handleAdditionalCodeFragmentChange(t)}}))},t.prototype.handleChange=function(e){var t,o=e.target.value,n=m.Z.parse(o);(null===(t=null==n?void 0:n.placeholderStrings)||void 0===t?void 0:t.length)&&this.hasDuplicates(null==n?void 0:n.placeholderStrings)&&alert("It is not allowed to have same fragment multiple times! The exercise might not work!");var r={code:e.target.value,additionalCodeFragments:this.state.additionalCodeFragments};this.setState(r)},t.prototype.handleAdditionalCodeFragmentChange=function(e){this.setState(d.Z.combineInNew(this.state,{additionalCodeFragments:e}))},t.prototype.hasDuplicates=function(e){return new Set(e).size!==e.length},t}(r.Component);var b=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const v=function(e){function t(t){var o=e.call(this,t)||this;return o.state={correctAnswer:o.props.exercise?o.props.exercise.correctAnswer:""},o}return b(t,e),t.prototype.render=function(){var e=this;return this.props.exercise,r.createElement("div",null,r.createElement("div",{style:{display:"block",paddingBottom:"5px"}},r.createElement("label",null,"Correct answer ",r.createElement("span",{style:{fontSize:"10px",color:"gray",paddingLeft:"8px"}},"The answer is not case sensitive"))),r.createElement("input",{type:"text",placeholder:"Correct answer",value:this.state.correctAnswer,onChange:function(t){return e.handleChange(t)}}))},t.prototype.handleChange=function(e){this.setState({correctAnswer:e.target.value})},t}(r.Component);var y=o(22498),w=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const k=function(e){function t(t){var o=e.call(this,t)||this;return o.state={answers:o.props.exercise?o.props.exercise.answers.map((function(e){return e.createCopy()})):[new u.lK("",!0)]},o}return w(t,e),t.prototype.render=function(){var e=this,t=(this.props.exercise,this.answerChanged.bind(this)),o=this.handleRemoveRequest.bind(this);return r.createElement("div",null,r.createElement("label",null,"Answers"),r.createElement("form",null,this.state.answers.map((function(e,n){return r.createElement(x,{key:n,exerciseAnswer:e,onAnswerChanged:t,removeRequested:o})}))),r.createElement(y.Z,{icon:"fa-plus-circle",onClick:function(){return e.handleNewAnswerAddition()}}))},t.prototype.answerChanged=function(e,t,o){e.text=t,e.isCorrect=o,this.setState(this.state)},t.prototype.handleNewAnswerAddition=function(){this.state.answers.push(new u.lK("")),this.setState(this.state)},t.prototype.handleRemoveRequest=function(e){var t=this.state.answers.indexOf(e);t>=0&&(this.state.answers.splice(t,1),this.setState(this.state))},t}(r.Component);var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.render=function(){var e=this.props.exerciseAnswer,t=e.isCorrect?"Correct answer":"";return r.createElement("div",{className:"row"},r.createElement("div",{className:"exercise-editor-checkbox-radio-container"},r.createElement("input",{type:"checkbox",checked:e.isCorrect,onChange:this.handleCorrectnessChange.bind(this)})),r.createElement("div",{className:"exercise-editor-larger-input-container"},r.createElement("input",{type:"text",value:e.text,placeholder:t,onChange:this.hasTextChanged.bind(this)})),r.createElement("div",{className:"exercise-editor-button-container"},r.createElement(y.Z,{icon:"fa-minus-circle",onClick:this.handleRemoveRequested.bind(this)})))},t.prototype.handleCorrectnessChange=function(e){this.props.onAnswerChanged&&this.props.onAnswerChanged(this.props.exerciseAnswer,this.props.exerciseAnswer.text,e.target.checked)},t.prototype.hasTextChanged=function(e){this.props.onAnswerChanged&&this.props.onAnswerChanged(this.props.exerciseAnswer,e.target.value,this.props.exerciseAnswer.isCorrect)},t.prototype.handleRemoveRequested=function(){this.props.removeRequested&&this.props.removeRequested(this.props.exerciseAnswer)},t}(r.Component),C=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const E=function(e){function t(t){var o=e.call(this,t)||this;return o.state={answers:o.props.exercise?o.props.exercise.answers.map((function(e){return e.createCopy()})):[new u.lK("",!0)]},o}return C(t,e),t.prototype.render=function(){var e=this,t=(this.props.exercise,this.textChanged.bind(this)),o=this.correctnessChanged.bind(this),n=this.handleRemoveRequest.bind(this);return r.createElement("div",null,r.createElement("label",null,"Answers"),r.createElement("form",null,this.state.answers.map((function(e,i){return r.createElement(S,{key:i,exerciseAnswer:e,onTextChanged:t,onCorrectnessChanged:o,removeRequested:n})}))),r.createElement(y.Z,{icon:"fa-plus-circle",onClick:function(){return e.handleNewAnswerAddition()}}))},t.prototype.correctnessChanged=function(e,t){this.state.answers.forEach((function(e){return e.isCorrect=!1})),e.isCorrect=t,this.setState(this.state)},t.prototype.textChanged=function(e,t){e.text=t,this.setState(this.state)},t.prototype.handleNewAnswerAddition=function(){this.state.answers.push(new u.lK("")),this.setState(this.state)},t.prototype.handleRemoveRequest=function(e){var t=this.state.answers.indexOf(e);t>=0&&(this.state.answers.splice(t,1),this.setState(this.state))},t}(r.Component);var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C(t,e),t.prototype.render=function(){var e=this,t=this.props.exerciseAnswer,o=t.isCorrect?"Correct answer":"";return r.createElement("div",{className:"row"},r.createElement("div",{className:"exercise-editor-checkbox-radio-container"},r.createElement("input",{name:"choose-one-editor",type:"radio",defaultChecked:t.isCorrect,value:t.text,onChange:function(t){return e.handleCorrectnessChange(t)}})),r.createElement("div",{className:"exercise-editor-larger-input-container"},r.createElement("input",{type:"text",value:t.text,placeholder:o,onChange:function(t){return e.hasTextChanged(t)}})),r.createElement("div",{className:"exercise-editor-button-container"},r.createElement(y.Z,{icon:"fa-minus-circle",onClick:function(){return e.handleRemoveRequested()}})))},t.prototype.handleCorrectnessChange=function(e){this.props.onCorrectnessChanged&&this.props.onCorrectnessChanged(this.props.exerciseAnswer,e.target.checked)},t.prototype.hasTextChanged=function(e){this.props.onTextChanged&&this.props.onTextChanged(this.props.exerciseAnswer,e.target.value)},t.prototype.handleRemoveRequested=function(){this.props.removeRequested&&this.props.removeRequested(this.props.exerciseAnswer)},t}(r.Component),T=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const A=function(e){function t(t){var o=e.call(this,t)||this;return o.state={suggestedAnswer:o.props.exercise?o.props.exercise.suggestedAnswer:""},o}return T(t,e),t.prototype.render=function(){var e=this;return this.props.exercise,r.createElement("div",null,r.createElement("label",null,r.createElement("div",{style:{display:"block",paddingBottom:"5px"}},r.createElement("label",null,"Suggested text ",r.createElement("span",{style:{fontSize:"10px",color:"gray",paddingLeft:"8px"}},'Text to show when "show answer" button is clicked'))),r.createElement("textarea",{placeholder:"Suggested answer",value:this.state.suggestedAnswer,onChange:function(t){return e.handleChange(t)}})))},t.prototype.handleChange=function(e){this.setState({suggestedAnswer:e.target.value})},t}(r.Component);var I=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const O=function(e){function t(t){var o=e.call(this,t)||this;return o.state={itemsAndDescriptions:o.props.exercise?o.props.exercise.itemsAndDescriptions.map((function(e){return e.createCopy()})):[new u.Q(null,null)],additionalDescriptions:o.props.exercise?o.props.exercise.additionalDescriptions.slice():[]},o}return I(t,e),t.prototype.render=function(){var e=this,t=(this.props.exercise,this.handleItemDescriptionChange.bind(this)),o=this.handleItemDescriptionRemoval.bind(this);return r.createElement("div",null,r.createElement("label",null,"Items"),this.state.itemsAndDescriptions.map((function(e,n){return r.createElement(P,{key:n,itemDescription:e,onChange:t,onRemove:o})})),r.createElement(y.Z,{icon:"fa-plus-circle",onClick:function(){return e.handleNewItemDescription()}}),r.createElement("hr",{style:{clear:"both"}}),r.createElement("label",null,"Additional descriptions (detractors)  ",r.createElement("span",{style:{fontSize:"10px",color:"gray",paddingLeft:"8px"}},"press enter after each detractor")),r.createElement(h,{value:this.state.additionalDescriptions,onlyUnique:!0,placeholder:"Add decoy field",onChange:function(t){return e.handleAdditionalDescriptionChange(t)}}))},t.prototype.handleItemDescriptionRemoval=function(e){var t=this.state.itemsAndDescriptions.indexOf(e);t>=0&&(this.state.itemsAndDescriptions.splice(t,1),this.setState(this.state))},t.prototype.handleItemDescriptionChange=function(e,t,o){e.item=t,e.description=o,this.setState(this.state)},t.prototype.handleNewItemDescription=function(){this.state.itemsAndDescriptions.push(new u.Q("","")),this.setState(this.state)},t.prototype.handleAdditionalDescriptionChange=function(e){this.setState(d.Z.combineInNew(this.state,{additionalDescriptions:e}))},t}(r.Component);var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t.prototype.render=function(){var e=this,t=this.props.itemDescription;return r.createElement("div",{className:"row"},r.createElement("div",{className:"exercise-editor-smaller-input-container"},r.createElement("input",{type:"text",placeholder:"Concept",value:t.item,onChange:function(t){return e.handleItemChanged(t)}})),r.createElement("div",{className:"exercise-editor-larger-input-container"},r.createElement("input",{type:"text",placeholder:"Description",value:t.description,onChange:function(t){return e.handleDescriptionChanged(t)}})),r.createElement("div",{className:"exercise-editor-button-container"},r.createElement(y.Z,{icon:"fa-minus-circle",onClick:function(){return e.handleRemoval()}})))},t.prototype.handleItemChanged=function(e){this.props.onChange&&this.props.onChange(this.props.itemDescription,e.target.value,this.props.itemDescription.description)},t.prototype.handleDescriptionChanged=function(e){this.props.onChange&&this.props.onChange(this.props.itemDescription,this.props.itemDescription.item,e.target.value)},t.prototype.handleRemoval=function(){this.props.onRemove&&this.props.onRemove(this.props.itemDescription)},t}(r.Component),R=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const _=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o}return R(t,e),t.prototype.render=function(){return r.createElement("div",null)},t.prototype.handleChange=function(e){this.setState({})},t}(r.Component);var N=o(34109),F=o(61512),L=o.n(F),M=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const D=function(e){function t(t){var o=e.call(this,t)||this;return o.state={numberOfColums:o.props.exercise?o.props.exercise.numberOfColums:2,ItemsInTableRow:o.props.exercise?o.props.exercise.ItemsInTableRow.map((function(e){return e.createCopy()})):[new u.N0([],[])],additionalDescriptions:o.props.exercise?o.props.exercise.additionalDescriptions.slice():[]},o}return M(t,e),t.prototype.changeNumberOfColumns=function(e){this.setState({numberOfColums:e})},t.prototype.render=function(){var e=this,t=(this.props.exercise,this.state.numberOfColums||2),o=this.state.ItemsInTableRow.map((function(o,n){return r.createElement(U,{key:n,rowItems:o,header:0==n,numberOfColums:t,handleItemDescriptionRemoval:function(){e.handleItemDescriptionRemoval(n)},rowItemsChanged:function(t){e.handleItemDescriptionChange(t,n)}})}));return r.createElement("div",null,r.createElement("label",null,"Number of table columns")," ",r.createElement("br",null),r.createElement("div",{className:"exercise-editor-larger-input-container"},r.createElement(N,{min:2,max:10,value:this.state.numberOfColums,style:{margin:"0px"},onChange:function(t){e.changeNumberOfColumns(t)}})),r.createElement("br",null),r.createElement("br",null),r.createElement("div",{className:"exercise-editor-full-input-container"},r.createElement("label",null,"Table"),r.createElement("br",null),r.createElement("table",{style:{width:"97%",border:"1px solid black"},key:"table"},r.createElement("tbody",null,o))),r.createElement(y.Z,{icon:"fa-plus-circle",onClick:function(){return e.handleNewItemDescription()}}),r.createElement("hr",{style:{clear:"both"}}),r.createElement("label",null,"Additional descriptions (detractors)  ",r.createElement("span",{style:{fontSize:"10px",color:"gray",paddingLeft:"8px"}},"press enter after each detractor")),r.createElement(h,{value:this.state.additionalDescriptions,onlyUnique:!0,placeholder:"Add decoy field",onChange:function(t){return e.handleAdditionalDescriptionChange(t)}}))},t.prototype.handleItemDescriptionRemoval=function(e){var t=this.state.ItemsInTableRow;t.splice(e,1),this.setState({ItemsInTableRow:t})},t.prototype.handleItemDescriptionChange=function(e,t){var o=this.state.ItemsInTableRow;o[t]=e,this.setState({ItemsInTableRow:o})},t.prototype.handleNewItemDescription=function(){var e=this.state.ItemsInTableRow;e.push(new u.N0(Array(this.state.numberOfColums).fill(null),Array(this.state.numberOfColums).fill(!1))),this.setState(d.Z.combineInNew(this.state,{ItemsInTableRow:e}))},t.prototype.handleAdditionalDescriptionChange=function(e){this.setState(d.Z.combineInNew(this.state,{additionalDescriptions:e}))},t}(r.Component);var U=function(e){function t(t){var o=e.call(this,t)||this;return o.defaultItem="New item",o.isBeingEdited=!1,o.state={rowItems:o.props.rowItems,highlightEditIcon:new Array(o.props.numberOfColums).fill(!1)},o}return M(t,e),t.prototype.fixMissingRowItems=function(e){for(var o=this.state.rowItems,n=0;n<e;n++)null==(o.items[n]||null)&&(o.items[n]=[this.defaultItem+" "+t.counter],t.counter++,o.fixed[n]=[!1]);this.setState({rowItems:o}),this.props.rowItemsChanged(o)},t.prototype.fixNewRowItems=function(e){for(var t=this.state.rowItems,o=!1,n=0;n<e;n++)t.items[n],t.items[n]!=this.props.rowItems.items[n]&&(t.items[n]=this.props.rowItems.items[n],t.fixed[n]=this.props.rowItems.fixed[n],o=!0);o&&(this.setState({rowItems:t}),this.props.rowItemsChanged(t))},t.prototype.componentDidMount=function(){this.fixMissingRowItems(this.props.numberOfColums),this.fixNewRowItems(this.props.numberOfColums)},t.prototype.componentDidUpdate=function(e){this.props.numberOfColums!=e.numberOfColums&&this.fixMissingRowItems(this.props.numberOfColums),this.fixNewRowItems(this.props.numberOfColums)},t.prototype.handleChangeTextOfRowItem=function(e,t,o){var n=this,r=this.state.rowItems;r.items[t][o]=e.target.innerText,this.setState({rowItems:r},(function(){n.isBeingEdited=!1})),this.props.rowItemsChanged(r)},t.prototype.handleChangeFixed=function(e,t,o){var n=this.state.rowItems;n.fixed[t][o]=e.target.checked,this.setState({rowItems:n}),this.props.rowItemsChanged(n)},t.prototype.editableIconHighlight=function(e,t){if(!this.isBeingEdited){var o=this.state.highlightEditIcon;o[t]=e,this.setState({highlightEditIcon:o})}},t.prototype.addItem=function(e){var o=this.state.rowItems;o.items[e].push(this.defaultItem+" "+t.counter),t.counter++,o.fixed[e].push(!1),this.setState({rowItems:o}),this.props.rowItemsChanged(o)},t.prototype.removeItem=function(e,t){var o=this.state.rowItems;o.items[e].splice(t,1),o.fixed[e].splice(t,1),this.setState({rowItems:o}),this.props.rowItemsChanged(o)},t.prototype.render=function(){for(var e=this,t=this.state.rowItems,o=this.props.header||!1,n=this.props.numberOfColums||2,i={border:"1px solid black",textAlign:"center",width:1/n*100+"%"},s=[],a=function(n){var a=null;t.items[n]&&t.items[n].length&&(a=t.items[n].map((function(o,i){return r.createElement("div",null,r.createElement(L(),{html:o,disabled:!1,onChange:function(){e.isBeingEdited=!0},onBlur:function(t){e.handleChangeTextOfRowItem(t,n,i)},style:{display:"inline-block",width:"calc(100% - 60px)",background:"#3BAD47",borderRadius:"2px",border:"1px solid #25812E",color:"#fff",margin:"2px",padding:"2px"}}),r.createElement("input",{type:"checkbox",style:{display:"inline-block",cursor:"pointer"},checked:t.fixed[n][i],onChange:function(t){e.handleChangeFixed(t,n,i)},title:"Fix this item?"}),t.items[n].length>1?r.createElement("i",{className:"fa fa-minus-circle faBlack","aria-hidden":"true",style:{display:"inline-block",transition:"color 0.3s",cursor:"pointer"},title:"Editable field",onClick:function(){e.removeItem(n,i)}}):null)})));var c=r.createElement("div",{onMouseEnter:function(){e.editableIconHighlight(!0,n)},onMouseLeave:function(){e.editableIconHighlight(!1,n)}},a,r.createElement("i",{className:"fa fa-plus-circle faBlack","aria-hidden":"true",style:{display:"inline-block",transition:"color 0.3s",cursor:"pointer"},title:"Editable field",onClick:function(){e.addItem(n)}}));o?s.push(r.createElement("th",{style:i,key:"thMAtch"+n},c)):s.push(r.createElement("td",{style:i,key:"trMAtch"+n},c))},c=0;c<n;c++)a(c);return s.push(r.createElement(y.Z,{icon:"fa-minus-circle",onClick:function(){return e.props.handleItemDescriptionRemoval()},key:"iconButton"})),s.length?r.createElement("tr",null,s):r.createElement("div",null)},t.counter=1,t}(r.Component),j=o(23828),Z=o(28302),B=o(98136),z=o(53905),q=o(96935),H=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),W=function(){return W=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},W.apply(this,arguments)},V=function(e){function t(t){var o=e.call(this,t)||this;return o.onSetBg=o.onSetBg.bind(o),o.onAddElement=o.onAddElement.bind(o),o.onBgAdded=o.onBgAdded.bind(o),o.onElementAdded=o.onElementAdded.bind(o),o.onFragmentDelete=o.onFragmentDelete.bind(o),o.onFragmentDropComposition=o.onFragmentDropComposition.bind(o),o.onFragmentDropOutside=o.onFragmentDropOutside.bind(o),o.state={pleaseWait:!1},o}return H(t,e),t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.componentDidUpdate=function(){},t.prototype.render=function(){var e=this;return r.createElement(r.Fragment,null,r.createElement("input",{onChange:this.onBgAdded,ref:function(t){return e.setBgInputElement=t},type:"file",hidden:!0,className:"dnd-hidden"}),r.createElement("input",{onChange:this.onElementAdded,ref:function(t){return e.addElementInputElement=t},type:"file",multiple:!0,hidden:!0,className:"dnd-hidden"}),r.createElement("div",{style:{width:"90%",margin:"auto"}},this.state.pleaseWait?r.createElement("div",{style:{display:"flex",height:"30px",alignItems:"center",justifyContent:"center",width:"100%",backgroundColor:"lightgoldenrodyellow",border:"solid 1px lightgray"}},"Please wait!"):null,r.createElement(Z.Z,{onFragmentDeleteClicked:this.onFragmentDelete,onAddElementClicked:this.onAddElement,onSetBgClicked:this.onSetBg,onFragmentDropComposition:this.onFragmentDropComposition,onFragmentDropOutside:this.onFragmentDropOutside,toolboxAvailableElements:this.props.unassignedElements,compositionElementsWithTasks:this.props.elementsWithTask,onGraphicalDnDUpdate:this.props.onGraphicalDnDUpdate})))},t.prototype.onSetBg=function(){this.setBgInputElement.click()},t.prototype.onAddElement=function(){this.addElementInputElement.click()},t.prototype.onBgAdded=function(){var e=this,t=this.setBgInputElement.files[0];this.uploadFile(t,(function(o,n){var r=new B.Hn.Aq;r.uri=o,r.naturalSize={x:n.naturalWidth,y:n.naturalHeight},r.originalFilename=t.name,e.props.setBackground(r)}))},t.prototype.onElementAdded=function(){var e=this;if(this.addElementInputElement.files){for(var t=function(t){var n=o.addElementInputElement.files[t];o.uploadFile(n,(function(t,o){var r=new B.Hn.S1;r.uri=t,r.naturalSize={x:o.naturalWidth,y:o.naturalHeight},r.originalFilename=n.name,e.props.addElement(r)}))},o=this,n=0;n<this.addElementInputElement.files.length;n++)t(n);this.addElementInputElement.value=""}},t.prototype.onFragmentDropComposition=function(e,t){var o={elementId:t.id,targetPos:e};z.Z.info("DiagramEditor: adding drop task for element id: %s",t.id),this.props.setElementDropTask(o)},t.prototype.onFragmentDropOutside=function(e){z.Z.info("DiagramEditor: clearing task for element id: %s",e.id),this.props.clearElementTask(e.id)},t.prototype.onFragmentDelete=function(e){this.props.removeElement(e.id)},t.prototype.uploadFile=function(e,t){var o=this;this.setState({pleaseWait:!0});var n=e,r=new FileReader;r.readAsDataURL(n),r.onload=function(){var e=r.result.split(","),i=e[0],s=e[1],a=n.name;o.props.handleUploadImageToS3&&o.props.handleUploadImageToS3(s,a,(function(e){var n=new Image;n.crossOrigin="Anonymous",n.src=e,n.onload=function(){z.Z.debug("Toolbox: file upload complete, length=%d",e.length),t(e,n),o.setState({pleaseWait:!1})}}),i).then((function(){o.setState({pleaseWait:!1})}))},r.onabort=function(){o.setState({pleaseWait:!1})},r.onerror=function(){o.setState({pleaseWait:!1})}},t}(r.Component);const Q=(0,c.connect)((function(e,t){return W({unassignedElements:q.Z.objectValues(l.aC.getElementsWithoutTask(e.diagram)),elementsWithTask:l.aC.getElementsWithTask(e.diagram),taskDescription:e.diagram.taskDescription},t)}),(function(e){return W({},(0,j.bindActionCreators)({setBackground:l.eX.setBackground,addElement:l.eX.addElement,removeElement:l.eX.removeElement,setElementDropTask:l.eX.setElementDropTask,clearElementTask:l.eX.clearElementTask,setGraphicalDnDTaskDescription:l.eX.setGraphicalDnDTaskDescription},e))}))(V);var G=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),K=function(){return K=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},K.apply(this,arguments)},X=function(e){function t(t){return e.call(this,t)||this}return G(t,e),t.prototype.componentDidUpdate=function(){this.props.exercise&&this.props.diagramConfigurationJson!=this.props.exercise.graphicalDnDJson&&(this.props.setDiagramConfiguration(this.props.diagramConfigurationJson),this.onGraphicalDnDUpdate())},t.prototype.onGraphicalDnDUpdate=function(){this.props.onGraphicalDnDUpdate&&this.props.onGraphicalDnDUpdate(this.props.diagramConfigurationJson)},t.prototype.render=function(){var e=this;return r.createElement("div",null,r.createElement(Q,{onGraphicalDnDUpdate:function(){e.onGraphicalDnDUpdate()},handleUploadImageToS3:this.props.handleUploadImageToS3}))},t.prototype.handleChange=function(e){this.setState({})},t}(r.Component);const J=(0,c.connect)((function(e,t){return K({diagramConfigurationJson:l.aC.getDiagramConfigurationJson(e.diagram)},t)}),(function(e){return K({},(0,j.bindActionCreators)({setGraphicalDnDTaskDescription:l.eX.setGraphicalDnDTaskDescription,setDiagramConfiguration:l.eX.setDiagramConfiguration},e))}))(X);var Y=o(20010),$=o(22253),ee=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),te=function(){return te=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},te.apply(this,arguments)},oe=o(98738).commonEmitter;const ne=function(e){function t(t){var o=e.call(this,t)||this;if(o.editingTryIt=!1,o.onGraphicalDnDUpdateValue="",o.onGraphicalDnDUpdateValue_initialValue="",o.handleFileUploaded=o.handleFileUploaded.bind(o),o.props.exercise){var n=o.props.exercise;o.state={question:n.question,description:n.description,code:n.code,imageUrl:n.imageUrl,hint:n.hint,inlineTryIt:n.inlineTryIt,explanation:n.explanation,type:n.type,showErrors:!1,tryItEnabled:""!=n.inlineTryIt,html_in_markdown:n.html_in_markdown||!1,skipMarkdownInQuestion:n.skipMarkdownInQuestion||!1,skipMarkdownInAnswers:n.skipMarkdownInAnswers||!1,graphicalDnDStore:n.type==u.Py.type?n.getStore():null},""!=n.inlineTryIt&&(o.editingTryIt=!0)}else o.state={question:"",description:"",code:"",imageUrl:"",hint:"",inlineTryIt:"",explanation:"",type:u.vc.type,showErrors:!1,tryItEnabled:!1,html_in_markdown:!1,skipMarkdownInQuestion:!1,skipMarkdownInAnswers:!1,graphicalDnDStore:(0,l.cW)()};return o}return ee(t,e),t.prototype.componentDidMount=function(){if(window.addEventListener("beforeunload",this.handleWindowClose),this.props.exerciseGroupsStore.editedExercise&&this.state.type===u.Py.type){var e=this.props.exerciseGroupsStore.editedExercise;this.onGraphicalDnDUpdateValue_initialValue=e?e.graphicalDnDJson:""}this.props.isForMentorOralExam&&this.setState(d.Z.combineInNew(this.state,{type:"ArrangeCodeExercise"}))},t.prototype.componentWillUnmount=function(){window.removeEventListener("beforeunload",this.handleWindowClose)},t.prototype.onFocusExit=function(e,t,o,n,r,i,s,a){},t.prototype.onGraphicalDnDUpdate=function(e){this.onGraphicalDnDUpdateValue=e},t.prototype.render=function(){var e=this,t=this.state.tryItEnabled?{padding:"20px",maxHeight:"1000px",margin:"25px"}:{padding:"0px",maxHeight:"0px"},o={fontSize:"10px",color:"gray",paddingLeft:"8px"},n={display:"block",paddingBottom:"5px"},s=this.editingTryIt?this.props.exercise.inlineTryIt:null,c=this.editingTryIt?r.createElement($.Z,{code:s.code,codeCSS:s.codeCSS,codeHTML:s.codeHTML,codeResetVersion:s.code,codeCSSResetVersion:s.codeCSS,codeHTMLResetVersion:s.codeHTML,defaultTabKey:s.defaultTab,insideGetIt:!0,key:"EditTryIt",mode:s.mode,description:s.description,mimeType:s.mimeType,lambdaName:s.lambdaName,id:s.id||Math.random(),editMode:!0,onChange:this.handleTryItYourselfChangeEditMode.bind(this),onFocusExit:function(t,o,n,r,i,s,a,c){e.onFocusExit(t,o,n,r,i,s,a,c)},forceRemove:s.forceRemove,resultEnabled:s.resultEnabled}):r.createElement(Y.Z,{onChange:this.handleTryItYourselfChange.bind(this)});return r.createElement("div",{className:"exercise-editor-container"},r.createElement("span",{className:"close-icon",onClick:this.handleCloseClick.bind(this)},"×"),r.createElement("div",{className:"exercise-editor-content-container"},r.createElement("div",null,!0!==this.props.isForMentorOralExam?r.createElement("div",{className:"row"},r.createElement("label",null," Exercise type ",r.createElement("span",{style:o},"for exercise examples, please click ",r.createElement("a",{className:"entryDescLink",target:"_blank",href:"https://livebook.manning.com/exercise-examples"},"HERE")),r.createElement("div",{style:n}),r.createElement("select",{disabled:null!=this.props.exercise,onChange:this.handleExerciseTypeChanged.bind(this),value:this.state.type,style:{width:"100%"}},this.getExerciseTypeOptions()))):null,r.createElement("span",{className:"exercise-detect-and-parse-container"},"Parse markdown in exercise question?"),"  ",r.createElement("input",{type:"checkbox",title:"Parse markdown in exercise question?",checked:!this.state.skipMarkdownInQuestion,onChange:this.handleQuestionMarkdownToggle.bind(this)}),r.createElement("br",null),r.createElement("span",{className:"exercise-detect-and-parse-container"},"Parse markdown in exercise answers?"),"  ",r.createElement("input",{type:"checkbox",title:"Parse markdown in exercise answers?",checked:!this.state.skipMarkdownInAnswers,onChange:this.handleAnswersMarkdownToggle.bind(this)}),r.createElement("br",null),r.createElement("span",{className:"exercise-detect-and-parse-container"},"Detect and parse HTML tags?"),"  ",r.createElement("input",{type:"checkbox",title:"Parse HTML tags?",checked:this.state.html_in_markdown,onChange:this.handleHTMLInMarkdownToggle.bind(this)}),r.createElement("div",{style:n}),r.createElement("div",{className:"row"},r.createElement("label",{className:a()({"has-error":!this.state.question.trim()&&this.state.showErrors})},"Question(*)",r.createElement("div",{style:n}),r.createElement("input",{id:"exerciseQuestion",type:"text",placeholder:"Enter question text",value:this.state.question,onChange:this.handleQuestionChange.bind(this)}))),r.createElement("div",{className:"row"},r.createElement("label",null,"Description ",r.createElement("span",{style:o},"(longer question description, if needed)"),r.createElement("br",null),r.createElement("textarea",{className:"description-text-area",placeholder:"Enter description",value:this.state.description,onChange:this.handleDescriptionChange.bind(this)}))),"ArrangeCodeExercise"!=this.state.type?r.createElement("div",{className:"row"},r.createElement("label",null,"Code ",r.createElement("span",{style:o},"code to be included with the exercise (this code can't be run)"),r.createElement("div",{style:n}),r.createElement("textarea",{className:"code-text-area",placeholder:"Enter code",value:this.state.code,onChange:this.handleCodeChange.bind(this)}))):null,r.createElement("div",{className:"row"},r.createElement("label",null,"Add Coding exercise   ",r.createElement("input",{type:"checkbox",title:"Enable coding exercise",checked:this.state.tryItEnabled,onChange:this.handleTryItToggle.bind(this)}),r.createElement("span",{style:o},"Coding exercises let users run code")),r.createElement("div",{className:"tryItCreatorContainer",style:t},c)),r.createElement("div",{className:"row"},r.createElement("label",null,"Add image"),r.createElement("div",{style:n}),this.state.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:this.state.imageUrl}),r.createElement(y.Z,{icon:"fa-times",additionalClasses:"remove-image-button",onClick:this.handleRemoveImageClick.bind(this)})):r.createElement(i.ZP,{accept:"image/*",onDrop:this.handleFilesDropped.bind(this),multiple:!1},(function(t){var o=t.getRootProps,n=t.getInputProps;return t.isDragActive,t.isDragAccept,t.isDragReject,r.createElement("div",te({},o(),{className:"dropzone image-upload-container"}),r.createElement("input",te({},n())),e.state.imageLoading?"Please wait...":"Drop an image here (or click to select files to upload).")}))),r.createElement("div",{className:"row"},r.createElement("label",null,"Hint ",r.createElement("span",{style:o},"a hint for the user"),r.createElement("div",{style:n}),r.createElement("textarea",{className:"code-text-area",placeholder:"Enter hint",value:this.state.hint,onChange:this.handleHintChange.bind(this)}))),r.createElement("div",{className:"row"},r.createElement("label",null,"Explanation  ",r.createElement("span",{style:o},"a more detailed explanation of the answer"),r.createElement("div",{style:n}),r.createElement("textarea",{className:"code-text-area",placeholder:"Enter explanation",value:this.state.explanation,onChange:this.handleExplanationChange.bind(this)})))),this.getExerciseSpecificComponent()),r.createElement("div",{className:"exercise-editor-toolbar-container"},this.state.showErrors?r.createElement("span",{style:{color:"red",textAlign:"right"}},"An error has occured!"):null,r.createElement(y.Z,{icon:"fa-save",additionalClasses:"right",text:"save",onClick:this.handleSaveClick.bind(this)})))},t.prototype.getExerciseSpecificComponent=function(){var e=this;switch(this.state.type){case u.vc.type:return r.createElement(v,{ref:function(t){e.specificsComponent=t},exercise:this.props.exercise});case u.Aw.type:return r.createElement(k,{ref:function(t){e.specificsComponent=t},exercise:this.props.exercise});case u.RL.type:return r.createElement(E,{ref:function(t){e.specificsComponent=t},exercise:this.props.exercise});case u.lV.type:return r.createElement(O,{ref:function(t){e.specificsComponent=t},exercise:this.props.exercise});case u.U.type:return r.createElement(A,{ref:function(t){e.specificsComponent=t},exercise:this.props.exercise});case u.o_.type:return r.createElement(g,{ref:function(t){e.specificsComponent=t},exercise:this.props.exercise});case u.Fr.type:return r.createElement(_,{ref:function(t){e.specificsComponent=t},exercise:this.props.exercise});case u.JW.type:return r.createElement(D,{ref:function(t){e.specificsComponent=t},exercise:this.props.exercise});case u.Py.type:return r.createElement(c.Provider,{store:this.state.graphicalDnDStore},r.createElement(J,{exercise:this.props.exercise,onGraphicalDnDUpdate:function(t){e.onGraphicalDnDUpdate(t)},handleUploadImageToS3:this.props.handleUploadImageToS3}));default:return r.createElement(v,{ref:function(t){e.specificsComponent=t}})}},t.prototype.getExerciseTypeOptions=function(){var e=[],t=0;for(var o in u.FX)e.push(r.createElement("option",{value:o,key:t++},u.FX[o]));return e},t.prototype.handleQuestionChange=function(e){this.setState(d.Z.combineInNew(this.state,{question:e.target.value}))},t.prototype.handleDescriptionChange=function(e){this.setState(d.Z.combineInNew(this.state,{description:e.target.value}))},t.prototype.handleCodeChange=function(e){this.setState(d.Z.combineInNew(this.state,{code:e.target.value}))},t.prototype.handleTryItToggle=function(e){this.setState(d.Z.combineInNew(this.state,{tryItEnabled:!this.state.tryItEnabled}))},t.prototype.handleQuestionMarkdownToggle=function(e){this.setState(d.Z.combineInNew(this.state,{skipMarkdownInQuestion:!this.state.skipMarkdownInQuestion}))},t.prototype.handleAnswersMarkdownToggle=function(e){this.setState(d.Z.combineInNew(this.state,{skipMarkdownInAnswers:!this.state.skipMarkdownInAnswers}))},t.prototype.handleHTMLInMarkdownToggle=function(e){this.setState(d.Z.combineInNew(this.state,{html_in_markdown:!this.state.html_in_markdown}))},t.prototype.handleTryItYourselfChange=function(e,t,o,n,r,i,s,a,c,l){var u={code:e,codeCSS:t,codeHTML:o,mode:n,description:r,defaultTab:i,mimeType:s,lambdaName:a,forceRemove:c,resultEnabled:l};this.setState(d.Z.combineInNew(this.state,{inlineTryIt:u}))},t.prototype.handleTryItYourselfChangeEditMode=function(e,t,o,n,r,i,s,a){var c=this.state.inlineTryIt,l={code:e,codeCSS:t,codeHTML:o,mode:c.mode,description:n,defaultTab:r,mimeType:c.mimeType,lambdaName:c.lambdaName,forceRemove:s,resultEnabled:a};this.setState(d.Z.combineInNew(this.state,{inlineTryIt:l}))},t.prototype.handleExplanationChange=function(e){this.setState(d.Z.combineInNew(this.state,{explanation:e.target.value}))},t.prototype.handleHintChange=function(e){this.setState(d.Z.combineInNew(this.state,{hint:e.target.value}))},t.prototype.handleExerciseTypeChanged=function(e){this.setState(d.Z.combineInNew(this.state,{type:e.target.value}))},t.prototype.handleFilesDropped=function(e){var t=this;if(null!=e&&0!==e.length){var o=e[0],n=new FileReader;this.setState({imageLoading:!0}),n.onload=function(){var e=n.result.split(","),r=e[0],i=e[1],s=o.name;t.props.handleUploadImageToS3&&t.props.handleUploadImageToS3(i,s,t.handleFileUploaded,r)},n.onabort=function(){t.setState({imageLoading:!1})},n.onerror=function(){t.setState({imageLoading:!1})},n.readAsDataURL(o)}},t.prototype.handleFileUploaded=function(e){this.setState({imageUrl:e,imageLoading:!1})},t.prototype.handleSaveClick=function(){var e=Object.assign({},this.state,{}),t=!1;if(this.state.type===u.RL.type)(o=this.specificsComponent.state).answers&&o.answers.some((function(e){return!e.text}))&&(this.setState({showErrors:!0}),t=!0);else if(this.state.type===u.Aw.type)(o=this.specificsComponent.state).answers&&o.answers.some((function(e){return!e.text}))&&(this.setState({showErrors:!0}),t=!0);else if(this.state.type===u.lV.type){var o;((o=this.specificsComponent.state).itemsAndDescriptions.some((function(e){return!e.item}))||o.itemsAndDescriptions.some((function(e){return!e.description}))||o.additionalDescriptions.some((function(e){return!e})))&&(this.setState({showErrors:!0}),t=!0)}if(!t)if(this.state.question.trim()||this.state.type==u.Py.type)if(this.state.tryItEnabled||(e.inlineTryIt=""),this.props.exercise){var n=this.state.type!=u.Py.type?d.Z.combineInNew(e,this.specificsComponent.state):te(te({},e),{graphicalDnDJson:this.onGraphicalDnDUpdateValue});this.props.exerciseGroupsStore.processActions([new p.RB(this.props.exercise,n,this.props.exerciseGroupsStore.currentExerciseGroupStore),new p.ZP(p.vY.CloseModal)])}else n=this.state.type!=u.Py.type?d.Z.combineInNew(e,this.specificsComponent.state):te(te({},e),{graphicalDnDJson:this.onGraphicalDnDUpdateValue}),this.props.exerciseGroupsStore.processActions([new p.T_(n,this.props.exerciseGroupsStore.currentExerciseGroupStore),new p.ZP(p.vY.CloseModal)]);else this.setState({showErrors:!0})},t.prototype.handleCloseClick=function(){if(1==confirm("Are you sure you want to cancel?!")){if(this.props.exerciseGroupsStore.editedExercise&&this.state.type===u.Py.type){oe.emit("FirstEvent","Test event emitter");var e=Object.assign({},this.state,{}),t=te(te({},d.Z.combineInNew(e,this.specificsComponent.state)),{graphicalDnDJson:this.onGraphicalDnDUpdateValue_initialValue});this.props.exerciseGroupsStore.processActions([new p.RB(this.props.exercise,t,this.props.exerciseGroupsStore.currentExerciseGroupStore)])}this.props.exerciseGroupsStore.processAction(new p.ZP(p.vY.CloseModal))}},t.prototype.handleWindowClose=function(e){return"Do you want to leave this site?"},t.prototype.handleRemoveImageClick=function(){this.setState(d.Z.combineInNew(this.state,{imageUrl:""}))},t}(r.Component)},57179:(e,t,o)=>{"use strict";o.d(t,{Z:()=>Be});var n,r=o(67294),i=o(94184),s=o.n(i),a=o(6125),c=o(89862),l=o(57865),u=o(14186),p=o(46458),d=o(83253),h=o(13410),m=o(89095),f=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return!0===this.props.isCorrect||!1===this.props.isCorrect?r.createElement("i",{className:this.getIconClasses(),style:this.getInlineStyle(),"aria-hidden":"true"}):null},t.prototype.getIconClasses=function(){return s()({"correctness-icon":!0,"correctness-icon-correct":this.props.isCorrect,"correctness-icon-incorrect":!1===this.props.isCorrect,fa:!0,"fa-check":this.props.isCorrect,"fa-times":!1===this.props.isCorrect})},t.prototype.getInlineStyle=function(){return{color:this.getIconColor()}},t.prototype.getIconColor=function(){return this.props.isCorrect?"#3BAD53":!1===this.props.isCorrect?"red":"initial"},t}(r.Component);var b=o(22253),v=o(87060),y=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const w=function(e){function t(t){var o=e.call(this,t)||this;return o.state={answer:"",isCorrectnessShown:!1},o}return y(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.executePendingAction(e.action)},t.prototype.componentDidMount=function(){this.setInitialResponse(!0)},t.prototype.componentDidUpdate=function(e,t){JSON.stringify(e.initialResponse)!==JSON.stringify(this.props.initialResponse)&&this.setInitialResponse(!1)},t.prototype.setInitialResponse=function(e){if(this.props.initialResponse){var t=this.props.initialResponse,o=null==t?void 0:t.answers;(null==o?void 0:o.singleAnswer)&&this.setState({answer:null==o?void 0:o.singleAnswer})}else this.props.initialResponse||e||this.setState({answer:""})},t.prototype.render=function(){var e=this,t=this.props.exercise,o=t.inlineTryIt,n=this.getCorrectnessState();return r.createElement("div",null,r.createElement("h4",{className:"exercise-heading"},t.skipMarkdownInQuestion?t.question:r.createElement(m.Z,{source:t.question,html_in_markdown:t.html_in_markdown||!1})),r.createElement("label",{className:"exercise-instructions"},r.createElement("i",null,"(fill in the answer",this.props.isPreviewMode&&r.createElement(r.Fragment,null,", ",v.i),")")),t.description?r.createElement("div",{className:"exercise-description-container",style:{fontFamily:'Lato, Arial, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',fontSize:"16px"}},r.createElement(m.Z,{source:t.description,html_in_markdown:t.html_in_markdown||!1})):null,t.code?r.createElement("pre",{className:"exercise-code-container"},r.createElement(m.Z,{source:t.code,html_in_markdown:t.html_in_markdown||!1})):null,t.inlineTryIt?r.createElement("div",null,r.createElement(b.Z,{code:o.code,codeCSS:o.codeCSS,codeHTML:o.codeHTML,codeResetVersion:o.code,codeCSSResetVersion:o.codeCSS,codeHTMLResetVersion:o.codeHTML,defaultTabKey:o.defaultTab,insideGetIt:!0,mode:o.mode,description:o.description,mimeType:o.mimeType,lambdaName:o.lambdaName,id:o.id||Math.random(),editMode:!1,forceRemove:o.forceRemove,resultEnabled:o.resultEnabled})," "):null,t.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:t.imageUrl,alt:"Exercise image"})):null,!this.props.isPreviewMode&&r.createElement(r.Fragment,null,r.createElement("label",{className:"exercise-options-label"},"Answer:"),r.createElement("div",{className:"exercise-answer-input-container"},r.createElement("input",{type:"text",value:this.state.answer,disabled:n,placeholder:this.state.answer?"":"Your answer",onChange:this.handleAnswerChange.bind(this),onBlur:function(t){e.updateUserResponse(t)}}),r.createElement(g,{isCorrect:n}))))},t.prototype.executePendingAction=function(e){if(e&&!e.hasBeenConsumed){var t={answer:this.state.answer,isCorrectnessShown:!1};switch(e.type){case u.vY.ResetExerciseAnswer:t.answer="";break;case u.vY.CheckAnswer:t.isCorrectnessShown=!0;break;case u.vY.ShowAnswer:t.answer=this.props.exercise.correctAnswer}e.hasBeenConsumed=!0,this.setState(t)}},t.prototype.handleAnswerChange=function(e){this.setState({answer:e.target.value,isCorrectnessShown:!1}),this.props.onAnswerChanged&&this.props.onAnswerChanged()},t.prototype.updateUserResponse=function(e){var t;this.props.generateUserResponse({singleAnswer:e.target.value},this.generateOverallCorrectness(null===(t=e.target)||void 0===t?void 0:t.value))},t.prototype.getCorrectnessState=function(){return this.state.isCorrectnessShown?this.props.exercise.correctAnswer.toLowerCase()===this.state.answer.toLowerCase():null},t.prototype.generateOverallCorrectness=function(e){var t,o=(null===(t=this.props.exercise.correctAnswer)||void 0===t?void 0:t.toLowerCase())===e.toLowerCase()?1:0;return{noCorrectAnswersOverall:1,noCorrectAnswersFromUser:o,correctness:{fullyCorrect:1==o,score:o}}},t}(r.Component);var k=o(91033),x=o(65818),C=o(94992),E=o(65605),S=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const T=function(e){function t(t){var o=e.call(this,t)||this;return o.minContainerHeight=50,o.initPrivates(t),o.state={isCorrectnessShown:!1,remainingAnswers:o.getAllAnswers(t),givenAnswers:[],somethingChanged:!1},o}return S(t,e),t.prototype.initPrivates=function(e){this.initialRemainingAnswers=this.getAllAnswers(e)},t.prototype.getAllAnswers=function(e){return e.exercise.answers.map((function(e){return e}))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.executePendingAction(e.action),E.Z.areDeepEqual(this.initialRemainingAnswers,this.getAllAnswers(this.props))||this.executePendingAction({type:u.vY.ResetExerciseAnswer,hasBeenConsumed:!1},e)},t.prototype.componentDidMount=function(){var e=this;this.setInitialResponse(!0),this._ref&&(this.ro=new k.Z((function(t,o){window.requestAnimationFrame((function(){if(Array.isArray(t)&&t.length)for(var o=0,n=t;o<n.length;o++){var r=n[o];isNaN(Number(r.target.clientHeight))||e.updateHeight(Number(r.target.clientHeight))}}))})),this.ro.observe(this._ref))},t.prototype.componentWillUnmount=function(){this._ref&&this.ro.unobserve(this._ref)},t.prototype.componentDidUpdate=function(e,t){JSON.stringify(e.initialResponse)!==JSON.stringify(this.props.initialResponse)&&this.setInitialResponse(!1)},t.prototype.setInitialResponse=function(e){if(this.props.initialResponse){var t=this.props.initialResponse,o=null==t?void 0:t.answers;this.setState({givenAnswers:null==o?void 0:o.givenAnswers,remainingAnswers:null==o?void 0:o.remainingAnswers})}else this.props.initialResponse||e||this.setState({remainingAnswers:this.getAllAnswers(this.props),givenAnswers:[]})},t.prototype.render=function(){var e=this,t=this.props.exercise,o=t.inlineTryIt,n=this.isFullyCorrect();return r.createElement("div",{className:s()({"has-not-selected-correct-answers":this.state.isCorrectnessShown&&this.hasNonSelectedCorrectAnswers()})},r.createElement("h4",{className:"exercise-heading"},t.skipMarkdownInQuestion?t.question:r.createElement(m.Z,{source:t.question,html_in_markdown:t.html_in_markdown||!1})),r.createElement("div",{className:"exercise-instructions"},r.createElement("i",null,"(choose one or more answers",this.props.isPreviewMode&&r.createElement(r.Fragment,null,", ",v.i),")")),t.description?r.createElement("div",{className:"exercise-description-container",style:{fontFamily:'Lato, Arial, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',fontSize:"16px"}},r.createElement(m.Z,{source:t.description,html_in_markdown:t.html_in_markdown||!1})):null,t.code?r.createElement("pre",{className:"exercise-code-container"},t.code):null,t.inlineTryIt?r.createElement("div",null,r.createElement(b.Z,{code:o.code,codeCSS:o.codeCSS,codeHTML:o.codeHTML,codeResetVersion:o.code,codeCSSResetVersion:o.codeCSS,codeHTMLResetVersion:o,defaultTabKey:o.defaultTab,insideGetIt:!0,mode:o.mode,description:o.description,mimeType:o.mimeType,lambdaName:o.lambdaName,id:o.id||Math.random(),editMode:!1,forceRemove:o.forceRemove,resultEnabled:o.resultEnabled})," "):null,t.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:t.imageUrl,alt:"Exercise image"})):null,!(this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode)&&r.createElement(r.Fragment,null,r.createElement("label",{className:"exercise-options-label"},"Available answers:"),r.createElement("div",{ref:function(t){e._ref=t}},r.createElement(C.Z,{className:"origin-draggable-container",accepts:[t.question],onDrop:function(t){return e.handleDrop(t)},style:{minHeight:"".concat(this.minContainerHeight,"px")}},this.state.remainingAnswers.map((function(o,i){return e.props.isPreviewMode?r.createElement("span",null,t.skipMarkdownInAnswers?o.text:r.createElement(m.Z,{className:"preview-mode-draggable-items",source:o.text,html_in_markdown:t.html_in_markdown||!1})):r.createElement(x.Z,{isDisabled:n&&e.state.isCorrectnessShown,type:t.question,key:i,itemIdentifier:o.text},r.createElement("span",null,t.skipMarkdownInAnswers?o.text:r.createElement(m.Z,{source:o.text,html_in_markdown:t.html_in_markdown||!1})),r.createElement(g,{isCorrect:e.getCorrectnessState(o)}))}))))),!this.props.isPreviewMode&&r.createElement(r.Fragment,null,r.createElement("label",{className:"exercise-options-label"},"Drag answers here:"),r.createElement(C.Z,{className:"destination-draggable-container",accepts:[t.question],onDrop:function(t){return e.handleDrop(t,!0)},style:{minHeight:"".concat(1.15*this.minContainerHeight,"px")}},this.state.givenAnswers.map((function(o,i){return r.createElement(x.Z,{isDisabled:n&&e.state.isCorrectnessShown,type:t.question,key:i,itemIdentifier:o.text},r.createElement("span",null,t.skipMarkdownInAnswers?o.text:r.createElement(m.Z,{source:o.text,html_in_markdown:t.html_in_markdown||!1})),r.createElement(g,{isCorrect:e.getCorrectnessState(o)}))})))))},t.prototype.updateHeight=function(e){e<50&&(e=50),this.minContainerHeight=e,this.state.somethingChanged||this.props.isTooLargeCallback&&2*e>.5*(null===window||void 0===window?void 0:window.innerHeight)&&this.props.isTooLargeCallback(2*e>.5*(null===window||void 0===window?void 0:window.innerHeight))},t.prototype.handleDrop=function(e,t){void 0===t&&(t=!1);var o=this.state.remainingAnswers,n=this.state.givenAnswers,r=e.itemIdentifier;if(this.updateHeight(0),this.setState({somethingChanged:!0}),t){var i=o.findIndex((function(e){return e.text===r}));if(-1!==i){var s=o[i];o.splice(i,1),n.push(s)}}else{var a=n.findIndex((function(e){return e.text===r}));if(-1!==a){var c=n[a];n.splice(a,1),o.push(c)}}this.setState({isCorrectnessShown:!1,remainingAnswers:o,givenAnswers:n}),this.props.onAnswerChanged&&this.props.onAnswerChanged();var l={remainingAnswers:o,givenAnswers:n};this.props.generateUserResponse(l,this.generateOverallCorrectness(l))},t.prototype.getIsGiven=function(e){return-1!==this.state.givenAnswers.indexOf(e)},t.prototype.executePendingAction=function(e,t){if(e&&!e.hasBeenConsumed){t=t||this.props;var o={isCorrectnessShown:!1,remainingAnswers:this.state.remainingAnswers,givenAnswers:this.state.givenAnswers};switch(e.type){case u.vY.ResetExerciseAnswer:this.initPrivates(t),o.remainingAnswers=this.getAllAnswers(t),o.givenAnswers=[];break;case u.vY.CheckAnswer:o.isCorrectnessShown=!0;break;case u.vY.ShowAnswer:o.givenAnswers=t.exercise.answers.filter((function(e){return e.isCorrect})),o.remainingAnswers=t.exercise.answers.filter((function(e){return!e.isCorrect}))}this.setState(o),e.hasBeenConsumed=!0}},t.prototype.isFullyCorrect=function(){var e=this.props.exercise.answers.filter((function(e){return e.isCorrect})).map((function(e){return e.text})).sort(),t=this.state.givenAnswers.map((function(e){return e.text})).sort();return JSON.stringify(e)==JSON.stringify(t)},t.prototype.hasNonSelectedCorrectAnswers=function(){var e=this,t=(this.props.exercise.answers,!!this.props.exercise.answers.find((function(t){return t.isCorrect&&-1===e.state.givenAnswers.indexOf(t)}))),o=!!this.props.exercise.answers.find((function(t){return t.isCorrect&&-1!==e.state.givenAnswers.indexOf(t)}));return this.state.givenAnswers.length>=1&&t&&o},t.prototype.getCorrectnessState=function(e){if(this.state.isCorrectnessShown){var t=this.getIsGiven(e);return!(!t||!e.isCorrect)||!(t&&!e.isCorrect)&&!(!t&&e.isCorrect)&&void 0}},t.prototype.generateOverallCorrectness=function(e){var t,o,n,r,i,s,a,c,l=(null===(n=null===(o=null===(t=this.props.exercise)||void 0===t?void 0:t.answers)||void 0===o?void 0:o.filter((function(e){return e.isCorrect})))||void 0===n?void 0:n.length)||0,u=(null===(i=null===(r=null==e?void 0:e.givenAnswers)||void 0===r?void 0:r.filter((function(e){return e.isCorrect})))||void 0===i?void 0:i.length)-(null===(a=null===(s=null==e?void 0:e.givenAnswers)||void 0===s?void 0:s.filter((function(e){return!e.isCorrect})))||void 0===a?void 0:a.length)||0;return{noCorrectAnswersOverall:l,noCorrectAnswersFromUser:u,correctness:{fullyCorrect:u==l,score:0!=l?u/l:0!=(null===(c=null==e?void 0:e.givenAnswers)||void 0===c?void 0:c.length)?0:1}}},t}(r.Component);var A=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const I=function(e){function t(t){var o=e.call(this,t)||this;return o.state={isCorrectnessShown:!1,answerCheckedMap:o.getInitialAnswerCheckedMap(t),remainingAnswers:o.getAllAnswers(t),givenAnswers:[]},o}return A(t,e),t.prototype.componentDidMount=function(){this.setInitialResponse(!0)},t.prototype.componentDidUpdate=function(e,t){JSON.stringify(e.initialResponse)!==JSON.stringify(this.props.initialResponse)&&this.setInitialResponse(!1)},t.prototype.setInitialResponse=function(e){var t;if(this.props.initialResponse){var o=this.props.initialResponse,n=null==o?void 0:o.answers,r=this.state.answerCheckedMap;null===(t=null==n?void 0:n.givenAnswers)||void 0===t||t.forEach((function(e){(null==e?void 0:e.text)&&(r[e.text]=!0)})),this.setState({givenAnswers:null==n?void 0:n.givenAnswers,remainingAnswers:null==n?void 0:n.remainingAnswers})}else this.props.initialResponse||e||this.setState({answerCheckedMap:this.getInitialAnswerCheckedMap(this.props),remainingAnswers:this.getAllAnswers(this.props)})},t.prototype.getAllAnswers=function(e){return e.exercise.answers.map((function(e){return e}))},t.prototype.getInitialAnswerCheckedMap=function(e){var t=Object.create(null);return e.exercise&&e.exercise.answers.forEach((function(e){t[e.text]=!1})),t},t.prototype.getAllCorrectAnswerCheckedMap=function(e){var t=Object.create(null);return this.props.exercise&&this.props.exercise.answers.forEach((function(e){t[e.text]=e.isCorrect})),t},t.prototype.getUpdatedAnswerCheckedMap=function(e,t){var o=this.state.answerCheckedMap;return o[e]=t,o},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.executePendingAction(e.action),E.Z.areDeepEqual(this.getInitialAnswerCheckedMap(e),this.getInitialAnswerCheckedMap(this.props))||this.executePendingAction({type:u.vY.ResetExerciseAnswer,hasBeenConsumed:!1})},t.prototype.render=function(){var e=this,t=this.props.exercise,o=t.inlineTryIt,n=this.isFullyCorrect();return r.createElement("div",{className:s()({"has-not-selected-correct-answers":this.state.isCorrectnessShown&&this.hasNonSelectedCorrectAnswers()})},r.createElement("h4",{className:"exercise-heading"},t.skipMarkdownInQuestion?t.question:r.createElement(m.Z,{source:t.question,html_in_markdown:t.html_in_markdown||!1})),r.createElement("label",{className:"exercise-instructions"},r.createElement("i",null,"(choose one or more answers",this.props.isPreviewMode&&r.createElement(r.Fragment,null,", ",v.i),")")),t.description?r.createElement("div",{className:"exercise-description-container",style:{fontFamily:'Lato, Arial, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',fontSize:"16px"}},r.createElement(m.Z,{source:t.description,html_in_markdown:t.html_in_markdown||!1})):null,t.code?r.createElement("pre",{className:"exercise-code-container"},t.code):null,t.inlineTryIt?r.createElement("div",null,r.createElement(b.Z,{code:o.code,codeCSS:o.codeCSS,codeHTML:o.codeHTML,codeResetVersion:o.code,codeCSSResetVersion:o.codeCSS,codeHTMLResetVersion:o.codeHTML,defaultTabKey:o.defaultTab,insideGetIt:!0,mode:o.mode,description:o.description,mimeType:o.mimeType,lambdaName:o.lambdaName,id:o.id||Math.random(),editMode:!1,forceRemove:o.forceRemove,resultEnabled:o.resultEnabled})," "):null,t.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:t.imageUrl,alt:"Exercise image"})):null,!(this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode)&&r.createElement("label",{className:"exercise-options-label"},"Available answers:"),r.createElement("form",{onChange:this.handleInputChange.bind(this)},t.answers.map((function(o,i){return r.createElement("div",{key:i},!e.props.isPreviewMode&&r.createElement("label",{className:"choose-multiple-answers-item"},r.createElement("input",{type:"checkbox",disabled:n&&e.state.isCorrectnessShown,value:o.text,checked:e.getIsChecked(o)}),r.createElement("span",null,t.skipMarkdownInAnswers?o.text:r.createElement(m.Z,{source:o.text,html_in_markdown:t.html_in_markdown||!1})),r.createElement(g,{isCorrect:e.getCorrectnessState(o)})),e.props.isPreviewMode&&!e.props.showOnlyQuestionInPreviewMode&&r.createElement("span",null,t.skipMarkdownInAnswers?o.text:r.createElement(m.Z,{className:"preview-mode-draggable-items",source:o.text,html_in_markdown:t.html_in_markdown||!1})))}))))},t.prototype.getIsChecked=function(e){return!!this.state.answerCheckedMap[e.text]},t.prototype.handleInputChange=function(e){for(var t,o=e.target,n=this.getUpdatedAnswerCheckedMap(o.value,o.checked),r=[],i=[],s=function(e,o){var n=null===(t=c.props.exercise.answers.find((function(t){return t.text==e})))||void 0===t?void 0:t.isCorrect;o?r.push(new a.lK(e,n)):i.push(new a.lK(e,n))},c=this,l=0,u=Object.entries(n);l<u.length;l++){var p=u[l];s(p[0],p[1])}this.setState({isCorrectnessShown:!1,answerCheckedMap:n,givenAnswers:r,remainingAnswers:i}),this.props.onAnswerChanged&&this.props.onAnswerChanged();var d={remainingAnswers:i,givenAnswers:r};this.props.generateUserResponse(d,this.generateOverallCorrectness(d))},t.prototype.executePendingAction=function(e,t){if(e&&!e.hasBeenConsumed){t=t||this.props;var o={isCorrectnessShown:!1,answerCheckedMap:this.state.answerCheckedMap,givenAnswers:this.state.givenAnswers,remainingAnswers:this.state.remainingAnswers};switch(e.type){case u.vY.ResetExerciseAnswer:o.answerCheckedMap=this.getInitialAnswerCheckedMap(t);break;case u.vY.CheckAnswer:o.isCorrectnessShown=!0,o.answerCheckedMap=this.state.answerCheckedMap;break;case u.vY.ShowAnswer:o.answerCheckedMap=this.getAllCorrectAnswerCheckedMap(t)}this.setState(o),e.hasBeenConsumed=!0}},t.prototype.getCorrectnessState=function(e){if(this.state.isCorrectnessShown){var t=this.state.answerCheckedMap[e.text];return!(!t||!e.isCorrect)||!(t&&!e.isCorrect)&&!(!t&&e.isCorrect)&&void 0}},t.prototype.isFullyCorrect=function(){var e=this;return this.props.exercise.answers,this.props.exercise.answers.every((function(t){var o=e.getCorrectnessState(t);return!0===o||void 0===o}))},t.prototype.hasNonSelectedCorrectAnswers=function(){var e=this,t=(this.props.exercise.answers,!!this.props.exercise.answers.find((function(t){return t.isCorrect&&!e.state.answerCheckedMap[t.text]}))),o=!!this.props.exercise.answers.find((function(t){return t.isCorrect&&e.state.answerCheckedMap[t.text]})),n=0;for(var r in this.state.answerCheckedMap)this.state.answerCheckedMap[r]&&n++;return 1===n&&t&&o},t.prototype.generateOverallCorrectness=function(e){var t,o,n,r,i,s,a,c,l=(null===(n=null===(o=null===(t=this.props.exercise)||void 0===t?void 0:t.answers)||void 0===o?void 0:o.filter((function(e){return e.isCorrect})))||void 0===n?void 0:n.length)||0,u=(null===(i=null===(r=null==e?void 0:e.givenAnswers)||void 0===r?void 0:r.filter((function(e){return e.isCorrect})))||void 0===i?void 0:i.length)-(null===(a=null===(s=null==e?void 0:e.givenAnswers)||void 0===s?void 0:s.filter((function(e){return!e.isCorrect})))||void 0===a?void 0:a.length)||0;return{noCorrectAnswersOverall:l,noCorrectAnswersFromUser:u,correctness:{fullyCorrect:u==l,score:0!=l?u/l:0!=(null===(c=null==e?void 0:e.givenAnswers)||void 0===c?void 0:c.length)?0:1}}},t}(r.Component);var O=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const P=function(e){function t(t){var o=e.call(this,t)||this;return o.minContainerHeight=50,o.initPrivates(t),o.state={isCorrectnessShown:!1,remainingDescriptions:o.getInitialRemainingDescriptions(),givenDescriptions:[]},o}return O(t,e),t.prototype.componentDidMount=function(){var e=this;this.setInitialResponse(!0),this._ref&&(this.ro=new k.Z((function(t,o){window.requestAnimationFrame((function(){if(Array.isArray(t)&&t.length)for(var o=0,n=t;o<n.length;o++){var r=n[o];isNaN(Number(r.target.clientHeight))||e.updateHeight(Number(r.target.clientHeight))}}))})),this.ro.observe(this._ref))},t.prototype.componentWillUnmount=function(){},t.prototype.updateHeight=function(e){e<50&&(e=50),this.minContainerHeight=e},t.prototype.componentDidUpdate=function(e,t){JSON.stringify(e.initialResponse)!==JSON.stringify(this.props.initialResponse)&&this.setInitialResponse(!1)},t.prototype.setInitialResponse=function(e){if(this.props.initialResponse){var t=this.props.initialResponse,o=null==t?void 0:t.answers;this.setState({givenDescriptions:null==o?void 0:o.givenAnswers,remainingDescriptions:null==o?void 0:o.remainingAnswers})}else this.props.initialResponse||e||this.setState({remainingDescriptions:this.getInitialRemainingDescriptions(),givenDescriptions:[]})},t.prototype.initPrivates=function(e){this.correctDescriptions=this.getCorrectDescriptions(e),this.initialAdditionalDescriptions=this.props.exercise.additionalDescriptions.slice()},t.prototype.getCorrectDescriptions=function(e){return e.exercise.itemsAndDescriptions.map((function(e){return e.description}))},t.prototype.getInitialRemainingDescriptions=function(){return E.Z.shuffleArray(this.correctDescriptions.concat(this.props.exercise.additionalDescriptions))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.executePendingAction(e.action),E.Z.areDeepEqual(this.correctDescriptions,this.getCorrectDescriptions(e))&&E.Z.areDeepEqual(this.props.exercise.additionalDescriptions,this.initialAdditionalDescriptions)||(this.initPrivates(e),this.executePendingAction({type:u.vY.ResetExerciseAnswer,hasBeenConsumed:!1}))},t.prototype.render=function(){var e=this,t=this.props.exercise,o=t.inlineTryIt,n=this.isFullyCorrect();return r.createElement("div",null,r.createElement("h4",{className:"exercise-heading"},t.skipMarkdownInQuestion?t.question:r.createElement(m.Z,{source:t.question,html_in_markdown:t.html_in_markdown||!1})),r.createElement("label",{className:"exercise-instructions"},r.createElement("i",null,"(match items and descriptions",this.props.isPreviewMode&&r.createElement(r.Fragment,null,", ",v.i),")")),t.description?r.createElement("div",{className:"exercise-description-container",style:{fontFamily:'Lato, Arial, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',fontSize:"16px"}},r.createElement(m.Z,{source:t.description,html_in_markdown:t.html_in_markdown||!1})):null,t.code?r.createElement("pre",{className:"exercise-code-container"},t.code):null,t.inlineTryIt?r.createElement("div",null,r.createElement(b.Z,{code:o.code,codeCSS:o.codeCSS,codeHTML:o.codeHTML,codeResetVersion:o.code,codeCSSResetVersion:o.codeCSS,codeHTMLResetVersion:o.codeHTML,defaultTabKey:o.defaultTab,insideGetIt:!0,mode:o.mode,description:o.description,mimeType:o.mimeType,lambdaName:o.lambdaName,id:o.id||Math.random(),editMode:!1,forceRemove:o.forceRemove,resultEnabled:o.resultEnabled})," "):null,t.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:t.imageUrl,alt:"Exercise image"})):null,!(this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode)&&r.createElement(r.Fragment,null,r.createElement("label",{className:"exercise-options-label"},"Descriptions:"),r.createElement("div",{ref:function(t){e._ref=t}},r.createElement(C.Z,{className:"origin-draggable-container",accepts:[t.question],onDrop:function(t){return e.handleDrop(t,-1)},style:{minHeight:"".concat(this.minContainerHeight,"px")}},this.state.remainingDescriptions.map((function(o,i){return e.props.isPreviewMode?r.createElement("span",{className:"preview-mode-draggable-items"},o):r.createElement(x.Z,{type:t.question,key:i,itemIdentifier:o,isDisabled:n&&e.state.isCorrectnessShown},r.createElement("span",null,r.createElement(m.Z,{source:o,html_in_markdown:t.html_in_markdown||!1})),r.createElement(g,{isCorrect:e.getCorrectnessState(o,-1)}))}))))),!this.props.showOnlyQuestionInPreviewMode&&r.createElement(r.Fragment,null,r.createElement("label",{className:"exercise-options-label"},"Items:"),t.itemsAndDescriptions.map((function(o,i){var s=e.state.givenDescriptions[i];return r.createElement("div",{key:i},r.createElement("div",{className:"draggable-title"},t.skipMarkdownInAnswers?o.item:r.createElement(m.Z,{source:o.item,html_in_markdown:t.html_in_markdown||!1})),r.createElement(C.Z,{className:"destination-draggable-container",accepts:[t.question],onDrop:function(t){return e.handleDrop(t,i)},style:{minHeight:"2rem"}},s?r.createElement(x.Z,{type:t.question,itemIdentifier:s,isDisabled:e.props.isPreviewMode||n&&e.state.isCorrectnessShown},r.createElement("span",null,t.skipMarkdownInAnswers?s:r.createElement(m.Z,{source:s,html_in_markdown:t.html_in_markdown||!1})),r.createElement(g,{isCorrect:e.getCorrectnessState(s,i)})):null))}))))},t.prototype.handleDrop=function(e,t){var o=e.itemIdentifier,n=this.state.givenDescriptions,r=this.state.remainingDescriptions;if(this.updateHeight(0),-1===t)-1!=(i=n.indexOf(o))&&(n[i]=""),-1===r.indexOf(o)&&r.push(o);else{var i,s=r.indexOf(o);-1!=s?(r.splice(s,1),n[t]&&r.push(n[t])):-1!=(i=n.indexOf(o))&&n[t]?n[i]=n[t]:n[i]="",n[t]=o}this.setState({isCorrectnessShown:!1,remainingDescriptions:r,givenDescriptions:n}),this.props.onAnswerChanged&&this.props.onAnswerChanged();var a={remainingAnswers:r,givenAnswers:n};this.props.generateUserResponse(a,this.generateOverallCorrectness(a))},t.prototype.executePendingAction=function(e){if(e&&!e.hasBeenConsumed){var t={isCorrectnessShown:!1,remainingDescriptions:this.state.remainingDescriptions,givenDescriptions:this.state.givenDescriptions};switch(e.type){case u.vY.ResetExerciseAnswer:t.remainingDescriptions=this.getInitialRemainingDescriptions(),t.givenDescriptions=[];break;case u.vY.CheckAnswer:t.isCorrectnessShown=!0;break;case u.vY.ShowAnswer:t.givenDescriptions=this.correctDescriptions.slice(),t.remainingDescriptions=this.props.exercise.additionalDescriptions.slice()}this.setState(t),e.hasBeenConsumed=!0}},t.prototype.getCorrectnessState=function(e,t){if(this.state.isCorrectnessShown)return-1===t?-1!=this.props.exercise.additionalDescriptions.indexOf(e)&&void 0:this.state.givenDescriptions[t]===this.correctDescriptions[t]},t.prototype.isFullyCorrect=function(){var e=this.correctDescriptions.slice().sort(),t=this.state.givenDescriptions.slice().sort();return JSON.stringify(e)===JSON.stringify(t)},t.prototype.generateOverallCorrectness=function(e){var t,o,n,r=this,i=null===(t=this.correctDescriptions)||void 0===t?void 0:t.length,s=0;null===(o=null==e?void 0:e.givenAnswers)||void 0===o||o.forEach((function(e,t){e==r.correctDescriptions[t]&&s++}));var a;return a=0!=i?s/i:0!=(null===(n=null==e?void 0:e.givenAnswers)||void 0===n?void 0:n.length)?0:1,{noCorrectAnswersOverall:i,noCorrectAnswersFromUser:s,correctness:{fullyCorrect:s==i,score:a}}},t}(r.Component);var R=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const _=function(e){function t(t){var o=e.call(this,t)||this;return o.initPrivates(t),o.state={isCorrectnessShown:!1,givenAnswers:o.correctAnswers.map((function(e){return""}))},o}return R(t,e),t.prototype.componentDidMount=function(){this.setInitialResponse(!0)},t.prototype.componentDidUpdate=function(e,t){JSON.stringify(e.initialResponse)!==JSON.stringify(this.props.initialResponse)&&this.setInitialResponse(!1)},t.prototype.setInitialResponse=function(e){if(this.props.initialResponse){var t=this.props.initialResponse,o=null==t?void 0:t.answers;this.setState({givenAnswers:null==o?void 0:o.givenAnswers})}else this.props.initialResponse||e||this.setState({givenAnswers:this.correctAnswers.map((function(e){return""}))})},t.prototype.initPrivates=function(e){this.correctAnswers=e.exercise.itemsAndDescriptions.map((function(e){return e.description})),this.possibleAnswers=E.Z.shuffleArray(this.correctAnswers.concat(this.props.exercise.additionalDescriptions)),this.possibleAnswers.unshift("")},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.executePendingAction(e.action),this.initPrivates(e)},t.prototype.render=function(){var e=this,t=this.props.exercise,o=t.inlineTryIt,n=this.isFullyCorrect();return r.createElement("div",null,r.createElement("h4",{className:"exercise-heading"},t.skipMarkdownInQuestion?t.question:r.createElement(m.Z,{source:t.question,html_in_markdown:t.html_in_markdown||!1})),r.createElement("label",{className:"exercise-instructions"},r.createElement("i",null,"(match items and descriptions",this.props.isPreviewMode&&r.createElement(r.Fragment,null,", ",v.i),")")),t.description?r.createElement("div",{className:"exercise-description-container",style:{fontFamily:'Lato, Arial, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',fontSize:"16px"}},r.createElement(m.Z,{source:t.description,html_in_markdown:t.html_in_markdown||!1})):null,t.code?r.createElement("pre",{className:"exercise-code-container"},t.code):null,t.inlineTryIt?r.createElement("div",null,r.createElement(b.Z,{code:o.code,codeCSS:o.codeCSS,codeHTML:o.codeHTML,codeResetVersion:o.code,codeCSSResetVersion:o.codeCSS,codeHTMLResetVersion:o.codeHTML,defaultTabKey:o.defaultTab,insideGetIt:!0,mode:o.mode,description:o.description,mimeType:o.mimeType,lambdaName:o.lambdaName,id:o.id||Math.random(),editMode:!1,forceRemove:o.forceRemove,resultEnabled:o.resultEnabled})," "):null,t.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:t.imageUrl,alt:"Exercise image"})):null,r.createElement("label",{className:"exercise-options-label"},"Options:"),t.itemsAndDescriptions.map((function(t,o){return r.createElement("div",{key:o,className:"match-item-description-row"},r.createElement("div",null,t.item),!e.props.isPreviewMode&&r.createElement(r.Fragment,null,r.createElement("select",{onChange:function(t){return e.handleChange(t,o)},value:e.state.givenAnswers[o],disabled:n&&e.state.isCorrectnessShown},e.possibleAnswers.map((function(e,t){return r.createElement("option",{key:t,value:e},e)}))),r.createElement(g,{isCorrect:e.getCorrectnessState(o)})))})))},t.prototype.handleChange=function(e,t){var o=e.target,n=this.state.givenAnswers;n[t]=o.value,this.setState({isCorrectnessShown:!1,givenAnswers:this.state.givenAnswers});var r=this.correctAnswers.concat(this.props.exercise.additionalDescriptions);r=r.filter((function(e){var t=!1;if(n.forEach((function(o){o==e&&(t=!0)})),!t)return!0})),this.props.onAnswerChanged&&this.props.onAnswerChanged();var i={remainingAnswers:r,givenAnswers:n};this.props.generateUserResponse(i,this.generateOverallCorrectness(i))},t.prototype.getCorrectnessState=function(e){if(this.state.isCorrectnessShown)return this.state.givenAnswers[e]===this.correctAnswers[e]},t.prototype.executePendingAction=function(e){if(e&&!e.hasBeenConsumed){var t={isCorrectnessShown:!1,givenAnswers:this.state.givenAnswers};switch(e.type){case u.vY.ResetExerciseAnswer:t.givenAnswers=this.correctAnswers.map((function(e){return""}));break;case u.vY.CheckAnswer:t.isCorrectnessShown=!0;break;case u.vY.ShowAnswer:t.givenAnswers=this.correctAnswers.slice()}this.setState(t),e.hasBeenConsumed=!0}},t.prototype.isFullyCorrect=function(){var e=this.state.givenAnswers.slice(),t=this.correctAnswers.slice();return JSON.stringify(e)===JSON.stringify(t)},t.prototype.generateOverallCorrectness=function(e){var t,o,n,r=this,i=null===(t=this.correctAnswers)||void 0===t?void 0:t.length,s=0;null===(o=null==e?void 0:e.givenAnswers)||void 0===o||o.forEach((function(e,t){e==r.correctAnswers[t]&&s++}));var a;return a=0!=i?s/i:0!=(null===(n=null==e?void 0:e.givenAnswers)||void 0===n?void 0:n.length)?0:1,{noCorrectAnswersOverall:i,noCorrectAnswersFromUser:s,correctness:{fullyCorrect:s==i,score:a}}},t}(r.Component);var N=o(57672),F=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const L=function(e){function t(t){var o=e.call(this,t)||this;o.initPrivates(t),o.minRemaingAnswersContainerHeight=50;var n=o.initialRemainingAnswers.slice(),r=o.parsedCodeResult.placeholderStrings.map((function(e){return""}));return o.state={isCorrectnessShown:!1,remainingAnswers:n,givenAnswers:r},o}return F(t,e),t.prototype.componentDidMount=function(){var e=this;this.setInitialResponse(!0),this._ref&&(this.ro=new k.Z((function(t,o){window.requestAnimationFrame((function(){if(Array.isArray(t)&&t.length)for(var o=0,n=t;o<n.length;o++){var r=n[o];isNaN(Number(r.target.clientHeight))||e.updateHeight(Number(r.target.clientHeight))}}))})),this.ro.observe(this._ref))},t.prototype.componentWillUnmount=function(){this._ref&&this.ro.unobserve(this._ref)},t.prototype.updateHeight=function(e){e<50&&(e=50),this.minRemaingAnswersContainerHeight=e},t.prototype.componentDidUpdate=function(e,t){JSON.stringify(e.initialResponse)!==JSON.stringify(this.props.initialResponse)&&this.setInitialResponse(!1)},t.prototype.setInitialResponse=function(e){if(this.props.initialResponse){var t=this.props.initialResponse,o=null==t?void 0:t.answers,n=null==o?void 0:o.remainingAnswers,r=null==o?void 0:o.givenAnswers;this.setState({givenAnswers:r,remainingAnswers:n})}else this.props.initialResponse||e||(n=this.initialRemainingAnswers.slice(),r=this.parsedCodeResult.placeholderStrings.map((function(e){return""})),this.setState({remainingAnswers:n,givenAnswers:r}))},t.prototype.initPrivates=function(e){var t=this;this.currentCode=e.exercise.code,this.additionalAnswers=e.exercise.additionalCodeFragments.slice(),this.parsedCodeResult=N.Z.parse(e.exercise.code),this.correctAnswers=this.parsedCodeResult.placeholderStrings,this.initialRemainingAnswers=E.Z.shuffleArray(this.parsedCodeResult.placeholderStrings.concat(e.exercise.additionalCodeFragments)),this.longestPlaceholderLength=0,this.initialRemainingAnswers.forEach((function(e){t.longestPlaceholderLength=Math.max(e.length,t.longestPlaceholderLength)}))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.executePendingAction(e.action),this.currentCode==e.exercise.code&&E.Z.areDeepEqual(this.additionalAnswers,e.exercise.additionalCodeFragments)||(this.initPrivates(e),this.executePendingAction({type:u.vY.ResetExerciseAnswer,hasBeenConsumed:!1}))},t.prototype.render=function(){var e=this,t=this.props.exercise,o=t.inlineTryIt,n=this.isFullyCorrect();return r.createElement("div",null,r.createElement("h4",{className:"exercise-heading"},t.skipMarkdownInQuestion?t.question:r.createElement(m.Z,{source:t.question,html_in_markdown:t.html_in_markdown||!1})),r.createElement("label",{className:"exercise-instructions"},r.createElement("i",null,"(arrange the code fragments",this.props.isPreviewMode&&r.createElement(r.Fragment,null,", ",v.i),")")),t.description?r.createElement("div",{className:"exercise-description-container",style:{fontFamily:'Lato, Arial, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',fontSize:"16px"}},r.createElement(m.Z,{source:t.description,html_in_markdown:t.html_in_markdown||!1})):null,t.inlineTryIt?r.createElement("div",null,r.createElement(b.Z,{code:o.code,codeCSS:o.codeCSS,codeHTML:o.codeHTML,codeResetVersion:o.code,codeCSSResetVersion:o.codeCSS,codeHTMLResetVersion:o.codeHTML,defaultTabKey:o.defaultTab,insideGetIt:!0,mode:o.mode,description:o.description,mimeType:o.mimeType,lambdaName:o.lambdaName,id:o.id||Math.random(),editMode:!1,forceRemove:o.forceRemove,resultEnabled:o.resultEnabled})," "):null,t.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:t.imageUrl,alt:"Exercise image"})):null,!(this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode)&&r.createElement(r.Fragment,null,r.createElement("label",{className:"exercise-options-label"},"Available code fragments:"),r.createElement("div",{ref:function(t){e._ref=t}},r.createElement(C.Z,{className:"origin-draggable-container",accepts:[t.question],onDrop:function(t){return e.handleDrop(t,-1)},style:{minHeight:"".concat(this.minRemaingAnswersContainerHeight,"px")}},this.state.remainingAnswers.map((function(o,i){return e.props.isPreviewMode?r.createElement("span",{className:"preview-mode-draggable-items"},o):r.createElement(x.Z,{style:{fontFamily:"monospace"},type:t.question,key:Math.random(),itemIdentifier:o,isDisabled:n&&e.state.isCorrectnessShown},r.createElement("span",null,o),r.createElement(g,{isCorrect:e.getCorrectnessState(o)}))}))))),!this.props.showOnlyQuestionInPreviewMode&&r.createElement(r.Fragment,null,r.createElement("div",{className:"code-snippet-title"},"Code snippet:"),r.createElement("div",{className:"arrange-code-lines"},this.parsedCodeResult.linesCodeFragments.map((function(o,i){return r.createElement(M,{key:i,dragIdentifier:t.question,isCorrectnessShown:e.state.isCorrectnessShown,lineCodeFragments:o,givenAnswers:e.state.givenAnswers,correctAnswers:e.correctAnswers,longestPlaceholderLength:e.longestPlaceholderLength,disabled:n&&e.state.isCorrectnessShown||e.props.isPreviewMode,onDrop:function(t,o){return e.handleDrop(t,o)}})})))))},t.prototype.getCorrectnessState=function(e,t){if(void 0===t&&(t=-1),this.state.isCorrectnessShown)return-1===t?-1!=this.props.exercise.additionalCodeFragments.indexOf(e)&&void 0:this.correctAnswers[t]===e},t.prototype.handleDrop=function(e,t){void 0===t&&(t=-1);var o=e.itemIdentifier,n=this.state.givenAnswers,r=this.state.remainingAnswers;if(this.updateHeight(0),-1===t)-1!=(i=n.indexOf(o))&&(n[i]=""),-1===r.indexOf(o)&&r.push(o);else{var i,s=r.indexOf(o);-1!=s?(r.splice(s,1),n[t]&&r.push(n[t])):-1!=(i=n.indexOf(o))&&n[t]?n[i]=n[t]:n[i]="",n[t]=o}this.setState({isCorrectnessShown:!1,remainingAnswers:r,givenAnswers:n}),this.props.onAnswerChanged&&this.props.onAnswerChanged();var a={givenAnswers:n,remainingAnswers:r};this.props.generateUserResponse(a,this.generateOverallCorrectness(a))},t.prototype.executePendingAction=function(e){if(e&&!e.hasBeenConsumed){var t={isCorrectnessShown:!1,givenAnswers:this.state.givenAnswers,remainingAnswers:this.state.remainingAnswers};switch(e.type){case u.vY.ResetExerciseAnswer:t.givenAnswers=[],t.remainingAnswers=this.initialRemainingAnswers.slice();break;case u.vY.CheckAnswer:t.isCorrectnessShown=!0;break;case u.vY.ShowAnswer:t.remainingAnswers=this.props.exercise.additionalCodeFragments.slice(),t.givenAnswers=this.correctAnswers.slice()}e.hasBeenConsumed=!0,this.setState(t)}},t.prototype.isFullyCorrect=function(){return JSON.stringify(this.state.givenAnswers)==JSON.stringify(this.correctAnswers)},t.prototype.generateOverallCorrectness=function(e){var t,o=this.correctAnswers.length,n=0;this.correctAnswers.forEach((function(t,o){t===(null==e?void 0:e.givenAnswers[o])&&n++}));var r;return r=0!=o?n/o:0!=(null===(t=null==e?void 0:e.givenAnswers)||void 0===t?void 0:t.length)?0:1,{noCorrectAnswersOverall:o,noCorrectAnswersFromUser:n,correctness:{fullyCorrect:n==o,score:r}}},t}(r.Component);var M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t.prototype.render=function(){var e=this,t=this.props.givenAnswers,o=this.props.dragIdentifier,n=this.props.longestPlaceholderLength;return r.createElement("div",{className:"arrange-code-line"},this.props.lineCodeFragments.map((function(i,s){var a=t[i.placeholderIndex];return i.type===N.C.Code?r.createElement("pre",{key:s,style:{display:"inline-block",margin:0}},i.text):r.createElement(C.Z,{key:s,className:"destination-draggable-container",isInline:!0,style:{height:"1.1rem",width:"".concat(n+4,"ch")},accepts:[o],onDrop:function(t){return e.handleDrop(t,i.placeholderIndex)}},a?r.createElement(x.Z,{type:o,itemIdentifier:a,style:{fontFamily:"monospace"},isDisabled:e.props.disabled},r.createElement("span",null,a)):null,r.createElement(g,{isCorrect:e.getCorrectnessState(i.placeholderIndex)}))})))},t.prototype.handleDrop=function(e,t){this.props.onDrop&&this.props.onDrop(e,t)},t.prototype.getCorrectnessState=function(e){return this.props.isCorrectnessShown?this.props.givenAnswers[e]===this.props.correctAnswers[e]:null},t}(r.Component),D=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const U=function(e){function t(t){var o=e.call(this,t)||this;return o.initPrivates(t),o.state={isCorrectnessShown:!1,givenAnswers:o.correctAnswers.map((function(e){return""}))},o}return D(t,e),t.prototype.componentDidMount=function(){this.setInitialResponse(!0)},t.prototype.componentDidUpdate=function(e,t){JSON.stringify(e.initialResponse)!==JSON.stringify(this.props.initialResponse)&&this.setInitialResponse(!1)},t.prototype.setInitialResponse=function(e){if(this.props.initialResponse){var t=this.props.initialResponse,o=null==t?void 0:t.answers;this.setState({givenAnswers:null==o?void 0:o.givenAnswers})}else this.props.initialResponse||e||this.setState({givenAnswers:this.correctAnswers.map((function(e){return""}))})},t.prototype.initPrivates=function(e){this.currentCode=e.exercise.code,this.additionalAnswers=e.exercise.additionalCodeFragments.slice(),this.parsedCodeResult=N.Z.parse(e.exercise.code),this.possibleOptions=E.Z.shuffleArray(this.parsedCodeResult.placeholderStrings.concat(e.exercise.additionalCodeFragments)),this.possibleOptions.unshift(""),this.correctAnswers=this.parsedCodeResult.placeholderStrings},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.executePendingAction(e.action),this.currentCode==e.exercise.code&&E.Z.areDeepEqual(this.additionalAnswers,e.exercise.additionalCodeFragments)||(this.initPrivates(e),this.executePendingAction({type:u.vY.ResetExerciseAnswer,hasBeenConsumed:!1}))},t.prototype.render=function(){var e=this,t=this.props.exercise,o=t.inlineTryIt,n=this.handleSelected.bind(this),i=this.isFullyCorrect();return r.createElement("div",null,r.createElement("h4",{className:"exercise-heading"},t.skipMarkdownInQuestion?t.question:r.createElement(m.Z,{source:t.question,html_in_markdown:t.html_in_markdown||!1})),r.createElement("div",{className:"exercise-instructions"},r.createElement("i",null,"(arrange the code fragments",this.props.isPreviewMode&&r.createElement(r.Fragment,null,", ",v.i),")")),t.description?r.createElement("div",{className:"exercise-description-container",style:{fontFamily:'Lato, Arial, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',fontSize:"16px"}},r.createElement(m.Z,{source:t.description,html_in_markdown:t.html_in_markdown||!1})):null,t.inlineTryIt?r.createElement("div",null,r.createElement(b.Z,{code:o.code,codeCSS:o.codeCSS,codeHTML:o.codeHTML,codeResetVersion:o.code,codeCSSResetVersion:o.codeCSS,codeHTMLResetVersion:o.codeHTML,defaultTabKey:o.defaultTab,insideGetIt:!0,mode:o.mode,description:o.description,mimeType:o.mimeType,lambdaName:o.lambdaName,id:o.id||Math.random(),editMode:!1,forceRemove:o.forceRemove})," "):null,t.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:t.imageUrl,alt:"Exercise image"})):null,!this.props.isPreviewMode&&r.createElement(r.Fragment,null,r.createElement("label",{className:"exercise-options-label"},"Code:"),r.createElement("div",{className:"arrange-code-lines"},this.parsedCodeResult.linesCodeFragments.map((function(t,o){return r.createElement(j,{key:o,isCorrectnessShown:e.state.isCorrectnessShown,lineCodeFragments:t,possibleOptions:e.possibleOptions,preselectedOptions:e.state.givenAnswers,onSelected:n,disabled:i&&e.state.isCorrectnessShown})})))))},t.prototype.handleSelected=function(e,t){var o=this.state.givenAnswers;o[t]=e,this.setState({isCorrectnessShown:!1,givenAnswers:o});var n=this.correctAnswers.concat(this.props.exercise.additionalCodeFragments);n=n.filter((function(e){var t=!1;if(o.forEach((function(o){o==e&&(t=!0)})),!t)return!0})),this.props.onAnswerChanged&&this.props.onAnswerChanged();var r={givenAnswers:o,remainingAnswers:n};this.props.generateUserResponse(r,this.generateOverallCorrectness(r))},t.prototype.executePendingAction=function(e){if(e&&!e.hasBeenConsumed){var t={isCorrectnessShown:!1,givenAnswers:this.state.givenAnswers};switch(e.type){case u.vY.ResetExerciseAnswer:t.givenAnswers=this.correctAnswers.map((function(e){return""}));break;case u.vY.CheckAnswer:t.isCorrectnessShown=!0;break;case u.vY.ShowAnswer:t.givenAnswers=this.correctAnswers}this.setState(t),e.hasBeenConsumed=!0}},t.prototype.isFullyCorrect=function(){return JSON.stringify(this.state.givenAnswers)===JSON.stringify(this.correctAnswers)},t.prototype.generateOverallCorrectness=function(e){var t,o=this.correctAnswers.length,n=0;this.correctAnswers.forEach((function(t,o){t===(null==e?void 0:e.givenAnswers[o])&&n++}));var r;return r=0!=o?n/o:0!=(null===(t=null==e?void 0:e.givenAnswers)||void 0===t?void 0:t.length)?0:1,{noCorrectAnswersOverall:o,noCorrectAnswersFromUser:n,correctness:{fullyCorrect:n==o,score:r}}},t}(r.Component);var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.render=function(){var e=this;return this.handleChange.bind(this),r.createElement("div",{className:"arrange-code-line"},this.props.lineCodeFragments.map((function(t,o){return t.type===N.C.Code?r.createElement("pre",{key:o,style:{display:"inline-block",margin:0}},t.text):r.createElement("span",{className:"arrange-code-selection-container",key:o},r.createElement("select",{onChange:function(o){return e.handleChange(o,t)},value:e.props.preselectedOptions[t.placeholderIndex],disabled:e.props.disabled},e.props.possibleOptions.map((function(e,t){return r.createElement("option",{key:t,value:e},e)}))),r.createElement(g,{isCorrect:e.getCorrectnessState(e.props.preselectedOptions[t.placeholderIndex],t)}))})))},t.prototype.handleChange=function(e,t){var o=e.target;this.props.onSelected&&this.props.onSelected(o.value,t.placeholderIndex)},t.prototype.getCorrectnessState=function(e,t){return this.props.isCorrectnessShown?e===t.text:null},t}(r.Component),Z=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const B=function(e){function t(t){var o=e.call(this,t)||this;return o.state={isCorrectnessShown:!1,givenAnswer:""},o}return Z(t,e),t.prototype.componentDidMount=function(){this.setInitialResponse(!0)},t.prototype.componentDidUpdate=function(e,t){JSON.stringify(e.initialResponse)!==JSON.stringify(this.props.initialResponse)&&this.setInitialResponse(!1)},t.prototype.setInitialResponse=function(e){if(this.props.initialResponse){var t=this.props.initialResponse,o=null==t?void 0:t.answers;(null==o?void 0:o.singleAnswer)&&this.setState({givenAnswer:null==o?void 0:o.singleAnswer})}else this.props.initialResponse||e||this.setState({givenAnswer:""})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.executePendingAction(e.action)},t.prototype.render=function(){var e=this,t=this.props.exercise,o=t.inlineTryIt,n=this.isCorrectAnswerGiven();return r.createElement("div",null,r.createElement("h4",{className:"exercise-heading"},t.skipMarkdownInQuestion?t.question:r.createElement(m.Z,{source:t.question,html_in_markdown:t.html_in_markdown||!1})),r.createElement("label",{className:"exercise-instructions"},r.createElement("i",null,"(choose one answer",this.props.isPreviewMode&&r.createElement(r.Fragment,null,", ",v.i),")")),t.description?r.createElement("div",{className:"exercise-description-container",style:{fontFamily:'Lato, Arial, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',fontSize:"16px"}},r.createElement(m.Z,{source:t.description,html_in_markdown:t.html_in_markdown||!1})):null,t.code?r.createElement("pre",{className:"exercise-code-container"},t.code):null,t.inlineTryIt?r.createElement("div",null,r.createElement(b.Z,{code:o.code,codeCSS:o.codeCSS,codeHTML:o.codeHTML,codeResetVersion:o.code,codeCSSResetVersion:o.codeCSS,codeHTMLResetVersion:o.codeHTML,defaultTabKey:o.defaultTab,insideGetIt:!0,mode:o.mode,description:o.description,mimeType:o.mimeType,lambdaName:o.lambdaName,id:o.id||Math.random(),editMode:!1,forceRemove:o.forceRemove,resultEnabled:o.resultEnabled})," "):null,t.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:t.imageUrl,alt:"Exercise image"})):null,!(this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode)&&r.createElement(r.Fragment,null,r.createElement("label",{className:"exercise-options-label"},"Options:"),r.createElement("form",{onChange:this.handleChange.bind(this)},t.answers.map((function(o,i){return r.createElement("div",{key:i},e.props.isPreviewMode?r.createElement("span",{className:"preview-mode-draggable-items"}," ",o.text):r.createElement("label",{className:"choose-one-answer-item"},r.createElement("input",{type:"radio",disabled:n&&e.state.isCorrectnessShown,name:t.question,value:o.text,checked:o.text===e.state.givenAnswer,onChange:function(){}}),t.skipMarkdownInAnswers?o.text:r.createElement(m.Z,{className:"choose-one-answer-item",source:o.text,html_in_markdown:t.html_in_markdown||!1}),r.createElement(g,{isCorrect:e.getCorrectnessState(o.text)})))})))))},t.prototype.handleChange=function(e){var t=e.target;this.setState({isCorrectnessShown:!1,givenAnswer:t.value}),this.props.generateUserResponse({singleAnswer:t.value},this.generateOverallCorrectness(t.value)),this.props.onAnswerChanged&&this.props.onAnswerChanged()},t.prototype.executePendingAction=function(e){if(e&&!e.hasBeenConsumed){var t={isCorrectnessShown:!1,givenAnswer:this.state.givenAnswer};switch(e.type){case u.vY.ResetExerciseAnswer:t.givenAnswer="";break;case u.vY.CheckAnswer:t.isCorrectnessShown=!0;break;case u.vY.ShowAnswer:t.givenAnswer=this.props.exercise.correctAnswer().text}this.setState(t),e.hasBeenConsumed=!0}},t.prototype.getCorrectnessState=function(e){if(this.state.isCorrectnessShown&&e===this.state.givenAnswer)return this.isCorrectAnswerGiven()},t.prototype.isCorrectAnswerGiven=function(){var e;return(null===(e=this.props.exercise.correctAnswer())||void 0===e?void 0:e.text)===this.state.givenAnswer},t.prototype.generateOverallCorrectness=function(e){var t,o=(null===(t=this.props.exercise.correctAnswer())||void 0===t?void 0:t.text)===e?1:0;return{noCorrectAnswersOverall:1,noCorrectAnswersFromUser:o,correctness:{fullyCorrect:1==o,score:o}}},t}(r.Component);var z=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const q=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o}return z(t,e),t.prototype.componentWillUpdate=function(e,t){},t.prototype.componentWillUnmount=function(){this.root=null},t.prototype.render=function(){var e=this,t=this.props.content,o=null,n=null;switch(this.props.type){case"hint":o="#FFECEC",n="exercise-container-hint-markdown";break;case"explain":o="#ECF9FF",n="exercise-container-explain-markdown";break;case"answer":o="#F5F5F5",n="exercise-container-answer-markdown";break;default:o="#F5F5F5",n=""}var i={backgroundColor:o},s={maxHeight:this.props.visible?"4000px":"10px",backgroundColor:o},a={backgroundColor:o},c={backgroundColor:o,zIndex:99};return r.createElement("div",null,this.props.children,r.createElement("div",{className:"exercise-info-tip-main-container",style:i},this.props.type&&r.createElement("div",{className:"exercise-info-tip-title-type",style:a},this.props.type.toUpperCase()," "),r.createElement("div",{className:"exercise-info-tip-close-infotip"}," ",r.createElement("i",{className:"fa fa-times-circle close-icon",style:c,onClick:function(){return e.props.onClose()}})," "),r.createElement("div",{className:"exercise-info-tip-main-style",style:s},r.createElement(m.Z,{source:t,className:n,html_in_markdown:this.props.html_in_markdown||!1}))))},t}(r.Component);var H=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const W=function(e){function t(t){var o=e.call(this,t)||this;return o.state={answer:"",isCorrectnessShown:!1},o}return H(t,e),t.prototype.componentDidMount=function(){this.setInitialResponse(!0)},t.prototype.componentDidUpdate=function(e,t){JSON.stringify(e.initialResponse)!==JSON.stringify(this.props.initialResponse)&&this.setInitialResponse(!1)},t.prototype.setInitialResponse=function(e){if(this.props.initialResponse){var t=this.props.initialResponse,o=null==t?void 0:t.answers;(null==o?void 0:o.singleAnswer)&&this.setState({answer:null==o?void 0:o.singleAnswer})}else this.props.initialResponse||e||this.setState({answer:""})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.executePendingAction(e.action)},t.prototype.render=function(){var e=this,t=this.props.exercise,o=t.inlineTryIt,n=null;return t.suggestedAnswer&&this.state.isCorrectnessShown&&(n=r.createElement(q,{content:t.suggestedAnswer,visible:this.state.isCorrectnessShown,type:"answer",key:"show answer",html_in_markdown:t.html_in_markdown,onClose:this.handleSuggestedAnswerClose.bind(this)})),r.createElement("div",null,r.createElement("h4",{className:"exercise-heading"},t.skipMarkdownInQuestion?t.question:r.createElement(m.Z,{source:t.question,html_in_markdown:t.html_in_markdown||!1})),r.createElement("label",{className:"exercise-instructions"},r.createElement("i",null,"(write a longer answer",this.props.isPreviewMode&&r.createElement(r.Fragment,null,", ",v.i),")")),t.description?r.createElement("div",{className:"exercise-description-container",style:{fontFamily:'Lato, Arial, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',fontSize:"16px"}},r.createElement(m.Z,{source:t.description,html_in_markdown:t.html_in_markdown||!1})):null,t.code?r.createElement("pre",{className:"exercise-code-container"},t.code):null,t.inlineTryIt?r.createElement("div",null,r.createElement(b.Z,{code:o.code,codeCSS:o.codeCSS,codeHTML:o.codeHTML,codeResetVersion:o.code,codeCSSResetVersion:o.codeCSS,codeHTMLResetVersion:o.codeHTML,defaultTabKey:o.defaultTab,insideGetIt:!0,mode:o.mode,description:o.description,mimeType:o.mimeType,lambdaName:o.lambdaName,id:o.id||Math.random(),editMode:!1,forceRemove:o.forceRemove,resultEnabled:o.resultEnabled})," "):null,t.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:t.imageUrl,alt:"Exercise image"})):null,!this.props.isPreviewMode&&r.createElement(r.Fragment,null,r.createElement("label",{className:"exercise-options-label"},"Answer:"),r.createElement("textarea",{placeholder:"Your answer",onChange:this.handleAnswerChange.bind(this),value:this.state.answer,onBlur:function(t){e.updateUserResponse(t)}})),n)},t.prototype.executePendingAction=function(e){if(e&&!e.hasBeenConsumed){var t={answer:this.state.answer,isCorrectnessShown:!1};switch(e.type){case u.vY.ResetExerciseAnswer:t.answer="";break;case u.vY.CheckAnswer:case u.vY.ShowAnswer:t.isCorrectnessShown=!0}e.hasBeenConsumed=!0,this.setState(t)}},t.prototype.handleAnswerChange=function(e){this.setState({answer:e.target.value,isCorrectnessShown:this.state.isCorrectnessShown})},t.prototype.updateUserResponse=function(e){this.props.generateUserResponse({singleAnswer:e.target.value},this.generateOverallCorrectness())},t.prototype.handleSuggestedAnswerClose=function(){this.setState({answer:this.state.answer,isCorrectnessShown:!1})},t.prototype.generateOverallCorrectness=function(){return{noCorrectAnswersOverall:-1,noCorrectAnswersFromUser:-1,correctness:{fullyCorrect:null,score:-1}}},t}(r.Component);var V=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const Q=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o}return V(t,e),t.prototype.render=function(){var e=this.props.exercise,t=e.inlineTryIt;return r.createElement("div",null,r.createElement("h4",{className:"exercise-heading"},e.skipMarkdownInQuestion?e.question:r.createElement(m.Z,{source:e.question,html_in_markdown:e.html_in_markdown||!1})),r.createElement("label",{className:"exercise-instructions"},r.createElement("i",null,"(follow the instructions",this.props.isPreviewMode&&r.createElement(r.Fragment,null,", ",v.i),")")),e.description?r.createElement("div",{className:"exercise-description-container",style:{fontFamily:'Lato, Arial, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',fontSize:"16px"}},r.createElement(m.Z,{source:e.description,html_in_markdown:e.html_in_markdown||!1})):null,e.code?r.createElement("pre",{className:"exercise-code-container"},e.code):null,e.inlineTryIt?r.createElement("div",null,r.createElement(b.Z,{code:t.code,codeCSS:t.codeCSS,codeHTML:t.codeHTML,codeResetVersion:t.code,codeCSSResetVersion:t.codeCSS,codeHTMLResetVersion:t.codeHTML,defaultTabKey:t.defaultTab,insideGetIt:!0,mode:t.mode,description:t.description,mimeType:t.mimeType,lambdaName:t.lambdaName,id:t.id||Math.random(),editMode:!1,forceRemove:t.forceRemove,resultEnabled:t.resultEnabled})," "):null,e.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:e.imageUrl,alt:"Exercise image"})):null)},t.prototype.generateOverallCorrectness=function(){return{noCorrectAnswersOverall:-1,noCorrectAnswersFromUser:-1,correctness:{fullyCorrect:null,score:-1}}},t}(r.Component);var G=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const K=function(e){function t(t){var o=e.call(this,t)||this;return o.initPrivates(t),o.minContainerHeight=50,o.state={isCorrectnessShown:!1,remainingDescriptions:o.getInitialRemainingDescriptions(),givenDescriptions:[]},o}return G(t,e),t.prototype.componentDidMount=function(){var e=this;this.setInitialResponse(!0),this._ref&&(this.ro=new k.Z((function(t,o){window.requestAnimationFrame((function(){if(Array.isArray(t)&&t.length)for(var o=0,n=t;o<n.length;o++){var r=n[o];isNaN(Number(r.target.clientHeight))||e.updateHeight(Number(r.target.clientHeight))}}))})),this.ro.observe(this._ref))},t.prototype.componentWillUnmount=function(){},t.prototype.updateHeight=function(e){e<50&&(e=50),this.minContainerHeight=e},t.prototype.componentDidUpdate=function(e,t){JSON.stringify(e.initialResponse)!==JSON.stringify(this.props.initialResponse)&&this.setInitialResponse(!1)},t.prototype.setInitialResponse=function(e){if(this.props.initialResponse){var t=this.props.initialResponse,o=null==t?void 0:t.answers,n=this.convertFlatArrayToMap(null==o?void 0:o.givenAnswers),r=null==o?void 0:o.remainingAnswers;this.setState({givenDescriptions:n,remainingDescriptions:r})}else this.props.initialResponse||e||this.setState({remainingDescriptions:this.getInitialRemainingDescriptions(),givenDescriptions:[]})},t.prototype.initPrivates=function(e){this.correctDescriptions=this.getCorrectDescriptions(e),this.fixedDescriptions=this.getFixedDescriptions(e),this.initialAdditionalDescriptions=this.props.exercise.additionalDescriptions.slice()},t.prototype.getCorrectDescriptions=function(e){for(var t=e.exercise.ItemsInTableRow,o=[],n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.fixed.length;i++)for(var s=0;s<r.fixed[i].length;s++)r.fixed[i][s]||(null==o[1e4*n+100*i]&&(o[1e4*n+100*i]=new Array),o[1e4*n+100*i][s]=r.items[i][s]);return o},t.prototype.getFixedDescriptions=function(e){for(var t=e.exercise.ItemsInTableRow,o=[],n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.fixed.length;i++)for(var s=0;s<r.fixed[i].length;s++)r.fixed[i][s]&&(null==o[1e4*n+100*i]&&(o[1e4*n+100*i]=new Array),o[1e4*n+100*i][s]=r.items[i][s]);return o},t.prototype.getInitialRemainingDescriptions=function(){var e=[];return this.correctDescriptions.map((function(t,o){t.map((function(t){null!=t&&e.push(t)}))})),E.Z.shuffleArray(e.concat(this.props.exercise.additionalDescriptions))},t.prototype.compareAreEqual=function(e,t){var o=!0;return e instanceof Array==t instanceof Array&&e.filter((function(e){return null!=e})).length==t.filter((function(e){return null!=e})).length&&(e.map((function(e,n){var r=!1;e.map((function(e){r=t[n].some((function(t){return t===e}))})),r||(o=!1)})),t.map((function(t,n){var r=!1;t.map((function(t){r=e[n].some((function(e){return e===t}))})),r||(o=!1)})),o)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.executePendingAction(e.action);var t=!this.compareAreEqual(this.correctDescriptions,this.getCorrectDescriptions(e)),o=!this.compareAreEqual(this.fixedDescriptions,this.getFixedDescriptions(e)),n=!E.Z.areDeepEqual(this.props.exercise.additionalDescriptions,this.initialAdditionalDescriptions);(t||o||n)&&(this.initPrivates(e),this.executePendingAction({type:u.vY.ResetExerciseAnswer,hasBeenConsumed:!1}))},t.prototype.onlyUnique=function(e,t,o){return o.indexOf(e)===t},t.prototype.render=function(){for(var e=this,t={margin:"4px",padding:"1px 4px",borderRadius:"2px",background:"#595959",color:"white",minHeight:"20px",display:"inline-block",position:"relative",width:"calc(100% - 16px)"},o=this.props.exercise,n=o.inlineTryIt,i=this.isFullyCorrect(),s=o.numberOfColums,a=o.ItemsInTableRow||[],c=[],l=[],u=100/s+"%",p=function(n){var p=a[n];l=[];for(var h=function(s){for(var a=!1,c=[],h=0;h<p.items[s].length;h++){var m=p.items[s][h];p.fixed[s][h]?c.push(r.createElement("div",{key:"fixedItem"+h},m)):a=!0}var f=null;c.length>0&&(f=r.createElement("div",{style:t,key:"fixedItemStyle"},c));var b=void 0;if(a){var v=d.state.givenDescriptions,y=[];v.map((function(t,a){t.map((function(t,c){a==1e4*n+100*s&&y.push(r.createElement(x.Z,{key:"draggableItem"+c,type:o.question,itemIdentifier:t,isDisabled:i&&e.state.isCorrectnessShown},r.createElement("span",null,t),r.createElement(g,{isCorrect:e.getCorrectnessState(t,n,s)})))}))})),b=r.createElement(C.Z,{className:"destination-draggable-container",accepts:[o.question],onDrop:function(t){return e.handleDrop(t,n,s)},style:{minHeight:"2rem"}},y)}0==n?l.push(r.createElement("th",{key:"th"+(1e4*n+100*s),style:{padding:"3px",textAlign:"center",border:"1px solid black",width:u}},f,b)):l.push(r.createElement("td",{key:"td"+(1e4*n+100*s),style:{padding:"3px",border:"1px solid black",width:u}},f,b))},m=0;m<s;m++)h(m);c.push(r.createElement("tr",{key:"tr"+1e4*n},l))},d=this,h=0;h<a.length;h++)p(h);return r.createElement("div",null,r.createElement("h4",{className:"exercise-heading"},o.skipMarkdownInQuestion?o.question:r.createElement(m.Z,{source:o.question,html_in_markdown:o.html_in_markdown||!1})),r.createElement("label",{className:"exercise-instructions"},r.createElement("i",null,"(fill the table with items",this.props.isPreviewMode&&r.createElement(r.Fragment,null,", ",v.i),")")),o.description?r.createElement("div",{className:"exercise-description-container",style:{fontFamily:'Lato, Arial, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',fontSize:"16px"}},r.createElement(m.Z,{source:o.description,html_in_markdown:o.html_in_markdown||!1})):null,o.code?r.createElement("pre",{className:"exercise-code-container"},o.code):null,o.inlineTryIt?r.createElement("div",null,r.createElement(b.Z,{code:n.code,codeCSS:n.codeCSS,codeHTML:n.codeHTML,codeResetVersion:n.code,codeCSSResetVersion:n.codeCSS,codeHTMLResetVersion:n.codeHTML,defaultTabKey:n.defaultTab,insideGetIt:!0,mode:n.mode,description:n.description,mimeType:n.mimeType,lambdaName:n.lambdaName,id:n.id||Math.random(),editMode:!1,forceRemove:n.forceRemove,resultEnabled:n.resultEnabled})," "):null,o.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:o.imageUrl,alt:"Exercise image"})):null,r.createElement("label",{className:"exercise-options-label"},"Descriptions:"),r.createElement("table",{style:{color:"white",backgroundColor:"#595959",width:"100%",textAlign:"center"},key:"matchTable"},r.createElement("tbody",null,c)),!(this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode)&&r.createElement(r.Fragment,null,r.createElement("div",{ref:function(t){e._ref=t}},r.createElement(C.Z,{className:"origin-draggable-container",accepts:[o.question],onDrop:function(t){return e.handleDrop(t,-1,-1)},style:{minHeight:"".concat(this.minContainerHeight,"px")}},this.state.remainingDescriptions.map((function(t,n){return e.props.isPreviewMode?r.createElement("span",{className:"preview-mode-draggable-items"},t):r.createElement(x.Z,{type:o.question,key:n,itemIdentifier:t,isDisabled:i&&e.state.isCorrectnessShown},r.createElement("span",null,t),r.createElement(g,{isCorrect:e.getCorrectnessState(t,-1,-1)}))}))))))},t.prototype.handleDrop=function(e,t,o){var n=e.itemIdentifier,r=this.state.givenDescriptions,i=this.state.remainingDescriptions;if(this.updateHeight(0),-1===t&&-1===o){var s=null,a=null;r.map((function(e,t){null!=e&&e.map((function(e,o){e==n&&(s=t,a=o)}))})),r[s].splice(a,1),i.push(n)}else{var c=i.indexOf(n);if(-1!=c)i.splice(c,1),null==r[1e4*t+100*o]&&(r[1e4*t+100*o]=new Array),r[1e4*t+100*o].push(n);else{var l=null,u=null;r.map((function(e,t){null!=e&&e.map((function(e,o){e==n&&(l=t,u=o)}))})),r[l].splice(u,1),null==r[1e4*t+100*o]&&(r[1e4*t+100*o]=new Array),r[1e4*t+100*o].push(n)}}this.setState({isCorrectnessShown:!1,remainingDescriptions:i,givenDescriptions:r}),this.props.onAnswerChanged&&this.props.onAnswerChanged();var p={givenAnswers:this.convertMapToFlatArray(r),remainingAnswers:i};this.props.generateUserResponse(p,this.generateOverallCorrectness(p))},t.prototype.convertMapToFlatArray=function(e){for(var t=[],o=0,n=Object.entries(e);o<n.length;o++){var r=n[o],i=r[0],s=r[1];t.push({key:i,value:s})}return t},t.prototype.convertFlatArrayToMap=function(e){var t=[];return(null==e?void 0:e.length)&&e.forEach((function(e){t[e.key]=e.value})),t},t.prototype.executePendingAction=function(e){if(e&&!e.hasBeenConsumed){var t={isCorrectnessShown:!1,remainingDescriptions:this.state.remainingDescriptions};switch(e.type){case u.vY.ResetExerciseAnswer:t.remainingDescriptions=this.getInitialRemainingDescriptions(),t.givenDescriptions=[];break;case u.vY.CheckAnswer:t.isCorrectnessShown=!0;break;case u.vY.ShowAnswer:t.givenDescriptions=this.correctDescriptions.slice(),t.remainingDescriptions=this.props.exercise.additionalDescriptions.slice()}this.setState(t),e.hasBeenConsumed=!0}},t.prototype.getCorrectnessState=function(e,t,o){if(this.state.isCorrectnessShown)return-1===t&&-1===o?-1!=this.props.exercise.additionalDescriptions.indexOf(e)&&void 0:this.correctDescriptions[1e4*t+100*o].some((function(t){return t===e}))},t.prototype.isFullyCorrect=function(){var e=this.correctDescriptions.slice().sort(),t=this.state.givenDescriptions.slice().sort();return JSON.stringify(e)===JSON.stringify(t)},t.prototype.generateOverallCorrectness=function(e){for(var t,o,n=0,r=0,i=function(o,i){i.forEach((function(e){n++})),null===(t=e.givenAnswers)||void 0===t||t.forEach((function(e){var t=e.key,n=e.value;t==o&&(null==n||n.forEach((function(e){i.includes(e)?r++:r--})))}))},s=0,a=Object.entries(this.correctDescriptions);s<a.length;s++){var c=a[s];i(c[0],c[1])}var l;return l=0!=n?r/n:0!=(null===(o=null==e?void 0:e.givenAnswers)||void 0===o?void 0:o.length)?0:1,{noCorrectAnswersOverall:n,noCorrectAnswersFromUser:r,correctness:{fullyCorrect:r==n,score:l}}},t}(r.Component);var X=o(23828),J=o(31293),Y=o(96935),$=(o(66442),o(28302)),ee=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),te=function(){return te=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},te.apply(this,arguments)},oe=function(e){function t(t){var o=e.call(this,t)||this;return o.state={toolboxHeight:50},o.reportToolboxHeight=o.reportToolboxHeight.bind(o),o.onFragmentDropComposition=o.onFragmentDropComposition.bind(o),o.onFragmentDropOutside=o.onFragmentDropOutside.bind(o),o.onFragmentMove=o.onFragmentMove.bind(o),o.props.resetSolution(),o}return ee(t,e),t.prototype.componentDidMount=function(){},t.prototype.onChange=function(){this.props.onChange&&this.props.onChange()},t.prototype.render=function(){return r.createElement("div",null,r.createElement($.Z,{onFragmentDropComposition:this.onFragmentDropComposition,onFragmentDropOutside:this.onFragmentDropOutside,onFragmentMove:this.onFragmentMove,toolboxAvailableElements:this.props.toolboxElements,compositionElementsWithTasks:this.props.assignedElements,showCorrectIndicators:void 0!==this.props.solutionValid,focusTaskId:this.state.touchedTaskId,isDisabled:this.props.isDisabled}))},t.prototype.findTouchedTask=function(e,t){var o={x:e.x-t.naturalSize.x/2,y:e.y-t.naturalSize.y/2};return this.props.taskTargets.find((function(e){return Y.Z.isPointInsideRect(e.targetPos,o,t.naturalSize)}))},t.prototype.onFragmentDropComposition=function(e,t){var o=this.findTouchedTask(e,t);o?this.props.assignElementToTask(t.id,o.elementId):this.props.clearElementAssignment(t.id),this.setState({touchedTaskId:void 0}),this.onChange()},t.prototype.onFragmentMove=function(e,t){var o=this.findTouchedTask(e,t),n=o&&o.elementId;n!==this.state.touchedTaskId&&this.setState({touchedTaskId:n})},t.prototype.onFragmentDropOutside=function(e){this.props.clearElementAssignment(e.id),this.onChange()},t.prototype.reportToolboxHeight=function(e){this.setState({toolboxHeight:e})},t}(r.Component);const ne=(0,p.connect)((function(e,t){return te({toolboxElements:Y.Z.objectValues(J.aC.getUnassignedElements(e)),assignedElements:J.aC.getAssignedElements(e),taskTargets:Y.Z.objectValues(J.aC.getAvailableTaskTargets(e)),taskDescription:e.diagram.taskDescription,solutionValid:e.solution.solutionCorrect},t)}),(function(e){return te({},(0,X.bindActionCreators)({assignElementToTask:J.eX.assignElementToTask,clearElementAssignment:J.eX.clearElementAssignment,resetSolution:J.eX.resetSolution},e))}))(oe);var re=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ie=function(){return ie=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ie.apply(this,arguments)},se=function(e){function t(t){return e.call(this,t)||this}return re(t,e),t.prototype.componentDidMount=function(){this.updateData(this.props.json)},t.prototype.componentWillUnmount=function(){},t.prototype.updateData=function(e){this.props.setDiagramConfiguration(e),this.setState({lastError:void 0})},t.prototype.render=function(){var e=this;return r.createElement(r.Fragment,null,r.createElement(ne,{onChange:function(){e.props.onAnswerChanged&&e.props.onAnswerChanged()},isDisabled:this.props.isDisabled}))},t}(r.Component);const ae=(0,p.connect)((function(e,t){return t}),(function(e){return ie({},(0,X.bindActionCreators)({setDiagramConfiguration:J.eX.setDiagramConfiguration},e))}))(se);var ce=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),le=function(){return le=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},le.apply(this,arguments)},ue=o(98738).commonEmitter,pe=function(e){function t(t){var o=e.call(this,t)||this;return o.state={gDnDKey:null},o}return ce(t,e),t.prototype.componentDidMount=function(){var e=this;ue.on("FirstEvent",(function(t){e.setState({gDnDKey:Date()})})),this.setInitialResponse(!0)},t.prototype.componentDidUpdate=function(e){if(e.solutionLastChecked!=this.props.solutionLastChecked&&null!=this.props.solutionLastChecked&&this.props.updateIsGraphicalDnDSolutionValid(this.props.solutionValid),JSON.stringify(e.solution)!=JSON.stringify(this.props.solution)){var t={givenAnswers:this.props.solution};this.props.generateUserResponse(t,this.generateOverallCorrectness(this.props.solution))}JSON.stringify(e.initialResponse)!==JSON.stringify(this.props.initialResponse)&&this.setInitialResponse(!1)},t.prototype.setInitialResponse=function(e){if(this.props.initialResponse){var t=this.props.initialResponse;null==t||t.answers,this.props.setInitialSolution(this.props.initialResponse)}else this.props.initialResponse||e||this.props.setInitialSolution(null)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.executePendingAction(e.action)},t.prototype.executePendingAction=function(e){if(e&&!e.hasBeenConsumed){switch(e.type){case u.vY.ResetExerciseAnswer:this.props.resetSolution();break;case u.vY.CheckAnswer:this.props.validateSolution();break;case u.vY.ShowAnswer:this.props.showAnswer(),this.props.validateSolution()}this.setState({}),e.hasBeenConsumed=!0}},t.prototype.generateOverallCorrectness=function(e){return e.tempSolutionCorrect},t.prototype.render=function(){var e=this.props.exercise,t=e.inlineTryIt;return r.createElement("div",null,r.createElement("h4",{className:"exercise-heading"},e.skipMarkdownInQuestion?e.question:r.createElement(m.Z,{source:e.question,html_in_markdown:e.html_in_markdown||!1})),r.createElement("label",{className:"exercise-instructions"},r.createElement("i",null,"(drag parts of the image",this.props.isPreviewMode&&r.createElement(r.Fragment,null,", ",v.i),")")),e.description?r.createElement("div",{className:"exercise-description-container",style:{fontFamily:'Lato, Arial, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',fontSize:"16px"}},r.createElement(m.Z,{source:e.description,html_in_markdown:e.html_in_markdown||!1})):null,e.code?r.createElement("pre",{className:"exercise-code-container"},e.code):null,e.graphicalDnDJson?r.createElement("div",{style:{marginTop:"20px",marginBottom:"20px"}},r.createElement(ae,{key:this.state.gDnDKey,json:this.props.exercise.graphicalDnDJson,onAnswerChanged:this.props.onAnswerChanged,isDisabled:this.props.isPreviewMode})):null,e.inlineTryIt?r.createElement("div",null,r.createElement(b.Z,{code:t.code,codeCSS:t.codeCSS,codeHTML:t.codeHTML,codeResetVersion:t.code,codeCSSResetVersion:t.codeCSS,codeHTMLResetVersion:t.codeHTML,defaultTabKey:t.defaultTab,insideGetIt:!0,mode:t.mode,description:t.description,mimeType:t.mimeType,lambdaName:t.lambdaName,id:t.id||Math.random(),editMode:!1,forceRemove:t.forceRemove,resultEnabled:t.resultEnabled})," "):null,e.imageUrl?r.createElement("div",{className:"exercise-image-container"},r.createElement("img",{className:"exercise-image",src:e.imageUrl,alt:"Exercise image"})):null)},t}(r.Component);const de=(0,p.connect)((function(e,t){return le({solution:e.solution,solutionValid:e.solution.solutionCorrect,solutionLastChecked:e.solution.solutionLastChecked},t)}),(function(e){return le({},(0,X.bindActionCreators)({validateSolution:J.eX.validateSolution,showAnswer:J.eX.showAnswer,resetSolution:J.eX.resetSolution,setInitialSolution:J.eX.setInitialSolution},e))}))(pe);var he=o(22498),me=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fe={wrapper:{position:"relative",display:"inline-block",zIndex:98,color:"#555",cursor:"pointer"},tooltip:{position:"absolute",zIndex:99,borderRadius:"2px",border:"1px solid gray",minWidth:"75px",maxWidth:"280px",backgroundColor:"#fff",top:"100%",left:"50%",marginTop:"10px",padding:"3.2px 8px",fontSize:"14.5px",WebkitTransform:"translateX(-50%)",msTransform:"translateX(-50%)",OTransform:"translateX(-50%)",transform:"translateX(-50%)",wordWrap:"break-word"},content:{color:"#222",backgroundColor:"#fff",display:"inline",fontFamily:"inherit"},arrow:{position:"absolute",width:"0",height:"0",top:"-5px",left:"50%",marginLeft:"-5px",borderLeft:"solid transparent 5px",borderRight:"solid transparent 5px",borderBottom:"solid #fff 5px"},gap:{position:"absolute",width:"100%",height:"20px",bottom:"-20px"}};const ge=function(e){function t(t){var o=e.call(this,t)||this;return o.handleDocumentClick=o.handleDocumentClick.bind(o),o.state={visible:!1},o}return me(t,e),t.prototype.componentWillUpdate=function(e,t){this.unregisterDocumentClick(),t.visible&&this.registerDocumentClick()},t.prototype.componentWillUnmount=function(){this.root=null,this.unregisterDocumentClick()},t.prototype.show=function(){this.setVisibility(!0)},t.prototype.hide=function(){this.setVisibility(!1)},t.prototype.setVisibility=function(e){this.setState(Object.assign({},this.state,{visible:e}))},t.prototype.registerDocumentClick=function(){document.addEventListener("click",this.handleDocumentClick)},t.prototype.unregisterDocumentClick=function(){document.removeEventListener("click",this.handleDocumentClick)},t.prototype.render=function(){var e=this,t=this.props.content;try{t.length<10?fe.tooltip.minWidth="75px":t.length<20?fe.tooltip.minWidth="100px":t.length<30?fe.tooltip.minWidth="150px":t.length<40?fe.tooltip.minWidth="180px":t.length<50?fe.tooltip.minWidth="200px":fe.tooltip.minWidth="270px"}catch(e){}return r.createElement("div",{style:fe.wrapper,onClick:function(t){return e.show()},ref:function(t){return e.root=t}},this.props.children,this.state.visible&&r.createElement("div",{className:"closable-tooltip",style:fe.tooltip},r.createElement(m.Z,{source:t,html_in_markdown:this.props.html_in_markdown||!1}),r.createElement("div",{style:fe.arrow}," "),r.createElement("div",{style:fe.gap}," ")))},t.prototype.handleDocumentClick=function(e){if(this.root){var t=e.target;this.root===t||this.root.contains(t)||this.hide()}},t}(r.Component);var be=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ve={display:"inline-block",backgroundColor:"#FFECEC",padding:"2px 7px",fontSize:"14px",margin:"5px 8px 5px 0px",color:"black",cursor:"pointer"},ye={display:"inline-block",backgroundColor:"#ECF9FF",padding:"2px 7px",fontSize:"14px",margin:"5px 6px 5px 0px",color:"black",cursor:"pointer"},we={transition:"all 0.5s ease-in-out",minHeight:"70px",position:"relative"},ke={float:"right",position:"relative"},xe=function(e){function t(t){var o=e.call(this,t)||this;return o.state={action:null,containsIncorrectAnswers:!1,containsOnlyCorrectAnswers:!1,containsNotSelectedCorrectAnswers:!1,hintVisibility:!1,explanationVisibility:!1,isExerciseTooLarge:!1,showModal:!1,attemptCount:0},o.handleAnswerChanged=o.handleAnswerChanged.bind(o),o}return be(t,e),t.getDerivedStateFromError=function(e){return console.log("Error:",e),{hasError:!0}},t.prototype.render=function(){var e=this;if(this.state.hasError)return null;var t=this.props.exercise;return r.createElement(c.W,{backend:l.PD},r.createElement("div",{className:this.getClasses(),ref:function(t){return e.setRootElement(t)}},this.props.isForMentorOralExam?null:r.createElement("span",{className:"exercise-index"},this.props.index),r.createElement("div",{className:"exercise-top-toolbar-container"},this.props.isEditable?r.createElement("span",null,this.props.isFirst?null:r.createElement(he.Z,{icon:"fa-arrow-up",tooltip:"Move to previous",onClick:this.handleDecrementExercisePositionClick.bind(this)}),this.props.isLast?null:r.createElement(he.Z,{icon:"fa-arrow-down",tooltip:"Move to next",onClick:this.handleIncrementExercisePositionClick.bind(this)}),r.createElement(he.Z,{icon:"fa-trash",tooltip:"Delete",onClick:this.handleDeleteExerciseClick.bind(this)}),r.createElement(he.Z,{icon:"fa-pencil",tooltip:"Edit",onClick:this.handleEditClick.bind(this)})):null),this.getExerciseComponent(t),!(this.props.isPreviewMode||this.props.hideShowAndCheckAnswer)&&r.createElement(r.Fragment,null,r.createElement("div",{className:"exercise-bottom-toolbar-container"},r.createElement("div",null,this.props.useHintExplanationTooltips?this.generateHintExplanationTooltips():this.generateHintExplanationsPanels(),r.createElement("br",null),r.createElement("br",null),r.createElement("div",null,this.generateCorrectnessMessage()))),r.createElement("div",{className:"exercise-bottom-toolbar-container",style:{margin:"15px 0"}},r.createElement("div",{className:"exercise-bottom-toolbar-right-container"},this.generateCheckAnswerOrContinueButton())))),r.createElement(d,{isOpen:this.state.showModal,contentLabel:"cert-test",onRequestClose:function(){e.setState({showModal:!1})}},r.createElement("div",{className:"cert-test-modal--modal"},r.createElement("div",{className:"cert-test-modal--question"},"are you sure you want to submit your final exam?"),r.createElement("div",{className:"cert-test-modal--info"},"Once submitted, your exam will be automatically graded. Please check your answers before submitting."),r.createElement("div",{className:"cert-test-modal--button-container"},r.createElement("div",{className:"cert-test-modal--button cert-test-modal--button__confirm",onClick:function(){e.handleSaveRealTest()}},"confirm"),r.createElement("div",{className:"cert-test-modal--button",onClick:function(){return e.setState({showModal:!1})}},"cancel")))))},t.prototype.generateHintExplanationTooltips=function(){var e=this.props.exercise,t=!e||e.type!==a.Fr.type,o=!e||e.type!==a.Fr.type;return this.props.isRealTestMode&&(t=!1),r.createElement("div",{className:"exercise-bottom-toolbar-right-container"},o?r.createElement(he.Z,{icon:s()("fa-undo"),tooltip:"reset",text:"reset",additionalClasses:s()("reset-button",{"emphasized-reset":this.state.containsIncorrectAnswers}),labelClasses:"icon-button-label right-label",isIconToRightOfText:!0,onClick:this.handleResetClick.bind(this)}):null,e.hint?r.createElement(ge,{content:e.hint,html_in_markdown:e.html_in_markdown},r.createElement("span",{className:"tooltip-link"},"hint")):null,e.explanation&&!this.props.isRealTestMode?r.createElement(ge,{content:e.explanation,html_in_markdown:e.html_in_markdown},r.createElement("span",{className:"tooltip-link"},"explain")):null,t?r.createElement(he.Z,{icon:"fa-eye",tooltip:"show answer",text:"show answer",labelClasses:"icon-button-label",additionalClasses:"show-answer-button",onClick:this.handleShowAnswerClick.bind(this)}):r.createElement("span",{style:{display:"inline-block",width:"130px",height:"24px"}}))},t.prototype.generateHintExplanationsPanels=function(){var e=this,t=this.props.exercise,o=!t||t.type!==a.Fr.type,n=!t||t.type!==a.Fr.type;this.props.isRealTestMode&&(o=!1);var i=t.hint?r.createElement("span",{style:ve,onClick:function(){return e.toggleHint()}}," hint "):null,c=t.explanation&&!this.props.isRealTestMode?r.createElement("span",{style:ye,onClick:function(){return e.toggleExplanation()}}," explain "):null,l=null;return t.hint&&this.state.hintVisibility?l=r.createElement(q,{content:t.hint,visible:this.state.hintVisibility,type:"hint",key:"hint",html_in_markdown:t.html_in_markdown,onClose:function(){return e.closeInfoTip()}}):t.explanation&&this.state.explanationVisibility&&(l=r.createElement(q,{content:t.explanation,visible:this.state.explanationVisibility,type:"explain",key:"explain",html_in_markdown:t.html_in_markdown,onClose:function(){return e.closeInfoTip()}})),r.createElement("div",null,r.createElement("div",{style:we},l),r.createElement("div",{style:ke},n&&!this.props.isForMentorOralExam&&r.createElement(he.Z,{icon:s()("fa-undo"),tooltip:"reset",text:"reset",refBtnResetAnswerProp:this.props.refBtnResetAnswerProp,additionalClasses:s()("reset-button",{"emphasized-reset":this.state.containsIncorrectAnswers}),labelClasses:"icon-button-label right-label",isIconToRightOfText:!0,onClick:this.handleResetClick.bind(this)}),i,c,o&&!this.props.isForMentorOralExam&&r.createElement(he.Z,{icon:"fa-eye",tooltip:"show answer",text:"show answer",labelClasses:"icon-button-label",additionalClasses:"show-answer-button",onClick:this.handleShowAnswerClick.bind(this)})))},t.prototype.toggleHint=function(){this.setState({hintVisibility:!this.state.hintVisibility,explanationVisibility:!1})},t.prototype.toggleExplanation=function(){this.setState({explanationVisibility:!this.state.explanationVisibility,hintVisibility:!1})},t.prototype.closeInfoTip=function(){this.setState({explanationVisibility:!1,hintVisibility:!1})},t.prototype.setRootElement=function(e){this.root=e},t.prototype.confirmSaveAllAndSubmit=function(){this.props.isRealTestMode?this.setState({showModal:!0}):confirm("Are you sure you want to save and submit your answers?")&&this.props.initiateSaveUserResponsesCallback()},t.prototype.handleSaveRealTest=function(){this.props.initiateSaveUserResponsesCallback(),this.setState({showModal:!1})},t.prototype.generateCheckAnswerOrContinueButton=function(){var e,t=this;if(this.state.containsOnlyCorrectAnswers||"FreeFormTextExercise"===this.props.exercise.type||"InstructionsExercise"===this.props.exercise.type||this.props.isRealTestMode){var o=this.props.continueLabel||"continue";if(this.props.isRealTestMode){var n=this.props.continueLabel||"next";if(this.props.isLast&&this.props.initiateSaveUserResponsesCallback){if(this.props.isRealTestMode){var i="submit-cert-test-exam";return(null===(e=this.props.userResponses)||void 0===e?void 0:e.length)||(i+=" submit-cert-test-exam-disabled"),r.createElement("span",{className:i,onClick:function(){var e;(null===(e=t.props.userResponses)||void 0===e?void 0:e.length)&&t.confirmSaveAllAndSubmit()}},"submit exam")}return n="save all and submit",r.createElement("span",{title:n,className:"special-icon-button",onClick:function(){return t.confirmSaveAllAndSubmit()}},n)}return r.createElement("span",{title:n,className:"special-icon-button",onClick:function(e){return t.handleContinueClick(e)}},n)}return r.createElement("span",{title:o,className:"special-icon-button",onClick:function(e){return t.handleContinueClick(e)}},o)}return this.props.isForMentorOralExam?null:r.createElement(he.Z,{refBtnCheckAnswerProp:this.props.refBtnCheckAnswerProp,icon:"fa-pencil",text:this.state.containsIncorrectAnswers?"try again":"check answer",tooltip:"check answer",additionalClasses:"special-icon-button ".concat(this.state.containsIncorrectAnswers?"try-again-button":""),labelClasses:"icon-button-label",onClick:function(){return t.handleCheckAnswerClick()}})},t.prototype.getClasses=function(){return s()({"exercise-container":!0,"edit-mode":this.props.isEditable})},t.prototype.handleDeleteExerciseClick=function(){confirm("Are you sure you want to delete this exercise?")&&this.props.store.processAction(new u.T2(this.props.exercise))},t.prototype.handleDecrementExercisePositionClick=function(){this.props.store.processAction(new u.TE(this.props.exercise))},t.prototype.handleIncrementExercisePositionClick=function(){this.props.store.processAction(new u.JH(this.props.exercise))},t.prototype.handleEditClick=function(){this.props.store.processAction(new u.jD(this.props.exercise,this.props.store))},t.prototype.handleContinueClick=function(e){this.props.onContinueClick&&this.props.onContinueClick(this.props.exercise)},t.prototype.generateUserResponse=function(e,t){this.props.generateUserResponse(this.props.exercise,this.props.index,e,t)},t.prototype.setIsExerciseTooLarge=function(e){this.setState({isExerciseTooLarge:e})},t.prototype.getExerciseComponent=function(e){var t,o,n=this;if(this.props.initialResponses){var i=JSON.parse(this.props.initialResponses),s=null==i?void 0:i.find((function(e){return e.index==n.props.index}));s&&(t=s)}if(e instanceof a.vc)return r.createElement(w,{exercise:e,action:this.state.action,onAnswerChanged:this.handleAnswerChanged,isPreviewMode:this.props.isPreviewMode,showOnlyQuestionInPreviewMode:this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode,generateUserResponse:function(e,t){n.generateUserResponse(e,t)},initialResponse:t});if(e instanceof a.Aw)return(o=e).answers&&o.answers.length&&(o.answers=o.answers.filter((function(e){return e.text||e.isCorrect}))),!h.Z.isTouch&&!this.state.isExerciseTooLarge||this.props.isPreviewMode?r.createElement(T,{exercise:e,action:this.state.action,onAnswerChanged:this.handleAnswerChanged,isPreviewMode:this.props.isPreviewMode,showOnlyQuestionInPreviewMode:this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode,generateUserResponse:function(e,t){n.generateUserResponse(e,t)},initialResponse:t,isTooLargeCallback:function(e){return n.setIsExerciseTooLarge(e)}}):r.createElement(I,{exercise:o,action:this.state.action,onAnswerChanged:this.handleAnswerChanged,isPreviewMode:this.props.isPreviewMode,showOnlyQuestionInPreviewMode:this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode,generateUserResponse:function(e,t){n.generateUserResponse(e,t)},initialResponse:t});if(e instanceof a.o_)return h.Z.isTouch&&!this.props.isPreviewMode?r.createElement(U,{exercise:e,action:this.state.action,onAnswerChanged:this.handleAnswerChanged,isPreviewMode:this.props.isPreviewMode,showOnlyQuestionInPreviewMode:this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode,generateUserResponse:function(e,t){n.generateUserResponse(e,t)},initialResponse:t}):r.createElement(L,{exercise:e,action:this.state.action,onAnswerChanged:this.handleAnswerChanged,isPreviewMode:this.props.isPreviewMode,showOnlyQuestionInPreviewMode:this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode,generateUserResponse:function(e,t){n.generateUserResponse(e,t)},initialResponse:t});if(e instanceof a.RL)return(o=e).answers&&o.answers.length&&(o.answers=o.answers.filter((function(e){return e.text||e.isCorrect}))),r.createElement(B,{exercise:o,action:this.state.action,onAnswerChanged:this.handleAnswerChanged,isPreviewMode:this.props.isPreviewMode,showOnlyQuestionInPreviewMode:this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode,generateUserResponse:function(e,t){n.generateUserResponse(e,t)},initialResponse:t});if(e instanceof a.lV)return(o=e).itemsAndDescriptions&&o.itemsAndDescriptions.length&&(o.itemsAndDescriptions=o.itemsAndDescriptions.filter((function(e){return e.item&&e.description}))),h.Z.isTouch&&!this.props.isPreviewMode?r.createElement(_,{exercise:o,action:this.state.action,onAnswerChanged:this.handleAnswerChanged,isPreviewMode:this.props.isPreviewMode,showOnlyQuestionInPreviewMode:this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode,generateUserResponse:function(e,t){n.generateUserResponse(e,t)},initialResponse:t}):r.createElement(P,{exercise:o,action:this.state.action,onAnswerChanged:this.handleAnswerChanged,isPreviewMode:this.props.isPreviewMode,showOnlyQuestionInPreviewMode:this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode,generateUserResponse:function(e,t){n.generateUserResponse(e,t)},initialResponse:t});if(e instanceof a.U)return r.createElement(W,{exercise:e,action:this.state.action,isPreviewMode:this.props.isPreviewMode,showOnlyQuestionInPreviewMode:this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode,generateUserResponse:function(e,t){n.generateUserResponse(e,t)},initialResponse:t});if(e instanceof a.Fr)return r.createElement(Q,{exercise:e,isPreviewMode:this.props.isPreviewMode,showOnlyQuestionInPreviewMode:this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode,generateUserResponse:function(e,t){n.generateUserResponse(e,t)}});if(e instanceof a.JW)return r.createElement(K,{exercise:e,action:this.state.action,onAnswerChanged:this.handleAnswerChanged,isPreviewMode:this.props.isPreviewMode,showOnlyQuestionInPreviewMode:this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode,generateUserResponse:function(e,t){n.generateUserResponse(e,t)},initialResponse:t});if(e instanceof a.Py)return r.createElement(p.Provider,{store:this.props.exercise.getStore()},r.createElement(de,{exercise:e,action:this.state.action,onAnswerChanged:this.handleAnswerChanged,updateIsGraphicalDnDSolutionValid:function(e){n.updateIsGraphicalDnDSolutionValid(e)},isPreviewMode:this.props.isPreviewMode,showOnlyQuestionInPreviewMode:this.props.isPreviewMode&&this.props.showOnlyQuestionInPreviewMode,generateUserResponse:function(e,t){n.generateUserResponse(e,t)},initialResponse:t}));throw new Error("Exercise not yet supported")},t.prototype.updateIsGraphicalDnDSolutionValid=function(e){this.setState({containsIncorrectAnswers:!e,containsOnlyCorrectAnswers:e,containsNotSelectedCorrectAnswers:!1})},t.prototype.generateCorrectnessMessage=function(){return this.state.containsOnlyCorrectAnswers?r.createElement("div",{className:"correctness-message-container"},r.createElement("i",{className:"fa fa-check exercise-container-correctness-icon correct","aria-hidden":"true"})," correct!"):this.state.containsNotSelectedCorrectAnswers?r.createElement("div",{className:"correctness-message-container"},r.createElement("i",{className:"fa fa-check exercise-container-correctness-icon almost-correct","aria-hidden":"true"}),"/",r.createElement("i",{className:"fa fa-times exercise-container-correctness-icon almost-correct","aria-hidden":"true"}),"  There are multiple correct answers!"):this.state.containsIncorrectAnswers?r.createElement("div",{className:"correctness-message-container"},r.createElement("i",{className:"fa fa-times exercise-container-correctness-icon incorrect","aria-hidden":"true"}),"Try again!"):r.createElement("div",{className:"correctness-message-container"}," ")},t.prototype.handleAnswerChanged=function(){this.setState({containsIncorrectAnswers:!1,containsOnlyCorrectAnswers:!1,containsNotSelectedCorrectAnswers:!1,attemptCount:this.state.attemptCount+1}),null!==this.props.onExerciseChanged&&this.props.onExerciseChanged()},t.prototype.handleShowAnswerClick=function(){this.setState({action:new u.ck,containsIncorrectAnswers:!1,containsNotSelectedCorrectAnswers:!1})},t.prototype.handleCheckAnswerClick=function(){var e=this;this.setState({action:new u.Y5,containsIncorrectAnswers:this.state.containsIncorrectAnswers,containsNotSelectedCorrectAnswers:this.state.containsNotSelectedCorrectAnswers}),this.props.exercise.type!==a.Py.type&&setTimeout((function(){var t=!(!e.root||!e.root.querySelectorAll(".correctness-icon-incorrect").length),o=!t&&e.root.querySelectorAll(".correctness-icon-correct").length>0,n=null!=e.root.querySelector(".has-not-selected-correct-answers");e.setState({containsIncorrectAnswers:t,containsOnlyCorrectAnswers:o,containsNotSelectedCorrectAnswers:n}),e.props.onAnswerGiven&&e.props.onAnswerGiven(e.props.exercise,o&&!n)}),50)},t.prototype.handleResetClick=function(){this.closeInfoTip(),this.setState({action:new u.ib,containsIncorrectAnswers:!1,containsOnlyCorrectAnswers:!1,containsNotSelectedCorrectAnswers:!1,explanationVisibility:!1,hintVisibility:!1})},t}(r.Component),Ce=o(93379),Ee=o.n(Ce),Se=o(7795),Te=o.n(Se),Ae=o(90569),Ie=o.n(Ae),Oe=o(3565),Pe=o.n(Oe),Re=o(19216),_e=o.n(Re),Ne=o(44589),Fe=o.n(Ne),Le=o(80756),Me={};Me.styleTagTransform=Fe(),Me.setAttributes=Pe(),Me.insert=Ie().bind(null,"head"),Me.domAPI=Te(),Me.insertStyleElement=_e(),Ee()(Le.Z,Me),Le.Z&&Le.Z.locals&&Le.Z.locals,o(89859);var De=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ue=function(e,t,o,n){return new(o||(o=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},je=function(e,t){var o,n,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ze=function(e){function t(t){var o=e.call(this,t)||this;return o.initialAllowedChecked=!1,o.handleTitleEdit=o.handleTitleEdit.bind(o),o.handleDescriptionEdit=o.handleDescriptionEdit.bind(o),o.handleOnExerciseChanged=o.handleOnExerciseChanged.bind(o),o.state={currentExerciseIndex:0,userResponses:o.props.initialUserResponses?JSON.parse(o.props.initialUserResponses):[],showOnlyQuestionInPreviewMode:!1,realTestModeDisplayResults:!1},o.props.store.onChange((function(){o.setState({currentExerciseIndex:o.state.currentExerciseIndex})})),o}return De(t,e),t.prototype.setResizeObserver=function(){var e=this,t=this._container;this.ro=new k.Z((function(t,o){window.requestAnimationFrame((function(){if(Array.isArray(t)&&t.length)for(var o=0,n=t;o<n.length;o++){n[o];var r=document.querySelector(".exercise-group-container"),i=(null==r?void 0:r.offsetWidth)<600;null!=i&&i!==e.state.isSmallWidth&&e.setState({isSmallWidth:!!i})}}))})),this.ro.observe(t)},t.prototype.componentWillUnmount=function(){var e;this._container&&(null===(e=this.ro)||void 0===e||e.unobserve(this._container))},t.prototype.componentDidMount=function(){this.props.isRealTestMode&&null!=this.props.initialUserResponses&&this.handleInitializeRealTest(),this.setResizeObserver(),this.props.onComponentStateUpdate&&this.props.onComponentStateUpdate(this.state)},t.prototype.componentDidUpdate=function(e,t){this.props.isRealTestMode&&JSON.stringify(e.initialUserResponses)!==JSON.stringify(this.props.initialUserResponses)&&this.handleInitializeRealTest(),this.props.isRealTestMode&&!this.initialAllowedChecked&&(this.initialAllowedChecked=!0,this.handleInitializeRealTest2()),JSON.stringify(t)!=JSON.stringify(this.state)&&this.props.onComponentStateUpdate&&this.props.onComponentStateUpdate(this.state)},t.prototype.handleInitializeRealTest=function(){this.props.initialUserResponses&&"[]"!=this.props.initialUserResponses&&this.setState({realTestModeDisplayResults:!0})},t.prototype.handleInitializeRealTest2=function(){return Ue(this,void 0,void 0,(function(){return je(this,(function(e){switch(e.label){case 0:return[4,this.props.userCanStartCertificateTest()];case 1:return e.sent()||this.setState({realTestModeNoPermission:!0}),[2]}}))}))},t.prototype.resetUserResponses=function(){return Ue(this,void 0,void 0,(function(){var e,t=this;return je(this,(function(o){switch(o.label){case 0:return e=!1,this.props.isRealTestMode&&this.props.userCanStartCertificateTest?[4,this.props.userCanStartCertificateTest()]:[3,2];case 1:e=o.sent(),o.label=2;case 2:return e&&confirm("Are you sure you want to reset your anwers?")?this.setState({userResponses:[],realTestModeDisplayResults:!1},(function(){t.initiateSaveUserResponsesCallback()})):alert("Not allowed"),[2]}}))}))},t.prototype.render=function(){var e,t,o,n,i,a,c=this;if(this.props.isRealTestMode&&this.state.realTestModeDisplayResults&&this.props.initialUserResponses&&0!=(null===(e=this.props.aboutExerciseGroup)||void 0===e?void 0:e.totalNumberOfScorableExercises)&&!this.state.realTestModeNoPermission){var l=0,u=JSON.parse(this.props.initialUserResponses);null==u||u.forEach((function(e){var t,o,n=(null===(o=null===(t=null==e?void 0:e.correctness)||void 0===t?void 0:t.correctness)||void 0===o?void 0:o.score)||0;n>0&&(l+=n)})),l/=null===(t=this.props.aboutExerciseGroup)||void 0===t?void 0:t.totalNumberOfScorableExercises,0==(null===(o=this.props.aboutExerciseGroup)||void 0===o?void 0:o.totalNumberOfScorableExercises)&&(l=1),l*=100,l=Math.round(100*(l+Number.EPSILON))/100;var p=(null===(n=this.props.aboutExerciseGroup)||void 0===n?void 0:n.totalNumberOfScorableExercises)/100*l;p=Math.round(100*(p+Number.EPSILON))/100,null!=l&&(a=r.createElement("div",null,r.createElement("div",{className:"cert-test-results-heading"},"your exam results"),r.createElement("div",{className:"cert-test-results-main-container"},r.createElement("div",{className:"cert-test-results-main"},r.createElement("div",{className:"cert-test-results-main-text"},"exam ",l>=this.props.certTestThreshold?"passed":"failed"),r.createElement("div",{className:"cert-test-results-lower-content"},r.createElement("span",{className:"cert-test-results-main-percentage"},l,"%"),"  •  ",r.createElement("span",{className:"cert-test-results-info"},p," of ",null===(i=this.props.aboutExerciseGroup)||void 0===i?void 0:i.totalNumberOfScorableExercises," correct")),r.createElement("div",{className:"cert-test-results-lower-content-2"},l>=this.props.certTestThreshold?r.createElement("span",null,"congratulations!"):r.createElement("span",{className:"cert-test-results-lower-content-2-failed"},"you must answer ",this.props.certTestThreshold,"% of questions correctly to pass."))),l>=this.props.certTestThreshold?r.createElement("div",{className:"cert-test-retake-button-container cert-test-retake-button-container-passed"},r.createElement("span",{className:"cert-test-retake-button-container-passed-span"},"you can check on your certification status from your dashboard."),"/project/undefined"!=this.props.projectDashboardLink?r.createElement("a",{href:this.props.projectDashboardLink,className:"cert-test-retake-button"},"go to dashboard"):r.createElement("a",{href:"/",className:"cert-test-retake-button"},"go to dashboard")):r.createElement("div",{className:"cert-test-retake-button-container"},r.createElement("div",{className:"cert-test-retake-button",onClick:function(){return c.resetUserResponses()}},"retake exam")))))}this.props.isRealTestMode&&this.state.realTestModeNoPermission&&(a=r.createElement("div",null,r.createElement("div",{className:"cert-test-results-heading"},"you do not have permission to view this page")));var d=this.props.store.exercises.length>0?"Add (another) exercise":"Add exercise";return r.createElement("div",{className:s()({"exercise-group-container":!0,"small-exercise-group":this.props.isSmallExerciseGroup,"small-width-exercise-group":this.state.isSmallWidth}),ref:function(e){c._container=e}},this.props.store.title?r.createElement("h3",{onDoubleClick:this.handleTitleEdit},this.props.store.title):null,this.props.store.description?r.createElement("p",{onDoubleClick:this.handleDescriptionEdit},this.props.store.description):null,this.props.isRealTestMode&&this.state.realTestModeDisplayResults?r.createElement("div",null,a):r.createElement(r.Fragment,null,!this.props.isRealTestMode&&this.props.blurbData,this.props.isRealTestMode&&r.createElement("div",{className:"certification-test-heading-container"},r.createElement("div",{className:"certification-test-heading-container--heading"},"final exam"),r.createElement("div",{className:"certification-test-heading-container--subheading"},r.createElement("span",null,"answer ",this.props.certTestThreshold,"% of questions correctly to pass."))),this.getAllExercises(),r.createElement("div",{className:"exercise-group-toolbar-container"},this.props.isEditable?r.createElement(he.Z,{additionalClasses:"add-exercise-button",text:d,icon:"fa-plus",onClick:this.handleAddExerciseClick.bind(this)}):null,this.props.isEditable&&!0!==this.props.isForMentorOralExam?r.createElement("label",{className:"import-exercises-label"}," Import:",r.createElement("input",{type:"file",onChange:this.handleImportExercises.bind(this),accept:".json"})):null,this.props.hasResumeButton?r.createElement(he.Z,{additionalClasses:"resume-video-button",text:this.props.resumeButtonLabel||"resume video",onClick:this.props.resumeButtonClickHandler}):null,this.props.isEditable&&this.props.downloadCallback&&r.createElement("div",null,r.createElement(he.Z,{additionalClasses:"resume-video-button",text:"download as json",onClick:function(){c.props.downloadCallback&&c.props.downloadCallback()}}))),this.props.moduleFeedback))},t.prototype.generateUserResponse=function(e,t,o,n){var r=this,i=this.state.userResponses;this.state.userResponses.find((function(e){return e.index==t}))?i=i.map((function(e){return e.index!=t?e:{answers:o,correctness:n,index:t}})):i.push({answers:o,correctness:n,index:t}),i=null==i?void 0:i.sort((function(e,t){return e.index-t.index})),this.setState({userResponses:i},(function(){r.props.saveUserResponses&&!r.props.isRealTestMode&&r.initiateSaveUserResponsesCallback()}))},t.prototype.initiateSaveUserResponsesCallback=function(){var e,t,o,n={totalNumberOfExercises:(null===(e=this.props.store.exercises)||void 0===e?void 0:e.length)||0,totalNumberOfScorableExercises:null===(o=null===(t=this.props.store.exercises)||void 0===t?void 0:t.filter((function(e){return e.type!=a.Fr.type&&e.type!=a.U.type})))||void 0===o?void 0:o.length};this.props.saveUserResponses&&this.props.saveUserResponsesCallback&&this.props.saveUserResponsesCallback(this.state.userResponses,n)},t.prototype.handleOnExerciseChanged=function(){var e=this;null!==this.props.onExerciseChanged&&setTimeout((function(){e.props.onExerciseChanged(e.state)}),20)},t.prototype.getAllExercises=function(){var e=this,t=this.props.store.exercises.length-1,o=this.props.indexOffset||0;return this.props.store.exercises.map((function(n,i){return r.createElement(xe,{exercise:n,store:e.props.store,index:o+i,key:i,isEditable:e.props.isEditable,isFirst:0===i,isLast:i===t,onContinueClick:e.props.onContinueClick,onAnswerGiven:e.props.onAnswerGiven,useHintExplanationTooltips:e.props.useHintExplanationTooltips,continueLabel:i===t?e.props.lastContinueButtonLabel:void 0,isPreviewMode:e.props.isPreviewMode,hideShowAndCheckAnswer:e.props.hideShowAndCheckAnswer,showOnlyQuestionInPreviewMode:e.state.showOnlyQuestionInPreviewMode,isRealTestMode:e.props.isRealTestMode,userResponses:e.state.userResponses,generateUserResponse:function(t,o,n,r){return e.generateUserResponse(t,o,n,r)},initialResponses:e.props.saveUserResponses?e.props.initialUserResponses:null,initiateSaveUserResponsesCallback:function(){e.initiateSaveUserResponsesCallback()},isForMentorOralExam:e.props.isForMentorOralExam,onExerciseChanged:e.handleOnExerciseChanged,refBtnResetAnswerProp:e.props.refBtnResetAnswerProp,refBtnCheckAnswerProp:e.props.refBtnCheckAnswerProp})}))},t.prototype.handleAddExerciseClick=function(){this.props.store.processAction(new u.Vx(this.props.store))},t.prototype.handleImportExercises=function(e){var t=this,o=e.target,n=o.files&&o.files[0],r=new FileReader;r.onload=function(e){var o=e.target.result;try{var n=JSON.parse(o);n&&n.length?t.props.store.processAction(new u.WJ(n.map((function(e){return a.cd.fromObject(e)})))):alert("Couldn't find any exercises")}catch(e){alert("Error when importing exercises: ".concat(e))}},r.readAsText(n,"UTF-8")},t.prototype.handleTitleEdit=function(){if(this.props.isEditable){var e=prompt("Enter new title",this.props.store.title);e&&e!=this.props.store.title&&this.props.store.processAction(new u._3(e))}},t.prototype.handleDescriptionEdit=function(){if(this.props.isEditable){var e=prompt("Enter new description",this.props.store.description);e&&e!=this.props.store.description&&this.props.store.processAction(new u.dK(e))}},t}(r.Component);const Be=Ze},55923:(e,t,o)=>{"use strict";o.d(t,{C:()=>f});var n=o(85825),r=function(){function e(){}return e.prototype.executeTryItYourselfCode=function(e,t,o,n,r){return new Promise((function(e,t){e("")}))},e.prototype.getTryItYourselfProgrammingLanguages=function(){return new Promise((function(e,t){e("")}))},e}();if(window){var i=window;i.cordovaAdapter=new r,i.cordovaAdapter.utils=function(){}}const s=r;var a,c,l=o(87810);!function(e){e[e.Unknown=0]="Unknown",e[e.Browser=1]="Browser",e[e.Cordova=2]="Cordova",e[e.Electron=3]="Electron"}(a||(a={})),function(e){e[e.Unknown=0]="Unknown",e[e.Android=1]="Android",e[e.Linux=2]="Linux",e[e.MacOS=3]="MacOS",e[e.iOs=4]="iOs",e[e.Windows=5]="Windows",e[e.WindowsMobile=6]="WindowsMobile"}(c||(c={}));var u,p=window.cordova||null,d=window.electron||null;function h(e){switch(e){case a.Browser:return new n.Z;case a.Cordova:return new s;case a.Electron:return new l.Z;default:return new n.Z}}function m(){return u||(u=h()),u}(new(function(){function e(){var e=this;this.deviceReadyPromise=new Promise((function(t,o){p?document.addEventListener("deviceready",(function(){return t(e.getDeviceInfo())}),!1):document.addEventListener("DOMContentLoaded",(function(){return t(e.getDeviceInfo())}),!1)}))}return e.prototype.loadDeviceInfo=function(){return this.deviceReadyPromise},e.prototype.getDeviceInfo=function(){return{isTouchDevice:this.isTouchDevice(),platform:this.getPlatform(),os:this.getOS()}},e.prototype.isTouchDevice=function(){return"ontouchstart"in window||!!window.navigator.maxTouchPoints},e.prototype.getPlatform=function(){return p||d?p?a.Cordova:d?a.Electron:a.Unknown:a.Browser},e.prototype.getOS=function(){if(p)switch(p.platformId){case"osx":case"macos":return c.MacOS;case"android":return c.Android;case"ios":return c.iOs;default:return c.Unknown}},e}())).loadDeviceInfo().then((function(e){u=h(e.platform)}));const f=new(function(){function e(){}return e.prototype.getSupportedLanguagesInfo=function(){return m().getTryItYourselfProgrammingLanguages()},e.prototype.executeCode=function(e,t,o,n,r){return m().executeTryItYourselfCode(e||"",t||"",o||"",n,r)},e}())},85825:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _common_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(72458),REJECT_PERMISSION_ERROR_403_401="Unfortunatelly, you do not have permission to access to this page!",debug=!1,url=window.location.href;-1===url.indexOf("localhost")&&-1===url.indexOf("192.168.0.")&&-1===url.indexOf("livevideo-ui-dev")&&-1===url.indexOf("lv-test-ui")&&-1===url.indexOf("livevideo-qa.manning")||(debug=!0);var BrowserAdapterForTryIts=function(){function BrowserAdapterForTryIts(){this.URLBase=(0,_common_common__WEBPACK_IMPORTED_MODULE_0__.Rs)(),this.newUtils=new Utils}return BrowserAdapterForTryIts.prototype.addInfiniteLoopProtection=function(e){var t=this,o=1,n=[],r="_wmloopvar";return new Promise((function(i){t.getEsprimaSource().then((function(t){t.parse(e,{tolerant:!0,range:!0,jsx:!0},(function(e){switch(e.type){case"DoWhileStatement":case"ForStatement":case"ForInStatement":case"ForOfStatement":case"WhileStatement":var t=1+e.body.range[0],i=e.body.range[1],s='\nif (Date.now() - %d > 1000) { console.log("Infinite loop"); break;}\n'.replace("%d",r+o),a="";"BlockStatement"!==e.body.type&&(s="{"+s,a="}",--t),n.push({pos:t,str:s}),n.push({pos:i,str:a}),n.push({pos:e.range[0],str:"var %d = Date.now();\n".replace("%d",r+o)}),++o}})),n.sort((function(e,t){return t.pos-e.pos})).forEach((function(t){e=e.slice(0,t.pos)+t.str+e.slice(t.pos)})),i(e)}))}))},BrowserAdapterForTryIts.prototype.getEsprimaSource=function(){return this.esprimaSourcePromise||(this.esprimaSourcePromise=Promise.resolve().then(__webpack_require__.t.bind(__webpack_require__,31072,23))),this.esprimaSourcePromise},BrowserAdapterForTryIts.prototype.executeTryItYourselfCode=function(code,newCodeCSS,newCodeHTML,language,lambdaName){var _this=this;return new Promise((function(resolve,reject){var url=_this.URLBase+"/code/runTryItYourself",executable=!0,method="POST",lambdaCode;if(lambdaCode="execVueCode"==lambdaName?{code,vue:newCodeHTML,lambda_name:lambdaName}:{code,lambda_name:lambdaName},"UnknownLambda"==lambdaName&&alert("Problem with code execution"),"javascript"!=lambdaName&&"js/html/css"!=lambdaName&&"d3.js"!=lambdaName&&"execKotlinCode"!=lambdaName){var query=JSON.stringify(lambdaCode);debug&&console.log("%cexecuteTryItYourselfCode","background: #ffbf00; color: black"),_this.newUtils.sendJSONQueryToURL(url,method,query,!1).then((function(e){return resolve(e)})).catch((function(e){reject(e)}))}else if("javascript"==lambdaName){var oldLog_1=console.log,oldErrorLog_1=console.error,fullMessage_1="";console.log=function(e){for(var t=Array.prototype.slice.call(arguments),o="",n=0;n<t.length;n++)"string"==typeof t[n]||"number"==typeof t[n]||"boolean"==typeof t[n]?o+=" "+t[n]:o+=" "+JSON.stringify(t[n]);fullMessage_1+="<br />"+o,oldLog_1.apply(console,arguments)},_this.addInfiniteLoopProtection(code).then((function(newCode){eval(newCode),console.log=oldLog_1,console.error=oldErrorLog_1,resolve({lambda_output:fullMessage_1})})).catch((function(e){fullMessage_1=e.toString(),console.log=oldLog_1,console.error=oldErrorLog_1,resolve({lambda_output:fullMessage_1})}))}else if("js/html/css"==lambdaName){var latestCode=code||"",latestCSSCode=newCodeCSS||"",latestHTMLCode=newCodeHTML||"";resolve({lambda_output:'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style>'+latestCSSCode+'</style></head><body><div id="mountHere"></div>'+latestHTMLCode+"</body><script>"+latestCode+"<\/script></html>"})}else if("d3.js"==lambdaName){var latestCode=code||"",latestCSSCode=newCodeCSS||"",latestHTMLCode=newCodeHTML||"";resolve({lambda_output:'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style>'+latestCSSCode+'</style></head><body><div id="mountHere"><script src="https://d3js.org/d3.v4.min.js"><\/script></div>'+latestHTMLCode+"</body><script>"+latestCode+"<\/script></html>"})}else if("execKotlinCode"==lambdaName){var query=JSON.stringify(lambdaCode);debug&&console.log("%cexecuteTryItYourselfCode","background: #ffbf00; color: black"),_this.newUtils.sendJSONQueryToURL(url,method,query,!1).then((function(e){var t="";null!=e.result&&(null!=JSON.parse(e.lambda_output).output&&(t=_this.newUtils.nl2br(_this.newUtils.decodeBase64(JSON.parse(e.lambda_output).output||""))),null!=JSON.parse(e.lambda_output).error&&(t=_this.newUtils.nl2br(_this.newUtils.decodeBase64(JSON.parse(e.lambda_output).error||"")))),resolve({lambda_output:t||""})})).catch((function(e){reject(e)}))}}))},BrowserAdapterForTryIts.prototype.getTryItYourselfProgrammingLanguages=function(){var e=this;return new Promise((function(t,o){var n=e.URLBase+"/code/getTryItYourselfDetails";debug&&console.log("%cgetTryItYourselfProgrammingLanguages","background: #ffbf00; color: black"),e.newUtils.obtainJSONFromURL(n,"POST",!1).then((function(e){return t(e)})).catch((function(e){o(e)}))}))},BrowserAdapterForTryIts}();const __WEBPACK_DEFAULT_EXPORT__=BrowserAdapterForTryIts;var Utils=function(){function e(){}return e.prototype.sendJSONQueryToURL=function(e,t,o,n){var r=this;return new Promise((function(i,s){var a=r.createCORSRequest(t,e),c=r;a.onload=function(e){var t=e.target;if(null!=t)if(200==t.status){var o=JSON.parse(t.response);"200 Success"==o.result?i(o):i(!1)}else 401==t.status||403==t.status?(console.log(t.status),s(REJECT_PERMISSION_ERROR_403_401)):s(t.status);else s(e)},a.onerror=function(r){console.log("Could not fetch data (5)",r),n?s(r):c.newRefreshLogin().then((function(n){setTimeout((function(){c.sendJSONQueryToURL(e,t,o,!0).then((function(e){i(e)}))}),2500)})).catch((function(e){console.log("error",e)}))},a.send(o)}))},e.prototype.nl2br=function(e,t){return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(t||void 0===t?"<br />":"<br>")+"$2")},e.prototype.obtainJSONFromURL=function(e,t,o){var n=this;return new Promise((function(r,i){var s=n.createCORSRequest(t,e);s.setRequestHeader("X-Requested-With","XMLHttpRequest");var a=n;s.onload=function(e){var t=e.target;if(null!=t)if(200==t.status){var o=t.response,n=JSON.parse(o);null!=n.error&&""!=n.error?i(n.error):r(n)}else 401==t.status||403==t.status?(console.log(t.status),i("Unfortunatelly, you do not have permission to access this page!")):console.log(t.status+" 2")},s.onerror=function(n){console.log("Could not fetch data (1)",n),o?i(n):a.newRefreshLogin().then((function(o){setTimeout((function(){a.obtainJSONFromURL(e,t,!0).then((function(e){r(e)}))}),2500)})).catch((function(e){console.log("error",e)}))},s.send()}))},e.prototype.newRefreshLogin=function(){return new Promise((function(t,o){null!=e.inititatedRefresh||(e.inititatedRefresh=new Promise((function(t,o){var n=(0,_common_common__WEBPACK_IMPORTED_MODULE_0__.Rs)()+"/user/userIsLoggedInCAS?timestamp"+Date.now(),r=document.getElementById("myIFrame");r?(r.src=n,e.inititatedRefresh=null,t(!0)):o(!1)}))),t(e.inititatedRefresh)}))},e.prototype.decodeBase64=function(e){var t,o,n,r={},i=0,s=0,a="",c=String.fromCharCode,l=e.length;for(t=0;t<64;t++)r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(o=0;o<l;o++)for(i=(i<<6)+r[e.charAt(o)],s+=6;s>=8;)((n=i>>>(s-=8)&255)||o<l-2)&&(a+=c(n));return a},e.prototype.createCORSRequest=function(e,t){var o=new XMLHttpRequest;o.withCredentials=!0,o.getAllResponseHeaders();var n=window;return"withCredentials"in o?(o.open(e,t,!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest")):void 0!==n.XDomainRequest?((o=new n.XDomainRequest).open(e,t,!1),o.setRequestHeader("X-Requested-With","XMLHttpRequest")):o=null,o},e.inititatedRefresh=null,e}()},87810:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var ElectronAdapter=function(){function e(){}return e.prototype.executeTryItYourselfCode=function(e,t,o,n,r){return new Promise((function(e,t){e("")}))},e.prototype.getTryItYourselfProgrammingLanguages=function(){return new Promise((function(e,t){e("")}))},e}(),Utils=function(){function e(){}return e.root="electron/",e}();if(window){var manningSiteLink=document.querySelector("#manning-site-link");manningSiteLink&&manningSiteLink.addEventListener("click",(function(e){return e.preventDefault(),eval("require('electron').shell.openExternal('https://www.manning.com/')"),!1}))}const __WEBPACK_DEFAULT_EXPORT__=ElectronAdapter},72458:(e,t,o)=>{"use strict";function n(){var e=window.location.href,t="https://livevideo-be.manning.com";return-1!==e.indexOf("localhost")||-1!==e.indexOf("192.168.0.")||-1!==e.indexOf("liveproject-qa.manning.com")||-1!==e.indexOf("pbc-qa.manning.com")||-1!==e.indexOf("livevideo-qa.manning.com")||-1!==e.indexOf("livevideo-ui-dev")?"https://livevideo-be-dev.manning.com":-1!==e.indexOf("livevideo.manning.com")||-1!==e.indexOf("pbc.manning.com")||-1!==e.indexOf("liveproject.manning.com")||-1!==e.indexOf("livevideo-ui-prod")?t:-1!==e.indexOf("lv-test-ui")||-1!==e.indexOf("lp-test-ui")||-1!==e.indexOf("lv-test-prod-ui")?"http://localhost:8080":-1!==e.indexOf("livevideo-tokens.manning.com")?"https://livevideo-be-tokens.manning.com":(console.log("Possible problem detected"),t)}function r(e){for(var t=(e||"").toLowerCase(),o=["js/html/css","vue.js","d3.js"],n=0;n<=o.length;n++)if(o[n]==t)return!0;return!1}function i(e){for(var t=(e||"").toLowerCase(),o=["js/html/css","vue.js","d3.js"],n=0;n<=o.length;n++)if(o[n]==t)return!0;return!1}function s(e){var t=(e||"").toLowerCase();return"javascript"==t||"ecmascript 6"==t||"vue.js"==t||"js/html/css"==t||"d3.js"==t?"JavaScript":"elm"==t?"Elm":"Code"}o.d(t,{FD:()=>r,Rs:()=>n,nA:()=>s,zS:()=>i})},22253:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});var n,r=o(67294),i=o(71599),s=o(94184),a=o.n(s),c=o(84813),l=o(96561),u=o(72458),p=o(340),d=o(55923),h=(o(89859),o(50425),o(85960)),m=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const f=function(e){function t(t,o){var n=e.call(this,t,o)||this;n.wasResultEverShown=!1,n._codemirror=null,n._iframe=null,n.initialFrameHeight="50px",n.initialCode=null,n.initialCSSCode=null,n.initialHTMLCode=null,n.defaultTab=null,n.forceRemove=null,n.tryItWasModifiedByUser=!1,n.indexNumerationFix=0;var r=Math.floor(99999999999*Math.random()),i=(0,u.FD)(n.props.mode),s=(0,u.zS)(n.props.mode),a=(0,u.nA)(n.props.mode);n.initialCode=n.props.code,n.initialCSSCode=n.props.codeCSS,n.initialHTMLCode=n.props.codeHTML,n.defaultTab=Number(n.props.defaultTabKey)-n.indexNumerationFix||0,n.defaultTab<0&&(n.defaultTab=0);var c=0;null!=n.props.defaultTabKey&&(c=Number(n.props.defaultTabKey)-n.indexNumerationFix),null!=n.props.activeTabKey&&(c=Number(n.props.activeTabKey)-n.indexNumerationFix),c<0&&(c=0);var l=!0;return null!=n.props.resultEnabled&&(l=n.props.resultEnabled),n.state={latestCode:n.props.code,latestCSSCode:n.props.codeCSS,latestHTMLCode:n.props.codeHTML,activeTab:c||0,result:"",isCSSEnabled:i,isHTMLEnabled:s,running:!1,identificator:r,iframe_height:n.initialFrameHeight,iframe_key:Date()+"_"+r,codemirror_key:Date()+"_"+Math.floor(999999999*Math.random()),mainTabName:a,description:n.props.description,resultEnabled:l},n.forceRemove=n.props.forceRemove||{forceRemoveTab1:!1,forceRemoveTab2:!1,forceRemoveTab3:!1},n}return m(t,e),t.prototype.componentDidMount=function(){var e=this;e._codemirror&&e._codemirror.codeMirror.refresh(),setTimeout((function(){e._codemirror&&e._codemirror.codeMirror.refresh()}),1e3)},t.prototype.updateLatestCode=function(e){this.setState({latestCode:e}),this.tryItWasModifiedByUser||null==this.props.userWasTyping||(this.tryItWasModifiedByUser=!0,this.props.userWasTyping()),null!=this.props.onChange&&this.props.onChange(e,this.state.latestCSSCode,this.state.latestHTMLCode,this.state.description,Number(this.defaultTab)+this.indexNumerationFix,Number(this.state.activeTab)+this.indexNumerationFix,this.forceRemove,this.state.resultEnabled)},t.prototype.updateLatestCSSCode=function(e){this.setState({latestCSSCode:e}),this.tryItWasModifiedByUser||null==this.props.userWasTyping||(this.tryItWasModifiedByUser=!0,this.props.userWasTyping()),null!=this.props.onChange&&this.props.onChange(this.state.latestCode,e,this.state.latestHTMLCode,this.state.description,Number(this.defaultTab)+this.indexNumerationFix,Number(this.state.activeTab)+this.indexNumerationFix,this.forceRemove,this.state.resultEnabled)},t.prototype.updateLatestHTMLCode=function(e){this.setState({latestHTMLCode:e}),this.tryItWasModifiedByUser||null==this.props.userWasTyping||(this.tryItWasModifiedByUser=!0,this.props.userWasTyping()),null!=this.props.onChange&&this.props.onChange(this.state.latestCode,this.state.latestCSSCode,e,this.state.description,Number(this.defaultTab)+this.indexNumerationFix,Number(this.state.activeTab)+this.indexNumerationFix,this.forceRemove,this.state.resultEnabled)},t.prototype.updateDefaultTab=function(e){this.defaultTab=e;var t=this.defaultTab,o=this.forceRemove,n=o.forceRemoveTab1,r=o.forceRemoveTab2,i=o.forceRemoveTab3;0==t?n=!1:1==t?r=!1:2==t&&(i=!1),o={forceRemoveTab1:n,forceRemoveTab2:r,forceRemoveTab3:i},this.setState({activeTab:e}),this.forceRemove=o,null!=this.props.onChange&&this.props.onChange(this.state.latestCode,this.state.latestCSSCode,this.state.latestHTMLCode,this.state.description,Number(e)+this.indexNumerationFix,Number(e)+this.indexNumerationFix,o,this.state.resultEnabled),null!=this.props.onTabChange&&this.props.onTabChange(this.state.latestCode,this.state.latestCSSCode,this.state.latestHTMLCode,this.state.description,Number(e)+this.indexNumerationFix,Number(e)+this.indexNumerationFix)},t.prototype.forceRemoveTab=function(e){var t=this.forceRemove,o=t.forceRemoveTab1,n=t.forceRemoveTab2,r=t.forceRemoveTab3;0==e?o=!o:1==e?n=!n:2==e&&(r=!r);var i=this.defaultTab;0==i?o=!1:1==i?n=!1:2==i&&(r=!1),1==o&&1==n&&1==r&&(0==e?o=!1:1==e?n=!1:2==e&&(r=!1)),this.setState({activeTab:e}),t={forceRemoveTab1:o,forceRemoveTab2:n,forceRemoveTab3:r},this.forceRemove=t,null!=this.props.onChange&&this.props.onChange(this.state.latestCode,this.state.latestCSSCode,this.state.latestHTMLCode,this.state.description,Number(this.defaultTab)+this.indexNumerationFix,Number(this.state.activeTab)+this.indexNumerationFix,this.forceRemove,this.state.resultEnabled)},t.prototype.focusExit=function(e){this.props.editMode&&(e||null==this.props.onFocusExit||this.props.onFocusExit(this.state.latestCode,this.state.latestCSSCode,this.state.latestHTMLCode,this.state.description,Number(this.defaultTab)+this.indexNumerationFix,Number(this.state.activeTab)+this.indexNumerationFix,this.forceRemove,this.state.resultEnabled))},t.prototype.handleSelectKey=function(e){this.setState({activeTab:e}),null!=this.props.onFocusExit&&this.props.onFocusExit(this.state.latestCode,this.state.latestCSSCode,this.state.latestHTMLCode,this.state.description,Number(this.defaultTab)+this.indexNumerationFix,Number(e)+this.indexNumerationFix,this.forceRemove,this.state.resultEnabled)},t.prototype.runCode=function(e){var t=this;this.wasResultEverShown=!0;var o=this.state.latestCode,n=this.state.latestCSSCode,r=this.state.latestHTMLCode;this.state.activeTab,this.setState({latestCode:this.state.latestCode,running:!0}),null!=this.props.tryItWasRun&&this.props.tryItWasRun(),d.C.executeCode(o,n,r,this.props.mode,this.props.lambdaName).then((function(e){var o=e;null==o.lambda_output&&(o.lambda_output=""),o.lambda_output=o.lambda_output.split("\\n").join("\n"),t.setState({result:o.lambda_output,latestCode:t.state.latestCode,running:!1,iframe_key:Math.random()+"_"+t.state.identificator})})).catch((function(e){return alert(e)}))},t.prototype.resetCode=function(){this.wasResultEverShown=!1,this.setState({result:"",latestCode:this.props.codeResetVersion||this.initialCode||"",latestCSSCode:this.props.codeCSSResetVersion||this.initialCSSCode||"",latestHTMLCode:this.props.codeHTMLResetVersion||this.initialHTMLCode||"",activeTab:this.props.tabResetVersion||this.defaultTab,iframe_height:this.initialFrameHeight,iframe_key:Math.random()+"_"+this.state.identificator,codemirror_key:Math.random()+"_"+this.state.identificator}),null!=this.props.onChange&&this.props.onChange(this.props.codeResetVersion||this.initialCode,this.props.codeCSSResetVersion||this.initialCSSCode,this.props.codeHTMLResetVersion||this.initialHTMLCode,"",Number(this.props.tabResetVersion)+this.indexNumerationFix||Number(this.defaultTab)+this.indexNumerationFix,Number(this.props.tabResetVersion)+this.indexNumerationFix||Number(this.defaultTab)+this.indexNumerationFix,{forceRemoveTab1:!1,forceRemoveTab2:!1,forceRemoveTab3:!1},!0),null!=this.props.onFocusExit&&this.props.onFocusExit(this.props.codeResetVersion||this.initialCode,this.props.codeCSSResetVersion||this.initialCSSCode,this.props.codeHTMLResetVersion||this.initialHTMLCode,this.state.description,Number(this.props.tabResetVersion)+this.indexNumerationFix||Number(this.defaultTab)+this.indexNumerationFix,Number(this.state.activeTab)+this.indexNumerationFix,{forceRemoveTab1:!1,forceRemoveTab2:!1,forceRemoveTab3:!1},!0)},t.prototype.updateFrameHeight=function(){var e=document.getElementById("iframe"+this.state.identificator);if(null!=e){var t=e.contentWindow.document.body.scrollHeight+0+"px",o=Number(t.replace("px",""));o!=Number(this.state.iframe_height.replace("px",""))&&this.setState({iframe_height:o+"px"})}},t.prototype.handleDescriptionChange=function(){var e=document.querySelector("#description_"+this.state.identificator),t=null!=e?e.textContent:"";this.setState({description:t}),null!=this.props.onChange&&this.props.onChange(this.state.latestCode,this.state.latestCSSCode,this.state.latestHTMLCode,t,Number(this.defaultTab)+this.indexNumerationFix,Number(this.state.activeTab)+this.indexNumerationFix,this.forceRemove,this.state.resultEnabled)},t.prototype.toggleResultEnabled=function(){var e=this;this.setState({resultEnabled:!this.state.resultEnabled},(function(){null!=e.props.onChange&&e.props.onChange(e.state.latestCode,e.state.latestCSSCode,e.state.latestHTMLCode,e.state.description,Number(e.defaultTab)+e.indexNumerationFix,Number(e.state.activeTab)+e.indexNumerationFix,e.forceRemove,e.state.resultEnabled),null!=e.props.onFocusExit&&e.props.onFocusExit(e.state.latestCode,e.state.latestCSSCode,e.state.latestHTMLCode,e.state.description,Number(e.defaultTab)+e.indexNumerationFix,Number(e.state.activeTab)+e.indexNumerationFix,e.forceRemove,e.state.resultEnabled)}))},t.prototype.handlePaste=function(e){e.preventDefault();var t=window,o="";e.clipboardData||e.originalEvent.clipboardData?o=(e.originalEvent||e).clipboardData.getData("text/plain"):t.clipboardData&&(o=t.clipboardData.getData("Text")),document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,o):document.execCommand("paste",!1,o)},t.prototype.render=function(){var e=this,t=(this.props.mode,"HTML"),o={lineNumbers:!0,readOnly:!1,lineWrapping:!0,mode:this.props.mimeType,theme:"motheb-day"},n={lineNumbers:!0,readOnly:!1,lineWrapping:!0,mode:"text/html",theme:"motheb-day"},i={border:"0px",margin:"0px",backgroundColor:"#f6f6f6",clear:"both",minHeight:"100px",maxHeight:"1000px",overflow:"auto",fontSize:"12px",color:"#476f93",borderLeft:"solid 1px #d7d7d7",borderRight:"solid 1px #d7d7d7",borderBottom:"solid 1px #d7d7d7",width:"100%",height:this.state.iframe_height},s=null==this.state.latestCSSCode||""==this.state.latestCSSCode?{color:"#476f93",fontFamily:'Consolas,"courier new"',fontSize:"14px"}:null,u=r.createElement("span",null);null!=this.state.description&&""!=this.state.description&&(u=r.createElement("span",null,"- ",r.createElement("span",{contentEditable:this.props.editMode,id:"description_"+this.state.identificator,onBlur:function(){e.handleDescriptionChange()},onPaste:function(t){return e.handlePaste(t)}},this.state.description)));var d=null,m=null,f=this.props.mode.toLowerCase();if("javascript"==f||"ecmascript 6"==f)m=r.createElement(l.ZP,{key:"javascript_"+this.state.identificator,style:i,id:"iframe"+this.state.identificator,ref:function(t){return e._iframe=t},contentDidMount:function(){e.updateFrameHeight()},contentDidUpdate:function(){e.updateFrameHeight()}},r.createElement("span",{style:s,dangerouslySetInnerHTML:{__html:this.state.result}}),d,r.createElement("div",{id:"mount"}));else if("js/html/css"==f){var g=null!=this.state.result&&""!=this.state.result?this.state.result:'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style></style></head><body><div id="main"></div><div id="mountHere"></div></body></html>';m=r.createElement(l.ZP,{key:this.state.iframe_key,initialContent:g,mountTarget:"#mountHere",style:i,id:"iframe"+this.state.identificator,ref:function(t){return e._iframe=t},contentDidMount:function(){e.updateFrameHeight()},contentDidUpdate:function(){e.updateFrameHeight()}},d,r.createElement("div",{id:"mount"}))}else if("d3.js"==f)g=null!=this.state.result&&""!=this.state.result?this.state.result:'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title></head><body><div id="mountHere"></div></body></html>',m=r.createElement(l.ZP,{key:this.state.iframe_key,initialContent:g,mountTarget:"#mountHere",style:i,id:"iframe"+this.state.identificator,ref:function(t){return e._iframe=t},contentDidMount:function(){e.updateFrameHeight()},contentDidUpdate:function(){e.updateFrameHeight()}},d,r.createElement("div",{id:"mount"}));else if("elm"==f){var b=this.state.latestCSSCode||"",v=this.state.latestHTMLCode||"";g=null!=this.state.result&&""!=this.state.result?'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style>'+b+'</style></head><body><div id="main"></div><script src="data:text/javascript;base64,'+this.state.result+'"><\/script><script>var node = document.getElementById(\'main\');var app = Elm.Main.embed(node);<\/script><div id="mountHere"></div>'+v+"</body></html>":'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style>'+b+'</style></head><body><div id="main"></div><div id="mountHere"></div>'+v+"</body></html>",m=r.createElement(l.ZP,{key:this.state.iframe_key,initialContent:g,mountTarget:"#mountHere",style:i,id:"iframe"+this.state.identificator,ref:function(t){return e._iframe=t},contentDidMount:function(){e.updateFrameHeight()},contentDidUpdate:function(){e.updateFrameHeight()}},d,r.createElement("div",{id:"mount"}))}else if("vue.js"==f){b=this.state.latestCSSCode||"",v=this.state.latestHTMLCode||"";var y="",w="",k="";if(n={lineNumbers:!0,readOnly:!1,lineWrapping:!0,mode:"text/x-vue",theme:"motheb-day"},t="App.vue",null!=this.state.result&&""!=this.state.result){var x=JSON.parse(this.state.result);null==x.errorMessage&&(y=x.manifest,k=x.vendor,w=x.client)}g=null!=this.state.result&&""!=this.state.result?'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style>'+b+'</style></head><body><div id="app"></div><script src="data:text/javascript;base64,'+y+'"><\/script><script src="data:text/javascript;base64,'+k+'"><\/script><script src="data:text/javascript;base64,'+w+'"><\/script><div id="mountHere">'+v+"</div></body></html>":'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style>'+b+'</style></head><body><div id="main"></div><div id="mountHere"></div>'+v+"</body></html>",m=r.createElement(l.ZP,{key:this.state.iframe_key,initialContent:g,mountTarget:"#mountHere",style:i,id:"iframe"+this.state.identificator,ref:function(t){return e._iframe=t},contentDidMount:function(){e.updateFrameHeight()},contentDidUpdate:function(){e.updateFrameHeight()}},d,r.createElement("div",{id:"mount"}))}else b=this.state.latestCSSCode||"",v=this.state.latestHTMLCode||"",g=this.wasResultEverShown?'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style>'+b+'</style></head><body><div id="mountHere">'+v+"</div></body></html>":'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title></head><body><div id="mountHere"></div></body></html>',m=r.createElement(l.ZP,{key:this.state.iframe_key,initialContent:g,mountTarget:"#mountHere",style:i,id:"iframe"+this.state.identificator,ref:function(t){return e._iframe=t},contentDidMount:function(){e.updateFrameHeight()},contentDidUpdate:function(){e.updateFrameHeight()}},r.createElement("span",{style:s,dangerouslySetInnerHTML:{__html:this.state.result}}),d,r.createElement("div",{id:"mount"}));var C=null,E=null,S=a()({pinTab:!0,pinTabCustom:!0,pinTabCustomDefault:0===this.defaultTab}),T=a()({pinTab:!0,pinTabCustom:!0,pinTabCustomDefault:1===this.defaultTab}),A=a()({pinTab:!0,pinTabCustom:!0,pinTabCustomDefault:2===this.defaultTab}),I=a()({pinTab:!0,pinTabCustom:!0,pinTabCustomForceRemoveStyle:!0});if(this.state.isCSSEnabled||this.state.isHTMLEnabled){var O=this.props.editMode?r.createElement("div",{className:S,onClick:function(){e.updateDefaultTab(0)},title:"Make default"},r.createElement("i",{className:"fas fa-thumbtack","aria-hidden":"true"})):null,P=this.props.editMode?r.createElement("div",{className:T,onClick:function(){e.updateDefaultTab(1)},title:"Make default"},r.createElement("i",{className:"fas fa-thumbtack","aria-hidden":"true"})):null,R=this.props.editMode?r.createElement("div",{className:A,onClick:function(){e.updateDefaultTab(2)},title:"Make default"},r.createElement("i",{className:"fas fa-thumbtack","aria-hidden":"true"})):null,_=this.forceRemove,N=_.forceRemoveTab1?"fas fa-toggle-off":"fas fa-toggle-on",F=_.forceRemoveTab2?"fas fa-toggle-off":"fas fa-toggle-on",L=_.forceRemoveTab3?"fas fa-toggle-off":"fas fa-toggle-on",M=this.props.editMode?r.createElement("div",{className:I,onClick:function(){e.forceRemoveTab(0)},title:"Tab visible to users?"},r.createElement("i",{className:N,"aria-hidden":"true"})):null,D=this.props.editMode?r.createElement("div",{className:I,onClick:function(){e.forceRemoveTab(1)},title:"Tab visible to users?"},r.createElement("i",{className:F,"aria-hidden":"true"})):null,U=this.props.editMode?r.createElement("div",{className:I,onClick:function(){e.forceRemoveTab(2)},title:"Tab visible to users?"},r.createElement("i",{className:L,"aria-hidden":"true"})):null,j=this.state.isCSSEnabled?r.createElement(p.OK,{disabled:!(!_.forceRemoveTab2||this.props.editMode)},"CSS  ",P," ",D):null,Z=this.state.isHTMLEnabled?r.createElement(p.OK,{disabled:!(!_.forceRemoveTab3||this.props.editMode)},t,"  ",R," ",U):null,B=this.state.activeTab,z=r.createElement(p.OK,{disabled:!(!_.forceRemoveTab1||this.props.editMode)},this.state.mainTabName,"  ",O," ",M);switch(C=r.createElement("div",{className:"code-tabs-wrapper"},r.createElement(p.mQ,{selectedIndex:B,onSelect:this.handleSelectKey.bind(this),disabledTabClassName:"disabledTryItClass"},r.createElement(p.td,null,z,j,Z),r.createElement(p.x4,null),r.createElement(p.x4,null),r.createElement(p.x4,null))),this.state.activeTab){case 0:E=r.createElement("div",{className:"code-mirror-wrapper-for-code-listing"},r.createElement(c,{preserveScrollPosition:!0,ref:function(t){return e.handleCodeMirrorElementUpdated(t)},value:this.state.latestCode||"",options:o,onChange:this.updateLatestCode.bind(this),onFocusChange:function(t){e.focusExit(t)},viewportMargin:"infinity",key:"code_"+this.state.codemirror_key}));break;case 1:E=r.createElement("div",{className:"code-mirror-wrapper-for-code-listing"},r.createElement(c,{ref:function(t){return e.dynamicallyLoadLanguageSyntaxHighlighting(t)},preserveScrollPosition:!0,value:this.state.latestCSSCode||"",options:{lineNumbers:!0,readOnly:!1,lineWrapping:!0,mode:"text/css",theme:"motheb-day"},onChange:this.updateLatestCSSCode.bind(this),onFocusChange:function(t){e.focusExit(t)},viewportMargin:"infinity",key:"css_"+this.state.codemirror_key}));break;case 2:E=r.createElement("div",{className:"code-mirror-wrapper-for-code-listing"},r.createElement(c,{ref:function(t){return e.dynamicallyLoadLanguageSyntaxHighlighting(t)},preserveScrollPosition:!0,value:this.state.latestHTMLCode||"",options:n,onChange:this.updateLatestHTMLCode.bind(this),onFocusChange:function(t){e.focusExit(t)},viewportMargin:"infinity",key:"html_"+this.state.codemirror_key}));break;default:E=null}}else C=null,E=r.createElement("div",{className:"code-mirror-wrapper-for-code-listing"},r.createElement(c,{preserveScrollPosition:!0,ref:function(t){return e.handleCodeMirrorElementUpdated(t)},value:this.state.latestCode||"",options:o,onChange:this.updateLatestCode.bind(this),onFocusChange:function(t){e.focusExit(t)},viewportMargin:"infinity",key:"code_"+this.state.codemirror_key}));var q=this.state.running?"Compiling":"Run code",H=this.props.editMode?null:r.createElement(h.f,{style:{backgroundColor:"#fff",borderColor:"rgba(0,0,0,0.2)",float:"right",marginRight:"2px",marginTop:"3px",fontFamily:"Lato !important",fontSize:"14px !important",fontWeight:"normal !important",fontStyle:"normal !important",fontStretch:"normal !important",background:"rgb(235, 235, 235) !important",borderRadius:"6px !important",color:"black",zIndex:0},id:"reset",isLoading:!1,onClick:this.resetCode.bind(this),label:"Reset"}),W=this.state.resultEnabled?r.createElement("div",null,r.createElement("div",{style:{height:"31px",width:"100%",backgroundColor:"#f6f6f6",borderLeft:"solid 1px #d7d7d7",borderRight:"solid 1px #d7d7d7"}},r.createElement(h.f,{style:{float:"right",marginRight:"2px",marginTop:"3px",fontFamily:"Lato !important",fontSize:"14px !important",fontWeight:"normal !important",fontStyle:"normal !important",fontStretch:"normal !important",background:"rgb(60, 103, 162) !important",borderRadius:"6px !important"},isLoading:this.state.running,onClick:this.runCode.bind(this),id:"runCodeLaddaButton",label:q}),H),m):null;return r.createElement("div",{className:"try-it-container"},r.createElement("div",{className:"try-it-description-container"},r.createElement("span",{className:"try-it-description-container-prefix"},"Coding exercise")," ",r.createElement("span",{className:"try-it-description-container-desc"},u)),r.createElement("br",null),this.props.editMode?r.createElement("span",null,r.createElement("span",{style:{fontSize:"12px",float:"right"}},'  "Run code" enabled? ',r.createElement("input",{type:"checkbox",checked:this.state.resultEnabled,onChange:function(){e.toggleResultEnabled()}})),r.createElement("br",null)):null,r.createElement("div",null,C,E,r.createElement("div",{style:{width:"100%",backgroundColor:"#f6f6f6"}}),r.createElement("div",{style:{height:"5px",width:"100%",backgroundColor:"#0e5ba9",clear:"both"}}),W))},t.prototype.handleCodeMirrorElementUpdated=function(e){this._codemirror=e,this.dynamicallyLoadLanguageSyntaxHighlighting(e)},t.prototype.dynamicallyLoadLanguageSyntaxHighlighting=function(e){if(e){var t=e.getCodeMirror();i.Z.expandWithNecessaryFunctions(t.constructor),i.Z.autoLoadMode(t.constructor,t,t.options.mode)}},t}(r.Component)},20010:(e,t,o)=>{"use strict";o.d(t,{Z:()=>y});var n,r=o(67294),i=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const s=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n.state={text:n.props.text||""},n}return i(t,e),t.prototype.handleSubmit=function(e){e.target.value.trim(),13===e.which&&e.preventDefault()},t.prototype.handleChange=function(e){this.setState({text:e.target.value})},t.prototype.handleBlur=function(e){this.props.newValue||this.props.onSave(e.target.value)},t.prototype.render=function(){if(null!=this.props.label)var e=r.createElement("label",null,this.props.label," ",r.createElement("br",null));else e=r.createElement("label",null);return r.createElement("fieldset",{className:"tryItFieldset"},e,r.createElement("input",{className:"",type:"text",placeholder:this.props.placeholder,autoFocus:!1,value:this.state.text,onBlur:this.handleBlur.bind(this),onChange:this.handleChange.bind(this),onKeyDown:this.handleSubmit.bind(this),id:this.props.id,style:{width:"100%"}}))},t}(r.Component);var a=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const c=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n.state={value:JSON.stringify(n.props.options[0]),idOfElement:"0"},n}return a(t,e),t.prototype.handleChange=function(e){this.setState({value:e.target.value,idOfElement:e.target.selectedIndex}),null!=this.props.onSave&&this.props.onSave(e.target.value),null!=this.props.onSaveWithReturnIndex&&this.props.onSaveWithReturnIndex(e.target.value,e.target.selectedIndex)},t.prototype.componentDidMount=function(){null!=this.props.initialChecked&&this.setState({value:this.props.options[this.props.initialChecked]})},t.prototype.render=function(){var e=this.state.value;if(null!=this.props.label)var t=r.createElement("label",null,this.props.label,"  ");else t=r.createElement("label",null);var o=!1;return 1==this.props.disabled&&(o=!0),r.createElement("fieldset",{className:"tryItFieldset"},t,r.createElement("select",{onChange:this.handleChange.bind(this),value:e,style:this.props.style,disabled:o},this.props.options.map((function(e,t){return r.createElement("option",{value:e,key:t},e)}))))},t}(r.Component);var l=o(84813),u=o(96561),p=o(94184),d=o.n(p),h=o(55923),m=o(71599),f=o(340),g=o(72458),b=(o(89859),o(50425),o(85960)),v=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const y=function(e){function t(t,o){var n=e.call(this,t,o)||this;n._tryItYourself=null,n._iframe=null,n._codemirror=null,n.wasResultEverShown=!1,n.defaultTab=null,n.indexNumerationFix=0;var r=Math.floor(99999999999*Math.random());return n.state={mode:"JavaSript",modeMIME:"text/javascript",lambdaName:"javascript",latestCode:"console.log('Hello, Manning!')",latestCSSCode:"",latestHTMLCode:"",defaultTab:0,readOnly:!1,description:"",running:!1,result:"",optionsLanguages:["JavaScript"],defaults:{javascript:"console.log('Hello, Manning!')"},defaults_css:{javascript:""},defaults_html:{javascript:""},mimes:{javascript:"text/javascript"},lambdaNames:{javascript:"javascript"},identificator:Math.floor(99999999999*Math.random()),isCSSEnabled:(0,g.FD)("JavaScript"),isHTMLEnabled:(0,g.zS)("JavaScript"),mainTabName:(0,g.nA)("JavaScript"),iframe_height:"50px",iframe_key:Date()+"_"+r,codemirror_key:Date()+"_"+r,latestTab:0,forceRemove:{forceRemoveTab1:!1,forceRemoveTab2:!1,forceRemoveTab3:!1},resultEnabled:!0},n.defaultTab=0,n}return v(t,e),t.prototype.componentDidMount=function(){var e=this;h.C.getSupportedLanguagesInfo().then((function(t){var o=[];o[0]="JavaScript";var n=[];n.javascript="console.log('Hello, Manning!')";var r=[];r.javascript="";var i=[];i.javascript="";var s=[];s.javascript="text/javascript";var a=[];a.javascript="javascript",o[1]="JS/HTML/CSS",n["js/html/css"]='document.getElementById("newApp").innerHTML="Hello Manning!";',r["js/html/css"]="body{color:red;}",i["js/html/css"]='<span id="newApp"></span>',s["js/html/css"]="text/javascript",a["js/html/css"]="js/html/css",o[2]="D3.js",n["d3.js"]='var width = Math.max(400, innerWidth),\nheight = 400;\n\nvar i = 0;\n\nvar svg = d3.select("body").append("svg")\n.attr("width", width)\n.attr("height", height);\n\nsvg.append("rect")\n.attr("width", width)\n.attr("height", height)\n.on("ontouchstart" in document ? "touchmove" : "mousemove", particle);\n\nfunction particle() {\nvar m = d3.mouse(this);\n\nsvg.insert("circle", "rect")\n    .attr("cx", m[0])\n    .attr("cy", m[1])\n    .attr("r", 1e-6)\n    .style("stroke", d3.hsl((i = (i + 1) % 360), 1, .5))\n    .style("stroke-opacity", 1)\n.transition()\n    .duration(2000)\n    .ease(Math.sqrt)\n    .attr("r", 100)\n    .style("stroke-opacity", 1e-6)\n    .remove();\n\nd3.event.preventDefault();\n}',r["d3.js"]="body {\nmargin: 0;\nbackground: #222;\nmin-width: 400px;\nmin-height: 400px;\n}\n\nrect {\nfill: none;\npointer-events: all;\n}\n\ncircle {\nfill: none;\nstroke-width: 2.5px;\n}",i["d3.js"]="",s["d3.js"]="text/javascript",a["d3.js"]="d3.js";var c=o.length;if(null!=t){var l=t;if(null!=l.programming_languages){for(var u=0;u<l.programming_languages.length;u++)o[u+c]=l.programming_languages[u].programming_language,null!=l.programming_languages[u].default_code?n[l.programming_languages[u].programming_language.toString().toLowerCase()]=l.programming_languages[u].default_code:n[l.programming_languages[u].programming_language.toString().toLowerCase()]="console.log('Hello, Manning ("+l.programming_languages[u].programming_language.toString()+") !!!')",null!=l.programming_languages[u].default_css?r[l.programming_languages[u].programming_language.toString().toLowerCase()]=l.programming_languages[u].default_css:r[l.programming_languages[u].programming_language.toString().toLowerCase()]="",null!=l.programming_languages[u].default_html?i[l.programming_languages[u].programming_language.toString().toLowerCase()]=l.programming_languages[u].default_html:i[l.programming_languages[u].programming_language.toString().toLowerCase()]="",null!=l.programming_languages[u].mime_type?s[l.programming_languages[u].programming_language.toString().toLowerCase()]=l.programming_languages[u].mime_type:s[l.programming_languages[u].programming_language.toString().toLowerCase()]="text/x-csrc",null!=l.programming_languages[u].lambda_name?a[l.programming_languages[u].programming_language.toString().toLowerCase()]=l.programming_languages[u].lambda_name:a[l.programming_languages[u].programming_language.toString().toLowerCase()]="UnknownLambda";e.setState({optionsLanguages:o,defaults:n,defaults_css:r,defaults_html:i,mimes:s,lambdaNames:a})}}})).catch((function(e){alert(e)})),this.props.onChange(this.state.latestCode,"","",this.state.mode,this.state.description,0,this.state.modeMIME,this.state.lambdaName,this.state.forceRemove,this.state.resultEnabled);var t=document.querySelector("#runCodeTryCreator");t&&t.addEventListener("click",(function(e){e.preventDefault()}));var o=this;o._tryItYourself&&o._tryItYourself.codeMirror.refresh(),setTimeout((function(){o._tryItYourself&&o._tryItYourself.codeMirror.refresh()}),1e3)},t.prototype.handleSelectKey=function(e){this.setState({latestTab:e})},t.prototype.handleDescriptionForCode=function(e){this.setState({description:e}),this.props.onChange(this.state.latestCode,this.state.latestCSSCode,this.state.latestHTMLCode,this.state.mode,e,Number(this.defaultTab)+this.indexNumerationFix,this.state.modeMIME,this.state.lambdaName,this.state.forceRemove,this.state.resultEnabled)},t.prototype.updateLatestCode=function(e){this.setState({latestCode:e}),this.props.onChange(e,this.state.latestCSSCode,this.state.latestHTMLCode,this.state.mode,this.state.description,Number(this.defaultTab)+this.indexNumerationFix,this.state.modeMIME,this.state.lambdaName,this.state.forceRemove,this.state.resultEnabled)},t.prototype.updateLatestCSSCode=function(e){this.setState({latestCSSCode:e}),this.props.onChange(this.state.latestCode,e,this.state.latestHTMLCode,this.state.mode,this.state.description,Number(this.defaultTab)+this.indexNumerationFix,this.state.modeMIME,this.state.lambdaName,this.state.forceRemove,this.state.resultEnabled)},t.prototype.updateLatestHTMLCode=function(e){this.setState({latestHTMLCode:e}),this.props.onChange(this.state.latestCode,this.state.latestCSSCode,e,this.state.mode,this.state.description,Number(this.defaultTab)+this.indexNumerationFix,this.state.modeMIME,this.state.lambdaName,this.state.forceRemove,this.state.resultEnabled)},t.prototype.updateLatestTab=function(e){this.defaultTab=e;var t=this.defaultTab,o=this.state.forceRemove,n=o.forceRemoveTab1,r=o.forceRemoveTab2,i=o.forceRemoveTab3;0==t?n=!1:1==t?r=!1:2==t&&(i=!1),o={forceRemoveTab1:n,forceRemoveTab2:r,forceRemoveTab3:i},this.setState({latestTab:e,forceRemove:o}),this.props.onChange(this.state.latestCode,this.state.latestCSSCode,this.state.latestHTMLCode,this.state.mode,this.state.description,Number(e)+this.indexNumerationFix,this.state.modeMIME,this.state.lambdaName,o,this.state.resultEnabled)},t.prototype.forceRemoveTab=function(e){var t=this,o=this.state.forceRemove,n=o.forceRemoveTab1,r=o.forceRemoveTab2,i=o.forceRemoveTab3;0==e?n=!n:1==e?r=!r:2==e&&(i=!i);var s=this.defaultTab;0==s?n=!1:1==s?r=!1:2==s&&(i=!1),1==n&&1==r&&1==i&&(0==e?n=!1:1==e?r=!1:2==e&&(i=!1)),o={forceRemoveTab1:n,forceRemoveTab2:r,forceRemoveTab3:i},this.setState({forceRemove:o},(function(){t.props.onChange(t.state.latestCode,t.state.latestCSSCode,t.state.latestHTMLCode,t.state.mode,t.state.description,t.defaultTab,t.state.modeMIME,t.state.lambdaName,t.state.forceRemove,t.state.resultEnabled)}))},t.prototype.changeMode=function(e){var t,o;for(var n in this.state.defaults)this.state.defaults.hasOwnProperty(n)&&(this.state.latestCode,this.state.defaults[n]);var r=this.state.latestCode;r=this.state.defaults[e.toString().toLowerCase()];var i=this.state.defaults_css[e.toString().toLowerCase()],s=this.state.defaults_html[e.toString().toLowerCase()];t=this.state.mimes[e.toString().toLowerCase()],o=this.state.lambdaNames[e.toString().toLowerCase()],this.setState({mode:e,isCSSEnabled:(0,g.FD)(e),isHTMLEnabled:(0,g.zS)(e),mainTabName:(0,g.nA)(e),latestTab:0,modeMIME:t,lambdaName:o,latestCode:r,latestCSSCode:i,latestHTMLCode:s,result:"",iframe_key:Math.random()+"_"+this.state.identificator,codemirror_key:Math.random()+"_"+this.state.identificator}),this.props.onChange(r,i,s,e,this.state.description,0+this.indexNumerationFix,t,o,this.state.forceRemove,this.state.resultEnabled)},t.prototype.updateFrameHeight=function(){var e=document.getElementById("iframe"+this.state.identificator);if(null!=e){var t=e.contentWindow.document.body.scrollHeight+20+"px",o=Number(t.replace("px",""));o!=Number(this.state.iframe_height.replace("px",""))&&this.setState({iframe_height:o+"px"})}},t.prototype.runCode=function(e){var t=this;e.preventDefault(),this.wasResultEverShown=!0;var o=this.state.latestCode,n=this.state.latestCSSCode,r=this.state.latestHTMLCode;this.setState({latestCode:this.state.latestCode,running:!0}),h.C.executeCode(o,n,r,this.state.mode,this.state.lambdaName).then((function(e){var o=e;null==o.lambda_output&&(o.lambda_output=""),o.lambda_output=o.lambda_output.split("\\n").join("\n"),t.setState({result:o.lambda_output,latestCode:t.state.latestCode,running:!1,iframe_key:Math.random()+"_"+t.state.identificator,codemirror_key:Math.random()+"_"+t.state.identificator})})).catch((function(e){return alert(e)}))},t.prototype.toggleResultEnabled=function(){var e=this;this.setState({resultEnabled:!this.state.resultEnabled},(function(){e.props.onChange(e.state.latestCode,e.state.latestCSSCode,e.state.latestHTMLCode,e.state.mode,e.state.description,Number(e.defaultTab)+e.indexNumerationFix,e.state.modeMIME,e.state.lambdaName,e.state.forceRemove,e.state.resultEnabled)}))},t.prototype.render=function(){var e=this,t="HTML",o=this.state.modeMIME;"text/x-elixir"==this.state.modeMIME&&(o="elixir");var n={lineNumbers:!0,readOnly:this.state.readOnly,lineWrapping:!0,mode:o,theme:"motheb-day"},i={border:"0px",width:"100%",margin:"0px",backgroundColor:"#f6f6f6",clear:"both",minHeight:"50px",maxHeight:"300px",overflow:"auto",fontSize:"12px",color:"#476f93",borderLeft:"solid 1px #d7d7d7",borderRight:"solid 1px #d7d7d7",borderBottom:"solid 1px #d7d7d7"},a=null==this.state.latestCSSCode||""==this.state.latestCSSCode?{color:"#476f93",fontFamily:'Consolas,"courier new"',fontSize:"14px"}:null,p={lineNumbers:!0,readOnly:!1,lineWrapping:!0,mode:"text/html",theme:"motheb-day"},h=null,m=null,g=(this.state.latestCode,this.state.mode.toLowerCase());if("javascript"==g||"ecmascript 6"==g)m=r.createElement(u.ZP,{key:"javascript_"+this.state.identificator,style:i,id:"iframe"+this.state.identificator,ref:function(t){return e._iframe=t},contentDidMount:function(){e.updateFrameHeight()},contentDidUpdate:function(){e.updateFrameHeight()}},r.createElement("span",{style:a,dangerouslySetInnerHTML:{__html:this.state.result}}),h,r.createElement("div",{id:"mount"}));else if("js/html/css"==g){var v=null!=this.state.result&&""!=this.state.result?this.state.result:'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title></head><body><div id="mountHere"></div></body></html>';m=r.createElement(u.ZP,{key:this.state.iframe_key,initialContent:v,mountTarget:"#mountHere",style:i,id:"iframe"+this.state.identificator,ref:function(t){return e._iframe=t},contentDidMount:function(){e.updateFrameHeight()},contentDidUpdate:function(){e.updateFrameHeight()}},h,r.createElement("div",{id:"mount"}))}else if("d3.js"==g)v=null!=this.state.result&&""!=this.state.result?this.state.result:'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title></head><body><div id="mountHere"></div></body></html>',m=r.createElement(u.ZP,{key:this.state.iframe_key,initialContent:v,mountTarget:"#mountHere",style:i,id:"iframe"+this.state.identificator,ref:function(t){return e._iframe=t},contentDidMount:function(){e.updateFrameHeight()},contentDidUpdate:function(){e.updateFrameHeight()}},h,r.createElement("div",{id:"mount"}));else if("elm"==g){var y=this.state.latestCSSCode||"",w=this.state.latestHTMLCode||"";v=null!=this.state.result&&""!=this.state.result?'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style>'+y+'</style></head><body><div id="main"></div><script src="data:text/javascript;base64,'+this.state.result+'"><\/script><script>var node = document.getElementById(\'main\');var app = Elm.Main.embed(node);<\/script><div id="mountHere"></div>'+w+"</body></html>":'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style>'+y+'</style></head><body><div id="main"></div><div id="mountHere"></div>'+w+"</body></html>",m=r.createElement(u.ZP,{key:this.state.iframe_key,initialContent:v,mountTarget:"#mountHere",style:i,id:"iframe"+this.state.identificator,ref:function(t){return e._iframe=t},contentDidMount:function(){e.updateFrameHeight()},contentDidUpdate:function(){e.updateFrameHeight()}},h,r.createElement("div",{id:"mount"}))}else if("vue.js"==g){y=this.state.latestCSSCode||"",w=this.state.latestHTMLCode||"";var k="",x="",C="";if(p={lineNumbers:!0,readOnly:!1,lineWrapping:!0,mode:"text/x-vue",theme:"motheb-day"},t="App.vue",null!=this.state.result&&""!=this.state.result){var E=JSON.parse(this.state.result);null==E.errorMessage&&(k=E.manifest,C=E.vendor,x=E.client)}v=null!=this.state.result&&""!=this.state.result?'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style>'+y+'</style></head><body><div id="app"></div><script src="data:text/javascript;base64,'+k+'"><\/script><script src="data:text/javascript;base64,'+C+'"><\/script><script src="data:text/javascript;base64,'+x+'"><\/script><div id="mountHere"></div>'+w+"</body></html>":'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style>'+y+'</style></head><body><div id="main"></div><div id="mountHere"></div>'+w+"</body></html>",m=r.createElement(u.ZP,{key:this.state.iframe_key,initialContent:v,mountTarget:"#mountHere",style:i,id:"iframe"+this.state.identificator,ref:function(t){return e._iframe=t},contentDidMount:function(){e.updateFrameHeight()},contentDidUpdate:function(){e.updateFrameHeight()}},h,r.createElement("div",{id:"mount"}))}else y=this.state.latestCSSCode||"",w=this.state.latestHTMLCode||"",v=this.wasResultEverShown?'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><style>'+y+'</style></head><body><div id="mountHere"></div>'+w+"</body></html>":'<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title></head><body><div id="mountHere"></div></body></html>',m=r.createElement(u.ZP,{key:this.state.iframe_key,initialContent:v,mountTarget:"#mountHere",style:i,id:"iframe"+this.state.identificator,ref:function(t){return e._iframe=t},contentDidMount:function(){e.updateFrameHeight()},contentDidUpdate:function(){e.updateFrameHeight()}},r.createElement("span",{style:a,dangerouslySetInnerHTML:{__html:this.state.result}}),h,r.createElement("div",{id:"mount"}));var S=null,T=null,A=d()({pinTab:!0,pinTabCustom:!0,pinTabCustomDefault:0===this.defaultTab}),I=d()({pinTab:!0,pinTabCustom:!0,pinTabCustomDefault:1===this.defaultTab}),O=d()({pinTab:!0,pinTabCustom:!0,pinTabCustomDefault:2===this.defaultTab}),P=d()({pinTab:!0,pinTabCustom:!0,pinTabCustomForceRemoveStyle:!0});if(this.state.isCSSEnabled||this.state.isHTMLEnabled){var R=r.createElement("div",{className:A,onClick:function(){e.updateLatestTab(0)},title:"Make default"},r.createElement("i",{className:"fas fa-thumbtack","aria-hidden":"true"})),_=r.createElement("div",{className:I,onClick:function(){e.updateLatestTab(1)},title:"Make default"},r.createElement("i",{className:"fas fa-thumbtack","aria-hidden":"true"})),N=r.createElement("div",{className:O,onClick:function(){e.updateLatestTab(2)},title:"Make default"},r.createElement("i",{className:"fas fa-thumbtack","aria-hidden":"true"})),F=this.state.forceRemove,L=F.forceRemoveTab1?"fas fa-toggle-off":"fas fa-toggle-on",M=F.forceRemoveTab2?"fas fa-toggle-off":"fas fa-toggle-on",D=F.forceRemoveTab3?"fas fa-toggle-off":"fas fa-toggle-on",U=r.createElement("div",{className:P,onClick:function(){e.forceRemoveTab(0)},title:"Tab visible to users?"},r.createElement("i",{className:L,"aria-hidden":"true"})),j=r.createElement("div",{className:P,onClick:function(){e.forceRemoveTab(1)},title:"Tab visible to users?"},r.createElement("i",{className:M,"aria-hidden":"true"})),Z=r.createElement("div",{className:P,onClick:function(){e.forceRemoveTab(2)},title:"Tab visible to users?"},r.createElement("i",{className:D,"aria-hidden":"true"})),B=this.state.isCSSEnabled?r.createElement(f.OK,null,"CSS  ",_," ",j):null,z=this.state.isHTMLEnabled?r.createElement(f.OK,null,t,"  ",N," ",Z):null,q=this.state.latestTab;switch(S=r.createElement("div",{className:"code-tabs-wrapper"},r.createElement("br",null),r.createElement(f.mQ,{selectedIndex:q,onSelect:this.handleSelectKey.bind(this)},r.createElement(f.td,null,r.createElement(f.OK,null,this.state.mainTabName,"  ",R," ",U),B,z),r.createElement(f.x4,null),r.createElement(f.x4,null),r.createElement(f.x4,null))),this.state.latestTab){case 0:T=r.createElement("div",{className:"code-mirror-wrapper-for-code-listing"},r.createElement(l,{preserveScrollPosition:!0,ref:function(t){return e.handleCodeMirrorElementUpdated(t)},value:this.state.latestCode||"",options:n,onChange:this.updateLatestCode.bind(this),key:"code_"+this.state.codemirror_key,viewportMargin:"infinity"}));break;case 1:T=r.createElement("div",{className:"code-mirror-wrapper-for-code-listing"},r.createElement(l,{ref:function(t){return e.dynamicallyLoadLanguageSyntaxHighlighting(t)},preserveScrollPosition:!0,value:this.state.latestCSSCode||"",options:{lineNumbers:!0,readOnly:!1,lineWrapping:!0,mode:"text/css",theme:"motheb-day"},onChange:this.updateLatestCSSCode.bind(this),key:"css_"+this.state.codemirror_key,viewportMargin:"infinity"}));break;case 2:T=r.createElement("div",{className:"code-mirror-wrapper-for-code-listing"},r.createElement(l,{ref:function(t){return e.dynamicallyLoadLanguageSyntaxHighlighting(t)},preserveScrollPosition:!0,value:this.state.latestHTMLCode||"",options:p,onChange:this.updateLatestHTMLCode.bind(this),key:"html_"+this.state.codemirror_key,viewportMargin:"infinity"}));break;default:T=null}}else S=null,T=r.createElement("div",{className:"code-mirror-wrapper-for-code-listing"},r.createElement(l,{preserveScrollPosition:!0,ref:function(t){return e.handleCodeMirrorElementUpdated(t)},value:this.state.latestCode,options:n,onChange:this.updateLatestCode.bind(this),key:"code_"+this.state.codemirror_key,viewportMargin:"infinity"}));var H=this.state.resultEnabled?r.createElement("div",null,r.createElement("div",{style:{height:"31px",width:"100%",backgroundColor:"#f6f6f6",borderLeft:"solid 1px #d7d7d7",borderRight:"solid 1px #d7d7d7"}},r.createElement(b.f,{style:{float:"right",marginRight:"2px",marginTop:"3px"},isLoading:this.state.running,onClick:this.runCode.bind(this),id:"runCodeTryCreator",label:"Run code"})),m):null;return r.createElement("div",null,r.createElement("form",null,r.createElement(c,{options:this.state.optionsLanguages,onSave:this.changeMode.bind(this),label:"Choose language:"}),r.createElement("span",{style:{fontSize:"12px",float:"right"}},'  "Run code" enabled? ',r.createElement("input",{type:"checkbox",checked:this.state.resultEnabled,onChange:function(){e.toggleResultEnabled()}})),r.createElement("br",null),r.createElement("br",null),r.createElement("div",null,S,T,r.createElement("div",{style:{width:"100%",backgroundColor:"#f6f6f6"}}),r.createElement("div",{style:{height:"5px",width:"100%",backgroundColor:"#0e5ba9"}}),H,null,r.createElement("br",null)),r.createElement(s,{onSave:this.handleDescriptionForCode.bind(this),label:"Caption:"})))},t.prototype.handleCodeMirrorElementUpdated=function(e){this._codemirror=e,this.dynamicallyLoadLanguageSyntaxHighlighting(e)},t.prototype.dynamicallyLoadLanguageSyntaxHighlighting=function(e){if(e){var t=e.getCodeMirror();m.Z.expandWithNecessaryFunctions(t.constructor),m.Z.autoLoadMode(t.constructor,t,t.options.mode)}},t}(r.Component)},6125:(e,t,o)=>{"use strict";o.d(t,{Aw:()=>d,FX:()=>w,Fr:()=>b,JW:()=>f,N0:()=>k,Py:()=>g,Q:()=>v,RL:()=>p,U:()=>l,cd:()=>a,lK:()=>y,lV:()=>h,o_:()=>m,vc:()=>c});var n,r,i=o(31293),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=function(){function e(e,t,o,n,r,i,s,a,c,l,u){void 0===o&&(o=""),void 0===n&&(n=""),void 0===r&&(r=""),void 0===i&&(i=""),void 0===s&&(s=""),void 0===c&&(c=""),this.question=e,this.description=t,this.code=this.replaceTabsWithSpaces(o),this.imageUrl=n,this.explanation=r,this.hint=i,this.type=c;var p=s;try{p=JSON.parse(s)}catch(e){}this.inlineTryIt=p,this.html_in_markdown=a,this.skipMarkdownInQuestion=l,this.skipMarkdownInAnswers=u}return e.fromObject=function(t){if(!t||!t.type)throw new Error("No exercise or unknown exercise type");switch(t.type){case"chooseOne":return new p(null!=t.text&&""!=t.text?t.text:t.question,t.description,e.convertOptionsToAnswers(t.options),t.code,"",t.explanation,t.hint,t.inlineTryIt,t.html_in_markdown,t.skipMarkdownInQuestion,t.skipMarkdownInAnswers);case"chooseMultiple":return new d(null!=t.text&&""!=t.text?t.text:t.question,t.description,e.convertOptionsToAnswers(t.options),t.code,"",t.explanation,t.hint,t.inlineTryIt,t.html_in_markdown,t.skipMarkdownInQuestion,t.skipMarkdownInAnswers);case"giveAnswer":return new c(null!=t.text&&""!=t.text?t.text:t.question,t.description,t.correctAnswer,t.code,"",t.explanation,t.hint,t.inlineTryIt,t.html_in_markdown,t.skipMarkdownInQuestion,t.skipMarkdownInAnswers);case"matchItemsToDescription":return new h(null!=t.text&&""!=t.text?t.text:t.question,t.description,e.convertOptionsAndDescriptionsToItemDescription(t),[],t.code,"",t.explanation,t.hint,t.inlineTryIt,t.html_in_markdown,t.skipMarkdownInQuestion,t.skipMarkdownInAnswers);case"arrangeCode":return new m(null!=t.text&&""!=t.text?t.text:t.question,t.description,t.code,[],"",t.explanation,t.hint,t.inlineTryIt,t.html_in_markdown,t.skipMarkdownInQuestion,t.skipMarkdownInAnswers);case"freeFormAnswer":return new l(null!=t.text&&""!=t.text?t.text:t.question,t.description,t.suggestedAnswer,t.code,"",t.explanation,t.hint,t.inlineTryIt,t.html_in_markdown,t.skipMarkdownInQuestion,t.skipMarkdownInAnswers);case"instructions":return new b(null!=t.text&&""!=t.text?t.text:t.question,t.description,t.code,"",t.explanation,t.hint,t.inlineTryIt,t.html_in_markdown,t.skipMarkdownInQuestion,t.skipMarkdownInAnswers);case"matchItemsInTable":return new f(null!=t.text&&""!=t.text?t.text:t.question,t.description,t.numberOfColums,e.convertOptionsAndDescriptionsToItemsInTableRow(t),[],t.code,"",t.explanation,t.hint,t.inlineTryIt,t.html_in_markdown,t.skipMarkdownInQuestion,t.skipMarkdownInAnswers);case"GraphicalDnDExercise":case"GraphicalDnD":return new g(null!=t.text&&""!=t.text?t.text:t.question,t.description,t.code,"",t.explanation,t.hint,t.inlineTryIt,t.html_in_markdown,t.graphicalDnDJson,t.skipMarkdownInQuestion,t.skipMarkdownInAnswers)}return e.fromExerciseInfo(t)},e.convertOptionsToAnswers=function(e){return e.map((function(e){return new y(e.value,"correct"===e.correctStatus||e.isCorrect)}))},e.convertOptionsAndDescriptionsToItemDescription=function(e){for(var t=[],o=e.options,n=e.descriptions,r=function(e){var r=o[e],i=n.find((function(t){return t.matchingIndex==e}));i||(i=n[e]),i&&t.push(new v(r.value,i.value))},i=0;i<o.length;i++)r(i);return t},e.convertOptionsAndDescriptionsToItemsInTableRow=function(e){for(var t=[],o=e.options,n=e.descriptions,r=function(e){var r=o[e],i=n.find((function(t){return t.matchingIndex==e}));i||(i=n[e]),i&&t.push(new v(r.value,i.value))},i=0;i<o.length;i++)r(i);return t},e.fromExerciseInfo=function(e){switch(e.type){case c.type:return new c(e.question,e.description,e.correctAnswer,e.code,e.imageUrl,e.explanation,e.hint,e.inlineTryIt,e.html_in_markdown,e.skipMarkdownInQuestion,e.skipMarkdownInAnswers);case l.type:return new l(e.question,e.description,e.suggestedAnswer,e.code,e.imageUrl,e.explanation,e.hint,e.inlineTryIt,e.html_in_markdown,e.skipMarkdownInQuestion,e.skipMarkdownInAnswers);case u.type:return new u(e.question,e.description,e.suggestedCode,e.code,e.imageUrl,e.explanation,e.hint,e.inlineTryIt,e.html_in_markdown,e.skipMarkdownInQuestion,e.skipMarkdownInAnswers);case p.type:return p.fromObject(e);case d.type:return d.fromObject(e);case h.type:return h.fromObject(e);case m.type:return new m(e.question,e.description,e.code,e.additionalCodeFragments,e.imageUrl,e.explanation,e.hint,e.inlineTryIt,e.html_in_markdown,e.skipMarkdownInQuestion,e.skipMarkdownInAnswers);case b.type:return new b(e.question,e.description,e.code,e.imageUrl,e.explanation,e.hint,e.inlineTryIt,e.html_in_markdown,e.skipMarkdownInQuestion,e.skipMarkdownInAnswers);case f.type:return f.fromObject(e);case g.type:return g.fromObject(e);default:throw new Error("Unknown exercise type ".concat(e.type))}},e.prototype.replaceTabsWithSpaces=function(e){return e&&e.replace?e.replace(/\t/g,"  "):e},e}(),c=function(e){function t(o,n,r,i,s,a,c,l,u,p,d){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a=""),void 0===c&&(c=""),void 0===l&&(l=""),void 0===u&&(u=!1),void 0===p&&(p=!1),void 0===d&&(d=!1);var h=e.call(this,o,n,i,s,a,c,l,u,t.type,p,d)||this;return h.correctAnswer=r,h}return s(t,e),t.type="GiveAnswerExercise",t}(a),l=function(e){function t(o,n,r,i,s,a,c,l,u,p,d){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a=""),void 0===c&&(c=""),void 0===l&&(l=""),void 0===u&&(u=!1),void 0===p&&(p=!1),void 0===d&&(d=!1);var h=e.call(this,o,n,i,s,a,c,l,u,t.type,p,d)||this;return h.suggestedAnswer=r,h}return s(t,e),t.type="FreeFormTextExercise",t}(a),u=function(e){function t(o,n,r,i,s,a,c,l,u,p,d){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a=""),void 0===c&&(c=""),void 0===l&&(l=""),void 0===u&&(u=!1),void 0===p&&(p=!1),void 0===d&&(d=!1);var h=e.call(this,o,n,i,s,a,c,l,u,t.type,p,d)||this;return h.suggestedCode=r,h}return s(t,e),t.type="FreeFormCodeExercise",t}(a),p=function(e){function t(o,n,r,i,s,a,c,l,u,p,d){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a=""),void 0===c&&(c=""),void 0===l&&(l=""),void 0===u&&(u=!1),void 0===p&&(p=!1),void 0===d&&(d=!1);var h=e.call(this,o,n,i,s,a,c,l,u,t.type,p,d)||this;return h.answers=r,h}return s(t,e),t.prototype.correctAnswer=function(){return this.answers.find((function(e){return e.isCorrect}))},t.fromObject=function(e){return new t(e.question||"",e.description||"",e.answers.map((function(e){return y.fromObject(e)})),e.code,e.imageUrl||"",e.explanation||"",e.hint||"",e.inlineTryIt||"",e.html_in_markdown||!1,e.skipMarkdownInQuestion||!1,e.skipMarkdownInAnswers||!1)},t.type="ChooseOneAnswerExercise",t}(a),d=function(e){function t(o,n,r,i,s,a,c,l,u,p,d){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a=""),void 0===c&&(c=""),void 0===l&&(l=""),void 0===u&&(u=!1),void 0===p&&(p=!1),void 0===d&&(d=!1);var h=e.call(this,o,n,i,s,a,c,l,u,t.type,p,d)||this;return h.answers=r,h}return s(t,e),t.prototype.correctAnswers=function(){return this.answers.filter((function(e){return e.isCorrect}))},t.fromObject=function(e){return void 0===e&&(e={}),new t(e.question||"",e.description||"",e.answers.map((function(e){return y.fromObject(e)})),e.code||"",e.imageUrl||"",e.explanation||"",e.hint||"",e.inlineTryIt||"",e.html_in_markdown||!1,e.skipMarkdownInQuestion||!1,e.skipMarkdownInAnswers||!1)},t.type="ChooseMultipleAnswersExercise",t}(a),h=function(e){function t(o,n,r,i,s,a,c,l,u,p,d,h){void 0===i&&(i=[]),void 0===s&&(s=""),void 0===a&&(a=""),void 0===c&&(c=""),void 0===l&&(l=""),void 0===u&&(u=""),void 0===p&&(p=!1),void 0===d&&(d=!1),void 0===h&&(h=!1);var m=e.call(this,o,n,s,a,c,l,u,p,t.type,d,h)||this;return m.itemsAndDescriptions=r,m.additionalDescriptions=i,m}return s(t,e),t.fromObject=function(e){return new t(e.question||"",e.description||"",e.itemsAndDescriptions.map((function(e){return v.fromObject(e)})),e.additionalDescriptions||[],e.code||"",e.imageUrl||"",e.explanation||"",e.hint||"",e.inlineTryIt||"",e.html_in_markdown||!1,e.skipMarkdownInQuestion||!1,e.skipMarkdownInAnswers||!1)},t.type="MatchItemDescriptionExercise",t}(a),m=function(e){function t(o,n,r,i,s,a,c,l,u,p,d){void 0===i&&(i=[]),void 0===s&&(s=""),void 0===a&&(a=""),void 0===c&&(c=""),void 0===l&&(l=""),void 0===u&&(u=!1),void 0===p&&(p=!1),void 0===d&&(d=!1);var h=e.call(this,o,n,r,s,a,c,l,u,t.type,p,d)||this;return h.code=r,h.additionalCodeFragments=i,h}return s(t,e),t.type="ArrangeCodeExercise",t}(a),f=function(e){function t(o,n,r,i,s,a,c,l,u,p,d,h,m){void 0===s&&(s=[]),void 0===a&&(a=""),void 0===c&&(c=""),void 0===l&&(l=""),void 0===u&&(u=""),void 0===p&&(p=""),void 0===d&&(d=!1),void 0===h&&(h=!1),void 0===m&&(m=!1);var f=e.call(this,o,n,a,c,l,u,p,d,t.type,h,m)||this;return f.numberOfColums=r,f.ItemsInTableRow=i,f.additionalDescriptions=s,f}return s(t,e),t.fromObject=function(e){return new t(e.question||"",e.description||"",e.numberOfColums||2,e.ItemsInTableRow.map((function(e){return k.fromObject(e)})),e.additionalDescriptions||[],e.code||"",e.imageUrl||"",e.explanation||"",e.hint||"",e.inlineTryIt||"",e.html_in_markdown||!1,e.skipMarkdownInQuestion||!1,e.skipMarkdownInAnswers||!1)},t.type="MatchItemsInTableExercise",t}(a),g=function(e){function t(o,n,r,s,a,c,l,u,p,d,h){void 0===r&&(r=""),void 0===s&&(s=""),void 0===a&&(a=""),void 0===c&&(c=""),void 0===l&&(l=""),void 0===u&&(u=!1),void 0===p&&(p=""),void 0===d&&(d=!1),void 0===h&&(h=!1);var m=e.call(this,o,n,r,s,a,c,l,u,t.type,d,h)||this;return m.graphicalDnDJson=p,m.store=(0,i.cW)(),m}return s(t,e),t.prototype.getStore=function(){return this.store},t.fromObject=function(e){return new t(e.question||"",e.description||"",e.code||"",e.imageUrl||"",e.explanation||"",e.hint||"",e.inlineTryIt||"",e.html_in_markdown||!1,e.graphicalDnDJson||"",e.skipMarkdownInQuestion||!1,e.skipMarkdownInAnswers||!1)},t.type="GraphicalDnDExercise",t}(a),b=function(e){function t(o,n,r,i,s,a,c,l,u,p){return void 0===r&&(r=""),void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a=""),void 0===c&&(c=""),void 0===l&&(l=!1),void 0===u&&(u=!1),void 0===p&&(p=!1),e.call(this,o,n,r,i,s,a,c,l,t.type,u,p)||this}return s(t,e),t.type="InstructionsExercise",t}(a),v=function(){function e(e,t){this.item=e,this.description=t}return e.prototype.createCopy=function(){return new e(this.item,this.description)},e.fromObject=function(t){return void 0===t&&(t={}),new e(t.item||"",t.description||"")},e}(),y=function(){function e(e,t){void 0===t&&(t=!1),this.text=e,this.isCorrect=t}return e.prototype.createCopy=function(){return new e(this.text,this.isCorrect)},e.fromObject=function(t){return new e(t.text||"",!!t.isCorrect)},e}(),w=((r={})[c.type]="Fill in the answer",r[l.type]="Write a longer answer",r[p.type]="Choose one answer",r[d.type]="Choose one or more answers",r[h.type]="Match items and descriptions",r[m.type]="Arrange the code fragments",r[b.type]="Follow the instructions",r[b.type]="Follow the instructions",r[f.type]="Match items in table",r[g.type]="Graphical drag and drop",r),k=function(){function e(e,t){this.items=e,this.fixed=t}return e.prototype.createCopy=function(){return new e(this.items,this.fixed)},e.fromObject=function(t){return void 0===t&&(t={}),new e(t.items||[],t.fixed||[])},e}()},28079:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var n=o(65605),r=o(97766),i=function(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};const s=function(){function e(){}return e.convertRawProducts=function(e,t){var o,s,a,c,l=this;void 0===t&&(t=!1);var u,p={};if(e.length>0)u=e.map((function(e){var o=t?e.lastSignificantDate||e.publishedDate||e.expectedPublishDate:e.publishedDate||e.expectedPublishDate||e.lastSignificantDate,i=o?new Date(o):null,s="";e.livebook?s="livebook":e.isConference?s="conference":e.isAuthorTalk?s="author talk":e.isLiveVideo?s="livevideo":e.isLiveProject?s="liveproject":-1!=(e.authors||e.authorshipDisplay||"").indexOf("chapters selected")&&(s="free");var a=null!=e.tags&&e.tags.length?e.tags.map((function(e){return e.name?e.name:e})):[],c=e.externalId;e.isBundle&&!c&&(c="bundle-"+e.id);var u={id:e.id,externalId:c,preTitle:e.preTitle,title:e.title,subtitle:e.subtitle,cleanTitle:r.Z.cleanBookTitle(e.title),cruftlessTitle:r.Z.removeCruftFromTitle(r.Z.cleanBookTitle(e.title)),slug:e.slug,isbn:e.isbn,skillsLearned:e.skillsLearned,authorshipDisplay:e.authorshipDisplay,difficulty:e.difficulty,durationInWeeks:e.durationInWeeks,hoursPerWeek:e.hoursPerWeek,free:e.free,certifiable:e.certifiable,authors:e.authors||e.authorshipDisplay,link:"",coverPath:e.coverPath||e.imageUrl,description:(e.subtitle||"")+" "+(e.aboutProductDescription||e.description||""),dateDescription:n.Z.getDateAsString(i),date:i,tags:a,tagsText:a.join(", "),seoKeywords:e.seoKeywords||"",isLivebook:!!e.livebook,isLivevideo:!!e.isLiveVideo,isLiveproject:!!e.isLiveproject||!!e.isLiveProject,isLiveprojectSeries:(!!e.isLiveproject||!!e.isLiveProject)&&l.hasLPSeriesOffering(e),productTypeDescription:s,isLiveaudio:!!e.hasAudio||!!e.isLiveaudio,isBundle:!!e.isBundle,isConference:!!e.isConference||!!e.conference,isAuthorTalk:!!e.isAuthorTalk||!!e.authorTalk,price:l.getRawProductPrice(e),priceWithoutDiscount:l.getRawProductPriceWithoutDiscount(e),unitAmountDiscounted:l.getRawProductUnitAmountDiscounted(e),isMeap:e.isMeap},d="".concat(u.cleanTitle,"-").concat(u.isLivevideo?1:0,"-").concat(u.isLiveproject?1:0,"-").concat(u.isLiveprojectSeries?1:0);return p[d]||(p[d]=[]),p[d].push(u),e.isBundle&&(u.additionalProductInfo={id:u.id,externalId:u.externalId,description:u.description,cleanDescription:u.description,rating:void 0,productOfferings:e.productOfferings,price:l.getRawProductPrice(e),priceWithoutDiscount:l.getRawProductPriceWithoutDiscount(e),unitAmountDiscounted:l.getRawProductUnitAmountDiscounted(e)}),u}));else if((null===(o=e.liveProjects)||void 0===o?void 0:o.length)||(null===(s=e.liveProjectSeries)||void 0===s?void 0:s.length)){var d=null===(a=e.liveProjects)||void 0===a?void 0:a.map((function(e){var o=t?e.lastSignificantDate||e.publishedDate||e.expectedPublishDate:e.publishedDate||e.expectedPublishDate||e.lastSignificantDate,i=o?new Date(o):null,s=null!=e.tags&&e.tags.length?e.tags.map((function(e){return e.name?e.name:e})):[],a=e.externalId;e.isBundle&&!a&&(a="bundle-"+e.id);var c={id:e.id,externalId:a,preTitle:e.preTitle,title:e.title,subtitle:e.subtitle,cleanTitle:r.Z.cleanBookTitle(e.title),cruftlessTitle:r.Z.removeCruftFromTitle(r.Z.cleanBookTitle(e.title)),slug:e.slug,isbn:e.isbn,skillsLearned:e.skillsLearned,authorshipDisplay:e.authorshipDisplay,difficulty:e.difficulty,durationInWeeks:e.durationInWeeks,hoursPerWeek:e.hoursPerWeek,free:e.free,certifiable:e.certifiable,authors:e.authors||e.authorshipDisplay,link:"",coverPath:e.coverPath||e.imageUrl,description:(e.subtitle||"")+" "+(e.aboutProductDescription||e.description||""),dateDescription:n.Z.getDateAsString(i),date:i,tags:s,tagsText:s.join(", "),seoKeywords:e.seoKeywords||"",isLivebook:!!e.livebook,isLivevideo:!!e.isLiveVideo,isLiveproject:!0,isLiveprojectSeries:!1,productTypeDescription:"liveproject",isLiveaudio:!!e.hasAudio||!!e.isLiveaudio,isBundle:!!e.isBundle,isConference:!!e.isConference||!!e.conference,isAuthorTalk:!!e.isAuthorTalk||!!e.authorTalk,price:l.getRawProductPrice(e),priceWithoutDiscount:l.getRawProductPriceWithoutDiscount(e),unitAmountDiscounted:l.getRawProductUnitAmountDiscounted(e),isMeap:e.isMeap},u="".concat(c.cleanTitle,"-").concat(c.isLivevideo?1:0,"-").concat(c.isLiveproject?1:0,"-").concat(c.isLiveprojectSeries?1:0);return p[u]||(p[u]=[]),p[u].push(c),e.isBundle&&(c.additionalProductInfo={id:c.id,externalId:c.externalId,description:c.description,cleanDescription:c.description,rating:void 0,productOfferings:e.productOfferings,price:l.getRawProductPrice(e),priceWithoutDiscount:l.getRawProductPriceWithoutDiscount(e),unitAmountDiscounted:l.getRawProductUnitAmountDiscounted(e)}),c})),h=null===(c=e.liveProjectSeries)||void 0===c?void 0:c.map((function(e){var o=t?e.lastSignificantDate||e.publishedDate||e.expectedPublishDate:e.publishedDate||e.expectedPublishDate||e.lastSignificantDate,i=o?new Date(o):null,s=null!=e.tags&&e.tags.length?e.tags.map((function(e){return e.name?e.name:e})):[],a="bundle-"+e.id,c={id:e.id,externalId:a,preTitle:e.preTitle,title:e.title,subtitle:e.subtitle,cleanTitle:r.Z.cleanBookTitle(e.title),cruftlessTitle:r.Z.removeCruftFromTitle(r.Z.cleanBookTitle(e.title)),slug:e.slug,isbn:e.isbn,skillsLearned:e.skillsLearned,authorshipDisplay:e.authorshipDisplay,difficulty:e.difficulty,durationInWeeks:e.durationInWeeks,hoursPerWeek:e.hoursPerWeek,liveProjects:e.liveProjects,contrivedPriceBeforeDiscount:e.contrivedPriceBeforeDiscount,free:e.free,certifiable:e.certifiable,authors:e.authors||e.authorshipDisplay,link:e.link_to_marketplace||"",coverPath:e.coverPath||e.imageUrl,description:(e.subtitle||"")+" "+(e.aboutProductDescription||e.description||""),dateDescription:n.Z.getDateAsString(i),date:i,tags:s,tagsText:s.join(", "),seoKeywords:e.seoKeywords||"",isLivebook:!!e.livebook,isLivevideo:!!e.isLiveVideo,isLiveproject:!0,isLiveprojectSeries:!0,productTypeDescription:"liveproject",isLiveaudio:!!e.hasAudio||!!e.isLiveaudio,isBundle:!!e.isBundle,isConference:!!e.isConference||!!e.conference,isAuthorTalk:!!e.isAuthorTalk||!!e.authorTalk,price:l.getRawProductPrice(e),priceWithoutDiscount:e.priceWithoutDiscount||l.getRawProductPriceWithoutDiscount(e),unitAmountDiscounted:l.getRawProductUnitAmountDiscounted(e),isMeap:e.isMeap};return p[c.cleanTitle]||(p[c.cleanTitle]=[]),p[c.cleanTitle].push(c),c.additionalProductInfo={id:c.id,externalId:c.externalId,description:c.description,cleanDescription:c.description,rating:void 0,productOfferings:e.productOfferings,priceWithoutDiscount:l.getRawProductPriceWithoutDiscount(e),price:l.getRawProductPrice(e),unitAmountDiscounted:l.getRawProductUnitAmountDiscounted(e)},c}));u=i(i([],d,!0),h,!0)}for(var m in p)if(p[m].length>1){var f=p[m],g=f[0];g.isEarlierEdition=!1;for(var b=1;b<f.length;b++){var v=f[b];v.isBundle||(v.date>g.date?(g.isEarlierEdition=!0,g=v):v.isEarlierEdition=!0)}}return u},e.hasLPSeriesOffering=function(e){return!!(e&&e.productOfferings&&e.productOfferings)&&null!=e.productOfferings.find((function(e){return"LP_SERIES"==e.productType}))},e.getRawProductPrice=function(e){var t;return e.isBundle?e.price:e.isLiveVideo?this.getVideoPrice(e):e.isLiveProject?this.getLiveProjectPrice(e):(null===(t=e.liveProjects)||void 0===t?void 0:t.length)?this.getLiveProjectSeriesPrice(e):this.getEbookPrice(e)},e.getRawProductUnitAmountDiscounted=function(e){var t;return e.isBundle?null!=e.unitAmountDiscounted?e.unitAmountDiscounted:0:e.isBundle?e.isLiveVideo?this.getVideoPrice(e):e.isLiveProject?this.getLiveProjectPrice(e):(null===(t=e.liveProjects)||void 0===t?void 0:t.length)?this.getLiveProjectSeriesUnitAmountDiscountedPrice(e):this.getEbookPrice(e):null!=e.unitAmountDiscounted?e.unitAmountDiscounted:0},e.getRawProductPriceWithoutDiscount=function(e){return this.getRawProductPrice(e)},e.getEbookPrice=function(e){if(!e||!e.productOfferings||!e.productOfferings)return 0;var t=e.productOfferings.find((function(e){return"EBOOK"==e.productType}));return null!=t?t.price:0},e.getLiveProjectPrice=function(e){if(!e||!e.productOfferings||!e.productOfferings)return 0;var t=e.productOfferings.find((function(e){return"SOLO"==e.productType||"LP_SERIES"==e.productType}));return null!=t?t.price:0},e.getLiveProjectSeriesPrice=function(e){return e&&e.price?e.price:0},e.getLiveProjectSeriesUnitAmountDiscountedPrice=function(e){return e&&e.unitAmountDiscounted?e.unitAmountDiscounted:0},e.getVideoPrice=function(e){if(!e||!e.productOfferings||!e.productOfferings)return 0;var t=e.productOfferings.find((function(e){return"LIVEVIDEO"==e.productType}));return null!=t?t.price:0},e.createSpecialMeapProduct=function(){return this.createSpecialProduct("MEAP","Manning Publications","A book can take a year or more to write, so how do you learn that hot new technology today? The answer is MEAP, the Manning Early Access Program. In MEAP, you read a book chapter-by-chapter while it's being written and get the final eBook as soon as it's finished. If you pre-order the pBook, you'll get it long before it's available in stores.",this.getManningBaseUrl()+"/meap-catalog",this.getManningBaseUrl()+"/meap-catalog")},e.createSpecialLiveprojectProduct=function(){return this.createSpecialProduct("liveProject","Manning Publications","In liveProject you complete a realistic project organized in achievable steps using carefully-selected book and video resources. You have the option to collaborate with other participants and a mentor. You learn by doing.","https://liveproject.manning.com","https://liveproject.manning.com")},e.createSpecialLivevideoProduct=function(){return this.createSpecialProduct("liveVideo","Manning Publications","Manning video courses are crafted to serve you as excellent learning tools. They link to the video from its text, they help you learn with exercises, and they support executable code for many languages.","https://livevideo.manning.com","https://www.manning.com/livevideo-program")},e.createSpecialLivebookProduct=function(){return this.createSpecialProduct("liveBook","Manning Publications","liveBooks are enhanced books. They add narration, interactive exercises, code execution, and other features to eBooks.","https://livebook.manning.com","https://www.manning.com/livebook-program#section-what-is-livebook")},e.createSpecialManningSiteProduct=function(){return this.createSpecialProduct("Manning Home Site","Manning Publications","Manning is an independent publisher of computer books and video courses for software developers, engineers, architects, system administrators, managers and all who are professionally involved with the computer business. We also publish for students and young programmers, including occasionally for children. We are an entirely virtual organization based on Shelter Island, New York, with many staff working from far-flung places like Manila and Zagreb.","https://www.manning.com/","https://www.manning.com/",!1)},e.createSpecialForumProduct=function(){return this.createSpecialProduct("Forum","Manning Publications","The Manning forums are a place for readers and technologists to engage in discussions about our books and the subjects they cover.","https://forums.manning.com/forums/list.page","https://forums.manning.com/forums/list.page",!1)},e.createSpecialSupportProduct=function(){return this.createSpecialProduct("Support","Manning Publications","Do you have a question or problem with the site? Need help? The Manning FAQs provides answers to frequently asked questions. And if all else fails, you can always contact Manning support and we'll be happy to respond.",this.getManningBaseUrl()+"/support",this.getManningBaseUrl()+"/support",!1)},e.createSpecialNewsletterProduct=function(){return this.createSpecialProduct("Newsletter","Manning Publications","Subscribe to our newsletter",this.getManningBaseUrl()+"/mail-preferences",this.getManningBaseUrl()+"/mail-preferences",!1)},e.createSpecialContactProduct=function(){return this.createSpecialProduct("Contact","Manning Publications","Contact us: Manning Publications Co. 20 Baldwin Road; PO Box 761; Shelter Island, NY  11964",this.getManningBaseUrl()+"/contact",this.getManningBaseUrl()+"/contact",!1)},e.createSpecialFreeContentProduct=function(){return this.createSpecialProduct("Free content center","Manning Publications","Manning Free Content Center","http://freecontent.manning.com/","http://freecontent.manning.com/",!1)},e.createSpecialCatalogProduct=function(){return this.createSpecialProduct("Catalog","Manning Publications","The catalog shows all our books and videos in one place",this.getManningBaseUrl()+"/catalog",this.getManningBaseUrl()+"/catalog",!1)},e.createSpecialDealOfTheDayProduct=function(){return this.createSpecialProduct("Deal of the Day","Manning Publications","Deal of the Day",this.getManningBaseUrl()+"/dotd",this.getManningBaseUrl()+"/dotd",!1)},e.createSpecialTokenProduct=function(){return this.createSpecialProduct("tokens","Use tokens to unlock pieces of book content.","Use tokens to unlock pieces of book content.",this.getManningBaseUrl()+"/token",this.getManningBaseUrl()+"/token")},e.createSpecialProduct=function(t,o,r,i,s,a){void 0===a&&(a=!0);var c=new e;return c.title=t,c.authors=o,c.coverPath=a?"https://lx-common-resources.s3-us-west-2.amazonaws.com/resources/".concat(t,".jpg"):"",c.description=r,c.externalId=t,c.link=i,c.marketplaceLink=s,c.slug="",c.tags=[],c.date=new Date,c.dateDescription=n.Z.getDateAsString(new Date),c.isSpecialProduct=!0,c},e.getManningBaseUrl=function(){try{var e=document.location.href;if(e.indexOf("www-qa.")>=0||e.indexOf("livebook-qa.")>=0||e.indexOf("livevideo-qa.")>=0)return"https://www-qa.manning.com"}catch(e){}return"https://www.manning.com"},e}()},87772:(e,t,o)=>{"use strict";o.d(t,{G:()=>s});var n=o(28079),r=o(94017),i=o(65605),s=function(){function e(e,t){this.productInfos=null,this.productAdditionalInfoMap={},this.provider=e,this.additionalParams=t}return e.prototype.getOwnershipInfo=function(){return this.ownershipInfoPromise?this.ownershipInfoPromise:this.ownershipInfoPromise=this.provider.getOwnershipInfo()},e.prototype.getProductInfos=function(e,t,o){var i=this;return void 0===t&&(t=!1),void 0===o&&(o="externalId"),null!=this.productInfos?Promise.resolve(this.productInfos):null!=this.productInfosPromise?this.productInfosPromise:this.productInfosPromise=new Promise((function(s,a){i.provider.webUtils.isOnline()||null==i.additionalParams||null==i.additionalParams.getProductInfosFallback?i.provider.getRawProductInfos().then((function(a){var c=n.Z.convertRawProducts(a,t);e&&(c.push(n.Z.createSpecialLivebookProduct()),c.push(n.Z.createSpecialLivevideoProduct()),c.push(n.Z.createSpecialLiveprojectProduct()),c.push(n.Z.createSpecialMeapProduct())),s(c=r.u.upgradeProductInfoPaths(c,i.provider.webUtils.configuration,o))})).catch((function(e){return a(e)})):i.additionalParams.getProductInfosFallback().then((function(e){return s(i.convertRawServerDataToProductInfos(e))})).catch((function(e){return a(e)}))}))},e.prototype.getAdditionalProductInfoMap=function(e){var t=this;if(!e||!e.length)return Promise.resolve({});for(var o={},n=[],r=0,s=e;r<s.length;r++){var a=s[r];this.productAdditionalInfoMap[a]?o[a]=this.productAdditionalInfoMap[a]:i.Z.isNumber(a)?n.push(a):o[a]=null}return 0==n.length?Promise.resolve(o):new Promise((function(e,r){t.provider.getAdditionalProductInformation(n).then((function(n){if(n){for(var i=0,s=n;i<s.length;i++){var a=s[i];t.productAdditionalInfoMap[a.id]=a,o[a.id]=a}e(o)}else r()})).catch((function(e){return r(e)}))}))},e.prototype.convertRawServerDataToProductInfos=function(e){var t=n.Z.convertRawProducts(e);return t.push(n.Z.createSpecialLivebookProduct()),t.push(n.Z.createSpecialLivevideoProduct()),t.push(n.Z.createSpecialLiveprojectProduct()),t.push(n.Z.createSpecialMeapProduct()),r.u.upgradeProductInfoPaths(t,this.provider.webUtils.configuration)},e}()},71696:(e,t,o)=>{"use strict";o.d(t,{s:()=>n});var n=function(){function e(e){this.webUtils=e}return e.prototype.getOwnershipInfo=function(){return new Promise((function(e,t){setTimeout((function(){e({maras:!0,mcnamara:!0,171:!0})}),200)}))},e.prototype.getAdditionalProductInformation=function(e){var t=this;return new Promise((function(e,o){setTimeout((function(){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("data/productsDescription.json"),(function(t){return e(t)}),(function(e){return o(e)}),{})}),200)}))},e.prototype.getRawProductInfos=function(){var e=this;return new Promise((function(t,o){e.webUtils.ajax(e.webUtils.getAbsoluteBackendUrl("data/productsAutocompleteInfo.json"),(function(e){e&&e.length?t(e):t([])}),(function(e){return o(e)}))}))},e}()},7297:(e,t,o)=>{"use strict";o.d(t,{G:()=>r});var n=function(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},r=function(){function e(e,t){this.webUtils=e,this.additionalParams=t}return e.prototype.getOwnershipInfo=function(){var e=this;return new Promise((function(t,o){e.webUtils.ajax(null!=e.additionalParams&&e.additionalParams.ownershipEndpoint||e.webUtils.getAbsoluteBackendUrl("/search/ownership"),(function(e){return t(e)}),(function(e){return o(e)}),{},!1,!0)}))},e.prototype.getRawProductInfos=function(){var e=this;return new Promise((function(t,o){e.webUtils.ajax(null!=e.additionalParams&&e.additionalParams.productInfoEndpoint||e.webUtils.getAbsoluteBackendUrl("/api/search/productsAutocompleteInfo"),(function(o){var r,i,s;o&&o.length||e.additionalParams.separateProductAndSeries&&e.additionalParams.separateProductAndSeries&&((null===(r=null==o?void 0:o.liveProjects)||void 0===r?void 0:r.length)||(null===(i=null==o?void 0:o.liveProjectSeries)||void 0===i?void 0:i.length))?((null===(s=null==o?void 0:o.liveProjectSeries)||void 0===s?void 0:s.length)>0&&(o.liveProjectSeries=o.liveProjectSeries.map((function(e){var t,o,r,i,s;if(e.tags=[],e.durationInWeeks=0,null===(t=null==e?void 0:e.liveProjects)||void 0===t||t.forEach((function(t){e.tags=n(n([],e.tags,!0),t.tags,!0),e.durationInWeeks+=t.durationInWeeks})),e.hoursPerWeek=null===(r=null===(o=null==e?void 0:e.liveProjects)||void 0===o?void 0:o[0])||void 0===r?void 0:r.hoursPerWeek,e.difficulty=null===(s=null===(i=null==e?void 0:e.liveProjects)||void 0===i?void 0:i[0])||void 0===s?void 0:s.difficulty,e.unitAmountDiscounted){var a=e.price-(e.unitAmountDiscounted?e.unitAmountDiscounted:0),c=e.price;e.price=a,e.priceWithoutDiscount=c}return e.tags=e.tags.filter((function(e,t,o){return o.indexOf(e)===t})),e}))),t(o)):t([])}),(function(e){o(e)}),{new:!0},!0,!(!e.additionalParams||!e.additionalParams.sendCredentials))}))},e.prototype.getAdditionalProductInformation=function(e){var t=this;return new Promise((function(o,n){t.webUtils.post(null!=t.additionalParams&&t.additionalParams.additionalProductInfoEndpoint||t.webUtils.getAbsoluteBackendUrl("/search/additionalProductInformation"),(function(e){return o(e)}),(function(e){return n(e)}),{productIds:e.join(",")})}))},e}()},47528:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n=o(6125),r=o(26729),i=o(14186),s=o(65605);const a=function(){function e(e,t,o,n,i){this.exercises=e,this.id=o,this.title=n,this.description=i,this.owner=t,this.changeEmitter=new r}return e.prototype.onChange=function(e){this.changeEmitter.on("event",e)},e.prototype.offChange=function(e){e?this.changeEmitter.off("event",e):this.changeEmitter.off("event")},e.prototype.processActions=function(e){for(var t=0,o=e;t<o.length;t++){var n=o[t];this.processAction(n,!1)}this.changeEmitter.emit("event",this)},e.prototype.getExerciseStartIndex=function(){if(this.owner)return this.owner.getStoreStartExerciseIndex(this)},e.prototype.processAction=function(e,t){void 0===t&&(t=!0);var o=!0;switch(e.type){case i.vY.IncrementExercisePosition:this.processIncrementExercisePosition(e);break;case i.vY.DecrementExercisePosition:this.processDecrementExercisePosition(e);break;case i.vY.DeleteExercise:this.processDeleteExercise(e);break;case i.vY.UpdateExerciseData:this.processUpdateExerciseData(e);break;case i.vY.ImportExercises:this.processImportExercises(e);break;case i.vY.SaveNewExercise:this.processSaveNewExercise(e);break;case i.vY.EditExercise:case i.vY.CloseModal:case i.vY.NewExercise:this.owner.processAction(e);break;case i.vY.UpdateExerciseGroupTitle:this.processUpdateExerciseGroupTitle(e);break;case i.vY.UpdateExerciseGroupDescription:this.processUpdateExerciseGroupDescription(e);break;default:o=!1}o&&t&&this.changeEmitter.emit("event",this),e.hasBeenConsumed=!0},e.prototype.processDeleteExercise=function(e){var t=this.exercises.indexOf(e.exercise);t<0||this.exercises.splice(t,1)},e.prototype.processIncrementExercisePosition=function(e){var t=this.exercises.indexOf(e.exercise);if(!(t<0||t>=this.exercises.length-1)){var o=this.exercises[t+1];this.exercises[t+1]=this.exercises[t],this.exercises[t]=o}},e.prototype.processDecrementExercisePosition=function(e){var t=this.exercises.indexOf(e.exercise);if(!(t<=0)){var o=this.exercises[t-1];this.exercises[t-1]=this.exercises[t],this.exercises[t]=o}},e.prototype.processUpdateExerciseData=function(e){e.exercise=s.Z.extend(e.exercise,e.exerciseInfo)},e.prototype.processSaveNewExercise=function(e){this.exercises.push(n.cd.fromExerciseInfo(e.exerciseInfo))},e.prototype.processImportExercises=function(e){var t=this;e&&e.exercises&&e.exercises.length&&e.exercises.forEach((function(e){return t.exercises.push(e)}))},e.prototype.processUpdateExerciseGroupTitle=function(e){this.title=e.title},e.prototype.processUpdateExerciseGroupDescription=function(e){this.description=e.description},e}(),c=function(){function e(e){var t=this;if(this.stores={},e)for(var o in e)this.stores[o]=new a(e[o],this,e[o].title,e[o].description),this.stores[o].onChange((function(e){return t.changeEmitter.emit("event",e)}));this.changeEmitter=new r,this.editedExercise=null,this.isCreatingNewExercise=!1}return e.prototype.onChange=function(e){this.changeEmitter.on("event",e)},e.prototype.offChange=function(e){this.changeEmitter.off("event",e)},e.prototype.createNewExerciseGroupStore=function(e){return this.createNewExerciseGroupStoreWithExercises(e,[])},e.prototype.createNewExerciseGroupStoreWithExercises=function(e,t){var o=this;return void 0===t&&(t=[]),this.stores[e]=new a(t,this),this.stores[e].onChange((function(e){return o.changeEmitter.emit("event",e)})),this.stores[e]},e.prototype.removeExerciseGroupStore=function(e){var t=this.stores[e];delete this.stores[e],t&&t.offChange(),this.changeEmitter.emit("event",t)},e.prototype.getStoreStartExerciseIndex=function(e){var t=this.getSortedIds();if(!t||0===t.length)return 1;for(var o=1,n=0,r=t;n<r.length;n++){var i=r[n];if(this.stores[i]==e)return o;o+=this.stores[i].exercises.length}return 1},e.prototype.getSortedIds=function(){var e=[],t=!0;for(var o in this.stores)e.push(o),t=t&&!isNaN(+o);return t&&e.sort((function(e,t){return e-t})),e},e.prototype.processActions=function(e){for(var t=0,o=e;t<o.length;t++){var n=o[t];this.processAction(n,!1)}this.changeEmitter.emit("event")},e.prototype.processAction=function(e,t){void 0===t&&(t=!0);var o=!0;switch(e.type){case i.vY.EditExercise:var n=e;this.editedExercise=n.exercise,this.currentExerciseGroupStore=n.exerciseGroupStore,this.isCreatingNewExercise=!1;break;case i.vY.CloseModal:this.editedExercise=null,this.isCreatingNewExercise=!1,this.currentExerciseGroupStore=null;break;case i.vY.NewExercise:this.editedExercise=null,this.isCreatingNewExercise=!0,this.currentExerciseGroupStore=e.exerciseGroupStore;break;case i.vY.SaveNewExercise:this.editedExercise=null,this.isCreatingNewExercise=!1;var r=e;r.exerciseGroupStore.processAction(r),this.currentExerciseGroupStore=null;break;case i.vY.UpdateExerciseData:this.editedExercise=null,this.isCreatingNewExercise=!1;var s=e;s.exerciseGroupStore.processAction(s),this.currentExerciseGroupStore=null;break;default:o=!1}o&&t&&this.changeEmitter.emit("event",null),e.hasBeenConsumed=!0},e.prototype.getStoresAsArray=function(){var e=[];for(var t in this.stores)e.push(this.stores[t]);return e},e.prototype.getJSON=function(){var e={};for(var t in this.stores)e[t]=this.stores[t].exercises;return JSON.stringify(e)},e.getExample=function(){var t=e.getExampleExercises();return new e({1:t})},e.getExampleExercises=function(){return[new n.RL("Ruby stone","\n> #### About the exercise type\n> **Choose one answer** - The user is given a set of answers. Only one answer is correct. This exercise type can also be used as True/False.\n\nWhat is the color of ruby?\n                ",[new n.lK("yellow"),new n.lK("blue"),new n.lK("red",!0)],"","","A ruby is a pink to blood-red colored gemstone, a variety of the mineral corundum (aluminium oxide). Other varieties of gem-quality corundum are called sapphires.","This color is at the longer-wavelengths end of the spectrum of visible light next to orange, at the opposite end from violet.","",!1),new n.Aw("Which rivers flow through Germany?",'\n> #### About the exercise type\n> **Choose multiple answer** - The user is given a set of answers. Use this for multiple correct answers or one correct answer among many distracters. You can also use it as True/False. Ask "Is this claim correct?" and have the user drag either Yes or No.\n\n> #### NOTE\n> We added an image into this exercise. This is independent from exercise type.\n\nSelect only rivers that flow through Germany\n                ',[new n.lK("Danube",!0),new n.lK("Nile"),new n.lK("Naab",!0),new n.lK("Rhone",!0)],"","https://s3-us-west-2.amazonaws.com/livevideo-resources/other/danube.jpg","","One of the rivers flows through Egypt.","",!1),new n.lV("Match concepts","\n> #### About the exercise type\n> **Match items and description** - You can use this exercise type to connect words and definitions, code and annotations, or to give multiple answers to multiple choice questions.\n\nMatch the following concepts:\n                                ",[new n.Q("Red","A color"),new n.Q("Sun","A star"),new n.Q("Sea","A large body of salted water")],["A person","A large body of fresh water"],"","","","","",!1),new n.o_("Can you make it executable?","\n> #### About the exercise type\n> **Insert Code** - This useful exercise type also supports distracters. If you write normal text instead of code, you can use it as fill-in-multiple blanks from a word bank.\nHere are two examples ([1](https://livevideo.manning.com/module/21_2_8/nodejs-in-motion/node-on-the-command-line/promises-and-async%3aawait), [2](https://livevideo.manning.com/module/21_3_8/nodejs-in-motion/building-web-applications-with-node/hello%2c-web-app%21?)) from the Node in Motion liveVideo course. Open the module and scroll to the exercise button.\n",["function {.diff.}({.a.}, {.b.}) {","  if({.a > b.}) { return {.a - b.}; }","  else { return {.b - a.}}","  {.return undefined;.}","}"].join("\n"),["decoy"],"","","There is one distractor element.","",!1),new n.vc("Name the country that fits the description",'\n\n> #### About the exercise type\n> **Fill in the answer** - to be correct, the user\'s answer needs to match the correct answer exactly (*case insensitive*). \n> For example, if the answer is "42" then "forty-two" or "42." would be flagged as incorrect. \n> **Use for short answers**. Can also be used as fill-in the blank if you phrase the question such as "the live reports will not run until the tally tree is _____ and functional".\n\n> #### NOTE\n> You can use markdown to format and enrich these fields: description, answer, hint, explain. In this example we used markdown to enter a table.\n\nThis country is a sovereign island nation in East Asia and it is made up of 6,852 islands. It\'s highest point, Mount Fuji, stands at 3,776m. As of July 2012, there are over 127 million people living there, which is the tenth largest population in the world.\n\nThe four largest islands are given in the table below.\n\n| Name of the island   |  Area  |\n|----------|:-------------:|\n| Honshu |  225,800 km^2^ |\n| Hokkaido |  83,453 km^2^  |\n| Kyushu | 36,782 km^2^ |\n| Shikoku | 18,800 km^2^ |\n\nCuisine from this country has become popular around the world. Some well-known dishes are:\n* sushi\n* sashimi\n* tempura\n',"Japan","","","Japan is located in the Pacific Ocean, it lies off the eastern coast of the Asian mainland, and stretches from the Sea of Okhotsk in the north to the East China Sea and Taiwan in the southwest.","Another name for this country is “*Nihon*” or “*Nippon*” which means “**sun origin**”. \n                The capital is **Tokyo**.","",!1),new n.U("For loop - detect the problem","     \n> #### About the exercise type\n> **Write a longer answer** - This exercise type does not check for correct answer but will display it so users will have to decide for themselves how close they were. Use it for long, written answers.\n\nExplain in your own words: \nwhat is the problem with the following code snippet?","Variable i is initialized to 0 and each time the loop is executed, we add 1. Thus each time the for loop will execute, the value of i will go up by 1 and it will never reach -1, our stopping condition.","for(int i = 0; i < -1; i++ ) {\n log(i); \n}","","We should be careful when defining our stopping condition!","How does the value of variable *i* change over time?","",!1),new n.Fr("Rewrite the code",'\n> #### About the exercise type\n> **Follow the instructions** - This exercise type doesn\'t have an answer. It is used as a set of instructions for the user to follow.\n\n> #### NOTE\n> We added a TryIt into this exercise. This is independent from exercise type.\n\n1. Rewrite the code from the snippet into TryIt.\n2. Click "Run code".\n3. Check the result.\n4. Modify the code in "TryIt" to display the first 200 numbers.\n','let numbers = "";\nfor(let i=1; i<=100; i++){\n  numbers += " " + i;\n}\nconsole.log(numbers)',"","Variable *i* is initialized to 1 and each time the loop is executed, we add 1. The loop is done when *i* becomes 100.","Check the condition for running the loop.",'{"code":"","codeCSS":"","codeHTML":"","mode":"JavaScript","description":"","defaultTab":0,"mimeType":"text/javascript","lambdaName":"javascript" }',!1),new n.Fr("Another TryIt example","\n> #### About the exercise type\n> **TryIts** - This exercise demonstrates TryIt with tabs!\n\n> #### NOTE\n> TryIt language can only be changed upon exercise creation.  \n\nWhat will be displayed as a result?\n","","",'Default tab should be "HTML"',"Check which tab is displayed by default",'{"code":"document.getElementById(\\"newApp\\").innerHTML=\\"Hello Manning!\\";","codeCSS":"body{\\n  color:red;\\n}","codeHTML":"<span id=\\"newApp\\">Loading...</span>","mode":"JS/HTML/CSS","description":"TryIt example","defaultTab":2,"mimeType":"text/javascript","lambdaName":"js/html/css", "forceRemove":{"forceRemoveTab1": true, "forceRemoveTab2": false, "forceRemoveTab3": false}, "resultEnabled":false}',!1),new n.Fr("Click Add another exercise to see how that works.",'\n1. Click "Add (another) exercise" button below\n2. Create a new exercise that includes:\n* TryIt\n* image\n* table\n* quote\n',"","","","Exercise can be of any type.","",!1),new n.JW("Match concepts in table","\n> #### About the exercise type\n> **Match concepts in table** - You can use this exercise type to create a table with arbitary number of rows and colums. Some table cells can be fixed while others are for the user to move into correct position. Additional items can be created that do not fit into table.",2,[new n.N0([["Header 1"],["Header 2"]],[[!0],[!1]]),new n.N0([["Red","Purple"],["A color"]],[[!1,!1],[!0]]),new n.N0([["Blue"],["A new color"]],[[!0],[!1]])],["A person","A large body of fresh water"],"","","","","",!1),new n.Py("Graphical drag and drop exercise","\n> #### About the exercise type\n> **Graphical drag and drop** - You can use this exercise type to create a set of draggable fragments that need to be positioned at specific points in the background image.\nHere are two examples ([1](https://livevideo.manning.com/module/38_2_6/production-ready-serverless/building-api-with-api-gateway-and-lambda/cognito-101), [2](https://livevideo.manning.com/module/38_2_4/production-ready-serverless/building-api-with-api-gateway-and-lambda/how-to-secure-apis-in-api-gateway)) from the Production-Ready Serverless liveVideo course. Open the module and scroll to the exercise button on the bottom.","","","","","",!1,'\n{\n    "version": "1.00",\n    "elements": {\n        "SkRDI-i0G": {\n            "type": "ImageFragment",\n            "naturalSize": {\n                "x": 233,\n                "y": 74\n            },\n            "uri": "https://sasapublicstorage.blob.core.windows.net/dndexamples/item1.png",\n            "originalFilename": "item1.png",\n            "id": "SkRDI-i0G"\n        },\n        "HyxRwUZs0G": {\n            "type": "ImageFragment",\n            "naturalSize": {\n                "x": 233,\n                "y": 74\n            },\n            "uri": "https://sasapublicstorage.blob.core.windows.net/dndexamples/item2.png",\n            "originalFilename": "item2.png",\n            "id": "HyxRwUZs0G"\n        },\n        "BkWAwUbo0z": {\n            "type": "ImageFragment",\n            "naturalSize": {\n                "x": 259,\n                "y": 73\n            },\n            "uri": "https://sasapublicstorage.blob.core.windows.net/dndexamples/item3.png",\n            "originalFilename": "item3.png",\n            "id": "BkWAwUbo0z"\n        },\n        "Hkf0vLWs0M": {\n            "type": "ImageFragment",\n            "naturalSize": {\n                "x": 259,\n                "y": 73\n            },\n            "uri": "https://sasapublicstorage.blob.core.windows.net/dndexamples/item4.png",\n            "originalFilename": "item4.png",\n            "id": "Hkf0vLWs0M"\n        },\n        "r170wIWiRz": {\n            "type": "Background",\n            "naturalSize": {\n                "x": 1190,\n                "y": 813\n            },\n            "uri": "https://sasapublicstorage.blob.core.windows.net/dndexamples/background.png",\n            "originalFilename": "background.png",\n            "id": "r170wIWiRz"\n        }\n    },\n    "tasks": {\n        "SkRDI-i0G": {\n            "elementId": "SkRDI-i0G",\n            "targetPos": {\n                "x": 594.4672113200319,\n                "y": 422.00019158661075\n            }\n        },\n        "HyxRwUZs0G": {\n            "elementId": "HyxRwUZs0G",\n            "targetPos": {\n                "x": 166.11020335550276,\n                "y": 561.138051837863\n            }\n        },\n        "BkWAwUbo0z": {\n            "elementId": "BkWAwUbo0z",\n            "targetPos": {\n                "x": 1024.8807920737884,\n                "y": 563.7647453266552\n            }\n        },\n        "Hkf0vLWs0M": {\n            "elementId": "Hkf0vLWs0M",\n            "targetPos": {\n                "x": 598.0871308536553,\n                "y": 746.6763144209978\n            }\n        }\n    },\n    "taskDescription": "Place correct Solr runtime directory implementations in the diagram."\n}\n'),new n.RL('Given this "Make" table and the query below it. What is the result?','\n> #### This exercise has html in markdown enabled\n\n<table style="border-collapse:collapse;border-spacing:0"><tr><th style="font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal">make_id</th><th style="font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;vertical-align:top">make_name</th></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;vertical-align:top">1</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;vertical-align:top">Honda</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;vertical-align:top">2</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;vertical-align:top">Ford</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;vertical-align:top">3</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;vertical-align:top">Renault</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;vertical-align:top">4</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;vertical-align:top">Ferrari</td></tr></table>',[new n.lK("1,2,3,4"),new n.lK("2"),new n.lK("Honda"),new n.lK("2, Ford",!0),new n.lK("Honda, Ford")],"SELECT make_id, make_name FROM make WHERE make_id = 2;","","With SELECT make_id, make_name FROM make WHERE make_id = 2, we have a condition, so the query will return all results where make_id is 2, and it will display make_id and make_name. So in this case, it will show 2, Ford.","","",!0)]},e}()},57672:(e,t,o)=>{"use strict";var n;o.d(t,{C:()=>n,Z:()=>i}),function(e){e[e.Unknown=0]="Unknown",e[e.Code=1]="Code",e[e.Placeholder=2]="Placeholder"}(n||(n={}));var r=/(?:\{\.)(.*?)(?:\.\})/g;const i=function(){function e(){}return e.parse=function(t){var o=e.getLinesCodeFragments(t);return{linesCodeFragments:o,placeholderStrings:e.getPlaceholderStrings(o)}},e.getLinesCodeFragments=function(t){for(var o=[],r=t.split("\n"),i=0,s=0;s<r.length;s++){var a=r[s],c=e.getMatchRanges(a),l=[];if(o.push(l),0!==c.length){c.length>0&&0!==c[0].start&&l.push({text:a.substring(0,c[0].start),type:n.Code,placeholderIndex:-1});for(var u=0;u<c.length;u++)l.push({text:c[u].match,type:n.Placeholder,placeholderIndex:i++}),u+1<c.length&&l.push({text:a.substring(c[u].end,c[u+1].start),type:n.Code,placeholderIndex:-1});var p=c[c.length-1];p&&p.end!==a.length&&l.push({text:a.substring(p.end,a.length),type:n.Code,placeholderIndex:-1})}else l.push({text:a,type:n.Code,placeholderIndex:-1})}return o},e.getPlaceholderStrings=function(e){for(var t=[],o=0;o<e.length;o++)for(var r=e[o],i=0;i<r.length;i++){var s=r[i];s.type===n.Placeholder&&t.push(s.text)}return t},e.getMatchRanges=function(e){r.lastIndex=0;for(var t,o=[];t=r.exec(e);)o.push({start:t.index,end:t.index+t[0].length,match:t[1]});return o},e}()},71599:(e,t,o)=>{"use strict";o.d(t,{Z:()=>U});var n=o(93379),r=o.n(n),i=o(7795),s=o.n(i),a=o(90569),c=o.n(a),l=o(3565),u=o.n(l),p=o(19216),d=o.n(p),h=o(44589),m=o.n(h),f=o(73912),g={};g.styleTagTransform=m(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=d(),r()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals;var b=o(74292),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=d(),r()(b.Z,v),b.Z&&b.Z.locals&&b.Z.locals;var y=o(90828),w={};w.styleTagTransform=m(),w.setAttributes=u(),w.insert=c().bind(null,"head"),w.domAPI=s(),w.insertStyleElement=d(),r()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var k=window,x=null,C=null,E=function(){function e(){this.modeURL="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.3/mode/%N/%N.js",this.loading={}}return e.prototype.autoLoadMode=function(e,t,o){var n=this;o=this.extractLanguageFromMode(o),e&&!k.CodeMirror&&(k.CodeMirror=e),e.modes.hasOwnProperty(o)?this.setLanguageMode(e,t):this.requireMode(e,o,(function(){return n.setLanguageMode(e,t)}))},e.prototype.expandWithNecessaryFunctions=function(e){this.expandWithSimpleMode(e),this.expandWithOverlay(e)},e.prototype.expandWithSimpleMode=function(e){e&&(e&&!k.CodeMirror&&(k.CodeMirror=e),e.defineSimpleMode||(e.defineSimpleMode=function(t,o){e.defineMode(t,(function(t){return e.simpleMode(t,o)}))}),e.simpleMode||(e.simpleMode=function(t,o){R(o,"start");var n={},r=o.meta||{},i=!1;for(var s in o)if(s!=r&&o.hasOwnProperty(s))for(var a=n[s]=[],c=o[s],l=0;l<c.length;l++){var u=c[l];a.push(new N(u,o)),(u.indent||u.dedent)&&(i=!0)}var p={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:i?[]:null}},copyState:function(t){var o={state:t.state,pending:t.pending,local:t.local,localState:null,stack:void 0,persistentStates:void 0,indent:t.indent&&t.indent.slice(0)};t.localState&&(o.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(o.stack=t.stack.slice(0));for(var n=t.persistentStates;n;n=n.next)o.persistentStates={mode:n.mode,spec:n.spec,state:n.state==t.localState?o.localState:e.copyState(n.mode,n.state),next:o.persistentStates};return o},token:F(n,t),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:D(n,r)};if(r)for(var d in r)r.hasOwnProperty(d)&&(p[d]=r[d]);return p}))},e.prototype.expandWithOverlay=function(e){e&&!e.overlayMode&&(e.overlayMode=function(t,o,n){return{startState:function(){return{base:e.startState(t),overlay:e.startState(o),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(n){return{base:e.copyState(t,n.base),overlay:e.copyState(o,n.overlay),basePos:n.basePos,baseCur:null,overlayPos:n.overlayPos,overlayCur:null}},token:function(e,r){return(e!=r.streamSeen||Math.min(r.basePos,r.overlayPos)<e.start)&&(r.streamSeen=e,r.basePos=r.overlayPos=e.start),e.start==r.basePos&&(r.baseCur=t.token(e,r.base),r.basePos=e.pos),e.start==r.overlayPos&&(e.pos=e.start,r.overlayCur=o.token(e,r.overlay),r.overlayPos=e.pos),e.pos=Math.min(r.basePos,r.overlayPos),null==r.overlayCur?r.baseCur:null!=r.baseCur&&r.overlay.combineTokens||n&&null==r.overlay.combineTokens?r.baseCur+" "+r.overlayCur:r.overlayCur},indent:t.indent&&function(e,o){return t.indent(e.base,o)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var r,i;return t.blankLine&&(r=t.blankLine(e.base)),o.blankLine&&(i=o.blankLine(e.overlay)),null==i?r:n&&null!=r?r+" "+i:i}}})},e.prototype.requireMode=function(e,t,o){var n=this;if(void 0===o&&(o=function(){}),t){if(e.modes.hasOwnProperty(t))return this.ensureDeps(e,t,o);if(this.loading.hasOwnProperty(t))return this.loading[t].push(o);if("elixir"==t)return this.loadElixirMode(e),void(o&&o());var r=this.modeURL.replace(/%N/g,t),i=document.createElement("script");i.src=r;var s=document.getElementsByTagName("script")[0],a=this.loading[t]=[o];e.on(i,"load",(function(){n.ensureDeps(e,t,(function(){for(var e=0;e<a.length;++e)a[e]()}))})),s.parentNode.insertBefore(i,s)}else o&&o()},e.prototype.setLanguageMode=function(e,t){t.setOption("mode",t.getOption("mode"))},e.prototype.extractLanguageFromMode=function(e){if(!e)return e;switch(e.indexOf("text/")>-1&&(e=e.replace("text/","")),0==e.indexOf("x-")&&(e=e.replace("x-","")),"html"==e&&(e="htmlmixed"),e){case"csrc":case"c++src":case"java":case"csharp":case"objectivec":case"scala":case"vertex":case"shader":case"fragment":case"squirrel":case"ceylon":case"kotlin":e="clike"}return e},e.prototype.splitCallback=function(e,t){var o=t;return function(){0==--o&&e()}},e.prototype.ensureDeps=function(e,t,o){var n=e.modes[t].dependencies;if(!n)return o();for(var r=[],i=0;i<n.length;++i)e.modes.hasOwnProperty(n[i])||r.push(n[i]);if(!r.length)return o();var s=this.splitCallback(o,r.length);for(i=0;i<r.length;++i)this.requireMode(e,r[i],s)},e.prototype.loadElixirMode=function(e){e.defineMode("elixir",(function(e){var t=function(e){for(var t={},o=0,n=e.length;o<n;++o)t[e[o]]=!0;return t},o=t(["alias","case","cond","def","defmodule","defp","defstruct","defprotocol","defimpl","defmacro","quote","unquote","receive","fn","do","else","else if","end","false","if","in","next","rescue","for","true","unless","when","nil","raise","throw","try","catch","after","with","require","use","__MODULE__","__FILE__","__DIR__","__ENV__","__CALLER__"]),n=t(["def","defmodule","defp","case","cond","rescue","try","catch","->"]),r=t(["end"]);return x={"[":"]","{":"}","(":")"},C=void 0,{startState:function(){return{tokenize:[T],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){C=null;var i=t.tokenize[t.tokenize.length-1](e,t),s=void 0,a=C;if("ident"===i){var c=e.current();i="."===t.lastTok?"property":o.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(c)?"tag":"def"===t.lastTok||"class"===t.lastTok||t.varList?"def":"variable";var l=e.column()===e.indentation();"keyword"===i&&(a=c,n.propertyIsEnumerable(c)?s="indent":r.propertyIsEnumerable(c)?s="dedent":"if"!==c&&"unless"!==c||!l?"do"===c&&t.context.indented<t.indented&&(s="indent"):s="indent")}return(C||i&&"comment"!==i)&&(t.lastTok=a),"|"===C&&(t.varList=!t.varList),"indent"===s||/[\(\[\{]/.test(C)?t.context={prev:t.context,type:C||i,indented:t.indented}:("dedent"===s||/[\)\]\}]/.test(C))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine="\\"===C||"operator"===i),i},electricInput:/^\s*(?:end|rescue|else if|else|catch\})$/,lineComment:"#"}})),e.defineMIME("text/x-elixir","elixir")},e}();function S(e,t,o){return o.tokenize.push(e),e(t,o)}var T=function(e,t){if(e.sol()&&e.match('"""')&&e.eol())return t.tokenize.push(P),"comment";if(e.eatSpace())return null;var o,n=e.next(),r=void 0;if("'"===n||'"'===n)return S(O(n,"string",'"'===n),e,t);if("/"===n){var i=e.current().length;if(e.skipTo("/")){var s=e.current().length,a=0;for(e.backUp(e.current().length-i);e.current().length<s;){var c=e.next();if("("===c?a+=1:")"===c&&(a-=1),a<0)break}if(e.backUp(e.current().length-i),0===a)return S(O(n,"string-2",!0),e,t)}return"operator"}if("%"===n){var l="string",u=!0;e.eat("s")?l="atom":e.eat(/[WQ]/)?l="string":e.eat(/[r]/)?l="string-2":e.eat(/[wxq]/)&&(l="string",u=!1);var p=e.eat(/[^\w\s=]/);return p?(x.propertyIsEnumerable(p)&&(p=x[p]),S(O(p,l,u,!0),e,t)):"operator"}if("#"===n)return e.skipToEnd(),"comment";if("<"===n&&(r=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return S((o=r[1],function(e,t){return e.match(o)?t.tokenize.pop():e.skipToEnd(),"string"}),e,t);if("0"===n)return e.eat("x")?e.eatWhile(/[\da-fA-F]/):e.eat("b")?e.eatWhile(/[01]/):e.eatWhile(/[0-7]/),"number";if(/\d/.test(n))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"===n){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}return":"===n?e.eat("'")?S(O("'","atom",!1),e,t):e.eat('"')?S(O('"',"atom",!0),e,t):e.eat(/[\<\>]/)?(e.eat(/[\<\>]/),"atom"):e.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":e.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(e.eatWhile(/[\w$\xa1-\uffff]/),e.eat(/[\?\!\=]/),"atom"):"operator":"@"===n&&e.match(/^@?[a-zA-Z_\xa1-\uffff]/)?(e.eat("@"),e.eatWhile(/[\w\xa1-\uffff]/),"variable-2"):"$"===n?(e.eat(/[a-zA-Z_]/)?e.eatWhile(/[\w]/):e.eat(/\d/)?e.eat(/\d/):e.next(),"variable-3"):/[a-zA-Z_\xa1-\uffff]/.test(n)?(e.eatWhile(/[\w\xa1-\uffff]/),e.eat(/[\?\!]/),e.eat(":")?"atom":"ident"):"|"!==n||!t.varList&&"{"!==t.lastTok&&"do"!==t.lastTok?/[\(\)\[\]{}\\;]/.test(n)?(C=n,null):"-"===n&&e.eat(">")?"arrow":"|"===n&&e.eat(">")?"pipe":/[=+\-\/*:\.^%<>~|]/.test(n)?("."!==n||e.eatWhile(/[=+\-\/*:\.^%<>~|]/)||(C="."),"operator"):null:(C="|",null)};function A(e){return e||(e=1),function(t,o){if("}"===t.peek()){if(1===e)return o.tokenize.pop(),o.tokenize[o.tokenize.length-1](t,o);o.tokenize[o.tokenize.length-1]=A(e-1)}else"{"===t.peek()&&(o.tokenize[o.tokenize.length-1]=A(e+1));return T(t,o)}}function I(){var e=!1;return function(t,o){return e?(o.tokenize.pop(),o.tokenize[o.tokenize.length-1](t,o)):(e=!0,T(t,o))}}function O(e,t,o,n){return function(r,i){var s=!1,a=void 0;for("read-quoted-paused"===i.context.type&&(i.context=i.context.prev,r.eat("}"));null!=(a=r.next());){if(a===e&&(n||!s)){i.tokenize.pop();break}if(o&&"#"===a&&!s){if(r.eat("{")){"}"===e&&(i.context={prev:i.context,type:"read-quoted-paused"}),i.tokenize.push(A());break}if(/[@\$]/.test(r.peek())){i.tokenize.push(I());break}}s=!s&&"\\"===a}return t}}function P(e,t){return e.sol()&&e.match('"""')&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}function R(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function _(e,t){if(!e)return/(?:)/;var o="";return e instanceof RegExp?(e.ignoreCase&&(o="i"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",o)}function N(e,t){(e.next||e.push)&&R(t,e.next||e.push),this.regex=_(e.regex),this.token=function(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],o=0;o<e.length;o++)t.push(e[o]&&e[o].replace(/\./g," "));return t}(e.token),this.data=e}function F(e,t){return function(o,n){if(n.pending){var r=n.pending.shift();return 0==n.pending.length&&(n.pending=null),o.pos+=r.text.length,r.token}if(n.local){if(n.local.end&&o.match(n.local.end)){var i=n.local.endToken||null;return n.local=n.localState=null,i}var s;return i=n.local.mode.token(o,n.localState),n.local.endScan&&(s=n.local.endScan.exec(o.current()))&&(o.pos=o.start+s.index),i}for(var a=e[n.state],c=0;c<a.length;c++){var l=a[c],u=(!l.data.sol||o.sol())&&o.match(l.regex);if(u){l.data.next?n.state=l.data.next:l.data.push?((n.stack||(n.stack=[])).push(n.state),n.state=l.data.push):l.data.pop&&n.stack&&n.stack.length&&(n.state=n.stack.pop()),l.data.mode&&M(t,n,l.data.mode,l.token),l.data.indent&&n.indent.push(o.indentation()+t.indentUnit),l.data.dedent&&n.indent.pop();var p=l.token;if(p&&p.apply&&(p=p(u)),u.length>2&&l.token&&"string"!=typeof l.token){n.pending=[];for(var d=2;d<u.length;d++)u[d]&&n.pending.push({text:u[d],token:l.token[d-1]});return o.backUp(u[0].length-(u[1]?u[1].length:0)),p[0]}return p&&p.join?p[0]:p}}return o.next(),null}}function L(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var o=0;for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n)||!L(e[n],t[n]))return!1;o++}for(var n in t)t.hasOwnProperty(n)&&o--;return 0==o}function M(e,t,o,n){var r;if(o.persistent)for(var i=t.persistentStates;i&&!r;i=i.next)(o.spec?L(o.spec,i.spec):o.mode==i.mode)&&(r=i);var s=r?r.mode:o.mode||k.CodeMirror.getMode(e,o.spec),a=r?r.state:k.CodeMirror.startState(s);o.persistent&&!r&&(t.persistentStates={mode:s,spec:o.spec,state:a,next:t.persistentStates}),t.localState=a,t.local={mode:s,end:o.end&&_(o.end),endScan:o.end&&!1!==o.forceEnd&&_(o.end,!1),endToken:n&&n.join?n[n.length-1]:n}}function D(e,t){return function(o,n,r){if(o.local&&o.local.mode.indent)return o.local.mode.indent(o.localState,n,r);if(null==o.indent||o.local||t.dontIndentStates&&function(e,t){for(var o=0;o<t.length;o++)if(t[o]===e)return o}(o.state,t.dontIndentStates)>-1)return k.CodeMirror.Pass;var i=o.indent.length-1,s=e[o.state];e:for(;;){for(var a=0;a<s.length;a++){var c=s[a];if(c.data.dedent&&!1!==c.data.dedentIfLineStart){var l=c.regex.exec(n);if(l&&l[0]){i--,(c.next||c.push)&&(s=e[c.next||c.push]),n=n.slice(l[0].length);continue e}}}break}return i<0?0:o.indent[i]}}const U=new E},56781:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var n=o(19755);const r=new(function(){function e(){}return e.prototype.highlight=function(e,t,o){var n=document.createElement("template");return n.innerHTML=e,this.highlightWord(n.content,t,o),n.innerHTML},e.prototype.highlightText=function(e,t,o){var n=document.createElement("template");n.innerHTML=e;for(var r=0,i=t;r<i.length;r++)for(var s=i[r],a=0;a<n.content.children.length;a++)this.highlightWord(n.content.children[a],s,o);return n.innerHTML},e.prototype.highlightWord=function(e,t,o){var n=this.getAllDescendantTextNodes(e),r=this.createTextNodeTextRanges(n),i=this.getStartIndex(r.value,t),s=i+t.length;if(-1!==i){var a=this.splitRanges(r,i,s);this.liftWordsInMatchingRanges(a.matchingRanges,i,s,o)}},e.prototype.liftWordsInMatchingRanges=function(e,t,o,r){for(var i=0,s=e.length;i<s;i++){var a=e[i],c=a.textNode.nodeValue;if(0==i){var l=t-a.start,u=o-a.start,p=c.substring(0,l),d=c.substring(l,u),h=c.substring(u,a.end);n(a.textNode).replaceWith(p+this.wrapToHtmlElement("span",{class:r},d)+h)}else if(i==s-1){var m=o-a.start;d=c.substring(0,m),h=c.substring(m,c.length),n(a.textNode).replaceWith(this.wrapToHtmlElement("span",{class:r},d)+h)}else n(a.textNode).replaceWith(this.wrapToHtmlElement("span",{class:r},c))}},e.prototype.getAllIndexesOf=function(e,t){for(var o,n=0,r=[];(o=e.indexOf(t,n))>-1;)r.push(o),n=o+t.length;return r},e.prototype.getStartIndex=function(e,t){var o=this.getAllIndexesOf(e,t);return 0==o.length?-1:(o.length,o[0])},e.prototype.wrapDirectWordsIntoSpans=function(e){if(null!=e)for(var t=0;t<e.childNodes.length;t++){var o=e.childNodes[t];if(3==o.nodeType){for(var n=o.textContent.split(" "),r=[],i=0;i<n.length;i++){var s=n[i],a=document.createElement("span");if(a.textContent=s,r.push(a),i<n.length-1){var c=document.createElement("span");c.textContent=" ",r.push(c)}}e.replaceChild(r[r.length-1],o);var l=r[r.length-1];for(i=r.length-2;i>=0;i--)e.insertBefore(r[i],l),l=r[i]}}},e.prototype.unwrapElement=function(e){if(null!=e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}},e.prototype.getClosestMatching=function(e,t){if(null==e)return null;for(var o=e;null!=(o=o.parentElement);)if(o.matches(t))return o;return null},e.prototype.inViewport=function(e,t){if("IntersectionObserver"in window){var o=new IntersectionObserver((function(n){if(n&&n[0]&&n[0].intersectionRatio>0)return o.unobserve(e),o.disconnect(),void(t&&t())}),{});return o.observe(e),!0}return!1},e.prototype.getFirstPreviousSibling=function(e,t){if(null==e)return null;for(var o=e;null!=(o=o.previousElementSibling);)if(o.matches(t))return o;return null},e.prototype.isDocumentVisible=function(){return"visible"==document.visibilityState},e.prototype.isElementVisible=function(e,t){if(!e)return!1;var o=e.getBoundingClientRect(),n=o.bottom,r=o.height,i=o.top,s=t.getBoundingClientRect();return i<=s.top?s.top-i<=r:n-s.bottom<=r},e.prototype.triggerEvent=function(e,t){if("createEvent"in document){var o=document.createEvent("HTMLEvents");o.initEvent(t,!1,!0),e.dispatchEvent(o)}else e.fireEvent("on"+t)},e.prototype.triggerTextAreaChange=function(e){e.dispatchEvent(new Event("input",{bubbles:!0}))},e.prototype.closest=function(e,t){var o,n;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some((function(e){return"function"==typeof document.body[e]&&(o=e,!0)}));e;){if((n=e.parentElement)&&n[o](t))return n;e=n}return null},e.prototype.removeClassFromElements=function(e,t){for(var o=0;o<e.length;o++)this.removeClassFromElement(e[o],t)},e.prototype.removeClassFromElement=function(e,t){e&&e.classList.remove(t)},e.prototype.addClassToElements=function(e,t){for(var o=0;o<e.length;o++)this.addClassToElement(e[o],t)},e.prototype.addClassToElement=function(e,t){e&&e.classList.add(t)},e.prototype.ensureInView=function(e,t){if(null!=e){t||(t=this.getScrollParent(e));var o=t.scrollTop,n=o+t.clientHeight,r=e.offsetTop,i=r+e.clientHeight;r<o?t.scrollTop-=o-r:i>n&&(t.scrollTop+=i-n+10)}},e.prototype.getScrollParent=function(e,t){if(null==e)return null;var o=window.getComputedStyle(e),n="absolute"===o.position,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===o.position)return document.body;for(var i=e;i=i.parentElement;)if(o=window.getComputedStyle(i),(!n||"static"!==o.position)&&r.test(o.overflow+o.overflowY+o.overflowX))return i;return document.body},e.prototype.getDistanceFromTopOfThePage=function(e){for(var t=0,o=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,o+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:o}},e.prototype.getDistanceFromLeftEdgeOfThePage=function(e){if(!e)return 0;var t=e.getBoundingClientRect();return null!=t?t.left:0},e.prototype.getElementPosition=function(e){return{top:e.offsetTop,left:e.offsetLeft}},e.prototype.getElementOuterHeight=function(e){var t=e.offsetHeight,o=getComputedStyle(e);return t+(parseInt(o.marginTop)+parseInt(o.marginBottom))},e.prototype.getOffsetTopFromAncestor=function(e,t){for(var o=0;null!=e&&e!==t;)o+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return o},e.prototype.getBottomPadding=function(e){if(null==e)return 0;var t=window.getComputedStyle(e);if(null==t)return 0;var o=parseFloat(t.paddingBottom);return Number.isNaN(o)?0:o},e.prototype.getTopPadding=function(e){if(null==e)return 0;var t=window.getComputedStyle(e);if(null==t)return 0;var o=parseFloat(t.paddingTop);return Number.isNaN(o)?0:o},e.prototype.getRightPadding=function(e){if(null==e)return 0;var t=window.getComputedStyle(e);if(null==t)return 0;var o=parseFloat(t.paddingRight);return Number.isNaN(o)?0:o},e.prototype.getComputedMarginTop=function(e){if(null==e)return 0;var t=window.getComputedStyle(e);if(null==t)return 0;var o=parseFloat(t.marginTop);return Number.isNaN(o)?0:o},e.prototype.getStyledMarginTop=function(e){if(null==e)return 0;var t=parseFloat(e.style.marginTop);return Number.isNaN(t)?0:t},e.prototype.getVerticalCenterOffset=function(e){return null==e?0:e.offsetTop+e.offsetHeight/2},e.prototype.getFirstLineCenterVerticalOffset=function(e){return null==e?0:e.offsetTop+this.getLineHeight(e)/2},e.prototype.getComputedLineHeight=function(e){if(null==e)return 0;var t=window.getComputedStyle(e);if(null==t)return 0;var o=parseFloat(t.lineHeight);return Number.isNaN(o)?0:o},e.prototype.getLineHeight=function(e){if(null==e)return 0;var t,o=e.cloneNode();o.innerHTML="<br>",e.appendChild(o);var n=o.offsetHeight;o.innerHTML="<br><br>";var r=o.offsetHeight;return e.removeChild(o),t=r-n,Math.max(t,0)},e.prototype.getWidth=function(e){if(null==e)return 0;var t=window.getComputedStyle(e);if(null==t)return 0;var o=parseFloat(t.width);return Number.isNaN(o)?0:o},e.prototype.getHeight=function(e){if(null==e)return 0;var t=window.getComputedStyle(e);if(null==t)return 0;var o=parseFloat(t.height);return Number.isNaN(o)?0:o},e.prototype.getFontString=function(e){var t=window.getComputedStyle(e);return null==t?"":t.font?t.font:"".concat(t.fontSize," ").concat(t.fontFamily)},e.prototype.getTextWidth=function(e,t){var o=(this.canvas||(this.canvas=document.createElement("canvas"))).getContext("2d");return o.font=t,Math.floor(o.measureText(e).width)},e.prototype.removeDescendents=function(e,t){if(e&&e.children.length)for(var o=e.querySelectorAll(t),n=0;n<o.length;n++){var r=o[n];r.parentElement.removeChild(r)}},e.prototype.scrollElementTop=function(e,t,o,n){void 0===o&&(o=700),void 0===n&&(n=function(){}),this.scrollElementProperty(e,t,o,"scrollTop",n)},e.prototype.scrollElementLeft=function(e,t,o,n){void 0===o&&(o=700),void 0===n&&(n=function(){}),this.scrollElementProperty(e,t,o,"scrollLeft",n)},e.prototype.scrollElementProperty=function(e,t,o,n,r){var i=this;if(void 0===o&&(o=700),void 0===r&&(r=function(){}),e&&(t=Math.round(t),!((o=Math.round(o))<0)))if(0!==o){var s=Date.now(),a=s+o,c=e[n],l=t-c,u=e[n],p=function(){if(e[n]==u){var t=Date.now(),o=function(e,t,o){if(o<=e)return 0;if(o>=t)return 1;var n=(o-e)/(t-e);return n*n*(3-2*n)}(s,a,t),d=Math.round(c+l*o);e[n]=d,t>=a?r&&r():e[n]!==u||e[n]===d?(u=e[n],i.requestAnimationFrame(p)):r&&r()}else r&&r()};this.requestAnimationFrame(p)}else e[n]=t},e.prototype.requestAnimationFrame=function(e){window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,16)},e.prototype.isScrolledToBottom=function(e){return!!e&&e.offsetHeight+e.scrollTop>=e.scrollHeight},e.prototype.getTopOffsetForBottomPosition=function(e){return e?e.scrollHeight-e.offsetHeight:0},e.prototype.getAllDescendantTextNodes=function(e){var t=[];return this.walkTheDOM(e,(function(e){3===e.nodeType&&t.push(e)})),t},e.prototype.walkTheDOM=function(e,t){for(t(e),e=e.firstChild;e;)this.walkTheDOM(e,t),e=e.nextSibling},e.prototype.createTextNodeTextRanges=function(e){for(var t={value:"",textNodeRanges:[]},o=0;o<e.length;o++){var n=e[o],r=n.nodeValue,i=t.value;t.value+=r,t.textNodeRanges.push({start:i.length,end:t.value.length,textNode:n})}return t},e.prototype.splitRanges=function(e,t,o){for(var n=e.textNodeRanges,r=[],i=[],s=[],a=0;a<n.length;a++){var c=n[a];c.end<=t?r.push(c):c.start>=o?s.push(c):i.push(c)}return{previousRanges:r,matchingRanges:i,followingRanges:s}},e.prototype.wrapToHtmlElement=function(e,t,o){return"<".concat(e," ").concat(this.getAttributesString(t),">").concat(this.escapeHtmlString(o),"</").concat(e,">")},e.prototype.getAttributesString=function(e){if(!e)return"";var t="";for(var o in e)t+=" ".concat(o,'="').concat(e[o],'"');return t},e.prototype.escapeHtmlString=function(e){return void 0===e&&(e=""),e.replace("<","&lt;").replace(">","&gt;")},e}())},13410:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n=new(function(){function e(){this.isTouch="ontouchstart"in window||navigator.maxTouchPoints>0;try{this.supportsCssClipPath=window&&window.CSS&&window.CSS.supports&&window.CSS.supports("clip-path","polygon(50% 0%, 0% 100%, 100% 100%)")}catch(e){this.supportsCssClipPath=!1}}return e.prototype.isRunningInLivebook=function(){return-1!==document.location.hostname.indexOf("livebook")||-1!==document.title.toLowerCase().indexOf("livebook")},e.prototype.isRunningInLivevideo=function(){return-1!==document.location.hostname.indexOf("livevideo")||-1!==document.title.toLowerCase().indexOf("livevideo")},e.prototype.isRunningInMarketplace=function(){return!this.isRunningInLivebook()&&!this.isRunningInLivevideo()},e.prototype.isMobileWidth=function(){return window.innerWidth<500},e.prototype.isMacOs=function(){return(navigator.platform||"").toLowerCase().indexOf("mac")>=0},e.prototype.getCommandOrControl=function(){return this.isMacOs()?"⌘":"ctrl"},e}())},36196:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var n=o(26729);const r=new(function(){function e(){this.windowResizeStopEmitter=new n,this.handleWindowResize()}return e.prototype.registerResizeStartCallback=function(e){this.windowResizeStopEmitter.addListener("resizestart",e)},e.prototype.unregisterResizeStartCallback=function(e){this.windowResizeStopEmitter.removeListener("resizestart",e)},e.prototype.registerResizeEndCallback=function(e){this.windowResizeStopEmitter.addListener("resizestop",e)},e.prototype.unregisterResizeEndCallback=function(e){this.windowResizeStopEmitter.removeListener("resizestop",e)},e.prototype.handleWindowResize=function(){var e=this;window.addEventListener("resize",(function(){clearTimeout(e.resizeEndTimeout),e.windowResizeStopEmitter.emit("resizestart"),e.resizeEndTimeout=setTimeout((function(){e.windowResizeStopEmitter.emit("resizestop")}),200)}))},e.prototype.handleContainerScroll=function(e){var t=e.currentTarget,o=e.wheelDelta||-e.detail,n=parseFloat(window.getComputedStyle(t).height),r=t.scrollTop+n-t.scrollHeight>=0,i=t.scrollTop<=0;if(o<0&&r||o>0&&i){var s=e.deltaX||e.wheelDeltaX,a=e.deltaY||e.wheelDeltaY;if(null!=s&&null!=a&&Math.abs(s)>Math.abs(a))return;e.preventDefault()}},e.prototype.handleDragScroll=function(e){var t=!1,o=0,n=0;if(!e.hasDragEvents){var r=function(r){t&&(Math.abs(n-r.pageX)>=Math.abs(o-r.pageY)?e.scrollLeft+=.1*(n-r.pageX):e.scrollTop+=.1*(o-r.pageY))},i=function(){t=!1,e.removeEventListener("mousemove",r)},s=function(i){t=!0,o=i.pageY,n=i.pageX,e.addEventListener("mousemove",r)};e.addEventListener("mousedown",s),e.addEventListener("mouseup",i),e.addEventListener("mouseleave",i),e.hasDragEvents=!0,e.mousedownHandler=s,e.mouseupleaveHandler=i}},e.prototype.removeDragScrollEvents=function(e){e&&e.hasDragEvents&&(e.mousedownHandler&&e.removeEventListener("mousedown",e.mousedownHandler),e.mouseupleaveHandler&&(e.removeEventListener("mouseup",e.mouseupleaveHandler),e.removeEventListener("mouseleave",e.mouseupleaveHandler)),e.hasDragEvents=!1,delete e.hasDragEvents)},e}())},97766:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var n=o(56781),r=o(65605);const i=new(function(){function e(){this.numberedBookItemIndexRegExp=/^(?:(?:(?:(?:Chapter)|(?:Part)|(?:Lesson)|(?:Section)|(?:Unit)) ))?((?:\d+\.?)+)/,this.appendixIndexRegExp=/^(Appendix )?[A-Z]\.(\d+\.?)*/,this.appendixSectionSubsectionRegEx=/^([A-Z]\.?(?:\d+\.?)+)/,this.sectionSubsectionRegEx=/^(\d+\.?)+/,this.isOnDevice=!1,this.titleRegExes=[/Chapter (\d+\.?)\s*:?/,/(?:Part|Section|Lesson|Unit) (\d+\.?)/,/Appendix\s*([A-Z]?\.?)/,/^\d+(\.)?\s+/],this.sectionRegEx=/^((\d+|[A-Z])\.)(\d+(\.)?)/,this.subsectionRegEx=/^((\d+|[A-Z])\.)(\d+\.)(\d+(\.)?)/}return e.prototype.getCoverPath=function(e){return"https://images.manning.com/".concat(e)},e.prototype.getCleanHtml=function(e){try{var t=document.createElement("template");t.innerHTML=e;for(var o=t.content.querySelectorAll("ul, ol"),r=0;r<o.length;r++)n.Z.unwrapElement(o[r]);var i=t.content.querySelectorAll("li");for(r=0;r<i.length;r++)n.Z.unwrapElement(i[r]);var s=t.content.querySelectorAll("a");for(r=0;r<s.length;r++)(u=document.createElement("span")).innerHTML=s[r].innerHTML,s[r].replaceWith(u);if(null!=t.content.querySelector("hr, .manual-productpage-video-container, br, b, iframe")){var a=t.content.children,c=[];for(r=0;r<a.length;r++)if("HR"==(h=a[r]).nodeName||h.classList.contains("manual-productpage-video-container"))for(var l=0;l<=r;l++)c.push(a[l]);else if("BR"==h.nodeName)c.push(h);else if("B"==h.nodeName){var u;(u=document.createElement("span")).innerHTML=h.innerHTML,h.replaceWith(u)}for(var p=0,d=c;p<d.length;p++){var h=d[p];t.content.contains(h)&&t.content.removeChild(h)}var m=t.content.querySelectorAll("iframe");for(r=0;r<m.length;r++)m[r].remove();var f=t.content.querySelectorAll("p");for(r=0;r<f.length;r++){var g=f[r];g.innerHTML.trim()||g.remove()}}var b=t.content.querySelectorAll("p");for(r=0;r<b.length;r++)b[r].removeAttribute("style");if(t.content.children.length==t.content.querySelectorAll("p").length){var v=[];for(a=t.content.children,r=0;r<a.length;r++)h=a[r],v.push(h.innerHTML);var y=v.join("<br>");y.trim()&&(t.innerHTML=y)}return t.innerHTML}catch(t){return e}},e.prototype.extractNumbering=function(e){if(!e||!e.trim())return"";for(var t=null,o=0,n=this.titleRegExes;o<n.length;o++){var r=n[o];if((t=e.match(r))&&t.length>=2)return t[1]}return(t=e.match(this.appendixSectionSubsectionRegEx))||(t=e.match(this.sectionSubsectionRegEx))?t[0]:""},e.prototype.getRouteInfo=function(e){if(!e)return null;var t="/book/",o=e.indexOf(t);if(-1==o)return null;var n=e.indexOf("/",o+t.length);-1==n&&-1==(n=e.indexOf("?"))&&(n=e.length);var r=e.substring(o+t.length,n),i=n+1,s=e.indexOf("/",i);-1==s&&-1==(s=e.indexOf("?"))&&(s=e.length);var a=e.substring(i,s),c=s+1,l=e.indexOf("/",c);return-1==l&&-1==(l=e.indexOf("?"))&&(l=e.length),{slug:r,bookElement:a||"chapter-1",refId:e.substring(c,l).replace(/search-/gi,"")||"1"}},e.prototype.extractBookElementShortName=function(e){if(this.isChapterOrAppendix(e)){var t=this.extractBookElementIndex(e);if(t&&r.Z.isNumber(t))return"chapter-".concat(+t);if(t&&e.indexOf("Appendix")>=0)return"appendix-".concat(t.replace(".",""))}return""},e.prototype.removeCruftFromTitle=function(e){return e?(e||"").trim().replace(/^learn windows|^learn|in action|in practice|in a month of lunches|in depth|in motion|the essential reference|the art of|secrets of|the well-grounded|^practical|^modern|^exploring|^talk|practices of|^get\s+|^applied|grokking|workout/gi,"").trim():e},e.prototype.cleanBookTitle=function(e){return e?(e||"").trim().replace(/,?\s+(second|third|fourth|fifth|sixth|seventh|eight|nineth)\s+edition/i,""):e},e.prototype.adaptLinkFormat=function(e){return e=e||"",this.isOnDevice?e.indexOf("#!")>=0?e:e.indexOf("/book")>=0?e.replace("/book","/#!/book"):e:e.replace("#!","").replace("//book","/book")},e.prototype.getShortTitle=function(e){return e?e=e.replace(/,?\s+second\s+edition/i,", 2nd ed.").replace(/,?\s+third\s+edition/i,", 3rd ed.").replace(/,?\s+fourth\s+edition/i,", 4th ed.").replace(/,?\s+fifth\s+edition/i,", 5th ed.").replace(/,?\s+sixth\s+edition/i,", 6th ed.").replace(/,?\s+seventh\s+edition/i,", 7th ed.").replace(/,?\s+eight\s+edition/i,", 8th ed.").replace(/,?\s+nineth\s+edition/i,", 9th ed."):e},e.prototype.getShortTitleAndEdition=function(e){if(!e)return{shortTitle:"",edition:""};for(var t=this.getShortTitle(e),o="",n=0,r=[", 2nd ed.",", 3rd ed.",", 4th ed.",", 5th ed.",", 6th ed.",", 7th ed.",", 8th ed.",", 9th ed."];n<r.length;n++){var i=r[n];if(t.indexOf(i)>0){t=t.replace(i,""),o=i.replace(", ","");break}}return{shortTitle:t,edition:o}},e.prototype.getElementLink=function(e){if(!e)return e;var t=(e=this.adaptLinkFormat(e)).match("(chapter-[0-9]+)|(part-[0-9]+)|(appendix(-[a-z])?)");return null==t||0==t.length?e:e.substring(0,t.index+t[0].length)},e.prototype.getSectionLink=function(e,t){if(!e)return e;e=this.adaptLinkFormat(e);var o=this.getElementLink(e);if(o==e)return e;var n=this.extractBookElementIndex(t).trim()||"";return""==n?e:(n.endsWith(".")&&(n=n.substring(0,n.length-1)),o+"/section-"+n.replace(/\./g,"-"))},e.prototype.extractBookElementIndex=function(e){var t=new RegExp(this.appendixIndexRegExp).exec(e),o=new RegExp(this.numberedBookItemIndexRegExp).exec(e);return t?(t[0]||"").replace("Appendix ",""):o&&o.length>1?o[1]:""},e.prototype.splitIntoShortNameAndContent=function(e){var t=new RegExp(this.appendixIndexRegExp).exec(e),o=new RegExp(this.numberedBookItemIndexRegExp).exec(e);if(t)return{shortName:n=(t[0]||"").replace("Appendix ",""),content:r=e.replace("Appendix","").replace(n,"")};if(o&&o.length>1){var n=o[1],r=e.replace("Chapter","").replace("Lesson","").replace(n,"");return-1!=e.indexOf("Chapter")&&(n="Chapter ".concat(n)),{shortName:n,content:r}}return null},e.prototype.extractSegmentedBookElementIndex=function(e){var t=this.extractBookElementIndex(e);return t?t.split(".").filter((function(e){return e.trim()})):[]},e.prototype.compareBookItemIndexes=function(e,t){for(var o=this.extractSegmentedBookElementIndex(e),n=this.extractSegmentedBookElementIndex(t),r=Math.max(o.length,n.length),i=0;i<r;i++){var s=o[i],a=n[i];if(!s)return-1;if(!a)return 1;var c=parseInt(s),l=parseInt(a);if(Number.isNaN(c)&&!Number.isNaN(l))return 1;if(!Number.isNaN(c)&&Number.isNaN(l))return-1;if(Number.isNaN(c)&&Number.isNaN(l)){if(s===a)continue;return s<a?-1:1}if(c!==l)return c<l?-1:1}return 0},e.prototype.getLastIndex=function(e){var t=this.extractBookElementIndex(e);if(!t)return t;var o=t.match(/(\d+)\.?$/);return null==o?"":o[1]||o[0]},e.prototype.cleanBookElementTitle=function(e,t){if(void 0===t&&(t=!0),!e)return e;var o=this.extractBookElementIndex(e);return e=e.trim().replace(/^(Chapter|Part|Section|Appendix|Unit|Module)/,""),t&&(e=e.replace(o,"").trim()),(e=e.replace(/^\.\s*/,"")).trim()},e.prototype.adjustCoverPath=function(e,t,o){return e?(-1!=e.indexOf("images")&&-1!=e.indexOf("manning.com")&&(-1!=e.indexOf("manning.com/book/")&&(e=e.replace("manning.com/book/","manning.com/".concat(t,"/").concat(o,"/resize/book/"))),-1!=e.indexOf("manning.com/liveProject/")?e=e.replace("manning.com/liveProject/","manning.com/".concat(t,"/").concat(o,"/resize/liveProject/")):-1!=e.indexOf("manning.com/video/")?e=e.replace("manning.com/video/","manning.com/".concat(t,"/").concat(o,"/resize/video/")):-1!=e.indexOf("manning.com/bundle/")&&(e=e.replace("manning.com/bundle/","manning.com/".concat(t,"/").concat(o,"/resize/bundle/")))),e):e},e.prototype.isChapterOrAppendix=function(e){if(!e)return!1;for(var t=0,o=this.titleRegExes;t<o.length;t++){var n=o[t];if(e.match(n))return!0}return!1},e.prototype.isSection=function(e){return!!e&&null!=e.match(this.sectionRegEx)&&!this.isSubsection(e)},e.prototype.isSubsection=function(e){return!!e&&null!=e.match(this.subsectionRegEx)},e}())},94017:(e,t,o)=>{"use strict";o.d(t,{u:()=>s});var n=o(41839),r=o(97766),i=o(65605),s=function(){function e(){}return e.getProductLink=function(e,t){if(null==e)return"";var o=t.client.marketplace+"/books/";if(e.isLiveBook)o=t.client.livebook+"/book/";else{if(e.isLiveProject){var n="";return e.isOwned?((n=t.client.pbc).endsWith("/")||(n+="/"),n+="course/"+e.externalId):((n=t.client.marketplace).endsWith("/")||(n+="/"),n+="liveproject/"+e.slug),n}e.isLiveVideo&&(o=t.client.livevideo+"/course/")}return o+e.slug},e.getMarketplaceLink=function(e,t){if(null==e)return"";var o=t.client.marketplace;return e.isLiveBook?o+="/books/":e.isLiveProject?o+="/liveproject/":e.isLiveVideo&&(o="/livevideo/"),o+e.slug},e.getContentLink=function(e,t){if(null==e)return"";var o=t.client.marketplace+"/books/";if(e.isLiveBook)o=t.client.livebook+"/book/";else{if(e.isLiveProject){var n=t.client.pbc;return n.endsWith("/")||(n+="/"),n+"course/"+e.externalId}e.isLiveVideo&&(o=t.client.livevideo+"/course/")}return o+e.slug},e.createDummyProduct=function(e,t,o,n){return void 0===e&&(e="book"),void 0===t&&(t=""),void 0===o&&(o=!1),void 0===n&&(n=!1),{id:"".concat(this.dummyIdCounter++),coverPath:t,manningId:"".concat(this.dummyIdCounter++),title:n?this.getLoaderLines(1):e,date:"",dateObj:new Date,description:n?this.getLoaderLines(this.dummyIdCounter%3||1):"",price:0,priceWithoutDiscount:0,unitAmountDiscounted:0,isExternalProduct:!1,isFreeProduct:!1,isTwoLineTitle:!1,isWideCover:!1,link:"",productType:e,rating:0,tags:[],isLiveaudio:o,isDummy:!0}},e.getLoaderLines=function(e){return i.Z.createArrayFromItemsUpTo(e).map((function(e){return"<div class='loader-text-line'></div>"})).join("")},e.userOwnsProduct=function(e){return!(!this.userOwnedProducts||!this.userOwnedProducts[e]&&!this.userOwnedProducts["*"])},e.assignAdditionalInfoToProductInfos=function(e,t,o){void 0===o&&(o="id");for(var n=0,r=e;n<r.length;n++){var i=r[n];if(null==i.additionalProductInfo){var s=t[i[o]]||null;if(null!=s&&(i.additionalProductInfo=s,s.productOfferings)){for(var a=!1,c=0,l=s.productOfferings;c<l.length;c++)if("EBOOK"==(f=l[c]).productType||"LIVEVIDEO"==f.productType||"LIVEPROJECT"==f.productType||"SOLO"==f.productType||"LP_SERIES"==f.productType){var u=f.price-(f.unitAmountDiscounted?f.unitAmountDiscounted:0),p=f.price,d=f.unitAmountDiscounted;i.additionalProductInfo.price=u,i.additionalProductInfo.priceWithoutDiscount=p,i.price=u,i.unitAmountDiscounted=d,i.priceWithoutDiscount=p,a=u>0}if(!a)for(var h=0,m=s.productOfferings;h<m.length;h++){var f;"PBOOK"==(f=m[h]).productType&&(u=f.price-(f.unitAmountDiscounted?f.unitAmountDiscounted:0),p=f.price,i.additionalProductInfo.price=u,i.additionalProductInfo.priceWithoutDiscount=p,i.price=u,i.priceWithoutDiscount=p)}}}}},e.convertProductInfosToProductDescription=function(t){var o=this;return(t||[]).map((function(t){var n,i=o.getAppropriateLink(t),s=r.Z.getShortTitle(t.title),a=o.getPrice(t),c="product";return t.isLivebook&&(c="book"),t.isLivevideo&&(c="video"),t.isLiveproject&&(c="project"),{id:t.externalId||t.id,manningId:t.id,preTitle:t.preTitle,title:s,authors:t.authors,link:i,price:a,priceWithoutDiscount:o.getPriceWithoutDiscount(t),unitAmountDiscounted:o.getUnitAmountDiscounted(t),coverPath:e.getCoverPath(t.coverPath,t.isAuthorTalk||t.isConference),description:o.getDescriptionHtml(t),rating:null!=t.additionalProductInfo?t.additionalProductInfo.rating:0,date:t.dateDescription,dateObj:t.date,tags:t.tags,isWideCover:t.isAuthorTalk||t.isConference,isTwoLineTitle:s.length>=32,isExternalProduct:o.isExternalProduct(t),isFreeProduct:t.isAuthorTalk||t.isConference||t.free,productType:c,skillsLearned:t.skillsLearned,authorshipDisplay:t.authorshipDisplay,difficulty:t.difficulty,certifiable:t.certifiable,durationInWeeks:t.durationInWeeks,hoursPerWeek:t.hoursPerWeek,isLiveaudio:t.isLiveaudio,contrivedPriceBeforeDiscount:t.contrivedPriceBeforeDiscount,liveProjects:null===(n=t.liveProjects)||void 0===n?void 0:n.sort((function(e,t){return e.preTitle>t.preTitle?1:-1}))}}))},e.isExternalProduct=function(e){return!(null!=e&&(this.sourceApp==n.$X.pbc&&e.isLiveproject||this.sourceApp==n.$X.livevideo&&(e.isLivevideo||e.isConference||e.isAuthorTalk)||this.sourceApp==n.$X.livebook&&e.isLivebook))},e.getCoverPath=function(e,t){return e?t?r.Z.adjustCoverPath(e,185,104):r.Z.adjustCoverPath(e,172,216):t?"https://lx-common-resources.s3-us-west-2.amazonaws.com/resources/wide-cover.png":"https://lx-common-resources.s3-us-west-2.amazonaws.com/resources/cover.png"},e.getPriceWithoutDiscount=function(e){var t;return null!=e&&e.free?0:null!=e&&e.additionalProductInfo&&e.additionalProductInfo.priceWithoutDiscount&&0==(null===(t=e.liveProjects)||void 0===t?void 0:t.length)?e.additionalProductInfo.priceWithoutDiscount:e.contrivedPriceBeforeDiscount?e.contrivedPriceBeforeDiscount:null!=e?e.priceWithoutDiscount:0},e.getPrice=function(e){return null!=e&&e.free?0:null!=e&&e.additionalProductInfo&&e.additionalProductInfo.price?e.additionalProductInfo.price:null!=e?e.price:0},e.getUnitAmountDiscounted=function(e){return null!=e&&e.free?0:null!=e&&e.additionalProductInfo&&e.additionalProductInfo.unitAmountDiscounted?e.additionalProductInfo.unitAmountDiscounted:null!=e?e.unitAmountDiscounted:0},e.getDescriptionHtml=function(e,t){return void 0===t&&(t=3),null==e?"":e.isSpecialProduct?e.description:void 0===e.additionalProductInfo?i.Z.createArrayFromItemsUpTo(t).map((function(e){return"<div class='loader-text-line'></div>"})).join(""):null!==e.additionalProductInfo&&e.additionalProductInfo.description?e.additionalProductInfo.cleanDescription?e.additionalProductInfo.cleanDescription:e.isLiveproject?e.additionalProductInfo.description:(e.additionalProductInfo.cleanDescription=r.Z.getCleanHtml(e.additionalProductInfo.description)||e.additionalProductInfo.description,e.additionalProductInfo.cleanDescription):""},e.getAppropriateLink=function(t){if(this.sourceApp==n.$X.livebook&&t.isLivebook)return t.link;if(this.sourceApp==n.$X.livevideo){if(t.isAuthorTalk||t.isConference)return t.link;if(t.isLivevideo)return e.userOwnsProduct(t.id)||e.userOwnsProduct(t.externalId)?t.link:t.marketplaceLink}return this.sourceApp==n.$X.pbc&&t.isLiveproject?t.isLiveprojectSeries?t.marketplaceLink||t.link:e.userOwnsProduct(t.id)||e.userOwnsProduct(t.externalId)?t.link:t.marketplaceLink:t.marketplaceLink},e.upgradeProductInfoPaths=function(e,t,o){var n=this;return void 0===o&&(o="externalId"),null==e||0==e.length||e.forEach((function(e){return n.upgradeProductDescriptionPath(e,t,o)})),e},e.upgradeProductDescriptionPath=function(e,t,o){if(void 0===o&&(o="externalId"),null!=e){var n=e.isLivebook,i=e.isLivevideo,s=e.isBundle,a=e.isLiveproject;e.coverPath&&!e.coverPath.startsWith("http")&&(e.coverPath=this.getAbsolutePath(t.images.marketplace,e.coverPath)),e.description&&(e.description=e.description.replace(/\.\.\/books\//gi,"".concat(t.client.marketplace,"/books/"))),(!e.link||0!=e.link.indexOf("http")&&0!=e.link.indexOf("file://"))&&(n?(e.link=r.Z.isOnDevice?"#!/book/".concat(e.slug):this.getAbsolutePath(t.client.livebook,"/book/".concat(e.slug)),e.marketplaceLink=this.getAbsolutePath(t.client.marketplace,"books/".concat(e.slug)),e.livebookLink=e.link):i?(e.link=this.getAbsolutePath(t.client.livevideo,"course/".concat(e.externalId)),e.marketplaceLink=this.getAbsolutePath(t.client.marketplace,"livevideo/".concat(e.slug)),e.livevideoLink=e.link):s?(e.link=this.getAbsolutePath(t.client.marketplace,"bundles/".concat(e.slug)),e.marketplaceLink=e.link):a?(e.link=this.getAbsolutePath(t.client.pbc,"project/".concat(e[o])),e.marketplaceLink=this.getAbsolutePath(t.client.marketplace,"liveproject/".concat(e.slug))):(e.link=this.getAbsolutePath(t.client.marketplace,"books/".concat(e.slug)),e.marketplaceLink=e.link))}},e.getAbsolutePath=function(e,t){var o=e;return o.endsWith("/")||t.startsWith("/")||(o+="/"),o+t},e.userOwnedProducts={},e.dummyIdCounter=0,e}()},87298:(e,t,o)=>{"use strict";o.d(t,{r:()=>n});var n=new(function(){function e(){this.cacheMap={}}return e.prototype.getProductToc=function(e,t,o,n,r){return o?this.getLivebookToc(e,t):n?this.getLivevideoToc(e,t):r?this.getPbcToc(e,t):Promise.resolve({})},e.prototype.getLivebookToc=function(e,t){var o=this;return this.cacheMap[t]?this.cacheMap[t]:this.cacheMap[t]=new Promise((function(n,r){e.ajax(e.getAbsoluteLivebookAwsUrl("".concat(t,"/tocAndIndex.json")),(function(e){return n(e.toc)}),(function(e){delete o.cacheMap[t],r(e)}))}))},e.prototype.getLivevideoToc=function(e,t){var o=this;return this.cacheMap[t]?this.cacheMap[t]:this.cacheMap[t]=new Promise((function(n,r){e.ajax(e.getAbsoluteBackendLivevideoUrl("course/getToc"),(function(e){return n(e)}),(function(e){delete o.cacheMap[t],r(e)}),{id:t},!0)}))},e.prototype.getPbcToc=function(e,t){var o=this;return this.cacheMap[t]?this.cacheMap[t]:this.cacheMap[t]=new Promise((function(n,r){e.ajax(e.getAbsoluteBackendLivevideoUrl("course/getToc"),(function(e){return n(e)}),(function(e){delete o.cacheMap[t],r(e)}),{id:t},!0)}))},e}())},65605:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var n,r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];!function(e){e[e.Pending=0]="Pending",e[e.Fulfilled=1]="Fulfilled",e[e.Rejected=2]="Rejected"}(n||(n={}));const i=new(function(){function e(){}return e.prototype.getNumbersFromTo=function(e,t){for(var o=[],n=e;n<=t;n++)o.push(n);return o},e.prototype.isWithinLastTwoWeeks=function(e){return Math.abs(this.daysFromNow(e))<=14},e.prototype.daysFromNow=function(e){var t=new Date,o=Math.abs(t.getTime()-e.getTime());return Math.ceil(o/864e5)},e.prototype.isSubsetOf=function(e,t){if(!e||!t)return!1;if(0==e.length&&t.length>=0)return!0;for(var o=0,n=0,r=e;n<r.length;n++){var i=r[n];t.indexOf(i)>=0&&o++}return o==e.length},e.prototype.isNumber=function(e){try{return!isNaN(+e)}catch(e){return!1}},e.prototype.arrayIntersection=function(e,t){var o=[];if(null==e||0==e.length||null==t||0==t.length)return o;for(var n=0,r=e;n<r.length;n++){var i=r[n];t.indexOf(i)>=0&&o.push(i)}return o},e.prototype.arrayDifference=function(e,t){var o=[];if(null==e||0==e.length)return o;if(null==t||0==t.length)return o.concat(e);for(var n=0,r=e;n<r.length;n++){var i=r[n];-1==t.indexOf(i)&&o.push(i)}return o},e.prototype.createArrayFromItemsUpTo=function(e){for(var t=[],o=0;o<e;o++)t.push(o);return t},e.prototype.isEmptyObject=function(e){if(!e)return!0;for(var t in e)return!1;return!0},e.prototype.stringToSlug=function(e){if(!e)return e;e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="àáãäâèéëêìíïîòóöôùúüûñç·/_,:;",o=0,n=t.length;o<n;o++)e=e.replace(new RegExp(t.charAt(o),"g"),"aaaaaeeeeiiiioooouuuunc------".charAt(o));return e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")},e.prototype.getDateFromString=function(e){if(!e)return new Date;var t=new Date(e);if(t instanceof Date&&isFinite(t.getTime()))return t;var o=e.indexOf("+");if(o>=0)return this.getDateFromString(e.substring(0,o));var n=e.indexOf(" ");return n>=0?this.getDateFromString(e.substring(0,n)):t},e.prototype.formatDate=function(e){if(!e)return"";var t=""+(e.getMonth()+1),o=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),o.length<2&&(o="0"+o),[n,t,o].join("-")},e.prototype.getWords=function(e){return(e||"").split(/\s+|,|\.|:|\-/g).filter((function(e){return!!e}))},e.prototype.getMapFromArray=function(e){var t={};if(!e)return t;for(var o=0,n=e;o<n.length;o++)t[n[o]]=!0;return t},e.prototype.combineInNew=function(e,t){return Object.assign({},e,t)},e.prototype.extend=function(e,t){return Object.assign(e,t)},e.prototype.trimEnd=function(e,t){if(void 0===t&&(t=" "),!e)return e;for(var o=e.length-1;o>=0&&e.charAt(o)==t;)o--;return e.substring(0,o+1)},e.prototype.getArrayFromMap=function(e){var t=[];for(var o in e)t.push(e[o]);return t},e.prototype.getArrayFromMapKeys=function(e){var t=[];for(var o in e)t.push(o);return t},e.prototype.areDeepEqual=function(e,t){var o,n=Object.keys(e).sort(),r=Object.keys(t).sort();if(n.length!==r.length)return!1;if(n.join("")!==r.join(""))return!1;for(o=0;o<n.length;++o){if(e[n[o]]instanceof Array){if(!(t[n[o]]instanceof Array))return!1;if(t[n[o]].sort().join("")!==e[n[o]].sort().join(""))return!1}else if(e[n[o]]instanceof Date){if(!(t[n[o]]instanceof Date))return!1;if(""+e[n[o]]!=""+t[n[o]])return!1}else if(e[n[o]]instanceof Function){if(!(t[n[o]]instanceof Function))return!1}else if(e[n[o]]instanceof Object){if(!(t[n[o]]instanceof Object))return!1;if(e[n[o]]===e){if(t[n[o]]!==t)return!1}else if(!1===this.areDeepEqual(e[n[o]],t[n[o]]))return!1}if(e[n[o]]!==t[n[o]])return!1}return!0},e.prototype.shuffleArray=function(e){for(var t,o,n=e.length;0!==n;)o=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[o],e[o]=t;return e},e.prototype.removeItemFromArray=function(e,t){var o=e.indexOf(t);return o>=0&&(e.splice(o,1),!0)},e.prototype.insertAtLocation=function(e,t,o){e.splice(o,0,t)},e.prototype.roundToTwoDecimalPlaces=function(e){return Math.round(100*e)/100},e.prototype.getDateDay=function(e){if(!e)return"";var t=e.getMonth(),o=e.getFullYear();return Number.isNaN(t)||Number.isNaN(o)?"":"".concat(e.getDate(),".").concat(t+1,".").concat(o)},e.prototype.getDateDayAndFullMonth=function(e){if(!e)return"";var t=e.getMonth(),o=e.getFullYear();return Number.isNaN(t)||Number.isNaN(o)?"":"".concat(e.getDate()," ").concat(r[t]," ").concat(o)},e.prototype.getDateAsString=function(e,t){if(void 0===t&&(t=!1),!e)return"";var o=e.getMonth(),n=e.getFullYear();return Number.isNaN(o)||Number.isNaN(n)?"":t?"".concat(r[o]," ").concat(e.getDate(),", ").concat(n," at ").concat(this.formatToDoubleDigits(e.getHours()),":").concat(this.formatToDoubleDigits(e.getMinutes())):"".concat(r[o]," ").concat(n)},e.prototype.formatToDoubleDigits=function(e){return e>=10?e:"0".concat(e)},e.prototype.monthDiff=function(e,t){var o;return o=12*(t.getFullYear()-e.getFullYear()),o-=e.getMonth()+1,(o+=t.getMonth())<=0?0:o},e.prototype.getOrdinalExtension=function(e){return e<0?"":1==e?"st":2==e?"nd":3==e?"rd":e>=4?"th":void 0},e.prototype.formatMoney=function(e){return(e||0).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")},e.prototype.numberWithCommas=function(e){try{return(e||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}catch(t){return e}},e.prototype.getUniqueItems=function(e,t){if(!e||!e.length)return[];try{for(var o={},n=[],r=0,i=e;r<i.length;r++){var s=i[r];o[s[t]]||(o[s[t]]=!0,n.push(s))}return n}catch(t){return console.log("Error getting unique items"),e}},e.prototype.triggerDataDownload=function(e,t,o){var n=new Blob([e],{type:o}),r=document.createElement("a"),i=URL.createObjectURL(n);r.href=i,r.download=t,document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(i)}),0)},e}())}}]);